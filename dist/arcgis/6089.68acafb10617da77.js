"use strict";(self.webpackChunkarcgis=self.webpackChunkarcgis||[]).push([[6089],{7848:(xt,V,T)=>{T.d(V,{G6:()=>st,Ie:()=>q,J9:()=>yt,RF:()=>H,U1:()=>gt,vY:()=>at,ym:()=>dt});var O=T(62208),w=T(91179);const L=(b,x,C)=>[x,C],G=(b,x,C)=>[x,C,b[2]],U=(b,x,C)=>[x,C,b[2],b[3]];function at(b){return b?{originPosition:"upper-left"===b.originPosition?"upperLeft":"lower-left"===b.originPosition?"lowerLeft":b.originPosition,scale:b.tolerance?[b.tolerance,b.tolerance]:[1,1],translate:(0,O.pC)(b.extent)?[b.extent.xmin,b.extent.ymax]:[0,0]}:null}function B({scale:b,translate:x},C){return Math.round((C-x[0])/b[0])}function j({scale:b,translate:x},C){return Math.round((x[1]-C)/b[1])}function J(b,x,C){const P=[];let F,_,R,N;for(let k=0;k<C.length;k++){const A=C[k];k>0?(R=B(b,A[0]),N=j(b,A[1]),R===F&&N===_||(P.push(x(A,R-F,N-_)),F=R,_=N)):(F=B(b,A[0]),_=j(b,A[1]),P.push(x(A,F,_)))}return P.length>0?P:null}function E({scale:b,translate:x},C){return C*b[0]+x[0]}function D({scale:b,translate:x},C){return x[1]-C*b[1]}function K(b,x,C){const P=new Array(C.length);if(!C.length)return P;const[F,_]=b.scale;let R=E(b,C[0][0]),N=D(b,C[0][1]);P[0]=x(C[0],R,N);for(let k=1;k<C.length;k++){const A=C[k];R+=A[0]*F,N-=A[1]*_,P[k]=x(A,R,N)}return P}function X(b,x,C){const P=new Array(C.length);for(let F=0;F<C.length;F++)P[F]=K(b,x,C[F]);return P}function H(b,x,C,P,F){return x.x=B(b,C.x),x.y=j(b,C.y),x!==C&&(P&&(x.z=C.z),F&&(x.m=C.m)),x}function dt(b,x){return b&&x?(0,w.wp)(x)?H(b,{},x,!1,!1):(0,w.l9)(x)?function pt(b,x,C,P,F){const _=function Q(b,x,C,P){const F=[],_=C?P?U:G:P?G:L;for(let R=0;R<x.length;R++){const N=J(b,_,x[R]);N&&N.length>=2&&F.push(N)}return F.length?F:null}(b,C.paths,P,F);return _?(x.paths=_,x):null}(b,{},x,!1,!1):(0,w.oU)(x)?function mt(b,x,C,P,F){const _=function W(b,x,C,P){const F=[],_=C?P?U:G:P?G:L;for(let R=0;R<x.length;R++){const N=J(b,_,x[R]);N&&N.length>=3&&F.push(N)}return F.length?F:null}(b,C.rings,P,F);return _?(x.rings=_,x):null}(b,{},x,!1,!1):(0,w.aW)(x)?function ft(b,x,C,P,F){return x.points=function ot(b,x,C,P){return J(b,C?P?U:G:P?G:L,x)}(b,C.points,P,F)??[],x}(b,{},x,!1,!1):(0,w.YX)(x)?function rt(b,x,C,P,F){return x.xmin=B(b,C.xmin),x.ymin=j(b,C.ymin),x.xmax=B(b,C.xmax),x.ymax=j(b,C.ymax),x!==C&&(P&&(x.zmin=C.zmin,x.zmax=C.zmax),F&&(x.mmin=C.mmin,x.mmax=C.mmax)),x}(b,{},x,!1,!1):null:null}function yt(b,x,C,P,F){return(0,O.pC)(C)&&(x.points=function tt(b,x,C,P){return K(b,C?P?U:G:P?G:L,x)}(b,C.points,P,F)),x}function gt(b,x,C,P,F){return(0,O.Wi)(C)||(x.x=E(b,C.x),x.y=D(b,C.y),x!==C&&(P&&(x.z=C.z),F&&(x.m=C.m))),x}function q(b,x,C,P,F){return(0,O.pC)(C)&&(x.rings=function ut(b,x,C,P){return X(b,C?P?U:G:P?G:L,x)}(b,C.rings,P,F)),x}function st(b,x,C,P,F){return(0,O.pC)(C)&&(x.paths=function et(b,x,C,P){return X(b,C?P?U:G:P?G:L,x)}(b,C.paths,P,F)),x}},46089:(xt,V,T)=>{T.r(V),T.d(V,{default:()=>A});var O=T(94573),w=T(62208),Y=T(86236),L=T(65234),G=T(33696),it=(T(27306),T(8314),T(5548),T(65401),T(7848),T(71774),T(36255));T(37053);class ${constructor(d,M,I){this.uid=d,this.geometry=M,this.attributes=I,this.visible=!0,this.objectId=null,this.centroid=null}}class ht{constructor(){this.exceededTransferLimit=!1,this.features=[],this.fields=[],this.hasM=!1,this.hasZ=!1,this.geometryType=null,this.objectIdFieldName=null,this.globalIdFieldName=null,this.geometryProperties=null,this.geohashFieldName=null,this.spatialReference=null,this.transform=null}}var q=T(82054);function st(g,d){return d}function b(g,d,M,I){switch(M){case 0:return F(g,d+I,0);case 1:return"lowerLeft"===g.originPosition?F(g,d+I,1):function _({translate:g,scale:d},M,I){return g[I]-M*d[I]}(g,d+I,1)}}function x(g,d,M,I){return 2===M?F(g,d,2):b(g,d,M,I)}function C(g,d,M,I){return 2===M?F(g,d,3):b(g,d,M,I)}function P(g,d,M,I){return 3===M?F(g,d,3):x(g,d,M,I)}function F({translate:g,scale:d},M,I){return g[I]+M*d[I]}class R{constructor(d){this._options=d,this.geometryTypes=["point","multipoint","polyline","polygon"],this._previousCoordinate=[0,0],this._transform=null,this._applyTransform=st,this._lengths=[],this._currentLengthIndex=0,this._toAddInCurrentPath=0,this._vertexDimension=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,this._attributesConstructor=class{}}createFeatureResult(){return new ht}finishFeatureResult(d){if(this._options.applyTransform&&(d.transform=null),this._attributesConstructor=class{},this._coordinateBuffer=null,this._lengths.length=0,!d.hasZ)return;const M=(0,G.k)(d.geometryType,this._options.sourceSpatialReference,d.spatialReference);if(!(0,w.Wi)(M))for(const I of d.features)M(I.geometry)}createSpatialReference(){return new L.Z}addField(d,M){d.fields.push(it.Z.fromJSON(M));const I=d.fields.map(v=>v.name);this._attributesConstructor=function(){for(const v of I)this[v]=null}}addFeature(d,M){const I=this._options.maxStringAttributeLength?this._options.maxStringAttributeLength:0;if(I>0)for(const v in M.attributes){const z=M.attributes[v];"string"==typeof z&&z.length>I&&(M.attributes[v]="")}d.features.push(M)}addQueryGeometry(d,M){const{queryGeometry:I,queryGeometryType:v}=M,z=(0,q.$g)(I.clone(),I,!1,!1,this._transform),S=(0,q.di)(z,v,!1,!1);let Z=null;switch(v){case"esriGeometryPoint":Z="point";break;case"esriGeometryPolygon":Z="polygon";break;case"esriGeometryPolyline":Z="polyline";break;case"esriGeometryMultipoint":Z="multipoint"}S.type=Z,d.queryGeometryType=v,d.queryGeometry=S}prepareFeatures(d){switch(this._transform=d.transform??null,this._options.applyTransform&&d.transform&&(this._applyTransform=this._deriveApplyTransform(d)),this._vertexDimension=2,d.hasZ&&this._vertexDimension++,d.hasM&&this._vertexDimension++,d.geometryType){case"point":this.addCoordinate=(M,I,v)=>this.addCoordinatePoint(M,I,v),this.createGeometry=M=>this.createPointGeometry(M);break;case"polygon":this.addCoordinate=(M,I,v)=>this._addCoordinatePolygon(M,I,v),this.createGeometry=M=>this._createPolygonGeometry(M);break;case"polyline":this.addCoordinate=(M,I,v)=>this._addCoordinatePolyline(M,I,v),this.createGeometry=M=>this._createPolylineGeometry(M);break;case"multipoint":this.addCoordinate=(M,I,v)=>this._addCoordinateMultipoint(M,I,v),this.createGeometry=M=>this._createMultipointGeometry(M);break;case"mesh":case"extent":break;default:(0,O.Bg)(d.geometryType)}}createFeature(){return this._lengths.length=0,this._currentLengthIndex=0,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0,new $((0,Y.D)(),null,new this._attributesConstructor)}allocateCoordinates(){const d=this._lengths.reduce((M,I)=>M+I,0);this._coordinateBuffer=new Float64Array(d*this._vertexDimension),this._coordinateBufferPtr=0}addLength(d,M){0===this._lengths.length&&(this._toAddInCurrentPath=M),this._lengths.push(M)}createPointGeometry(d){const M={type:"point",x:0,y:0,spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM};return M.hasZ&&(M.z=0),M.hasM&&(M.m=0),M}addCoordinatePoint(d,M,I){const v=this._transform?this._applyTransform(this._transform,M,I,0):M;if(null!=v)switch(I){case 0:d.x=v;break;case 1:d.y=v;break;case 2:d.hasZ?d.z=v:d.m=v;break;case 3:d.m=v}}_transformPathLikeValue(d,M){let I=0;return M<=1&&(I=this._previousCoordinate[M],this._previousCoordinate[M]+=d),this._transform?this._applyTransform(this._transform,d,M,I):d}_addCoordinatePolyline(d,M,I){this._dehydratedAddPointsCoordinate(d.paths,M,I)}_addCoordinatePolygon(d,M,I){this._dehydratedAddPointsCoordinate(d.rings,M,I)}_addCoordinateMultipoint(d,M,I){0===I&&d.points.push([]);const v=this._transformPathLikeValue(M,I);d.points[d.points.length-1].push(v)}_createPolygonGeometry(d){return{type:"polygon",rings:[[]],spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM}}_createPolylineGeometry(d){return{type:"polyline",paths:[[]],spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM}}_createMultipointGeometry(d){return{type:"multipoint",points:[],spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM}}_dehydratedAddPointsCoordinate(d,M,I){0===I&&0==this._toAddInCurrentPath--&&(d.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);const v=this._transformPathLikeValue(M,I),S=this._coordinateBuffer;if(S){if(0===I){const Z=this._coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT;d[d.length-1].push(new Float64Array(S.buffer,Z,this._vertexDimension))}S[this._coordinateBufferPtr++]=v}}_deriveApplyTransform(d){const{hasZ:M,hasM:I}=d;return M&&I?P:M?x:I?C:b}}var N=T(85262);class k{_parseFeatureQuery(d){const M=(0,N.C)(d.buffer,new R(d.options)),I={...M,spatialReference:M.spatialReference?.toJSON(),fields:M.fields?M.fields.map(v=>v.toJSON()):void 0};return Promise.resolve(I)}}function A(){return new k}}}]);