(self.webpackChunkarcgis=self.webpackChunkarcgis||[]).push([[179],{47267:(nt,Te,M)=>{"use strict";function D(g){return"function"==typeof g}function T(g){const E=g(C=>{Error.call(C),C.stack=(new Error).stack});return E.prototype=Object.create(Error.prototype),E.prototype.constructor=E,E}const te=T(g=>function(E){g(this),this.message=E?`${E.length} errors occurred during unsubscription:\n${E.map((C,w)=>`${w+1}) ${C.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=E});function Z(g,v){if(g){const E=g.indexOf(v);0<=E&&g.splice(E,1)}}class U{constructor(v){this.initialTeardown=v,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let v;if(!this.closed){this.closed=!0;const{_parentage:E}=this;if(E)if(this._parentage=null,Array.isArray(E))for(const I of E)I.remove(this);else E.remove(this);const{initialTeardown:C}=this;if(D(C))try{C()}catch(I){v=I instanceof te?I.errors:[I]}const{_finalizers:w}=this;if(w){this._finalizers=null;for(const I of w)try{B(I)}catch(A){v=v??[],A instanceof te?v=[...v,...A.errors]:v.push(A)}}if(v)throw new te(v)}}add(v){var E;if(v&&v!==this)if(this.closed)B(v);else{if(v instanceof U){if(v.closed||v._hasParent(this))return;v._addParent(this)}(this._finalizers=null!==(E=this._finalizers)&&void 0!==E?E:[]).push(v)}}_hasParent(v){const{_parentage:E}=this;return E===v||Array.isArray(E)&&E.includes(v)}_addParent(v){const{_parentage:E}=this;this._parentage=Array.isArray(E)?(E.push(v),E):E?[E,v]:v}_removeParent(v){const{_parentage:E}=this;E===v?this._parentage=null:Array.isArray(E)&&Z(E,v)}remove(v){const{_finalizers:E}=this;E&&Z(E,v),v instanceof U&&v._removeParent(this)}}U.EMPTY=(()=>{const g=new U;return g.closed=!0,g})();const ie=U.EMPTY;function k(g){return g instanceof U||g&&"closed"in g&&D(g.remove)&&D(g.add)&&D(g.unsubscribe)}function B(g){D(g)?g():g.unsubscribe()}const R={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},W={setTimeout(g,v,...E){const{delegate:C}=W;return C?.setTimeout?C.setTimeout(g,v,...E):setTimeout(g,v,...E)},clearTimeout(g){const{delegate:v}=W;return(v?.clearTimeout||clearTimeout)(g)},delegate:void 0};function V(g){W.setTimeout(()=>{const{onUnhandledError:v}=R;if(!v)throw g;v(g)})}function Q(){}const ne=Y("C",void 0,void 0);function Y(g,v,E){return{kind:g,value:v,error:E}}let F=null;function x(g){if(R.useDeprecatedSynchronousErrorHandling){const v=!F;if(v&&(F={errorThrown:!1,error:null}),g(),v){const{errorThrown:E,error:C}=F;if(F=null,E)throw C}}else g()}class N extends U{constructor(v){super(),this.isStopped=!1,v?(this.destination=v,k(v)&&v.add(this)):this.destination=he}static create(v,E,C){return new re(v,E,C)}next(v){this.isStopped?ae(function X(g){return Y("N",g,void 0)}(v),this):this._next(v)}error(v){this.isStopped?ae(function J(g){return Y("E",void 0,g)}(v),this):(this.isStopped=!0,this._error(v))}complete(){this.isStopped?ae(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(v){this.destination.next(v)}_error(v){try{this.destination.error(v)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const z=Function.prototype.bind;function q(g,v){return z.call(g,v)}class ee{constructor(v){this.partialObserver=v}next(v){const{partialObserver:E}=this;if(E.next)try{E.next(v)}catch(C){le(C)}}error(v){const{partialObserver:E}=this;if(E.error)try{E.error(v)}catch(C){le(C)}else le(v)}complete(){const{partialObserver:v}=this;if(v.complete)try{v.complete()}catch(E){le(E)}}}class re extends N{constructor(v,E,C){let w;if(super(),D(v)||!v)w={next:v??void 0,error:E??void 0,complete:C??void 0};else{let I;this&&R.useDeprecatedNextContext?(I=Object.create(v),I.unsubscribe=()=>this.unsubscribe(),w={next:v.next&&q(v.next,I),error:v.error&&q(v.error,I),complete:v.complete&&q(v.complete,I)}):w=v}this.destination=new ee(w)}}function le(g){R.useDeprecatedSynchronousErrorHandling?function $(g){R.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=g)}(g):V(g)}function ae(g,v){const{onStoppedNotification:E}=R;E&&W.setTimeout(()=>E(g,v))}const he={closed:!0,next:Q,error:function _e(g){throw g},complete:Q},se="function"==typeof Symbol&&Symbol.observable||"@@observable";function ue(g){return g}function be(g){return 0===g.length?ue:1===g.length?g[0]:function(E){return g.reduce((C,w)=>w(C),E)}}let me=(()=>{class g{constructor(E){E&&(this._subscribe=E)}lift(E){const C=new g;return C.source=this,C.operator=E,C}subscribe(E,C,w){const I=function de(g){return g&&g instanceof N||function oe(g){return g&&D(g.next)&&D(g.error)&&D(g.complete)}(g)&&k(g)}(E)?E:new re(E,C,w);return x(()=>{const{operator:A,source:G}=this;I.add(A?A.call(I,G):G?this._subscribe(I):this._trySubscribe(I))}),I}_trySubscribe(E){try{return this._subscribe(E)}catch(C){E.error(C)}}forEach(E,C){return new(C=Oe(C))((w,I)=>{const A=new re({next:G=>{try{E(G)}catch(pe){I(pe),A.unsubscribe()}},error:I,complete:w});this.subscribe(A)})}_subscribe(E){var C;return null===(C=this.source)||void 0===C?void 0:C.subscribe(E)}[se](){return this}pipe(...E){return be(E)(this)}toPromise(E){return new(E=Oe(E))((C,w)=>{let I;this.subscribe(A=>I=A,A=>w(A),()=>C(I))})}}return g.create=v=>new g(v),g})();function Oe(g){var v;return null!==(v=g??R.Promise)&&void 0!==v?v:Promise}const ve=T(g=>function(){g(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let De=(()=>{class g extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(E){const C=new xe(this,this);return C.operator=E,C}_throwIfClosed(){if(this.closed)throw new ve}next(E){x(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const C of this.currentObservers)C.next(E)}})}error(E){x(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=E;const{observers:C}=this;for(;C.length;)C.shift().error(E)}})}complete(){x(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:E}=this;for(;E.length;)E.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var E;return(null===(E=this.observers)||void 0===E?void 0:E.length)>0}_trySubscribe(E){return this._throwIfClosed(),super._trySubscribe(E)}_subscribe(E){return this._throwIfClosed(),this._checkFinalizedStatuses(E),this._innerSubscribe(E)}_innerSubscribe(E){const{hasError:C,isStopped:w,observers:I}=this;return C||w?ie:(this.currentObservers=null,I.push(E),new U(()=>{this.currentObservers=null,Z(I,E)}))}_checkFinalizedStatuses(E){const{hasError:C,thrownError:w,isStopped:I}=this;C?E.error(w):I&&E.complete()}asObservable(){const E=new me;return E.source=this,E}}return g.create=(v,E)=>new xe(v,E),g})();class xe extends De{constructor(v,E){super(),this.destination=v,this.source=E}next(v){var E,C;null===(C=null===(E=this.destination)||void 0===E?void 0:E.next)||void 0===C||C.call(E,v)}error(v){var E,C;null===(C=null===(E=this.destination)||void 0===E?void 0:E.error)||void 0===C||C.call(E,v)}complete(){var v,E;null===(E=null===(v=this.destination)||void 0===v?void 0:v.complete)||void 0===E||E.call(v)}_subscribe(v){var E,C;return null!==(C=null===(E=this.source)||void 0===E?void 0:E.subscribe(v))&&void 0!==C?C:ie}}function Ce(g){return D(g?.lift)}function Re(g){return v=>{if(Ce(v))return v.lift(function(E){try{return g(E,this)}catch(C){this.error(C)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(g,v,E,C,w){return new Me(g,v,E,C,w)}class Me extends N{constructor(v,E,C,w,I,A){super(v),this.onFinalize=I,this.shouldUnsubscribe=A,this._next=E?function(G){try{E(G)}catch(pe){v.error(pe)}}:super._next,this._error=w?function(G){try{w(G)}catch(pe){v.error(pe)}finally{this.unsubscribe()}}:super._error,this._complete=C?function(){try{C()}catch(G){v.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var v;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:E}=this;super.unsubscribe(),!E&&(null===(v=this.onFinalize)||void 0===v||v.call(this))}}}function fe(g,v){return Re((E,C)=>{let w=0;E.subscribe(we(C,I=>{C.next(g.call(v,I,w++))}))})}function We(g){return this instanceof We?(this.v=g,this):new We(g)}function yt(g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E,v=g[Symbol.asyncIterator];return v?v.call(g):(g=function $e(g){var v="function"==typeof Symbol&&Symbol.iterator,E=v&&g[v],C=0;if(E)return E.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&C>=g.length&&(g=void 0),{value:g&&g[C++],done:!g}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}(g),E={},C("next"),C("throw"),C("return"),E[Symbol.asyncIterator]=function(){return this},E);function C(I){E[I]=g[I]&&function(A){return new Promise(function(G,pe){!function w(I,A,G,pe){Promise.resolve(pe).then(function(Ee){I({value:Ee,done:G})},A)}(G,pe,(A=g[I](A)).done,A.value)})}}}const bn=g=>g&&"number"==typeof g.length&&"function"!=typeof g;function jn(g){return D(g?.then)}function zn(g){return D(g[se])}function pt(g){return Symbol.asyncIterator&&D(g?.[Symbol.asyncIterator])}function bt(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ft=function Lt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Xt(g){return D(g?.[Ft])}function Jt(g){return function tt(g,v,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var w,C=E.apply(g,v||[]),I=[];return w={},A("next"),A("throw"),A("return"),w[Symbol.asyncIterator]=function(){return this},w;function A(lt){C[lt]&&(w[lt]=function(ht){return new Promise(function(wt,Gt){I.push([lt,ht,wt,Gt])>1||G(lt,ht)})})}function G(lt,ht){try{!function pe(lt){lt.value instanceof We?Promise.resolve(lt.value.v).then(Ee,Ue):Be(I[0][2],lt)}(C[lt](ht))}catch(wt){Be(I[0][3],wt)}}function Ee(lt){G("next",lt)}function Ue(lt){G("throw",lt)}function Be(lt,ht){lt(ht),I.shift(),I.length&&G(I[0][0],I[0][1])}}(this,arguments,function*(){const E=g.getReader();try{for(;;){const{value:C,done:w}=yield We(E.read());if(w)return yield We(void 0);yield yield We(C)}}finally{E.releaseLock()}})}function Wt(g){return D(g?.getReader)}function Zt(g){if(g instanceof me)return g;if(null!=g){if(zn(g))return function gn(g){return new me(v=>{const E=g[se]();if(D(E.subscribe))return E.subscribe(v);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(g);if(bn(g))return function dn(g){return new me(v=>{for(let E=0;E<g.length&&!v.closed;E++)v.next(g[E]);v.complete()})}(g);if(jn(g))return function wn(g){return new me(v=>{g.then(E=>{v.closed||(v.next(E),v.complete())},E=>v.error(E)).then(null,V)})}(g);if(pt(g))return Et(g);if(Xt(g))return function Wn(g){return new me(v=>{for(const E of g)if(v.next(E),v.closed)return;v.complete()})}(g);if(Wt(g))return function Tt(g){return Et(Jt(g))}(g)}throw bt(g)}function Et(g){return new me(v=>{(function Bt(g,v){var E,C,w,I;return function Xe(g,v,E,C){return new(E||(E=Promise))(function(I,A){function G(Ue){try{Ee(C.next(Ue))}catch(Be){A(Be)}}function pe(Ue){try{Ee(C.throw(Ue))}catch(Be){A(Be)}}function Ee(Ue){Ue.done?I(Ue.value):function w(I){return I instanceof E?I:new E(function(A){A(I)})}(Ue.value).then(G,pe)}Ee((C=C.apply(g,v||[])).next())})}(this,void 0,void 0,function*(){try{for(E=yt(g);!(C=yield E.next()).done;)if(v.next(C.value),v.closed)return}catch(A){w={error:A}}finally{try{C&&!C.done&&(I=E.return)&&(yield I.call(E))}finally{if(w)throw w.error}}v.complete()})})(g,v).catch(E=>v.error(E))})}function fn(g,v,E,C=0,w=!1){const I=v.schedule(function(){E(),w?g.add(this.schedule(null,C)):this.unsubscribe()},C);if(g.add(I),!w)return I}function Pt(g,v,E=1/0){return D(v)?Pt((C,w)=>fe((I,A)=>v(C,I,w,A))(Zt(g(C,w))),E):("number"==typeof v&&(E=v),Re((C,w)=>function dt(g,v,E,C,w,I,A,G){const pe=[];let Ee=0,Ue=0,Be=!1;const lt=()=>{Be&&!pe.length&&!Ee&&v.complete()},ht=Gt=>Ee<C?wt(Gt):pe.push(Gt),wt=Gt=>{I&&v.next(Gt),Ee++;let qt=!1;Zt(E(Gt,Ue++)).subscribe(we(v,mn=>{w?.(mn),I?ht(mn):v.next(mn)},()=>{qt=!0},void 0,()=>{if(qt)try{for(Ee--;pe.length&&Ee<C;){const mn=pe.shift();A?fn(v,A,()=>wt(mn)):wt(mn)}lt()}catch(mn){v.error(mn)}}))};return g.subscribe(we(v,ht,()=>{Be=!0,lt()})),()=>{G?.()}}(C,w,g,E)))}function $t(g=1/0){return Pt(ue,g)}const tn=new me(g=>g.complete());function ts(g){return g[g.length-1]}function Fn(g){return D(ts(g))?g.pop():void 0}function Ne(g){return function dr(g){return g&&D(g.schedule)}(ts(g))?g.pop():void 0}function Ye(g,v=0){return Re((E,C)=>{E.subscribe(we(C,w=>fn(C,g,()=>C.next(w),v),()=>fn(C,g,()=>C.complete(),v),w=>fn(C,g,()=>C.error(w),v)))})}function ot(g,v=0){return Re((E,C)=>{C.add(g.schedule(()=>E.subscribe(C),v))})}function xn(g,v){if(!g)throw new Error("Iterable cannot be null");return new me(E=>{fn(E,v,()=>{const C=g[Symbol.asyncIterator]();fn(E,v,()=>{C.next().then(w=>{w.done?E.complete():E.next(w.value)})},0,!0)})})}function Un(g,v){return v?function rr(g,v){if(null!=g){if(zn(g))return function Ot(g,v){return Zt(g).pipe(ot(v),Ye(v))}(g,v);if(bn(g))return function pn(g,v){return new me(E=>{let C=0;return v.schedule(function(){C===g.length?E.complete():(E.next(g[C++]),E.closed||this.schedule())})})}(g,v);if(jn(g))return function Vt(g,v){return Zt(g).pipe(ot(v),Ye(v))}(g,v);if(pt(g))return xn(g,v);if(Xt(g))return function En(g,v){return new me(E=>{let C;return fn(E,v,()=>{C=g[Ft](),fn(E,v,()=>{let w,I;try{({value:w,done:I}=C.next())}catch(A){return void E.error(A)}I?E.complete():E.next(w)},0,!0)}),()=>D(C?.return)&&C.return()})}(g,v);if(Wt(g))return function nr(g,v){return xn(Jt(g),v)}(g,v)}throw bt(g)}(g,v):Zt(g)}function Zr(g,v,...E){if(!0===v)return void g();if(!1===v)return;const C=new re({next:()=>{C.unsubscribe(),g()}});return Zt(v(...E)).subscribe(C)}function Qn(g){for(let v in g)if(g[v]===Qn)return v;throw Error("Could not find renamed property on target object.")}function ds(g,v){for(const E in v)v.hasOwnProperty(E)&&!g.hasOwnProperty(E)&&(g[E]=v[E])}function Br(g){if("string"==typeof g)return g;if(Array.isArray(g))return"["+g.map(Br).join(", ")+"]";if(null==g)return""+g;if(g.overriddenName)return`${g.overriddenName}`;if(g.name)return`${g.name}`;const v=g.toString();if(null==v)return""+v;const E=v.indexOf("\n");return-1===E?v:v.substring(0,E)}function ti(g,v){return null==g||""===g?null===v?"":v:null==v||""===v?g:g+" "+v}const $s=Qn({__forward_ref__:Qn});function zr(g){return g.__forward_ref__=zr,g.toString=function(){return Br(this())},g}function Ut(g){return Jr(g)?g():g}function Jr(g){return"function"==typeof g&&g.hasOwnProperty($s)&&g.__forward_ref__===zr}function _r(g){return g&&!!g.\u0275providers}class Ht extends Error{constructor(v,E){super(jr(v,E)),this.code=v}}function jr(g,v){return`NG0${Math.abs(g)}${v?": "+v.trim():""}`}function Dn(g){return"string"==typeof g?g:null==g?"":String(g)}function Rt(g,v){throw new Ht(-201,!1)}function Yr(g,v){null==g&&function Nr(g,v,E,C){throw new Error(`ASSERTION ERROR: ${g}`+(null==C?"":` [Expected=> ${E} ${C} ${v} <=Actual]`))}(v,g,null,"!=")}function kn(g){return{token:g.token,providedIn:g.providedIn||null,factory:g.factory,value:void 0}}function ln(g){return{providers:g.providers||[],imports:g.imports||[]}}function vn(g){return ls(g,Qe)||ls(g,gt)}function ls(g,v){return g.hasOwnProperty(v)?g[v]:null}function vo(g){return g&&(g.hasOwnProperty(it)||g.hasOwnProperty(St))?g[it]:null}const Qe=Qn({\u0275prov:Qn}),it=Qn({\u0275inj:Qn}),gt=Qn({ngInjectableDef:Qn}),St=Qn({ngInjectorDef:Qn});var Ct=(()=>((Ct=Ct||{})[Ct.Default=0]="Default",Ct[Ct.Host=1]="Host",Ct[Ct.Self=2]="Self",Ct[Ct.SkipSelf=4]="SkipSelf",Ct[Ct.Optional=8]="Optional",Ct))();let jt;function on(g){const v=jt;return jt=g,v}function cn(g,v,E){const C=vn(g);return C&&"root"==C.providedIn?void 0===C.value?C.value=C.factory():C.value:E&Ct.Optional?null:void 0!==v?v:void Rt(Br(g))}const In=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Hs={},ui="__NG_DI_FLAG__",Is="ngTempTokenPath",al="ngTokenPath",Ma=/\n/gm,_i="\u0275",Cp="__source";let ri;function ro(g){const v=ri;return ri=g,v}function Im(g,v=Ct.Default){if(void 0===ri)throw new Ht(-203,!1);return null===ri?cn(g,void 0,v):ri.get(g,v&Ct.Optional?null:void 0,v)}function sr(g,v=Ct.Default){return(function Qt(){return jt}()||Im)(Ut(g),v)}function Dr(g,v=Ct.Default){return sr(g,Bu(v))}function Bu(g){return typeof g>"u"||"number"==typeof g?g:0|(g.optional&&8)|(g.host&&1)|(g.self&&2)|(g.skipSelf&&4)}function Wu(g){const v=[];for(let E=0;E<g.length;E++){const C=Ut(g[E]);if(Array.isArray(C)){if(0===C.length)throw new Ht(900,!1);let w,I=Ct.Default;for(let A=0;A<C.length;A++){const G=C[A],pe=Pm(G);"number"==typeof pe?-1===pe?w=G.token:I|=pe:w=G}v.push(sr(w,I))}else v.push(sr(C))}return v}function Gl(g,v){return g[ui]=v,g.prototype[ui]=v,g}function Pm(g){return g[ui]}function Ro(g){return{toString:g}.toString()}var is=(()=>((is=is||{})[is.OnPush=0]="OnPush",is[is.Default=1]="Default",is))(),Pi=(()=>{return(g=Pi||(Pi={}))[g.Emulated=0]="Emulated",g[g.None=2]="None",g[g.ShadowDom=3]="ShadowDom",Pi;var g})();const Eo={},os=[],Vu=Qn({\u0275cmp:Qn}),kl=Qn({\u0275dir:Qn}),$u=Qn({\u0275pipe:Qn}),Dp=Qn({\u0275mod:Qn}),Lo=Qn({\u0275fac:Qn}),ci=Qn({__NG_ELEMENT_ID__:Qn});let Tm=0;function Gr(g){return Ro(()=>{const v=Ip(g),E={...v,decls:g.decls,vars:g.vars,template:g.template,consts:g.consts||null,ngContentSelectors:g.ngContentSelectors,onPush:g.changeDetection===is.OnPush,directiveDefs:null,pipeDefs:null,dependencies:v.standalone&&g.dependencies||null,getStandaloneInjector:null,data:g.data||{},encapsulation:g.encapsulation||Pi.Emulated,id:"c"+Tm++,styles:g.styles||os,_:null,schemas:g.schemas||null,tView:null};Pp(E);const C=g.dependencies;return E.directiveDefs=cl(C,!1),E.pipeDefs=cl(C,!0),E})}function Sp(g){return as(g)||ii(g)}function Op(g){return null!==g}function bo(g){return Ro(()=>({type:g.type,bootstrap:g.bootstrap||os,declarations:g.declarations||os,imports:g.imports||os,exports:g.exports||os,transitiveCompileScopes:null,schemas:g.schemas||null,id:g.id||null}))}function $i(g,v){if(null==g)return Eo;const E={};for(const C in g)if(g.hasOwnProperty(C)){let w=g[C],I=w;Array.isArray(w)&&(I=w[1],w=w[0]),E[w]=C,v&&(v[w]=I)}return E}function fr(g){return Ro(()=>{const v=Ip(g);return Pp(v),v})}function as(g){return g[Vu]||null}function ii(g){return g[kl]||null}function vi(g){return g[$u]||null}function Ti(g,v){const E=g[Dp]||null;if(!E&&!0===v)throw new Error(`Type ${Br(g)} does not have '\u0275mod' property.`);return E}function Ip(g){const v={};return{type:g.type,providersResolver:null,factory:null,hostBindings:g.hostBindings||null,hostVars:g.hostVars||0,hostAttrs:g.hostAttrs||null,contentQueries:g.contentQueries||null,declaredInputs:v,exportAs:g.exportAs||null,standalone:!0===g.standalone,selectors:g.selectors||os,viewQuery:g.viewQuery||null,features:g.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$i(g.inputs,v),outputs:$i(g.outputs)}}function Pp(g){g.features?.forEach(v=>v(g))}function cl(g,v){if(!g)return null;const E=v?vi:Sp;return()=>("function"==typeof g?g():g).map(C=>E(C)).filter(Op)}const jo=0,Hn=1,Ir=2,Ds=3,so=4,Jo=5,Js=6,Da=7,ns=8,Hl=9,Jl=10,Ar=11,Yl=12,dl=13,Zu=14,Sa=15,oi=16,Ql=17,Oa=18,io=19,wa=20,Pd=21,us=22,Ia=1,Td=2,Xl=7,Pa=8,Ta=9,Ns=10;function di(g){return Array.isArray(g)&&"object"==typeof g[Ia]}function Zi(g){return Array.isArray(g)&&!0===g[Ia]}function Ku(g){return 0!=(4&g.flags)}function ql(g){return g.componentOffset>-1}function zu(g){return 1==(1&g.flags)}function Ki(g){return!!g.template}function Am(g){return 0!=(256&g[Ir])}function ys(g,v){return g.hasOwnProperty(Lo)?g[Lo]:null}class br{constructor(v,E,C){this.previousValue=v,this.currentValue=E,this.firstChange=C}isFirstChange(){return this.firstChange}}function rs(){return Yo}function Yo(g){return g.type.prototype.ngOnChanges&&(g.setInput=ku),oo}function oo(){const g=xd(this),v=g?.current;if(v){const E=g.previous;if(E===Eo)g.previous=v;else for(let C in v)E[C]=v[C];g.current=null,this.ngOnChanges(v)}}function ku(g,v,E,C){const w=this.declaredInputs[E],I=xd(g)||function Lm(g,v){return g[Rp]=v}(g,{previous:Eo,current:null}),A=I.current||(I.current={}),G=I.previous,pe=G[w];A[w]=new br(pe&&pe.currentValue,v,G===Eo),g[C]=v}rs.ngInherit=!0;const Rp="__ngSimpleChanges__";function xd(g){return g[Rp]||null}const Ei=function(g,v,E){};function hi(g){for(;Array.isArray(g);)g=g[jo];return g}function jp(g,v){return hi(v[g])}function ao(g,v){return hi(v[g.index])}function N1(g,v){return g.data[v]}function lo(g,v){const E=v[g];return di(E)?E:E[jo]}function Up(g){return 64==(64&g[Ir])}function pl(g,v){return null==v?null:g[v]}function B1(g){g[Oa]=0}function Um(g,v){g[Jo]+=v;let E=g,C=g[Ds];for(;null!==C&&(1===v&&1===E[Jo]||-1===v&&0===E[Jo]);)C[Jo]+=v,E=C,C=C[Ds]}const Pr={lFrame:J1(null),bindingsEnabled:!0};function V1(){return Pr.bindingsEnabled}function On(){return Pr.lFrame.lView}function ss(){return Pr.lFrame.tView}function pi(){let g=$1();for(;null!==g&&64===g.type;)g=g.parent;return g}function $1(){return Pr.lFrame.currentTNode}function Qo(g,v){const E=Pr.lFrame;E.currentTNode=g,E.isParent=v}function Fm(){return Pr.lFrame.isParent}function Ju(){return Pr.lFrame.bindingIndex++}function ux(g,v){const E=Pr.lFrame;E.bindingIndex=E.bindingRootIndex=g,Bm(v)}function Bm(g){Pr.lFrame.currentDirectiveIndex=g}function G1(){return Pr.lFrame.currentQueryIndex}function Vm(g){Pr.lFrame.currentQueryIndex=g}function dx(g){const v=g[Hn];return 2===v.type?v.declTNode:1===v.type?g[Js]:null}function k1(g,v,E){if(E&Ct.SkipSelf){let w=v,I=g;for(;!(w=w.parent,null!==w||E&Ct.Host||(w=dx(I),null===w||(I=I[Sa],10&w.type))););if(null===w)return!1;v=w,g=I}const C=Pr.lFrame=H1();return C.currentTNode=v,C.lView=g,!0}function $m(g){const v=H1(),E=g[Hn];Pr.lFrame=v,v.currentTNode=E.firstChild,v.lView=g,v.tView=E,v.contextLView=g,v.bindingIndex=E.bindingStartIndex,v.inI18n=!1}function H1(){const g=Pr.lFrame,v=null===g?null:g.child;return null===v?J1(g):v}function J1(g){const v={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:g,child:null,inI18n:!1};return null!==g&&(g.child=v),v}function Y1(){const g=Pr.lFrame;return Pr.lFrame=g.parent,g.currentTNode=null,g.lView=null,g}const Q1=Y1;function Zm(){const g=Y1();g.isParent=!0,g.tView=null,g.selectedIndex=-1,g.contextLView=null,g.elementDepthCount=0,g.currentDirectiveIndex=-1,g.currentNamespace=null,g.bindingRootIndex=-1,g.bindingIndex=-1,g.currentQueryIndex=0}function xi(){return Pr.lFrame.selectedIndex}function eu(g){Pr.lFrame.selectedIndex=g}function Fp(g,v){for(let E=v.directiveStart,C=v.directiveEnd;E<C;E++){const I=g.data[E].type.prototype,{ngAfterContentInit:A,ngAfterContentChecked:G,ngAfterViewInit:pe,ngAfterViewChecked:Ee,ngOnDestroy:Ue}=I;A&&(g.contentHooks||(g.contentHooks=[])).push(-E,A),G&&((g.contentHooks||(g.contentHooks=[])).push(E,G),(g.contentCheckHooks||(g.contentCheckHooks=[])).push(E,G)),pe&&(g.viewHooks||(g.viewHooks=[])).push(-E,pe),Ee&&((g.viewHooks||(g.viewHooks=[])).push(E,Ee),(g.viewCheckHooks||(g.viewCheckHooks=[])).push(E,Ee)),null!=Ue&&(g.destroyHooks||(g.destroyHooks=[])).push(E,Ue)}}function Np(g,v,E){X1(g,v,3,E)}function Bp(g,v,E,C){(3&g[Ir])===E&&X1(g,v,E,C)}function Km(g,v){let E=g[Ir];(3&E)===v&&(E&=2047,E+=1,g[Ir]=E)}function X1(g,v,E,C){const I=C??-1,A=v.length-1;let G=0;for(let pe=void 0!==C?65535&g[Oa]:0;pe<A;pe++)if("number"==typeof v[pe+1]){if(G=v[pe],null!=C&&G>=C)break}else v[pe]<0&&(g[Oa]+=65536),(G<I||-1==I)&&(Ex(g,E,v,pe),g[Oa]=(4294901760&g[Oa])+pe+2),pe++}function Ex(g,v,E,C){const w=E[C]<0,I=E[C+1],G=g[w?-E[C]:E[C]];if(w){if(g[Ir]>>11<g[Oa]>>16&&(3&g[Ir])===v){g[Ir]+=2048,Ei(4,G,I);try{I.call(G)}finally{Ei(5,G,I)}}}else{Ei(4,G,I);try{I.call(G)}finally{Ei(5,G,I)}}}const Yu=-1;class jd{constructor(v,E,C){this.factory=v,this.resolving=!1,this.canSeeViewProviders=E,this.injectImpl=C}}function Gm(g,v,E){let C=0;for(;C<E.length;){const w=E[C];if("number"==typeof w){if(0!==w)break;C++;const I=E[C++],A=E[C++],G=E[C++];g.setAttribute(v,A,G,I)}else{const I=w,A=E[++C];eb(I)?g.setProperty(v,I,A):g.setAttribute(v,I,A),C++}}return C}function q1(g){return 3===g||4===g||6===g}function eb(g){return 64===g.charCodeAt(0)}function Ud(g,v){if(null!==v&&0!==v.length)if(null===g||0===g.length)g=v.slice();else{let E=-1;for(let C=0;C<v.length;C++){const w=v[C];"number"==typeof w?E=w:0===E||tb(g,E,w,null,-1===E||2===E?v[++C]:null)}}return g}function tb(g,v,E,C,w){let I=0,A=g.length;if(-1===v)A=-1;else for(;I<g.length;){const G=g[I++];if("number"==typeof G){if(G===v){A=-1;break}if(G>v){A=I-1;break}}}for(;I<g.length;){const G=g[I];if("number"==typeof G)break;if(G===E){if(null===C)return void(null!==w&&(g[I+1]=w));if(C===g[I+1])return void(g[I+2]=w)}I++,null!==C&&I++,null!==w&&I++}-1!==A&&(g.splice(A,0,v),I=A+1),g.splice(I++,0,E),null!==C&&g.splice(I++,0,C),null!==w&&g.splice(I++,0,w)}function nb(g){return g!==Yu}function Wp(g){return 32767&g}function Vp(g,v){let E=function Dx(g){return g>>16}(g),C=v;for(;E>0;)C=C[Sa],E--;return C}let km=!0;function $p(g){const v=km;return km=g,v}const rb=255,sb=5;let Sx=0;const Xo={};function Zp(g,v){const E=ib(g,v);if(-1!==E)return E;const C=v[Hn];C.firstCreatePass&&(g.injectorIndex=v.length,Hm(C.data,g),Hm(v,null),Hm(C.blueprint,null));const w=Jm(g,v),I=g.injectorIndex;if(nb(w)){const A=Wp(w),G=Vp(w,v),pe=G[Hn].data;for(let Ee=0;Ee<8;Ee++)v[I+Ee]=G[A+Ee]|pe[A+Ee]}return v[I+8]=w,I}function Hm(g,v){g.push(0,0,0,0,0,0,0,0,v)}function ib(g,v){return-1===g.injectorIndex||g.parent&&g.parent.injectorIndex===g.injectorIndex||null===v[g.injectorIndex+8]?-1:g.injectorIndex}function Jm(g,v){if(g.parent&&-1!==g.parent.injectorIndex)return g.parent.injectorIndex;let E=0,C=null,w=v;for(;null!==w;){if(C=hb(w),null===C)return Yu;if(E++,w=w[Sa],-1!==C.injectorIndex)return C.injectorIndex|E<<16}return Yu}function Ym(g,v,E){!function Ox(g,v,E){let C;"string"==typeof E?C=E.charCodeAt(0)||0:E.hasOwnProperty(ci)&&(C=E[ci]),null==C&&(C=E[ci]=Sx++);const w=C&rb;v.data[g+(w>>sb)]|=1<<w}(g,v,E)}function ob(g,v,E){if(E&Ct.Optional||void 0!==g)return g;Rt()}function ab(g,v,E,C){if(E&Ct.Optional&&void 0===C&&(C=null),!(E&(Ct.Self|Ct.Host))){const w=g[Hl],I=on(void 0);try{return w?w.get(v,C,E&Ct.Optional):cn(v,C,E&Ct.Optional)}finally{on(I)}}return ob(C,0,E)}function lb(g,v,E,C=Ct.Default,w){if(null!==g){if(1024&v[Ir]){const A=function Ax(g,v,E,C,w){let I=g,A=v;for(;null!==I&&null!==A&&1024&A[Ir]&&!(256&A[Ir]);){const G=ub(I,A,E,C|Ct.Self,Xo);if(G!==Xo)return G;let pe=I.parent;if(!pe){const Ee=A[Pd];if(Ee){const Ue=Ee.get(E,Xo,C);if(Ue!==Xo)return Ue}pe=hb(A),A=A[Sa]}I=pe}return w}(g,v,E,C,Xo);if(A!==Xo)return A}const I=ub(g,v,E,C,Xo);if(I!==Xo)return I}return ab(v,E,C,w)}function ub(g,v,E,C,w){const I=function Px(g){if("string"==typeof g)return g.charCodeAt(0)||0;const v=g.hasOwnProperty(ci)?g[ci]:void 0;return"number"==typeof v?v>=0?v&rb:Tx:v}(E);if("function"==typeof I){if(!k1(v,g,C))return C&Ct.Host?ob(w,0,C):ab(v,E,C,w);try{const A=I(C);if(null!=A||C&Ct.Optional)return A;Rt()}finally{Q1()}}else if("number"==typeof I){let A=null,G=ib(g,v),pe=Yu,Ee=C&Ct.Host?v[oi][Js]:null;for((-1===G||C&Ct.SkipSelf)&&(pe=-1===G?Jm(g,v):v[G+8],pe!==Yu&&db(C,!1)?(A=v[Hn],G=Wp(pe),v=Vp(pe,v)):G=-1);-1!==G;){const Ue=v[Hn];if(cb(I,G,Ue.data)){const Be=Ix(G,v,E,A,C,Ee);if(Be!==Xo)return Be}pe=v[G+8],pe!==Yu&&db(C,v[Hn].data[G+8]===Ee)&&cb(I,G,v)?(A=Ue,G=Wp(pe),v=Vp(pe,v)):G=-1}}return w}function Ix(g,v,E,C,w,I){const A=v[Hn],G=A.data[g+8],Ue=Kp(G,A,E,null==C?ql(G)&&km:C!=A&&0!=(3&G.type),w&Ct.Host&&I===G);return null!==Ue?tu(v,A,Ue,G):Xo}function Kp(g,v,E,C,w){const I=g.providerIndexes,A=v.data,G=1048575&I,pe=g.directiveStart,Ue=I>>20,lt=w?G+Ue:g.directiveEnd;for(let ht=C?G:G+Ue;ht<lt;ht++){const wt=A[ht];if(ht<pe&&E===wt||ht>=pe&&wt.type===E)return ht}if(w){const ht=A[pe];if(ht&&Ki(ht)&&ht.type===E)return pe}return null}function tu(g,v,E,C){let w=g[E];const I=v.data;if(function bx(g){return g instanceof jd}(w)){const A=w;A.resolving&&function _t(g,v){const E=v?`. Dependency path: ${v.join(" > ")} > ${g}`:"";throw new Ht(-200,`Circular dependency in DI detected for ${g}${E}`)}(function vr(g){return"function"==typeof g?g.name||g.toString():"object"==typeof g&&null!=g&&"function"==typeof g.type?g.type.name||g.type.toString():Dn(g)}(I[E]));const G=$p(A.canSeeViewProviders);A.resolving=!0;const pe=A.injectImpl?on(A.injectImpl):null;k1(g,C,Ct.Default);try{w=g[E]=A.factory(void 0,I,g,C),v.firstCreatePass&&E>=C.directiveStart&&function vx(g,v,E){const{ngOnChanges:C,ngOnInit:w,ngDoCheck:I}=v.type.prototype;if(C){const A=Yo(v);(E.preOrderHooks||(E.preOrderHooks=[])).push(g,A),(E.preOrderCheckHooks||(E.preOrderCheckHooks=[])).push(g,A)}w&&(E.preOrderHooks||(E.preOrderHooks=[])).push(0-g,w),I&&((E.preOrderHooks||(E.preOrderHooks=[])).push(g,I),(E.preOrderCheckHooks||(E.preOrderCheckHooks=[])).push(g,I))}(E,I[E],v)}finally{null!==pe&&on(pe),$p(G),A.resolving=!1,Q1()}}return w}function cb(g,v,E){return!!(E[v+(g>>sb)]&1<<g)}function db(g,v){return!(g&Ct.Self||g&Ct.Host&&v)}class Qu{constructor(v,E){this._tNode=v,this._lView=E}get(v,E,C){return lb(this._tNode,this._lView,v,Bu(C),E)}}function Tx(){return new Qu(pi(),On())}function fi(g){return Ro(()=>{const v=g.prototype.constructor,E=v[Lo]||Qm(v),C=Object.prototype;let w=Object.getPrototypeOf(g.prototype).constructor;for(;w&&w!==C;){const I=w[Lo]||Qm(w);if(I&&I!==E)return I;w=Object.getPrototypeOf(w)}return I=>new I})}function Qm(g){return Jr(g)?()=>{const v=Qm(Ut(g));return v&&v()}:ys(g)}function hb(g){const v=g[Hn],E=v.type;return 2===E?v.declTNode:1===E?g[Js]:null}const qu="__parameters__";function tc(g,v,E){return Ro(()=>{const C=function Xm(g){return function(...E){if(g){const C=g(...E);for(const w in C)this[w]=C[w]}}}(v);function w(...I){if(this instanceof w)return C.apply(this,I),this;const A=new w(...I);return G.annotation=A,G;function G(pe,Ee,Ue){const Be=pe.hasOwnProperty(qu)?pe[qu]:Object.defineProperty(pe,qu,{value:[]})[qu];for(;Be.length<=Ue;)Be.push(null);return(Be[Ue]=Be[Ue]||[]).push(A),pe}}return E&&(w.prototype=Object.create(E.prototype)),w.prototype.ngMetadataName=g,w.annotationCls=w,w})}class ar{constructor(v,E){this._desc=v,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof E?this.__NG_ELEMENT_ID__=E:void 0!==E&&(this.\u0275prov=kn({token:this,providedIn:E.providedIn||"root",factory:E.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function nu(g,v){g.forEach(E=>Array.isArray(E)?nu(E,v):v(E))}function fb(g,v,E){v>=g.length?g.push(E):g.splice(v,0,E)}function Gp(g,v){return v>=g.length-1?g.pop():g.splice(v,1)[0]}function uo(g,v,E){let C=nc(g,v);return C>=0?g[1|C]=E:(C=~C,function jx(g,v,E,C){let w=g.length;if(w==v)g.push(E,C);else if(1===w)g.push(C,g[0]),g[0]=E;else{for(w--,g.push(g[w-1],g[w]);w>v;)g[w]=g[w-2],w--;g[v]=E,g[v+1]=C}}(g,C,v,E)),C}function ey(g,v){const E=nc(g,v);if(E>=0)return g[1|E]}function nc(g,v){return function mb(g,v,E){let C=0,w=g.length>>E;for(;w!==C;){const I=C+(w-C>>1),A=g[I<<E];if(v===A)return I<<E;A>v?w=I:C=I+1}return~(w<<E)}(g,v,1)}const Wd=Gl(tc("Optional"),8),Vd=Gl(tc("SkipSelf"),4);var zi=(()=>((zi=zi||{})[zi.Important=1]="Important",zi[zi.DashCase=2]="DashCase",zi))();const oy=new Map;let rR=0;const ly="__ngContext__";function bi(g,v){di(v)?(g[ly]=v[wa],function iR(g){oy.set(g[wa],g)}(v)):g[ly]=v}let uy;function cy(g,v){return uy(g,v)}function zd(g){const v=g[Ds];return Zi(v)?v[Ds]:v}function dy(g){return jb(g[dl])}function hy(g){return jb(g[so])}function jb(g){for(;null!==g&&!Zi(g);)g=g[so];return g}function sc(g,v,E,C,w){if(null!=C){let I,A=!1;Zi(C)?I=C:di(C)&&(A=!0,C=C[jo]);const G=hi(C);0===g&&null!==E?null==w?Vb(v,E,G):ru(v,E,G,w||null,!0):1===g&&null!==E?ru(v,E,G,w||null,!0):2===g?function vy(g,v,E){const C=Yp(g,v);C&&function SR(g,v,E,C){g.removeChild(v,E,C)}(g,C,v,E)}(v,G,A):3===g&&v.destroyNode(G),null!=I&&function IR(g,v,E,C,w){const I=E[Xl];I!==hi(E)&&sc(v,g,C,I,w);for(let G=Ns;G<E.length;G++){const pe=E[G];Gd(pe[Hn],pe,g,v,C,I)}}(v,g,I,E,w)}}function fy(g,v,E){return g.createElement(v,E)}function Fb(g,v){const E=g[Ta],C=E.indexOf(v),w=v[Ds];512&v[Ir]&&(v[Ir]&=-513,Um(w,-1)),E.splice(C,1)}function my(g,v){if(g.length<=Ns)return;const E=Ns+v,C=g[E];if(C){const w=C[Ql];null!==w&&w!==g&&Fb(w,C),v>0&&(g[E-1][so]=C[so]);const I=Gp(g,Ns+v);!function gR(g,v){Gd(g,v,v[Ar],2,null,null),v[jo]=null,v[Js]=null}(C[Hn],C);const A=I[io];null!==A&&A.detachView(I[Hn]),C[Ds]=null,C[so]=null,C[Ir]&=-65}return C}function Nb(g,v){if(!(128&v[Ir])){const E=v[Ar];E.destroyNode&&Gd(g,v,E,3,null,null),function ER(g){let v=g[dl];if(!v)return yy(g[Hn],g);for(;v;){let E=null;if(di(v))E=v[dl];else{const C=v[Ns];C&&(E=C)}if(!E){for(;v&&!v[so]&&v!==g;)di(v)&&yy(v[Hn],v),v=v[Ds];null===v&&(v=g),di(v)&&yy(v[Hn],v),E=v&&v[so]}v=E}}(v)}}function yy(g,v){if(!(128&v[Ir])){v[Ir]&=-65,v[Ir]|=128,function DR(g,v){let E;if(null!=g&&null!=(E=g.destroyHooks))for(let C=0;C<E.length;C+=2){const w=v[E[C]];if(!(w instanceof jd)){const I=E[C+1];if(Array.isArray(I))for(let A=0;A<I.length;A+=2){const G=w[I[A]],pe=I[A+1];Ei(4,G,pe);try{pe.call(G)}finally{Ei(5,G,pe)}}else{Ei(4,w,I);try{I.call(w)}finally{Ei(5,w,I)}}}}}(g,v),function MR(g,v){const E=g.cleanup,C=v[Da];let w=-1;if(null!==E)for(let I=0;I<E.length-1;I+=2)if("string"==typeof E[I]){const A=E[I+3];A>=0?C[w=A]():C[w=-A].unsubscribe(),I+=2}else{const A=C[w=E[I+1]];E[I].call(A)}if(null!==C){for(let I=w+1;I<C.length;I++)(0,C[I])();v[Da]=null}}(g,v),1===v[Hn].type&&v[Ar].destroy();const E=v[Ql];if(null!==E&&Zi(v[Ds])){E!==v[Ds]&&Fb(E,v);const C=v[io];null!==C&&C.detachView(g)}!function oR(g){oy.delete(g[wa])}(v)}}function Bb(g,v,E){return function Wb(g,v,E){let C=v;for(;null!==C&&40&C.type;)C=(v=C).parent;if(null===C)return E[jo];{const{componentOffset:w}=C;if(w>-1){const{encapsulation:I}=g.data[C.directiveStart+w];if(I===Pi.None||I===Pi.Emulated)return null}return ao(C,E)}}(g,v.parent,E)}function ru(g,v,E,C,w){g.insertBefore(v,E,C,w)}function Vb(g,v,E){g.appendChild(v,E)}function $b(g,v,E,C,w){null!==C?ru(g,v,E,C,w):Vb(g,v,E)}function Yp(g,v){return g.parentNode(v)}let gy,Cy,zb=function Kb(g,v,E){return 40&g.type?ao(g,E):null};function Qp(g,v,E,C){const w=Bb(g,C,v),I=v[Ar],G=function Zb(g,v,E){return zb(g,v,E)}(C.parent||v[Js],C,v);if(null!=w)if(Array.isArray(E))for(let pe=0;pe<E.length;pe++)$b(I,w,E[pe],G,!1);else $b(I,w,E,G,!1);void 0!==gy&&gy(I,C,v,E,w)}function Xp(g,v){if(null!==v){const E=v.type;if(3&E)return ao(v,g);if(4&E)return _y(-1,g[v.index]);if(8&E){const C=v.child;if(null!==C)return Xp(g,C);{const w=g[v.index];return Zi(w)?_y(-1,w):hi(w)}}if(32&E)return cy(v,g)()||hi(g[v.index]);{const C=kb(g,v);return null!==C?Array.isArray(C)?C[0]:Xp(zd(g[oi]),C):Xp(g,v.next)}}return null}function kb(g,v){return null!==v?g[oi][Js].projection[v.projection]:null}function _y(g,v){const E=Ns+g+1;if(E<v.length){const C=v[E],w=C[Hn].firstChild;if(null!==w)return Xp(C,w)}return v[Xl]}function Ey(g,v,E,C,w,I,A){for(;null!=E;){const G=C[E.index],pe=E.type;if(A&&0===v&&(G&&bi(hi(G),C),E.flags|=2),32!=(32&E.flags))if(8&pe)Ey(g,v,E.child,C,w,I,!1),sc(v,g,w,G,I);else if(32&pe){const Ee=cy(E,C);let Ue;for(;Ue=Ee();)sc(v,g,w,Ue,I);sc(v,g,w,G,I)}else 16&pe?Hb(g,v,C,E,w,I):sc(v,g,w,G,I);E=A?E.projectionNext:E.next}}function Gd(g,v,E,C,w,I){Ey(E,C,g.firstChild,v,w,I,!1)}function Hb(g,v,E,C,w,I){const A=E[oi],pe=A[Js].projection[C.projection];if(Array.isArray(pe))for(let Ee=0;Ee<pe.length;Ee++)sc(v,g,w,pe[Ee],I);else Ey(g,v,pe,A[Ds],w,I,!0)}function Jb(g,v,E){""===E?g.removeAttribute(v,"class"):g.setAttribute(v,"class",E)}function Yb(g,v,E){const{mergedAttrs:C,classes:w,styles:I}=E;null!==C&&Gm(g,v,C),null!==w&&Jb(g,v,w),null!==I&&function TR(g,v,E){g.setAttribute(v,"style",E)}(g,v,I)}class tC{constructor(v){this.changingThisBreaksApplicationSecurity=v}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const nf=new ar("ENVIRONMENT_INITIALIZER"),dC=new ar("INJECTOR",-1),hC=new ar("INJECTOR_DEF_TYPES");class pC{get(v,E=Hs){if(E===Hs){const C=new Error(`NullInjectorError: No provider for ${Br(v)}!`);throw C.name="NullInjectorError",C}return E}}function rL(...g){return{\u0275providers:fC(0,g),\u0275fromNgModule:!0}}function fC(g,...v){const E=[],C=new Set;let w;return nu(v,I=>{const A=I;Iy(A,E,[],C)&&(w||(w=[]),w.push(A))}),void 0!==w&&mC(w,E),E}function mC(g,v){for(let E=0;E<g.length;E++){const{providers:w}=g[E];Py(w,I=>{v.push(I)})}}function Iy(g,v,E,C){if(!(g=Ut(g)))return!1;let w=null,I=vo(g);const A=!I&&as(g);if(I||A){if(A&&!A.standalone)return!1;w=g}else{const pe=g.ngModule;if(I=vo(pe),!I)return!1;w=pe}const G=C.has(w);if(A){if(G)return!1;if(C.add(w),A.dependencies){const pe="function"==typeof A.dependencies?A.dependencies():A.dependencies;for(const Ee of pe)Iy(Ee,v,E,C)}}else{if(!I)return!1;{if(null!=I.imports&&!G){let Ee;C.add(w);try{nu(I.imports,Ue=>{Iy(Ue,v,E,C)&&(Ee||(Ee=[]),Ee.push(Ue))})}finally{}void 0!==Ee&&mC(Ee,v)}if(!G){const Ee=ys(w)||(()=>new w);v.push({provide:w,useFactory:Ee,deps:os},{provide:hC,useValue:w,multi:!0},{provide:nf,useValue:()=>sr(w),multi:!0})}const pe=I.providers;null==pe||G||Py(pe,Ue=>{v.push(Ue)})}}return w!==g&&void 0!==g.providers}function Py(g,v){for(let E of g)_r(E)&&(E=E.\u0275providers),Array.isArray(E)?Py(E,v):v(E)}const sL=Qn({provide:String,useValue:Qn});function Ty(g){return null!==g&&"object"==typeof g&&sL in g}function su(g){return"function"==typeof g}const Ay=new ar("Set Injector scope."),rf={},oL={};let xy;function sf(){return void 0===xy&&(xy=new pC),xy}class La{}class _C extends La{get destroyed(){return this._destroyed}constructor(v,E,C,w){super(),this.parent=E,this.source=C,this.scopes=w,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ly(v,A=>this.processProvider(A)),this.records.set(dC,oc(void 0,this)),w.has("environment")&&this.records.set(La,oc(void 0,this));const I=this.records.get(Ay);null!=I&&"string"==typeof I.value&&this.scopes.add(I.value),this.injectorDefTypes=new Set(this.get(hC.multi,os,Ct.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const v of this._ngOnDestroyHooks)v.ngOnDestroy();for(const v of this._onDestroyHooks)v()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(v){this._onDestroyHooks.push(v)}runInContext(v){this.assertNotDestroyed();const E=ro(this),C=on(void 0);try{return v()}finally{ro(E),on(C)}}get(v,E=Hs,C=Ct.Default){this.assertNotDestroyed(),C=Bu(C);const w=ro(this),I=on(void 0);try{if(!(C&Ct.SkipSelf)){let G=this.records.get(v);if(void 0===G){const pe=function dL(g){return"function"==typeof g||"object"==typeof g&&g instanceof ar}(v)&&vn(v);G=pe&&this.injectableDefInScope(pe)?oc(Ry(v),rf):null,this.records.set(v,G)}if(null!=G)return this.hydrate(v,G)}return(C&Ct.Self?sf():this.parent).get(v,E=C&Ct.Optional&&E===Hs?null:E)}catch(A){if("NullInjectorError"===A.name){if((A[Is]=A[Is]||[]).unshift(Br(v)),w)throw A;return function qr(g,v,E,C){const w=g[Is];throw v[Cp]&&w.unshift(v[Cp]),g.message=function ll(g,v,E,C=null){g=g&&"\n"===g.charAt(0)&&g.charAt(1)==_i?g.slice(2):g;let w=Br(v);if(Array.isArray(v))w=v.map(Br).join(" -> ");else if("object"==typeof v){let I=[];for(let A in v)if(v.hasOwnProperty(A)){let G=v[A];I.push(A+":"+("string"==typeof G?JSON.stringify(G):Br(G)))}w=`{${I.join(", ")}}`}return`${E}${C?"("+C+")":""}[${w}]: ${g.replace(Ma,"\n  ")}`}("\n"+g.message,w,E,C),g[al]=w,g[Is]=null,g}(A,v,"R3InjectorError",this.source)}throw A}finally{on(I),ro(w)}}resolveInjectorInitializers(){const v=ro(this),E=on(void 0);try{const C=this.get(nf.multi,os,Ct.Self);for(const w of C)w()}finally{ro(v),on(E)}}toString(){const v=[],E=this.records;for(const C of E.keys())v.push(Br(C));return`R3Injector[${v.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ht(205,!1)}processProvider(v){let E=su(v=Ut(v))?v:Ut(v&&v.provide);const C=function lL(g){return Ty(g)?oc(void 0,g.useValue):oc(vC(g),rf)}(v);if(su(v)||!0!==v.multi)this.records.get(E);else{let w=this.records.get(E);w||(w=oc(void 0,rf,!0),w.factory=()=>Wu(w.multi),this.records.set(E,w)),E=v,w.multi.push(v)}this.records.set(E,C)}hydrate(v,E){return E.value===rf&&(E.value=oL,E.value=E.factory()),"object"==typeof E.value&&E.value&&function cL(g){return null!==g&&"object"==typeof g&&"function"==typeof g.ngOnDestroy}(E.value)&&this._ngOnDestroyHooks.add(E.value),E.value}injectableDefInScope(v){if(!v.providedIn)return!1;const E=Ut(v.providedIn);return"string"==typeof E?"any"===E||this.scopes.has(E):this.injectorDefTypes.has(E)}}function Ry(g){const v=vn(g),E=null!==v?v.factory:ys(g);if(null!==E)return E;if(g instanceof ar)throw new Ht(204,!1);if(g instanceof Function)return function aL(g){const v=g.length;if(v>0)throw function Bd(g,v){const E=[];for(let C=0;C<g;C++)E.push(v);return E}(v,"?"),new Ht(204,!1);const E=function Qr(g){const v=g&&(g[Qe]||g[gt]);return v?(function ks(g){if(g.hasOwnProperty("name"))return g.name;(""+g).match(/^function\s*([^\s(]+)/)}(g),v):null}(g);return null!==E?()=>E.factory(g):()=>new g}(g);throw new Ht(204,!1)}function vC(g,v,E){let C;if(su(g)){const w=Ut(g);return ys(w)||Ry(w)}if(Ty(g))C=()=>Ut(g.useValue);else if(function gC(g){return!(!g||!g.useFactory)}(g))C=()=>g.useFactory(...Wu(g.deps||[]));else if(function yC(g){return!(!g||!g.useExisting)}(g))C=()=>sr(Ut(g.useExisting));else{const w=Ut(g&&(g.useClass||g.provide));if(!function uL(g){return!!g.deps}(g))return ys(w)||Ry(w);C=()=>new w(...Wu(g.deps))}return C}function oc(g,v,E=!1){return{factory:g,value:v,multi:E?[]:void 0}}function Ly(g,v){for(const E of g)Array.isArray(E)?Ly(E,v):E&&_r(E)?Ly(E.\u0275providers,v):v(E)}class hL{}class EC{}class fL{resolveComponentFactory(v){throw function pL(g){const v=Error(`No component factory found for ${Br(g)}. Did you add it to @NgModule.entryComponents?`);return v.ngComponent=g,v}(v)}}let Yd=(()=>{class g{}return g.NULL=new fL,g})();function mL(){return ac(pi(),On())}function ac(g,v){return new co(ao(g,v))}let co=(()=>{class g{constructor(E){this.nativeElement=E}}return g.__NG_ELEMENT_ID__=mL,g})();function yL(g){return g instanceof co?g.nativeElement:g}class CC{}let ja=(()=>{class g{}return g.__NG_ELEMENT_ID__=()=>function gL(){const g=On(),E=lo(pi().index,g);return(di(E)?E:g)[Ar]}(),g})(),_L=(()=>{class g{}return g.\u0275prov=kn({token:g,providedIn:"root",factory:()=>null}),g})();class Qd{constructor(v){this.full=v,this.major=v.split(".")[0],this.minor=v.split(".")[1],this.patch=v.split(".").slice(2).join(".")}}const vL=new Qd("15.2.5"),jy={},Uy="ngOriginalError";function Fy(g){return g[Uy]}class lc{constructor(){this._console=console}handleError(v){const E=this._findOriginalError(v);this._console.error("ERROR",v),E&&this._console.error("ORIGINAL ERROR",E)}_findOriginalError(v){let E=v&&Fy(v);for(;E&&Fy(E);)E=Fy(E);return E||null}}function Ua(g){return g instanceof Function?g():g}function DC(g,v,E){let C=g.length;for(;;){const w=g.indexOf(v,E);if(-1===w)return w;if(0===w||g.charCodeAt(w-1)<=32){const I=v.length;if(w+I===C||g.charCodeAt(w+I)<=32)return w}E=w+1}}const SC="ng-template";function TL(g,v,E){let C=0,w=!0;for(;C<g.length;){let I=g[C++];if("string"==typeof I&&w){const A=g[C++];if(E&&"class"===I&&-1!==DC(A.toLowerCase(),v,0))return!0}else{if(1===I){for(;C<g.length&&"string"==typeof(I=g[C++]);)if(I.toLowerCase()===v)return!0;return!1}"number"==typeof I&&(w=!1)}}return!1}function OC(g){return 4===g.type&&g.value!==SC}function AL(g,v,E){return v===(4!==g.type||E?g.value:SC)}function xL(g,v,E){let C=4;const w=g.attrs||[],I=function jL(g){for(let v=0;v<g.length;v++)if(q1(g[v]))return v;return g.length}(w);let A=!1;for(let G=0;G<v.length;G++){const pe=v[G];if("number"!=typeof pe){if(!A)if(4&C){if(C=2|1&C,""!==pe&&!AL(g,pe,E)||""===pe&&1===v.length){if(Uo(C))return!1;A=!0}}else{const Ee=8&C?pe:v[++G];if(8&C&&null!==g.attrs){if(!TL(g.attrs,Ee,E)){if(Uo(C))return!1;A=!0}continue}const Be=RL(8&C?"class":pe,w,OC(g),E);if(-1===Be){if(Uo(C))return!1;A=!0;continue}if(""!==Ee){let lt;lt=Be>I?"":w[Be+1].toLowerCase();const ht=8&C?lt:null;if(ht&&-1!==DC(ht,Ee,0)||2&C&&Ee!==lt){if(Uo(C))return!1;A=!0}}}}else{if(!A&&!Uo(C)&&!Uo(pe))return!1;if(A&&Uo(pe))continue;A=!1,C=pe|1&C}}return Uo(C)||A}function Uo(g){return 0==(1&g)}function RL(g,v,E,C){if(null===v)return-1;let w=0;if(C||!E){let I=!1;for(;w<v.length;){const A=v[w];if(A===g)return w;if(3===A||6===A)I=!0;else{if(1===A||2===A){let G=v[++w];for(;"string"==typeof G;)G=v[++w];continue}if(4===A)break;if(0===A){w+=4;continue}}w+=I?1:2}return-1}return function UL(g,v){let E=g.indexOf(4);if(E>-1)for(E++;E<g.length;){const C=g[E];if("number"==typeof C)return-1;if(C===v)return E;E++}return-1}(v,g)}function wC(g,v,E=!1){for(let C=0;C<v.length;C++)if(xL(g,v[C],E))return!0;return!1}function IC(g,v){return g?":not("+v.trim()+")":v}function NL(g){let v=g[0],E=1,C=2,w="",I=!1;for(;E<g.length;){let A=g[E];if("string"==typeof A)if(2&C){const G=g[++E];w+="["+A+(G.length>0?'="'+G+'"':"")+"]"}else 8&C?w+="."+A:4&C&&(w+=" "+A);else""!==w&&!Uo(A)&&(v+=IC(I,w),w=""),C=A,I=I||!Uo(C);E++}return""!==w&&(v+=IC(I,w)),v}const Tr={};function cc(g){PC(ss(),On(),xi()+g,!1)}function PC(g,v,E,C){if(!C)if(3==(3&v[Ir])){const I=g.preOrderCheckHooks;null!==I&&Np(v,I,E)}else{const I=g.preOrderHooks;null!==I&&Bp(v,I,0,E)}eu(E)}function RC(g,v=null,E=null,C){const w=LC(g,v,E,C);return w.resolveInjectorInitializers(),w}function LC(g,v=null,E=null,C,w=new Set){const I=[E||os,rL(g)];return C=C||("object"==typeof g?void 0:Br(g)),new _C(I,v||sf(),C||null,w)}let qo=(()=>{class g{static create(E,C){if(Array.isArray(E))return RC({name:""},C,E,"");{const w=E.name??"";return RC({name:w},E.parent,E.providers,w)}}}return g.THROW_IF_NOT_FOUND=Hs,g.NULL=new pC,g.\u0275prov=kn({token:g,providedIn:"any",factory:()=>sr(dC)}),g.__NG_ELEMENT_ID__=-1,g})();function An(g,v=Ct.Default){const E=On();return null===E?sr(g,v):lb(pi(),E,Ut(g),v)}function $C(g,v){const E=g.contentQueries;if(null!==E)for(let C=0;C<E.length;C+=2){const I=E[C+1];if(-1!==I){const A=g.data[I];Vm(E[C]),A.contentQueries(2,v[I],I)}}}function lf(g,v,E,C,w,I,A,G,pe,Ee,Ue){const Be=v.blueprint.slice();return Be[jo]=w,Be[Ir]=76|C,(null!==Ue||g&&1024&g[Ir])&&(Be[Ir]|=1024),B1(Be),Be[Ds]=Be[Sa]=g,Be[ns]=E,Be[Jl]=A||g&&g[Jl],Be[Ar]=G||g&&g[Ar],Be[Yl]=pe||g&&g[Yl]||null,Be[Hl]=Ee||g&&g[Hl]||null,Be[Js]=I,Be[wa]=function sR(){return rR++}(),Be[Pd]=Ue,Be[oi]=2==v.type?g[oi]:Be,Be}function hc(g,v,E,C,w){let I=g.data[v];if(null===I)I=function $y(g,v,E,C,w){const I=$1(),A=Fm(),pe=g.data[v]=function c3(g,v,E,C,w,I){return{type:E,index:C,insertBeforeIndex:null,injectorIndex:v?v.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:w,attrs:I,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:v,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,A?I:I&&I.parent,E,v,C,w);return null===g.firstChild&&(g.firstChild=pe),null!==I&&(A?null==I.child&&null!==pe.parent&&(I.child=pe):null===I.next&&(I.next=pe,pe.prev=I)),pe}(g,v,E,C,w),function lx(){return Pr.lFrame.inI18n}()&&(I.flags|=32);else if(64&I.type){I.type=E,I.value=C,I.attrs=w;const A=function Ld(){const g=Pr.lFrame,v=g.currentTNode;return g.isParent?v:v.parent}();I.injectorIndex=null===A?-1:A.injectorIndex}return Qo(I,!0),I}function Xd(g,v,E,C){if(0===E)return-1;const w=v.length;for(let I=0;I<E;I++)v.push(C),g.blueprint.push(C),g.data.push(null);return w}function Zy(g,v,E){$m(v);try{const C=g.viewQuery;null!==C&&qy(1,C,E);const w=g.template;null!==w&&ZC(g,v,w,1,E),g.firstCreatePass&&(g.firstCreatePass=!1),g.staticContentQueries&&$C(g,v),g.staticViewQueries&&qy(2,g.viewQuery,E);const I=g.components;null!==I&&function a3(g,v){for(let E=0;E<v.length;E++)P3(g,v[E])}(v,I)}catch(C){throw g.firstCreatePass&&(g.incompleteFirstPass=!0,g.firstCreatePass=!1),C}finally{v[Ir]&=-5,Zm()}}function uf(g,v,E,C){const w=v[Ir];if(128!=(128&w)){$m(v);try{B1(v),function K1(g){return Pr.lFrame.bindingIndex=g}(g.bindingStartIndex),null!==E&&ZC(g,v,E,2,C);const A=3==(3&w);if(A){const Ee=g.preOrderCheckHooks;null!==Ee&&Np(v,Ee,null)}else{const Ee=g.preOrderHooks;null!==Ee&&Bp(v,Ee,0,null),Km(v,0)}if(function w3(g){for(let v=dy(g);null!==v;v=hy(v)){if(!v[Td])continue;const E=v[Ta];for(let C=0;C<E.length;C++){const w=E[C];512&w[Ir]||Um(w[Ds],1),w[Ir]|=512}}}(v),function O3(g){for(let v=dy(g);null!==v;v=hy(v))for(let E=Ns;E<v.length;E++){const C=v[E],w=C[Hn];Up(C)&&uf(w,C,w.template,C[ns])}}(v),null!==g.contentQueries&&$C(g,v),A){const Ee=g.contentCheckHooks;null!==Ee&&Np(v,Ee)}else{const Ee=g.contentHooks;null!==Ee&&Bp(v,Ee,1),Km(v,1)}!function i3(g,v){const E=g.hostBindingOpCodes;if(null!==E)try{for(let C=0;C<E.length;C++){const w=E[C];if(w<0)eu(~w);else{const I=w,A=E[++C],G=E[++C];ux(A,I),G(2,v[I])}}}finally{eu(-1)}}(g,v);const G=g.components;null!==G&&function o3(g,v){for(let E=0;E<v.length;E++)I3(g,v[E])}(v,G);const pe=g.viewQuery;if(null!==pe&&qy(2,pe,C),A){const Ee=g.viewCheckHooks;null!==Ee&&Np(v,Ee)}else{const Ee=g.viewHooks;null!==Ee&&Bp(v,Ee,2),Km(v,2)}!0===g.firstUpdatePass&&(g.firstUpdatePass=!1),v[Ir]&=-41,512&v[Ir]&&(v[Ir]&=-513,Um(v[Ds],-1))}finally{Zm()}}}function ZC(g,v,E,C,w){const I=xi(),A=2&C;try{eu(-1),A&&v.length>us&&PC(g,v,us,!1),Ei(A?2:0,w),E(C,w)}finally{eu(I),Ei(A?3:1,w)}}function Ky(g,v,E){if(Ku(v)){const w=v.directiveEnd;for(let I=v.directiveStart;I<w;I++){const A=g.data[I];A.contentQueries&&A.contentQueries(1,E[I],I)}}}function zy(g,v,E){V1()&&(function y3(g,v,E,C){const w=E.directiveStart,I=E.directiveEnd;ql(E)&&function M3(g,v,E){const C=ao(v,g),w=KC(E),I=g[Jl],A=cf(g,lf(g,w,null,E.onPush?32:16,C,v,I,I.createRenderer(C,E),null,null,null));g[v.index]=A}(v,E,g.data[w+E.componentOffset]),g.firstCreatePass||Zp(E,v),bi(C,v);const A=E.initialInputs;for(let G=w;G<I;G++){const pe=g.data[G],Ee=tu(v,g,G,E);bi(Ee,v),null!==A&&D3(0,G-w,Ee,pe,0,A),Ki(pe)&&(lo(E.index,v)[ns]=tu(v,g,G,E))}}(g,v,E,ao(E,v)),64==(64&E.flags)&&YC(g,v,E))}function Gy(g,v,E=ao){const C=v.localNames;if(null!==C){let w=v.index+1;for(let I=0;I<C.length;I+=2){const A=C[I+1],G=-1===A?E(v,g):g[A];g[w++]=G}}}function KC(g){const v=g.tView;return null===v||v.incompleteFirstPass?g.tView=ky(1,null,g.template,g.decls,g.vars,g.directiveDefs,g.pipeDefs,g.viewQuery,g.schemas,g.consts):v}function ky(g,v,E,C,w,I,A,G,pe,Ee){const Ue=us+C,Be=Ue+w,lt=function l3(g,v){const E=[];for(let C=0;C<v;C++)E.push(C<g?null:Tr);return E}(Ue,Be),ht="function"==typeof Ee?Ee():Ee;return lt[Hn]={type:g,blueprint:lt,template:E,queries:null,viewQuery:G,declTNode:v,data:lt.slice().fill(null,Ue),bindingStartIndex:Ue,expandoStartIndex:Be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof I?I():I,pipeRegistry:"function"==typeof A?A():A,firstChild:null,schemas:pe,consts:ht,incompleteFirstPass:!1}}function zC(g,v,E,C){const w=XC(v);null===E?w.push(C):(w.push(E),g.firstCreatePass&&qC(g).push(C,w.length-1))}function GC(g,v,E,C){for(let w in g)if(g.hasOwnProperty(w)){E=null===E?{}:E;const I=g[w];null===C?kC(E,v,w,I):C.hasOwnProperty(w)&&kC(E,v,C[w],I)}return E}function kC(g,v,E,C){g.hasOwnProperty(E)?g[E].push(v,C):g[E]=[v,C]}function HC(g,v){const E=lo(v,g);16&E[Ir]||(E[Ir]|=32)}function Hy(g,v,E,C){if(V1()){const w=null===C?null:{"":-1},I=function _3(g,v){const E=g.directiveRegistry;let C=null,w=null;if(E)for(let I=0;I<E.length;I++){const A=E[I];if(wC(v,A.selectors,!1))if(C||(C=[]),Ki(A))if(null!==A.findHostDirectiveDefs){const G=[];w=w||new Map,A.findHostDirectiveDefs(A,G,w),C.unshift(...G,A),Jy(g,v,G.length)}else C.unshift(A),Jy(g,v,0);else w=w||new Map,A.findHostDirectiveDefs?.(A,C,w),C.push(A)}return null===C?null:[C,w]}(g,E);let A,G;null===I?A=G=null:[A,G]=I,null!==A&&JC(g,v,E,A,w,G),w&&function v3(g,v,E){if(v){const C=g.localNames=[];for(let w=0;w<v.length;w+=2){const I=E[v[w+1]];if(null==I)throw new Ht(-301,!1);C.push(v[w],I)}}}(E,C,w)}E.mergedAttrs=Ud(E.mergedAttrs,E.attrs)}function JC(g,v,E,C,w,I){for(let Ee=0;Ee<C.length;Ee++)Ym(Zp(E,v),g,C[Ee].type);!function b3(g,v,E){g.flags|=1,g.directiveStart=v,g.directiveEnd=v+E,g.providerIndexes=v}(E,g.data.length,C.length);for(let Ee=0;Ee<C.length;Ee++){const Ue=C[Ee];Ue.providersResolver&&Ue.providersResolver(Ue)}let A=!1,G=!1,pe=Xd(g,v,C.length,null);for(let Ee=0;Ee<C.length;Ee++){const Ue=C[Ee];E.mergedAttrs=Ud(E.mergedAttrs,Ue.hostAttrs),C3(g,E,v,pe,Ue),E3(pe,Ue,w),null!==Ue.contentQueries&&(E.flags|=4),(null!==Ue.hostBindings||null!==Ue.hostAttrs||0!==Ue.hostVars)&&(E.flags|=64);const Be=Ue.type.prototype;!A&&(Be.ngOnChanges||Be.ngOnInit||Be.ngDoCheck)&&((g.preOrderHooks||(g.preOrderHooks=[])).push(E.index),A=!0),!G&&(Be.ngOnChanges||Be.ngDoCheck)&&((g.preOrderCheckHooks||(g.preOrderCheckHooks=[])).push(E.index),G=!0),pe++}!function d3(g,v,E){const w=v.directiveEnd,I=g.data,A=v.attrs,G=[];let pe=null,Ee=null;for(let Ue=v.directiveStart;Ue<w;Ue++){const Be=I[Ue],lt=E?E.get(Be):null,wt=lt?lt.outputs:null;pe=GC(Be.inputs,Ue,pe,lt?lt.inputs:null),Ee=GC(Be.outputs,Ue,Ee,wt);const Gt=null===pe||null===A||OC(v)?null:S3(pe,Ue,A);G.push(Gt)}null!==pe&&(pe.hasOwnProperty("class")&&(v.flags|=8),pe.hasOwnProperty("style")&&(v.flags|=16)),v.initialInputs=G,v.inputs=pe,v.outputs=Ee}(g,E,I)}function YC(g,v,E){const C=E.directiveStart,w=E.directiveEnd,I=E.index,A=function cx(){return Pr.lFrame.currentDirectiveIndex}();try{eu(I);for(let G=C;G<w;G++){const pe=g.data[G],Ee=v[G];Bm(G),(null!==pe.hostBindings||0!==pe.hostVars||null!==pe.hostAttrs)&&g3(pe,Ee)}}finally{eu(-1),Bm(A)}}function g3(g,v){null!==g.hostBindings&&g.hostBindings(1,v)}function Jy(g,v,E){v.componentOffset=E,(g.components||(g.components=[])).push(v.index)}function E3(g,v,E){if(E){if(v.exportAs)for(let C=0;C<v.exportAs.length;C++)E[v.exportAs[C]]=g;Ki(v)&&(E[""]=g)}}function C3(g,v,E,C,w){g.data[C]=w;const I=w.factory||(w.factory=ys(w.type)),A=new jd(I,Ki(w),An);g.blueprint[C]=A,E[C]=A,function f3(g,v,E,C,w){const I=w.hostBindings;if(I){let A=g.hostBindingOpCodes;null===A&&(A=g.hostBindingOpCodes=[]);const G=~v.index;(function m3(g){let v=g.length;for(;v>0;){const E=g[--v];if("number"==typeof E&&E<0)return E}return 0})(A)!=G&&A.push(G),A.push(E,C,I)}}(g,v,C,Xd(g,E,w.hostVars,Tr),w)}function D3(g,v,E,C,w,I){const A=I[v];if(null!==A){const G=C.setInput;for(let pe=0;pe<A.length;){const Ee=A[pe++],Ue=A[pe++],Be=A[pe++];null!==G?C.setInput(E,Be,Ee,Ue):E[Ue]=Be}}}function S3(g,v,E){let C=null,w=0;for(;w<E.length;){const I=E[w];if(0!==I)if(5!==I){if("number"==typeof I)break;if(g.hasOwnProperty(I)){null===C&&(C=[]);const A=g[I];for(let G=0;G<A.length;G+=2)if(A[G]===v){C.push(I,A[G+1],E[w+1]);break}}w+=2}else w+=2;else w+=4}return C}function QC(g,v,E,C){return[g,!0,!1,v,null,0,C,E,null,null]}function I3(g,v){const E=lo(v,g);if(Up(E)){const C=E[Hn];48&E[Ir]?uf(C,E,C.template,E[ns]):E[Jo]>0&&Qy(E)}}function Qy(g){for(let C=dy(g);null!==C;C=hy(C))for(let w=Ns;w<C.length;w++){const I=C[w];if(Up(I))if(512&I[Ir]){const A=I[Hn];uf(A,I,A.template,I[ns])}else I[Jo]>0&&Qy(I)}const E=g[Hn].components;if(null!==E)for(let C=0;C<E.length;C++){const w=lo(E[C],g);Up(w)&&w[Jo]>0&&Qy(w)}}function P3(g,v){const E=lo(v,g),C=E[Hn];(function T3(g,v){for(let E=v.length;E<g.blueprint.length;E++)v.push(g.blueprint[E])})(C,E),Zy(C,E,E[ns])}function cf(g,v){return g[dl]?g[Zu][so]=v:g[dl]=v,g[Zu]=v,v}function Xy(g){for(;g;){g[Ir]|=32;const v=zd(g);if(Am(g)&&!v)return g;g=v}return null}function df(g,v,E,C=!0){const w=v[Jl];w.begin&&w.begin();try{uf(g,v,g.template,E)}catch(A){throw C&&tM(v,A),A}finally{w.end&&w.end()}}function qy(g,v,E){Vm(0),v(g,E)}function XC(g){return g[Da]||(g[Da]=[])}function qC(g){return g.cleanup||(g.cleanup=[])}function tM(g,v){const E=g[Hl],C=E?E.get(lc,null):null;C&&C.handleError(v)}function eg(g,v,E,C,w){for(let I=0;I<E.length;){const A=E[I++],G=E[I++],pe=v[A],Ee=g.data[A];null!==Ee.setInput?Ee.setInput(pe,w,C,G):pe[G]=w}}function hf(g,v,E){let C=E?g.styles:null,w=E?g.classes:null,I=0;if(null!==v)for(let A=0;A<v.length;A++){const G=v[A];"number"==typeof G?I=G:1==I?w=ti(w,G):2==I&&(C=ti(C,G+": "+v[++A]+";"))}E?g.styles=C:g.stylesWithoutHost=C,E?g.classes=w:g.classesWithoutHost=w}function pf(g,v,E,C,w=!1){for(;null!==E;){const I=v[E.index];if(null!==I&&C.push(hi(I)),Zi(I))for(let G=Ns;G<I.length;G++){const pe=I[G],Ee=pe[Hn].firstChild;null!==Ee&&pf(pe[Hn],pe,Ee,C)}const A=E.type;if(8&A)pf(g,v,E.child,C);else if(32&A){const G=cy(E,v);let pe;for(;pe=G();)C.push(pe)}else if(16&A){const G=kb(v,E);if(Array.isArray(G))C.push(...G);else{const pe=zd(v[oi]);pf(pe[Hn],pe,G,C,!0)}}E=w?E.projectionNext:E.next}return C}class qd{get rootNodes(){const v=this._lView,E=v[Hn];return pf(E,v,E.firstChild,[])}constructor(v,E){this._lView=v,this._cdRefInjectingView=E,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ns]}set context(v){this._lView[ns]=v}get destroyed(){return 128==(128&this._lView[Ir])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const v=this._lView[Ds];if(Zi(v)){const E=v[Pa],C=E?E.indexOf(this):-1;C>-1&&(my(v,C),Gp(E,C))}this._attachedToViewContainer=!1}Nb(this._lView[Hn],this._lView)}onDestroy(v){zC(this._lView[Hn],this._lView,null,v)}markForCheck(){Xy(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ir]&=-65}reattach(){this._lView[Ir]|=64}detectChanges(){df(this._lView[Hn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ht(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vR(g,v){Gd(g,v,v[Ar],2,null,null)}(this._lView[Hn],this._lView)}attachToAppRef(v){if(this._attachedToViewContainer)throw new Ht(902,!1);this._appRef=v}}class A3 extends qd{constructor(v){super(v),this._view=v}detectChanges(){const v=this._view;df(v[Hn],v,v[ns],!1)}checkNoChanges(){}get context(){return null}}class nM extends Yd{constructor(v){super(),this.ngModule=v}resolveComponentFactory(v){const E=as(v);return new eh(E,this.ngModule)}}function rM(g){const v=[];for(let E in g)g.hasOwnProperty(E)&&v.push({propName:g[E],templateName:E});return v}class R3{constructor(v,E){this.injector=v,this.parentInjector=E}get(v,E,C){C=Bu(C);const w=this.injector.get(v,jy,C);return w!==jy||E===jy?w:this.parentInjector.get(v,E,C)}}class eh extends EC{get inputs(){return rM(this.componentDef.inputs)}get outputs(){return rM(this.componentDef.outputs)}constructor(v,E){super(),this.componentDef=v,this.ngModule=E,this.componentType=v.type,this.selector=function BL(g){return g.map(NL).join(",")}(v.selectors),this.ngContentSelectors=v.ngContentSelectors?v.ngContentSelectors:[],this.isBoundToModule=!!E}create(v,E,C,w){let I=(w=w||this.ngModule)instanceof La?w:w?.injector;I&&null!==this.componentDef.getStandaloneInjector&&(I=this.componentDef.getStandaloneInjector(I)||I);const A=I?new R3(v,I):v,G=A.get(CC,null);if(null===G)throw new Ht(407,!1);const pe=A.get(_L,null),Ee=G.createRenderer(null,this.componentDef),Ue=this.componentDef.selectors[0][0]||"div",Be=C?function u3(g,v,E){return g.selectRootElement(v,E===Pi.ShadowDom)}(Ee,C,this.componentDef.encapsulation):fy(Ee,Ue,function x3(g){const v=g.toLowerCase();return"svg"===v?"svg":"math"===v?"math":null}(Ue)),lt=this.componentDef.onPush?288:272,ht=ky(0,null,null,1,0,null,null,null,null,null),wt=lf(null,ht,null,lt,null,null,G,Ee,pe,A,null);let Gt,qt;$m(wt);try{const mn=this.componentDef;let Ln,an=null;mn.findHostDirectiveDefs?(Ln=[],an=new Map,mn.findHostDirectiveDefs(mn,Ln,an),Ln.push(mn)):Ln=[mn];const Kn=function j3(g,v){const E=g[Hn],C=us;return g[C]=v,hc(E,C,2,"#host",null)}(wt,Be),cr=function U3(g,v,E,C,w,I,A,G){const pe=w[Hn];!function F3(g,v,E,C){for(const w of g)v.mergedAttrs=Ud(v.mergedAttrs,w.hostAttrs);null!==v.mergedAttrs&&(hf(v,v.mergedAttrs,!0),null!==E&&Yb(C,E,v))}(C,g,v,A);const Ee=I.createRenderer(v,E),Ue=lf(w,KC(E),null,E.onPush?32:16,w[g.index],g,I,Ee,G||null,null,null);return pe.firstCreatePass&&Jy(pe,g,C.length-1),cf(w,Ue),w[g.index]=Ue}(Kn,Be,mn,Ln,wt,G,Ee);qt=N1(ht,us),Be&&function B3(g,v,E,C){if(C)Gm(g,E,["ng-version",vL.full]);else{const{attrs:w,classes:I}=function WL(g){const v=[],E=[];let C=1,w=2;for(;C<g.length;){let I=g[C];if("string"==typeof I)2===w?""!==I&&v.push(I,g[++C]):8===w&&E.push(I);else{if(!Uo(w))break;w=I}C++}return{attrs:v,classes:E}}(v.selectors[0]);w&&Gm(g,E,w),I&&I.length>0&&Jb(g,E,I.join(" "))}}(Ee,mn,Be,C),void 0!==E&&function W3(g,v,E){const C=g.projection=[];for(let w=0;w<v.length;w++){const I=E[w];C.push(null!=I?Array.from(I):null)}}(qt,this.ngContentSelectors,E),Gt=function N3(g,v,E,C,w,I){const A=pi(),G=w[Hn],pe=ao(A,w);JC(G,w,A,E,null,C);for(let Ue=0;Ue<E.length;Ue++)bi(tu(w,G,A.directiveStart+Ue,A),w);YC(G,w,A),pe&&bi(pe,w);const Ee=tu(w,G,A.directiveStart+A.componentOffset,A);if(g[ns]=w[ns]=Ee,null!==I)for(const Ue of I)Ue(Ee,v);return Ky(G,A,g),Ee}(cr,mn,Ln,an,wt,[V3]),Zy(ht,wt,null)}finally{Zm()}return new L3(this.componentType,Gt,ac(qt,wt),wt,qt)}}class L3 extends hL{constructor(v,E,C,w,I){super(),this.location=C,this._rootLView=w,this._tNode=I,this.instance=E,this.hostView=this.changeDetectorRef=new A3(w),this.componentType=v}setInput(v,E){const C=this._tNode.inputs;let w;if(null!==C&&(w=C[v])){const I=this._rootLView;eg(I[Hn],I,w,v,E),HC(I,this._tNode.index)}}get injector(){return new Qu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(v){this.hostView.onDestroy(v)}}function V3(){const g=pi();Fp(On()[Hn],g)}function hs(g){let v=function sM(g){return Object.getPrototypeOf(g.prototype).constructor}(g.type),E=!0;const C=[g];for(;v;){let w;if(Ki(g))w=v.\u0275cmp||v.\u0275dir;else{if(v.\u0275cmp)throw new Ht(903,!1);w=v.\u0275dir}if(w){if(E){C.push(w);const A=g;A.inputs=tg(g.inputs),A.declaredInputs=tg(g.declaredInputs),A.outputs=tg(g.outputs);const G=w.hostBindings;G&&z3(g,G);const pe=w.viewQuery,Ee=w.contentQueries;if(pe&&Z3(g,pe),Ee&&K3(g,Ee),ds(g.inputs,w.inputs),ds(g.declaredInputs,w.declaredInputs),ds(g.outputs,w.outputs),Ki(w)&&w.data.animation){const Ue=g.data;Ue.animation=(Ue.animation||[]).concat(w.data.animation)}}const I=w.features;if(I)for(let A=0;A<I.length;A++){const G=I[A];G&&G.ngInherit&&G(g),G===hs&&(E=!1)}}v=Object.getPrototypeOf(v)}!function $3(g){let v=0,E=null;for(let C=g.length-1;C>=0;C--){const w=g[C];w.hostVars=v+=w.hostVars,w.hostAttrs=Ud(w.hostAttrs,E=Ud(E,w.hostAttrs))}}(C)}function tg(g){return g===Eo?{}:g===os?[]:g}function Z3(g,v){const E=g.viewQuery;g.viewQuery=E?(C,w)=>{v(C,w),E(C,w)}:v}function K3(g,v){const E=g.contentQueries;g.contentQueries=E?(C,w,I)=>{v(C,w,I),E(C,w,I)}:v}function z3(g,v){const E=g.hostBindings;g.hostBindings=E?(C,w)=>{v(C,w),E(C,w)}:v}function ff(g){return!!function ng(g){return null!==g&&("function"==typeof g||"object"==typeof g)}(g)&&(Array.isArray(g)||!(g instanceof Map)&&Symbol.iterator in g)}function Ci(g,v,E){return!Object.is(g[v],E)&&(g[v]=E,!0)}function rg(g,v,E,C,w,I,A,G){const pe=On(),Ee=ss(),Ue=g+us,Be=Ee.firstCreatePass?function tj(g,v,E,C,w,I,A,G,pe){const Ee=v.consts,Ue=hc(v,g,4,A||null,pl(Ee,G));Hy(v,E,Ue,pl(Ee,pe)),Fp(v,Ue);const Be=Ue.tView=ky(2,Ue,C,w,I,v.directiveRegistry,v.pipeRegistry,null,v.schemas,Ee);return null!==v.queries&&(v.queries.template(v,Ue),Be.queries=v.queries.embeddedTView(Ue)),Ue}(Ue,Ee,pe,v,E,C,w,I,A):Ee.data[Ue];Qo(Be,!1);const lt=pe[Ar].createComment("");Qp(Ee,pe,lt,Be),bi(lt,pe),cf(pe,pe[Ue]=QC(lt,pe,lt,Be)),zu(Be)&&zy(Ee,pe,Be),null!=A&&Gy(pe,Be,G)}function ou(g,v,E){const C=On();return Ci(C,Ju(),v)&&function ho(g,v,E,C,w,I,A,G){const pe=ao(v,E);let Ue,Ee=v.inputs;!G&&null!=Ee&&(Ue=Ee[C])?(eg(g,E,Ue,C,w),ql(v)&&HC(E,v.index)):3&v.type&&(C=function h3(g){return"class"===g?"className":"for"===g?"htmlFor":"formaction"===g?"formAction":"innerHtml"===g?"innerHTML":"readonly"===g?"readOnly":"tabindex"===g?"tabIndex":g}(C),w=null!=A?A(w,v.value||"",C):w,I.setProperty(pe,C,w))}(ss(),function Ps(){const g=Pr.lFrame;return N1(g.tView,g.selectedIndex)}(),C,g,v,C[Ar],E,!1),ou}function sg(g,v,E,C,w){const A=w?"class":"style";eg(g,E,v.inputs[A],A,C)}function Na(g,v,E,C){const w=On(),I=ss(),A=us+g,G=w[Ar],pe=I.firstCreatePass?function sj(g,v,E,C,w,I){const A=v.consts,pe=hc(v,g,2,C,pl(A,w));return Hy(v,E,pe,pl(A,I)),null!==pe.attrs&&hf(pe,pe.attrs,!1),null!==pe.mergedAttrs&&hf(pe,pe.mergedAttrs,!0),null!==v.queries&&v.queries.elementStart(v,pe),pe}(A,I,w,v,E,C):I.data[A],Ee=w[A]=fy(G,v,function _x(){return Pr.lFrame.currentNamespace}()),Ue=zu(pe);return Qo(pe,!0),Yb(G,Ee,pe),32!=(32&pe.flags)&&Qp(I,w,Ee,pe),0===function ex(){return Pr.lFrame.elementDepthCount}()&&bi(Ee,w),function tx(){Pr.lFrame.elementDepthCount++}(),Ue&&(zy(I,w,pe),Ky(I,pe,w)),null!==C&&Gy(w,pe),Na}function ra(){let g=pi();Fm()?function Nm(){Pr.lFrame.isParent=!1}():(g=g.parent,Qo(g,!1));const v=g;!function nx(){Pr.lFrame.elementDepthCount--}();const E=ss();return E.firstCreatePass&&(Fp(E,g),Ku(g)&&E.queries.elementEnd(g)),null!=v.classesWithoutHost&&function Cx(g){return 0!=(8&g.flags)}(v)&&sg(E,v,On(),v.classesWithoutHost,!0),null!=v.stylesWithoutHost&&function Mx(g){return 0!=(16&g.flags)}(v)&&sg(E,v,On(),v.stylesWithoutHost,!1),ra}function nh(g,v,E,C){return Na(g,v,E,C),ra(),nh}function rh(g){return!!g&&"function"==typeof g.then}const ag=function _M(g){return!!g&&"function"==typeof g.subscribe};function ki(g,v,E,C){const w=On(),I=ss(),A=pi();return function EM(g,v,E,C,w,I,A){const G=zu(C),Ee=g.firstCreatePass&&qC(g),Ue=v[ns],Be=XC(v);let lt=!0;if(3&C.type||A){const Gt=ao(C,v),qt=A?A(Gt):Gt,mn=Be.length,Ln=A?Kn=>A(hi(Kn[C.index])):C.index;let an=null;if(!A&&G&&(an=function aj(g,v,E,C){const w=g.cleanup;if(null!=w)for(let I=0;I<w.length-1;I+=2){const A=w[I];if(A===E&&w[I+1]===C){const G=v[Da],pe=w[I+2];return G.length>pe?G[pe]:null}"string"==typeof A&&(I+=2)}return null}(g,v,w,C.index)),null!==an)(an.__ngLastListenerFn__||an).__ngNextListenerFn__=I,an.__ngLastListenerFn__=I,lt=!1;else{I=CM(C,v,Ue,I,!1);const Kn=E.listen(qt,w,I);Be.push(I,Kn),Ee&&Ee.push(w,Ln,mn,mn+1)}}else I=CM(C,v,Ue,I,!1);const ht=C.outputs;let wt;if(lt&&null!==ht&&(wt=ht[w])){const Gt=wt.length;if(Gt)for(let qt=0;qt<Gt;qt+=2){const cr=v[wt[qt]][wt[qt+1]].subscribe(I),Sr=Be.length;Be.push(I,cr),Ee&&Ee.push(w,C.index,Sr,-(Sr+1))}}}(I,w,w[Ar],A,g,v,C),ki}function bM(g,v,E,C){try{return Ei(6,v,E),!1!==E(C)}catch(w){return tM(g,w),!1}finally{Ei(7,v,E)}}function CM(g,v,E,C,w){return function I(A){if(A===Function)return C;Xy(g.componentOffset>-1?lo(g.index,v):v);let pe=bM(v,E,C,A),Ee=I.__ngNextListenerFn__;for(;Ee;)pe=bM(v,E,Ee,A)&&pe,Ee=Ee.__ngNextListenerFn__;return w&&!1===pe&&(A.preventDefault(),A.returnValue=!1),pe}}function MM(g=1){return function hx(g){return(Pr.lFrame.contextLView=function px(g,v){for(;g>0;)v=v[Sa],g--;return v}(g,Pr.lFrame.contextLView))[ns]}(g)}function yf(g,v){return g<<17|v<<2}function ml(g){return g>>17&32767}function ug(g){return 2|g}function au(g){return(131068&g)>>2}function cg(g,v){return-131069&g|v<<2}function dg(g){return 1|g}function RM(g,v,E,C,w){const I=g[E+1],A=null===v;let G=C?ml(I):au(I),pe=!1;for(;0!==G&&(!1===pe||A);){const Ue=g[G+1];yj(g[G],v)&&(pe=!0,g[G+1]=C?dg(Ue):ug(Ue)),G=C?ml(Ue):au(Ue)}pe&&(g[E+1]=C?ug(I):dg(I))}function yj(g,v){return null===g||null==v||(Array.isArray(g)?g[1]:g)===v||!(!Array.isArray(g)||"string"!=typeof v)&&nc(g,v)>=0}function gf(g,v){return function Fo(g,v,E,C){const w=On(),I=ss(),A=function xa(g){const v=Pr.lFrame,E=v.bindingIndex;return v.bindingIndex=v.bindingIndex+g,E}(2);I.firstUpdatePass&&function $M(g,v,E,C){const w=g.data;if(null===w[E+1]){const I=w[xi()],A=function VM(g,v){return v>=g.expandoStartIndex}(g,E);(function GM(g,v){return 0!=(g.flags&(v?8:16))})(I,C)&&null===v&&!A&&(v=!1),v=function Sj(g,v,E,C){const w=function Wm(g){const v=Pr.lFrame.currentDirectiveIndex;return-1===v?null:g[v]}(g);let I=C?v.residualClasses:v.residualStyles;if(null===w)0===(C?v.classBindings:v.styleBindings)&&(E=sh(E=hg(null,g,v,E,C),v.attrs,C),I=null);else{const A=v.directiveStylingLast;if(-1===A||g[A]!==w)if(E=hg(w,g,v,E,C),null===I){let pe=function Oj(g,v,E){const C=E?v.classBindings:v.styleBindings;if(0!==au(C))return g[ml(C)]}(g,v,C);void 0!==pe&&Array.isArray(pe)&&(pe=hg(null,g,v,pe[1],C),pe=sh(pe,v.attrs,C),function wj(g,v,E,C){g[ml(E?v.classBindings:v.styleBindings)]=C}(g,v,C,pe))}else I=function Ij(g,v,E){let C;const w=v.directiveEnd;for(let I=1+v.directiveStylingLast;I<w;I++)C=sh(C,g[I].hostAttrs,E);return sh(C,v.attrs,E)}(g,v,C)}return void 0!==I&&(C?v.residualClasses=I:v.residualStyles=I),E}(w,I,v,C),function fj(g,v,E,C,w,I){let A=I?v.classBindings:v.styleBindings,G=ml(A),pe=au(A);g[C]=E;let Ue,Ee=!1;if(Array.isArray(E)?(Ue=E[1],(null===Ue||nc(E,Ue)>0)&&(Ee=!0)):Ue=E,w)if(0!==pe){const lt=ml(g[G+1]);g[C+1]=yf(lt,G),0!==lt&&(g[lt+1]=cg(g[lt+1],C)),g[G+1]=function hj(g,v){return 131071&g|v<<17}(g[G+1],C)}else g[C+1]=yf(G,0),0!==G&&(g[G+1]=cg(g[G+1],C)),G=C;else g[C+1]=yf(pe,0),0===G?G=C:g[pe+1]=cg(g[pe+1],C),pe=C;Ee&&(g[C+1]=ug(g[C+1])),RM(g,Ue,C,!0),RM(g,Ue,C,!1),function mj(g,v,E,C,w){const I=w?g.residualClasses:g.residualStyles;null!=I&&"string"==typeof v&&nc(I,v)>=0&&(E[C+1]=dg(E[C+1]))}(v,Ue,g,C,I),A=yf(G,pe),I?v.classBindings=A:v.styleBindings=A}(w,I,v,E,A,C)}}(I,g,A,C),v!==Tr&&Ci(w,A,v)&&function KM(g,v,E,C,w,I,A,G){if(!(3&v.type))return;const pe=g.data,Ee=pe[G+1],Ue=function pj(g){return 1==(1&g)}(Ee)?zM(pe,v,E,w,au(Ee),A):void 0;_f(Ue)||(_f(I)||function dj(g){return 2==(2&g)}(Ee)&&(I=zM(pe,null,E,w,G,A)),function PR(g,v,E,C,w){if(v)w?g.addClass(E,C):g.removeClass(E,C);else{let I=-1===C.indexOf("-")?void 0:zi.DashCase;null==w?g.removeStyle(E,C,I):("string"==typeof w&&w.endsWith("!important")&&(w=w.slice(0,-10),I|=zi.Important),g.setStyle(E,C,w,I))}}(C,A,jp(xi(),E),w,I))}(I,I.data[xi()],w,w[Ar],g,w[A+1]=function Aj(g,v){return null==g||""===g||("string"==typeof v?g+=v:"object"==typeof g&&(g=Br(function fl(g){return g instanceof tC?g.changingThisBreaksApplicationSecurity:g}(g)))),g}(v,E),C,A)}(g,v,null,!0),gf}function hg(g,v,E,C,w){let I=null;const A=E.directiveEnd;let G=E.directiveStylingLast;for(-1===G?G=E.directiveStart:G++;G<A&&(I=v[G],C=sh(C,I.hostAttrs,w),I!==g);)G++;return null!==g&&(E.directiveStylingLast=G),C}function sh(g,v,E){const C=E?1:2;let w=-1;if(null!==v)for(let I=0;I<v.length;I++){const A=v[I];"number"==typeof A?w=A:w===C&&(Array.isArray(g)||(g=void 0===g?[]:["",g]),uo(g,A,!!E||v[++I]))}return void 0===g?null:g}function zM(g,v,E,C,w,I){const A=null===v;let G;for(;w>0;){const pe=g[w],Ee=Array.isArray(pe),Ue=Ee?pe[1]:pe,Be=null===Ue;let lt=E[w+1];lt===Tr&&(lt=Be?os:void 0);let ht=Be?ey(lt,C):Ue===C?lt:void 0;if(Ee&&!_f(ht)&&(ht=ey(pe,C)),_f(ht)&&(G=ht,A))return G;const wt=g[w+1];w=A?ml(wt):au(wt)}if(null!==v){let pe=I?v.residualClasses:v.residualStyles;null!=pe&&(G=ey(pe,C))}return G}function _f(g){return void 0!==g}function ih(g,v=""){const E=On(),C=ss(),w=g+us,I=C.firstCreatePass?hc(C,w,1,v,null):C.data[w],A=E[w]=function py(g,v){return g.createText(v)}(E[Ar],v);Qp(C,E,A,I),Qo(I,!1)}function pg(g){return vf("",g,""),pg}function vf(g,v,E){const C=On(),w=function fc(g,v,E,C){return Ci(g,Ju(),E)?v+Dn(E)+C:Tr}(C,g,v,E);return w!==Tr&&function Fa(g,v,E){const C=jp(v,g);!function Ub(g,v,E){g.setValue(v,E)}(g[Ar],C,E)}(C,xi(),w),vf}const Dc="en-US";let fD=Dc;function yg(g,v,E,C,w){if(g=Ut(g),Array.isArray(g))for(let I=0;I<g.length;I++)yg(g[I],v,E,C,w);else{const I=ss(),A=On();let G=su(g)?g:Ut(g.provide),pe=vC(g);const Ee=pi(),Ue=1048575&Ee.providerIndexes,Be=Ee.directiveStart,lt=Ee.providerIndexes>>20;if(su(g)||!g.multi){const ht=new jd(pe,w,An),wt=_g(G,v,w?Ue:Ue+lt,Be);-1===wt?(Ym(Zp(Ee,A),I,G),gg(I,g,v.length),v.push(G),Ee.directiveStart++,Ee.directiveEnd++,w&&(Ee.providerIndexes+=1048576),E.push(ht),A.push(ht)):(E[wt]=ht,A[wt]=ht)}else{const ht=_g(G,v,Ue+lt,Be),wt=_g(G,v,Ue,Ue+lt),qt=wt>=0&&E[wt];if(w&&!qt||!w&&!(ht>=0&&E[ht])){Ym(Zp(Ee,A),I,G);const mn=function J6(g,v,E,C,w){const I=new jd(g,E,An);return I.multi=[],I.index=v,I.componentProviders=0,BD(I,w,C&&!E),I}(w?H6:k6,E.length,w,C,pe);!w&&qt&&(E[wt].providerFactory=mn),gg(I,g,v.length,0),v.push(G),Ee.directiveStart++,Ee.directiveEnd++,w&&(Ee.providerIndexes+=1048576),E.push(mn),A.push(mn)}else gg(I,g,ht>-1?ht:wt,BD(E[w?wt:ht],pe,!w&&C));!w&&C&&qt&&E[wt].componentProviders++}}}function gg(g,v,E,C){const w=su(v),I=function iL(g){return!!g.useClass}(v);if(w||I){const pe=(I?Ut(v.useClass):v).prototype.ngOnDestroy;if(pe){const Ee=g.destroyHooks||(g.destroyHooks=[]);if(!w&&v.multi){const Ue=Ee.indexOf(E);-1===Ue?Ee.push(E,[C,pe]):Ee[Ue+1].push(C,pe)}else Ee.push(E,pe)}}}function BD(g,v,E){return E&&g.componentProviders++,g.multi.push(v)-1}function _g(g,v,E,C){for(let w=E;w<C;w++)if(v[w]===g)return w;return-1}function k6(g,v,E,C){return vg(this.multi,[])}function H6(g,v,E,C){const w=this.multi;let I;if(this.providerFactory){const A=this.providerFactory.componentProviders,G=tu(E,E[Hn],this.providerFactory.index,C);I=G.slice(0,A),vg(w,I);for(let pe=A;pe<G.length;pe++)I.push(G[pe])}else I=[],vg(w,I);return I}function vg(g,v){for(let E=0;E<g.length;E++)v.push((0,g[E])());return v}function Os(g,v=[]){return E=>{E.providersResolver=(C,w)=>function G6(g,v,E){const C=ss();if(C.firstCreatePass){const w=Ki(g);yg(E,C.data,C.blueprint,w,!0),yg(v,C.data,C.blueprint,w,!1)}}(C,w?w(g):g,v)}}class Sc{}class WD{}class VD extends Sc{constructor(v,E){super(),this._parent=E,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nM(this);const C=Ti(v);this._bootstrapComponents=Ua(C.bootstrap),this._r3Injector=LC(v,E,[{provide:Sc,useValue:this},{provide:Yd,useValue:this.componentFactoryResolver}],Br(v),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(v)}get injector(){return this._r3Injector}destroy(){const v=this._r3Injector;!v.destroyed&&v.destroy(),this.destroyCbs.forEach(E=>E()),this.destroyCbs=null}onDestroy(v){this.destroyCbs.push(v)}}class Eg extends WD{constructor(v){super(),this.moduleType=v}create(v){return new VD(this.moduleType,v)}}class Q6 extends Sc{constructor(v,E,C){super(),this.componentFactoryResolver=new nM(this),this.instance=null;const w=new _C([...v,{provide:Sc,useValue:this},{provide:Yd,useValue:this.componentFactoryResolver}],E||sf(),C,new Set(["environment"]));this.injector=w,w.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(v){this.injector.onDestroy(v)}}function Df(g,v,E=null){return new Q6(g,v,E).injector}let X6=(()=>{class g{constructor(E){this._injector=E,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(E){if(!E.standalone)return null;if(!this.cachedInjectors.has(E.id)){const C=fC(0,E.type),w=C.length>0?Df([C],this._injector,`Standalone[${E.type.name}]`):null;this.cachedInjectors.set(E.id,w)}return this.cachedInjectors.get(E.id)}ngOnDestroy(){try{for(const E of this.cachedInjectors.values())null!==E&&E.destroy()}finally{this.cachedInjectors.clear()}}}return g.\u0275prov=kn({token:g,providedIn:"environment",factory:()=>new g(sr(La))}),g})();function $D(g){g.getStandaloneInjector=v=>v.get(X6).getOrCreateStandaloneInjector(g)}function Cg(g){return v=>{setTimeout(g,void 0,v)}}const Ts=class D8 extends De{constructor(v=!1){super(),this.__isAsync=v}emit(v){super.next(v)}subscribe(v,E,C){let w=v,I=E||(()=>null),A=C;if(v&&"object"==typeof v){const pe=v;w=pe.next?.bind(pe),I=pe.error?.bind(pe),A=pe.complete?.bind(pe)}this.__isAsync&&(I=Cg(I),w&&(w=Cg(w)),A&&(A=Cg(A)));const G=super.subscribe({next:w,error:I,complete:A});return v instanceof U&&v.add(G),G}};function S8(){return this._results[Symbol.iterator]()}class Mg{get changes(){return this._changes||(this._changes=new Ts)}constructor(v=!1){this._emitDistinctChangesOnly=v,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const E=Mg.prototype;E[Symbol.iterator]||(E[Symbol.iterator]=S8)}get(v){return this._results[v]}map(v){return this._results.map(v)}filter(v){return this._results.filter(v)}find(v){return this._results.find(v)}reduce(v,E){return this._results.reduce(v,E)}forEach(v){this._results.forEach(v)}some(v){return this._results.some(v)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(v,E){const C=this;C.dirty=!1;const w=function Co(g){return g.flat(Number.POSITIVE_INFINITY)}(v);(this._changesDetected=!function Rx(g,v,E){if(g.length!==v.length)return!1;for(let C=0;C<g.length;C++){let w=g[C],I=v[C];if(E&&(w=E(w),I=E(I)),I!==w)return!1}return!0}(C._results,w,E))&&(C._results=w,C.length=w.length,C.last=w[this.length-1],C.first=w[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ba=(()=>{class g{}return g.__NG_ELEMENT_ID__=I8,g})();const O8=Ba,w8=class extends O8{constructor(v,E,C){super(),this._declarationLView=v,this._declarationTContainer=E,this.elementRef=C}createEmbeddedView(v,E){const C=this._declarationTContainer.tView,w=lf(this._declarationLView,C,v,16,null,C.declTNode,null,null,null,null,E||null);w[Ql]=this._declarationLView[this._declarationTContainer.index];const A=this._declarationLView[io];return null!==A&&(w[io]=A.createEmbeddedView(C)),Zy(C,w,v),new qd(w)}};function I8(){return Sf(pi(),On())}function Sf(g,v){return 4&g.type?new w8(v,g,ac(g,v)):null}let Bo=(()=>{class g{}return g.__NG_ELEMENT_ID__=P8,g})();function P8(){return nS(pi(),On())}const T8=Bo,eS=class extends T8{constructor(v,E,C){super(),this._lContainer=v,this._hostTNode=E,this._hostLView=C}get element(){return ac(this._hostTNode,this._hostLView)}get injector(){return new Qu(this._hostTNode,this._hostLView)}get parentInjector(){const v=Jm(this._hostTNode,this._hostLView);if(nb(v)){const E=Vp(v,this._hostLView),C=Wp(v);return new Qu(E[Hn].data[C+8],E)}return new Qu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(v){const E=tS(this._lContainer);return null!==E&&E[v]||null}get length(){return this._lContainer.length-Ns}createEmbeddedView(v,E,C){let w,I;"number"==typeof C?w=C:null!=C&&(w=C.index,I=C.injector);const A=v.createEmbeddedView(E||{},I);return this.insert(A,w),A}createComponent(v,E,C,w,I){const A=v&&!function Nd(g){return"function"==typeof g}(v);let G;if(A)G=E;else{const Be=E||{};G=Be.index,C=Be.injector,w=Be.projectableNodes,I=Be.environmentInjector||Be.ngModuleRef}const pe=A?v:new eh(as(v)),Ee=C||this.parentInjector;if(!I&&null==pe.ngModule){const lt=(A?Ee:this.parentInjector).get(La,null);lt&&(I=lt)}const Ue=pe.create(Ee,w,void 0,I);return this.insert(Ue.hostView,G),Ue}insert(v,E){const C=v._lView,w=C[Hn];if(function qA(g){return Zi(g[Ds])}(C)){const Ue=this.indexOf(v);if(-1!==Ue)this.detach(Ue);else{const Be=C[Ds],lt=new eS(Be,Be[Js],Be[Ds]);lt.detach(lt.indexOf(v))}}const I=this._adjustIndex(E),A=this._lContainer;!function bR(g,v,E,C){const w=Ns+C,I=E.length;C>0&&(E[w-1][so]=v),C<I-Ns?(v[so]=E[w],fb(E,Ns+C,v)):(E.push(v),v[so]=null),v[Ds]=E;const A=v[Ql];null!==A&&E!==A&&function CR(g,v){const E=g[Ta];v[oi]!==v[Ds][Ds][oi]&&(g[Td]=!0),null===E?g[Ta]=[v]:E.push(v)}(A,v);const G=v[io];null!==G&&G.insertView(g),v[Ir]|=64}(w,C,A,I);const G=_y(I,A),pe=C[Ar],Ee=Yp(pe,A[Xl]);return null!==Ee&&function _R(g,v,E,C,w,I){C[jo]=w,C[Js]=v,Gd(g,C,E,1,w,I)}(w,A[Js],pe,C,Ee,G),v.attachToViewContainerRef(),fb(Dg(A),I,v),v}move(v,E){return this.insert(v,E)}indexOf(v){const E=tS(this._lContainer);return null!==E?E.indexOf(v):-1}remove(v){const E=this._adjustIndex(v,-1),C=my(this._lContainer,E);C&&(Gp(Dg(this._lContainer),E),Nb(C[Hn],C))}detach(v){const E=this._adjustIndex(v,-1),C=my(this._lContainer,E);return C&&null!=Gp(Dg(this._lContainer),E)?new qd(C):null}_adjustIndex(v,E=0){return v??this.length+E}};function tS(g){return g[Pa]}function Dg(g){return g[Pa]||(g[Pa]=[])}function nS(g,v){let E;const C=v[g.index];if(Zi(C))E=C;else{let w;if(8&g.type)w=hi(C);else{const I=v[Ar];w=I.createComment("");const A=ao(g,v);ru(I,Yp(I,A),w,function OR(g,v){return g.nextSibling(v)}(I,A),!1)}v[g.index]=E=QC(C,v,w,g),cf(v,E)}return new eS(E,g,v)}class Sg{constructor(v){this.queryList=v,this.matches=null}clone(){return new Sg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Og{constructor(v=[]){this.queries=v}createEmbeddedView(v){const E=v.queries;if(null!==E){const C=null!==v.contentQueries?v.contentQueries[0]:E.length,w=[];for(let I=0;I<C;I++){const A=E.getByIndex(I);w.push(this.queries[A.indexInDeclarationView].clone())}return new Og(w)}return null}insertView(v){this.dirtyQueriesWithMatches(v)}detachView(v){this.dirtyQueriesWithMatches(v)}dirtyQueriesWithMatches(v){for(let E=0;E<this.queries.length;E++)null!==uS(v,E).matches&&this.queries[E].setDirty()}}class rS{constructor(v,E,C=null){this.predicate=v,this.flags=E,this.read=C}}class wg{constructor(v=[]){this.queries=v}elementStart(v,E){for(let C=0;C<this.queries.length;C++)this.queries[C].elementStart(v,E)}elementEnd(v){for(let E=0;E<this.queries.length;E++)this.queries[E].elementEnd(v)}embeddedTView(v){let E=null;for(let C=0;C<this.length;C++){const w=null!==E?E.length:0,I=this.getByIndex(C).embeddedTView(v,w);I&&(I.indexInDeclarationView=C,null!==E?E.push(I):E=[I])}return null!==E?new wg(E):null}template(v,E){for(let C=0;C<this.queries.length;C++)this.queries[C].template(v,E)}getByIndex(v){return this.queries[v]}get length(){return this.queries.length}track(v){this.queries.push(v)}}class Ig{constructor(v,E=-1){this.metadata=v,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=E}elementStart(v,E){this.isApplyingToNode(E)&&this.matchTNode(v,E)}elementEnd(v){this._declarationNodeIndex===v.index&&(this._appliesToNextNode=!1)}template(v,E){this.elementStart(v,E)}embeddedTView(v,E){return this.isApplyingToNode(v)?(this.crossesNgTemplate=!0,this.addMatch(-v.index,E),new Ig(this.metadata)):null}isApplyingToNode(v){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const E=this._declarationNodeIndex;let C=v.parent;for(;null!==C&&8&C.type&&C.index!==E;)C=C.parent;return E===(null!==C?C.index:-1)}return this._appliesToNextNode}matchTNode(v,E){const C=this.metadata.predicate;if(Array.isArray(C))for(let w=0;w<C.length;w++){const I=C[w];this.matchTNodeWithReadOption(v,E,A8(E,I)),this.matchTNodeWithReadOption(v,E,Kp(E,v,I,!1,!1))}else C===Ba?4&E.type&&this.matchTNodeWithReadOption(v,E,-1):this.matchTNodeWithReadOption(v,E,Kp(E,v,C,!1,!1))}matchTNodeWithReadOption(v,E,C){if(null!==C){const w=this.metadata.read;if(null!==w)if(w===co||w===Bo||w===Ba&&4&E.type)this.addMatch(E.index,-2);else{const I=Kp(E,v,w,!1,!1);null!==I&&this.addMatch(E.index,I)}else this.addMatch(E.index,C)}}addMatch(v,E){null===this.matches?this.matches=[v,E]:this.matches.push(v,E)}}function A8(g,v){const E=g.localNames;if(null!==E)for(let C=0;C<E.length;C+=2)if(E[C]===v)return E[C+1];return null}function R8(g,v,E,C){return-1===E?function x8(g,v){return 11&g.type?ac(g,v):4&g.type?Sf(g,v):null}(v,g):-2===E?function L8(g,v,E){return E===co?ac(v,g):E===Ba?Sf(v,g):E===Bo?nS(v,g):void 0}(g,v,C):tu(g,g[Hn],E,v)}function sS(g,v,E,C){const w=v[io].queries[C];if(null===w.matches){const I=g.data,A=E.matches,G=[];for(let pe=0;pe<A.length;pe+=2){const Ee=A[pe];G.push(Ee<0?null:R8(v,I[Ee],A[pe+1],E.metadata.read))}w.matches=G}return w.matches}function Pg(g,v,E,C){const w=g.queries.getByIndex(E),I=w.matches;if(null!==I){const A=sS(g,v,w,E);for(let G=0;G<I.length;G+=2){const pe=I[G];if(pe>0)C.push(A[G/2]);else{const Ee=I[G+1],Ue=v[-pe];for(let Be=Ns;Be<Ue.length;Be++){const lt=Ue[Be];lt[Ql]===lt[Ds]&&Pg(lt[Hn],lt,Ee,C)}if(null!==Ue[Ta]){const Be=Ue[Ta];for(let lt=0;lt<Be.length;lt++){const ht=Be[lt];Pg(ht[Hn],ht,Ee,C)}}}}}return C}function Tg(g){const v=On(),E=ss(),C=G1();Vm(C+1);const w=uS(E,C);if(g.dirty&&function XA(g){return 4==(4&g[Ir])}(v)===(2==(2&w.metadata.flags))){if(null===w.matches)g.reset([]);else{const I=w.crossesNgTemplate?Pg(E,v,C,[]):sS(E,v,w,C);g.reset(I,yL),g.notifyOnChanges()}return!0}return!1}function iS(g,v,E){const C=ss();C.firstCreatePass&&(function lS(g,v,E){null===g.queries&&(g.queries=new wg),g.queries.track(new Ig(v,E))}(C,new rS(g,v,E),-1),2==(2&v)&&(C.staticViewQueries=!0)),function aS(g,v,E){const C=new Mg(4==(4&E));zC(g,v,C,C.destroy),null===v[io]&&(v[io]=new Og),v[io].queries.push(new Sg(C))}(C,On(),v)}function uS(g,v){return g.queries.getByIndex(v)}function wf(...g){}const If=new ar("Application Initializer");let Pf=(()=>{class g{constructor(E){this.appInits=E,this.resolve=wf,this.reject=wf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((C,w)=>{this.resolve=C,this.reject=w})}runInitializers(){if(this.initialized)return;const E=[],C=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let w=0;w<this.appInits.length;w++){const I=this.appInits[w]();if(rh(I))E.push(I);else if(ag(I)){const A=new Promise((G,pe)=>{I.subscribe({complete:G,error:pe})});E.push(A)}}Promise.all(E).then(()=>{C()}).catch(w=>{this.reject(w)}),0===E.length&&C(),this.initialized=!0}}return g.\u0275fac=function(E){return new(E||g)(sr(If,8))},g.\u0275prov=kn({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const fh=new ar("AppId",{providedIn:"root",factory:function wS(){return`${Fg()}${Fg()}${Fg()}`}});function Fg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const IS=new ar("Platform Initializer"),PS=new ar("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let rU=(()=>{class g{log(E){console.log(E)}warn(E){console.warn(E)}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=kn({token:g,factory:g.\u0275fac,providedIn:"platform"}),g})();const Wa=new ar("LocaleId",{providedIn:"root",factory:()=>Dr(Wa,Ct.Optional|Ct.SkipSelf)||function sU(){return typeof $localize<"u"&&$localize.locale||Dc}()});class oU{constructor(v,E){this.ngModuleFactory=v,this.componentFactories=E}}let TS=(()=>{class g{compileModuleSync(E){return new Eg(E)}compileModuleAsync(E){return Promise.resolve(this.compileModuleSync(E))}compileModuleAndAllComponentsSync(E){const C=this.compileModuleSync(E),I=Ua(Ti(E).declarations).reduce((A,G)=>{const pe=as(G);return pe&&A.push(new eh(pe)),A},[]);return new oU(C,I)}compileModuleAndAllComponentsAsync(E){return Promise.resolve(this.compileModuleAndAllComponentsSync(E))}clearCache(){}clearCacheFor(E){}getModuleId(E){}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=kn({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const uU=(()=>Promise.resolve(0))();function Ng(g){typeof Zone>"u"?uU.then(()=>{g&&g.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",g)}class Bs{constructor({enableLongStackTrace:v=!1,shouldCoalesceEventChangeDetection:E=!1,shouldCoalesceRunChangeDetection:C=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ts(!1),this.onMicrotaskEmpty=new Ts(!1),this.onStable=new Ts(!1),this.onError=new Ts(!1),typeof Zone>"u")throw new Ht(908,!1);Zone.assertZonePatched();const w=this;w._nesting=0,w._outer=w._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(w._inner=w._inner.fork(new Zone.TaskTrackingZoneSpec)),v&&Zone.longStackTraceZoneSpec&&(w._inner=w._inner.fork(Zone.longStackTraceZoneSpec)),w.shouldCoalesceEventChangeDetection=!C&&E,w.shouldCoalesceRunChangeDetection=C,w.lastRequestAnimationFrameId=-1,w.nativeRequestAnimationFrame=function cU(){let g=In.requestAnimationFrame,v=In.cancelAnimationFrame;if(typeof Zone<"u"&&g&&v){const E=g[Zone.__symbol__("OriginalDelegate")];E&&(g=E);const C=v[Zone.__symbol__("OriginalDelegate")];C&&(v=C)}return{nativeRequestAnimationFrame:g,nativeCancelAnimationFrame:v}}().nativeRequestAnimationFrame,function pU(g){const v=()=>{!function hU(g){g.isCheckStableRunning||-1!==g.lastRequestAnimationFrameId||(g.lastRequestAnimationFrameId=g.nativeRequestAnimationFrame.call(In,()=>{g.fakeTopEventTask||(g.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{g.lastRequestAnimationFrameId=-1,Wg(g),g.isCheckStableRunning=!0,Bg(g),g.isCheckStableRunning=!1},void 0,()=>{},()=>{})),g.fakeTopEventTask.invoke()}),Wg(g))}(g)};g._inner=g._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(E,C,w,I,A,G)=>{try{return RS(g),E.invokeTask(w,I,A,G)}finally{(g.shouldCoalesceEventChangeDetection&&"eventTask"===I.type||g.shouldCoalesceRunChangeDetection)&&v(),LS(g)}},onInvoke:(E,C,w,I,A,G,pe)=>{try{return RS(g),E.invoke(w,I,A,G,pe)}finally{g.shouldCoalesceRunChangeDetection&&v(),LS(g)}},onHasTask:(E,C,w,I)=>{E.hasTask(w,I),C===w&&("microTask"==I.change?(g._hasPendingMicrotasks=I.microTask,Wg(g),Bg(g)):"macroTask"==I.change&&(g.hasPendingMacrotasks=I.macroTask))},onHandleError:(E,C,w,I)=>(E.handleError(w,I),g.runOutsideAngular(()=>g.onError.emit(I)),!1)})}(w)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bs.isInAngularZone())throw new Ht(909,!1)}static assertNotInAngularZone(){if(Bs.isInAngularZone())throw new Ht(909,!1)}run(v,E,C){return this._inner.run(v,E,C)}runTask(v,E,C,w){const I=this._inner,A=I.scheduleEventTask("NgZoneEvent: "+w,v,dU,wf,wf);try{return I.runTask(A,E,C)}finally{I.cancelTask(A)}}runGuarded(v,E,C){return this._inner.runGuarded(v,E,C)}runOutsideAngular(v){return this._outer.run(v)}}const dU={};function Bg(g){if(0==g._nesting&&!g.hasPendingMicrotasks&&!g.isStable)try{g._nesting++,g.onMicrotaskEmpty.emit(null)}finally{if(g._nesting--,!g.hasPendingMicrotasks)try{g.runOutsideAngular(()=>g.onStable.emit(null))}finally{g.isStable=!0}}}function Wg(g){g.hasPendingMicrotasks=!!(g._hasPendingMicrotasks||(g.shouldCoalesceEventChangeDetection||g.shouldCoalesceRunChangeDetection)&&-1!==g.lastRequestAnimationFrameId)}function RS(g){g._nesting++,g.isStable&&(g.isStable=!1,g.onUnstable.emit(null))}function LS(g){g._nesting--,Bg(g)}class fU{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ts,this.onMicrotaskEmpty=new Ts,this.onStable=new Ts,this.onError=new Ts}run(v,E,C){return v.apply(E,C)}runGuarded(v,E,C){return v.apply(E,C)}runOutsideAngular(v){return v()}runTask(v,E,C,w){return v.apply(E,C)}}const jS=new ar(""),Tf=new ar("");let Zg,Vg=(()=>{class g{constructor(E,C,w){this._ngZone=E,this.registry=C,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Zg||(function mU(g){Zg=g}(w),w.addToWindow(C)),this._watchAngularEvents(),E.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bs.assertNotInAngularZone(),Ng(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ng(()=>{for(;0!==this._callbacks.length;){let E=this._callbacks.pop();clearTimeout(E.timeoutId),E.doneCb(this._didWork)}this._didWork=!1});else{let E=this.getPendingTasks();this._callbacks=this._callbacks.filter(C=>!C.updateCb||!C.updateCb(E)||(clearTimeout(C.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(E=>({source:E.source,creationLocation:E.creationLocation,data:E.data})):[]}addCallback(E,C,w){let I=-1;C&&C>0&&(I=setTimeout(()=>{this._callbacks=this._callbacks.filter(A=>A.timeoutId!==I),E(this._didWork,this.getPendingTasks())},C)),this._callbacks.push({doneCb:E,timeoutId:I,updateCb:w})}whenStable(E,C,w){if(w&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(E,C,w),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(E){this.registry.registerApplication(E,this)}unregisterApplication(E){this.registry.unregisterApplication(E)}findProviders(E,C,w){return[]}}return g.\u0275fac=function(E){return new(E||g)(sr(Bs),sr($g),sr(Tf))},g.\u0275prov=kn({token:g,factory:g.\u0275fac}),g})(),$g=(()=>{class g{constructor(){this._applications=new Map}registerApplication(E,C){this._applications.set(E,C)}unregisterApplication(E){this._applications.delete(E)}unregisterAllApplications(){this._applications.clear()}getTestability(E){return this._applications.get(E)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(E,C=!0){return Zg?.findTestabilityInTree(this,E,C)??null}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=kn({token:g,factory:g.\u0275fac,providedIn:"platform"}),g})();const Va=!1;let yl=null;const US=new ar("AllowMultipleToken"),Kg=new ar("PlatformDestroyListeners"),FS=new ar("appBootstrapListener");class NS{constructor(v,E){this.name=v,this.token=E}}function WS(g,v,E=[]){const C=`Platform: ${v}`,w=new ar(C);return(I=[])=>{let A=zg();if(!A||A.injector.get(US,!1)){const G=[...E,...I,{provide:w,useValue:!0}];g?g(G):function _U(g){if(yl&&!yl.get(US,!1))throw new Ht(400,!1);yl=g;const v=g.get($S);(function BS(g){const v=g.get(IS,null);v&&v.forEach(E=>E())})(g)}(function VS(g=[],v){return qo.create({name:v,providers:[{provide:Ay,useValue:"platform"},{provide:Kg,useValue:new Set([()=>yl=null])},...g]})}(G,C))}return function EU(g){const v=zg();if(!v)throw new Ht(401,!1);return v}()}}function zg(){return yl?.get($S)??null}let $S=(()=>{class g{constructor(E){this._injector=E,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(E,C){const w=function KS(g,v){let E;return E="noop"===g?new fU:("zone.js"===g?void 0:g)||new Bs(v),E}(C?.ngZone,function ZS(g){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!g||!g.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!g||!g.ngZoneRunCoalescing)||!1}}(C)),I=[{provide:Bs,useValue:w}];return w.run(()=>{const A=qo.create({providers:I,parent:this.injector,name:E.moduleType.name}),G=E.create(A),pe=G.injector.get(lc,null);if(!pe)throw new Ht(402,!1);return w.runOutsideAngular(()=>{const Ee=w.onError.subscribe({next:Ue=>{pe.handleError(Ue)}});G.onDestroy(()=>{xf(this._modules,G),Ee.unsubscribe()})}),function zS(g,v,E){try{const C=E();return rh(C)?C.catch(w=>{throw v.runOutsideAngular(()=>g.handleError(w)),w}):C}catch(C){throw v.runOutsideAngular(()=>g.handleError(C)),C}}(pe,w,()=>{const Ee=G.injector.get(Pf);return Ee.runInitializers(),Ee.donePromise.then(()=>(function mD(g){Yr(g,"Expected localeId to be defined"),"string"==typeof g&&(fD=g.toLowerCase().replace(/_/g,"-"))}(G.injector.get(Wa,Dc)||Dc),this._moduleDoBootstrap(G),G))})})}bootstrapModule(E,C=[]){const w=GS({},C);return function yU(g,v,E){const C=new Eg(E);return Promise.resolve(C)}(0,0,E).then(I=>this.bootstrapModuleFactory(I,w))}_moduleDoBootstrap(E){const C=E.injector.get(Af);if(E._bootstrapComponents.length>0)E._bootstrapComponents.forEach(w=>C.bootstrap(w));else{if(!E.instance.ngDoBootstrap)throw new Ht(-403,!1);E.instance.ngDoBootstrap(C)}this._modules.push(E)}onDestroy(E){this._destroyListeners.push(E)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ht(404,!1);this._modules.slice().forEach(C=>C.destroy()),this._destroyListeners.forEach(C=>C());const E=this._injector.get(Kg,null);E&&(E.forEach(C=>C()),E.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return g.\u0275fac=function(E){return new(E||g)(sr(qo))},g.\u0275prov=kn({token:g,factory:g.\u0275fac,providedIn:"platform"}),g})();function GS(g,v){return Array.isArray(v)?v.reduce(GS,g):{...g,...v}}let Af=(()=>{class g{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(E,C,w){this._zone=E,this._injector=C,this._exceptionHandler=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new me(G=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{G.next(this._stable),G.complete()})}),A=new me(G=>{let pe;this._zone.runOutsideAngular(()=>{pe=this._zone.onStable.subscribe(()=>{Bs.assertNotInAngularZone(),Ng(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,G.next(!0))})})});const Ee=this._zone.onUnstable.subscribe(()=>{Bs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{G.next(!1)}))});return()=>{pe.unsubscribe(),Ee.unsubscribe()}});this.isStable=function lr(...g){const v=Ne(g),E=function xt(g,v){return"number"==typeof ts(g)?g.pop():v}(g,1/0),C=g;return C.length?1===C.length?Zt(C[0]):$t(E)(Un(C,v)):tn}(I,A.pipe(function Or(g={}){const{connector:v=(()=>new De),resetOnError:E=!0,resetOnComplete:C=!0,resetOnRefCountZero:w=!0}=g;return I=>{let A,G,pe,Ee=0,Ue=!1,Be=!1;const lt=()=>{G?.unsubscribe(),G=void 0},ht=()=>{lt(),A=pe=void 0,Ue=Be=!1},wt=()=>{const Gt=A;ht(),Gt?.unsubscribe()};return Re((Gt,qt)=>{Ee++,!Be&&!Ue&&lt();const mn=pe=pe??v();qt.add(()=>{Ee--,0===Ee&&!Be&&!Ue&&(G=Zr(wt,w))}),mn.subscribe(qt),!A&&Ee>0&&(A=new re({next:Ln=>mn.next(Ln),error:Ln=>{Be=!0,lt(),G=Zr(ht,E,Ln),mn.error(Ln)},complete:()=>{Ue=!0,lt(),G=Zr(ht,C),mn.complete()}}),Zt(Gt).subscribe(A))})(I)}}()))}bootstrap(E,C){const w=E instanceof EC;if(!this._injector.get(Pf).done){!w&&function ul(g){const v=as(g)||ii(g)||vi(g);return null!==v&&v.standalone}(E);throw new Ht(405,Va)}let A;A=w?E:this._injector.get(Yd).resolveComponentFactory(E),this.componentTypes.push(A.componentType);const G=function gU(g){return g.isBoundToModule}(A)?void 0:this._injector.get(Sc),Ee=A.create(qo.NULL,[],C||A.selector,G),Ue=Ee.location.nativeElement,Be=Ee.injector.get(jS,null);return Be?.registerApplication(Ue),Ee.onDestroy(()=>{this.detachView(Ee.hostView),xf(this.components,Ee),Be?.unregisterApplication(Ue)}),this._loadComponent(Ee),Ee}tick(){if(this._runningTick)throw new Ht(101,!1);try{this._runningTick=!0;for(let E of this._views)E.detectChanges()}catch(E){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(E))}finally{this._runningTick=!1}}attachView(E){const C=E;this._views.push(C),C.attachToAppRef(this)}detachView(E){const C=E;xf(this._views,C),C.detachFromAppRef()}_loadComponent(E){this.attachView(E.hostView),this.tick(),this.components.push(E);const C=this._injector.get(FS,[]);C.push(...this._bootstrapListeners),C.forEach(w=>w(E))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(E=>E()),this._views.slice().forEach(E=>E.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(E){return this._destroyListeners.push(E),()=>xf(this._destroyListeners,E)}destroy(){if(this._destroyed)throw new Ht(406,!1);const E=this._injector;E.destroy&&!E.destroyed&&E.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return g.\u0275fac=function(E){return new(E||g)(sr(Bs),sr(La),sr(lc))},g.\u0275prov=kn({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function xf(g,v){const E=g.indexOf(v);E>-1&&g.splice(E,1)}let Rf=(()=>{class g{}return g.__NG_ELEMENT_ID__=CU,g})();function CU(g){return function MU(g,v,E){if(ql(g)&&!E){const C=lo(g.index,v);return new qd(C,C)}return 47&g.type?new qd(v[oi],v):null}(pi(),On(),16==(16&g))}class QS{constructor(){}supports(v){return ff(v)}create(v){return new PU(v)}}const IU=(g,v)=>v;class PU{constructor(v){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=v||IU}forEachItem(v){let E;for(E=this._itHead;null!==E;E=E._next)v(E)}forEachOperation(v){let E=this._itHead,C=this._removalsHead,w=0,I=null;for(;E||C;){const A=!C||E&&E.currentIndex<qS(C,w,I)?E:C,G=qS(A,w,I),pe=A.currentIndex;if(A===C)w--,C=C._nextRemoved;else if(E=E._next,null==A.previousIndex)w++;else{I||(I=[]);const Ee=G-w,Ue=pe-w;if(Ee!=Ue){for(let lt=0;lt<Ee;lt++){const ht=lt<I.length?I[lt]:I[lt]=0,wt=ht+lt;Ue<=wt&&wt<Ee&&(I[lt]=ht+1)}I[A.previousIndex]=Ue-Ee}}G!==pe&&v(A,G,pe)}}forEachPreviousItem(v){let E;for(E=this._previousItHead;null!==E;E=E._nextPrevious)v(E)}forEachAddedItem(v){let E;for(E=this._additionsHead;null!==E;E=E._nextAdded)v(E)}forEachMovedItem(v){let E;for(E=this._movesHead;null!==E;E=E._nextMoved)v(E)}forEachRemovedItem(v){let E;for(E=this._removalsHead;null!==E;E=E._nextRemoved)v(E)}forEachIdentityChange(v){let E;for(E=this._identityChangesHead;null!==E;E=E._nextIdentityChange)v(E)}diff(v){if(null==v&&(v=[]),!ff(v))throw new Ht(900,!1);return this.check(v)?this:null}onDestroy(){}check(v){this._reset();let w,I,A,E=this._itHead,C=!1;if(Array.isArray(v)){this.length=v.length;for(let G=0;G<this.length;G++)I=v[G],A=this._trackByFn(G,I),null!==E&&Object.is(E.trackById,A)?(C&&(E=this._verifyReinsertion(E,I,A,G)),Object.is(E.item,I)||this._addIdentityChange(E,I)):(E=this._mismatch(E,I,A,G),C=!0),E=E._next}else w=0,function X3(g,v){if(Array.isArray(g))for(let E=0;E<g.length;E++)v(g[E]);else{const E=g[Symbol.iterator]();let C;for(;!(C=E.next()).done;)v(C.value)}}(v,G=>{A=this._trackByFn(w,G),null!==E&&Object.is(E.trackById,A)?(C&&(E=this._verifyReinsertion(E,G,A,w)),Object.is(E.item,G)||this._addIdentityChange(E,G)):(E=this._mismatch(E,G,A,w),C=!0),E=E._next,w++}),this.length=w;return this._truncate(E),this.collection=v,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let v;for(v=this._previousItHead=this._itHead;null!==v;v=v._next)v._nextPrevious=v._next;for(v=this._additionsHead;null!==v;v=v._nextAdded)v.previousIndex=v.currentIndex;for(this._additionsHead=this._additionsTail=null,v=this._movesHead;null!==v;v=v._nextMoved)v.previousIndex=v.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(v,E,C,w){let I;return null===v?I=this._itTail:(I=v._prev,this._remove(v)),null!==(v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(C,null))?(Object.is(v.item,E)||this._addIdentityChange(v,E),this._reinsertAfter(v,I,w)):null!==(v=null===this._linkedRecords?null:this._linkedRecords.get(C,w))?(Object.is(v.item,E)||this._addIdentityChange(v,E),this._moveAfter(v,I,w)):v=this._addAfter(new TU(E,C),I,w),v}_verifyReinsertion(v,E,C,w){let I=null===this._unlinkedRecords?null:this._unlinkedRecords.get(C,null);return null!==I?v=this._reinsertAfter(I,v._prev,w):v.currentIndex!=w&&(v.currentIndex=w,this._addToMoves(v,w)),v}_truncate(v){for(;null!==v;){const E=v._next;this._addToRemovals(this._unlink(v)),v=E}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(v,E,C){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(v);const w=v._prevRemoved,I=v._nextRemoved;return null===w?this._removalsHead=I:w._nextRemoved=I,null===I?this._removalsTail=w:I._prevRemoved=w,this._insertAfter(v,E,C),this._addToMoves(v,C),v}_moveAfter(v,E,C){return this._unlink(v),this._insertAfter(v,E,C),this._addToMoves(v,C),v}_addAfter(v,E,C){return this._insertAfter(v,E,C),this._additionsTail=null===this._additionsTail?this._additionsHead=v:this._additionsTail._nextAdded=v,v}_insertAfter(v,E,C){const w=null===E?this._itHead:E._next;return v._next=w,v._prev=E,null===w?this._itTail=v:w._prev=v,null===E?this._itHead=v:E._next=v,null===this._linkedRecords&&(this._linkedRecords=new XS),this._linkedRecords.put(v),v.currentIndex=C,v}_remove(v){return this._addToRemovals(this._unlink(v))}_unlink(v){null!==this._linkedRecords&&this._linkedRecords.remove(v);const E=v._prev,C=v._next;return null===E?this._itHead=C:E._next=C,null===C?this._itTail=E:C._prev=E,v}_addToMoves(v,E){return v.previousIndex===E||(this._movesTail=null===this._movesTail?this._movesHead=v:this._movesTail._nextMoved=v),v}_addToRemovals(v){return null===this._unlinkedRecords&&(this._unlinkedRecords=new XS),this._unlinkedRecords.put(v),v.currentIndex=null,v._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=v,v._prevRemoved=null):(v._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=v),v}_addIdentityChange(v,E){return v.item=E,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=v:this._identityChangesTail._nextIdentityChange=v,v}}class TU{constructor(v,E){this.item=v,this.trackById=E,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AU{constructor(){this._head=null,this._tail=null}add(v){null===this._head?(this._head=this._tail=v,v._nextDup=null,v._prevDup=null):(this._tail._nextDup=v,v._prevDup=this._tail,v._nextDup=null,this._tail=v)}get(v,E){let C;for(C=this._head;null!==C;C=C._nextDup)if((null===E||E<=C.currentIndex)&&Object.is(C.trackById,v))return C;return null}remove(v){const E=v._prevDup,C=v._nextDup;return null===E?this._head=C:E._nextDup=C,null===C?this._tail=E:C._prevDup=E,null===this._head}}class XS{constructor(){this.map=new Map}put(v){const E=v.trackById;let C=this.map.get(E);C||(C=new AU,this.map.set(E,C)),C.add(v)}get(v,E){const w=this.map.get(v);return w?w.get(v,E):null}remove(v){const E=v.trackById;return this.map.get(E).remove(v)&&this.map.delete(E),v}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qS(g,v,E){const C=g.previousIndex;if(null===C)return C;let w=0;return E&&C<E.length&&(w=E[C]),C+v+w}function tO(){return new Uf([new QS])}let Uf=(()=>{class g{constructor(E){this.factories=E}static create(E,C){if(null!=C){const w=C.factories.slice();E=E.concat(w)}return new g(E)}static extend(E){return{provide:g,useFactory:C=>g.create(E,C||tO()),deps:[[g,new Vd,new Wd]]}}find(E){const C=this.factories.find(w=>w.supports(E));if(null!=C)return C;throw new Ht(901,!1)}}return g.\u0275prov=kn({token:g,providedIn:"root",factory:tO}),g})();const UU=WS(null,"core",[]);let FU=(()=>{class g{constructor(E){}}return g.\u0275fac=function(E){return new(E||g)(sr(Af))},g.\u0275mod=bo({type:g}),g.\u0275inj=ln({}),g})();let Yg=null;function $a(){return Yg}class WU{}const Hi=new ar("DocumentToken");let Qg=(()=>{class g{historyGo(E){throw new Error("Not implemented")}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=kn({token:g,factory:function(){return function VU(){return sr(rO)}()},providedIn:"platform"}),g})();const $U=new ar("Location Initialized");let rO=(()=>{class g extends Qg{constructor(E){super(),this._doc=E,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $a().getBaseHref(this._doc)}onPopState(E){const C=$a().getGlobalEventTarget(this._doc,"window");return C.addEventListener("popstate",E,!1),()=>C.removeEventListener("popstate",E)}onHashChange(E){const C=$a().getGlobalEventTarget(this._doc,"window");return C.addEventListener("hashchange",E,!1),()=>C.removeEventListener("hashchange",E)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(E){this._location.pathname=E}pushState(E,C,w){sO()?this._history.pushState(E,C,w):this._location.hash=w}replaceState(E,C,w){sO()?this._history.replaceState(E,C,w):this._location.hash=w}forward(){this._history.forward()}back(){this._history.back()}historyGo(E=0){this._history.go(E)}getState(){return this._history.state}}return g.\u0275fac=function(E){return new(E||g)(sr(Hi))},g.\u0275prov=kn({token:g,factory:function(){return function ZU(){return new rO(sr(Hi))}()},providedIn:"platform"}),g})();function sO(){return!!window.history.pushState}function Xg(g,v){if(0==g.length)return v;if(0==v.length)return g;let E=0;return g.endsWith("/")&&E++,v.startsWith("/")&&E++,2==E?g+v.substring(1):1==E?g+v:g+"/"+v}function iO(g){const v=g.match(/#|\?|$/),E=v&&v.index||g.length;return g.slice(0,E-("/"===g[E-1]?1:0))+g.slice(E)}function Za(g){return g&&"?"!==g[0]?"?"+g:g}let cu=(()=>{class g{historyGo(E){throw new Error("Not implemented")}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=kn({token:g,factory:function(){return Dr(aO)},providedIn:"root"}),g})();const oO=new ar("appBaseHref");let aO=(()=>{class g extends cu{constructor(E,C){super(),this._platformLocation=E,this._removeListenerFns=[],this._baseHref=C??this._platformLocation.getBaseHrefFromDOM()??Dr(Hi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(E){this._removeListenerFns.push(this._platformLocation.onPopState(E),this._platformLocation.onHashChange(E))}getBaseHref(){return this._baseHref}prepareExternalUrl(E){return Xg(this._baseHref,E)}path(E=!1){const C=this._platformLocation.pathname+Za(this._platformLocation.search),w=this._platformLocation.hash;return w&&E?`${C}${w}`:C}pushState(E,C,w,I){const A=this.prepareExternalUrl(w+Za(I));this._platformLocation.pushState(E,C,A)}replaceState(E,C,w,I){const A=this.prepareExternalUrl(w+Za(I));this._platformLocation.replaceState(E,C,A)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(E=0){this._platformLocation.historyGo?.(E)}}return g.\u0275fac=function(E){return new(E||g)(sr(Qg),sr(oO,8))},g.\u0275prov=kn({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),KU=(()=>{class g extends cu{constructor(E,C){super(),this._platformLocation=E,this._baseHref="",this._removeListenerFns=[],null!=C&&(this._baseHref=C)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(E){this._removeListenerFns.push(this._platformLocation.onPopState(E),this._platformLocation.onHashChange(E))}getBaseHref(){return this._baseHref}path(E=!1){let C=this._platformLocation.hash;return null==C&&(C="#"),C.length>0?C.substring(1):C}prepareExternalUrl(E){const C=Xg(this._baseHref,E);return C.length>0?"#"+C:C}pushState(E,C,w,I){let A=this.prepareExternalUrl(w+Za(I));0==A.length&&(A=this._platformLocation.pathname),this._platformLocation.pushState(E,C,A)}replaceState(E,C,w,I){let A=this.prepareExternalUrl(w+Za(I));0==A.length&&(A=this._platformLocation.pathname),this._platformLocation.replaceState(E,C,A)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(E=0){this._platformLocation.historyGo?.(E)}}return g.\u0275fac=function(E){return new(E||g)(sr(Qg),sr(oO,8))},g.\u0275prov=kn({token:g,factory:g.\u0275fac}),g})(),qg=(()=>{class g{constructor(E){this._subject=new Ts,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=E;const C=this._locationStrategy.getBaseHref();this._basePath=function kU(g){if(new RegExp("^(https?:)?//").test(g)){const[,E]=g.split(/\/\/[^\/]+/);return E}return g}(iO(lO(C))),this._locationStrategy.onPopState(w=>{this._subject.emit({url:this.path(!0),pop:!0,state:w.state,type:w.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(E=!1){return this.normalize(this._locationStrategy.path(E))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(E,C=""){return this.path()==this.normalize(E+Za(C))}normalize(E){return g.stripTrailingSlash(function GU(g,v){if(!g||!v.startsWith(g))return v;const E=v.substring(g.length);return""===E||["/",";","?","#"].includes(E[0])?E:v}(this._basePath,lO(E)))}prepareExternalUrl(E){return E&&"/"!==E[0]&&(E="/"+E),this._locationStrategy.prepareExternalUrl(E)}go(E,C="",w=null){this._locationStrategy.pushState(w,"",E,C),this._notifyUrlChangeListeners(this.prepareExternalUrl(E+Za(C)),w)}replaceState(E,C="",w=null){this._locationStrategy.replaceState(w,"",E,C),this._notifyUrlChangeListeners(this.prepareExternalUrl(E+Za(C)),w)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(E=0){this._locationStrategy.historyGo?.(E)}onUrlChange(E){return this._urlChangeListeners.push(E),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(C=>{this._notifyUrlChangeListeners(C.url,C.state)})),()=>{const C=this._urlChangeListeners.indexOf(E);this._urlChangeListeners.splice(C,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(E="",C){this._urlChangeListeners.forEach(w=>w(E,C))}subscribe(E,C,w){return this._subject.subscribe({next:E,error:C,complete:w})}}return g.normalizeQueryParams=Za,g.joinWithSlash=Xg,g.stripTrailingSlash=iO,g.\u0275fac=function(E){return new(E||g)(sr(cu))},g.\u0275prov=kn({token:g,factory:function(){return function zU(){return new qg(sr(cu))}()},providedIn:"root"}),g})();function lO(g){return g.replace(/\/index.html$/,"")}class R5{constructor(v,E,C,w){this.$implicit=v,this.ngForOf=E,this.index=C,this.count=w}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let EO=(()=>{class g{set ngForOf(E){this._ngForOf=E,this._ngForOfDirty=!0}set ngForTrackBy(E){this._trackByFn=E}get ngForTrackBy(){return this._trackByFn}constructor(E,C,w){this._viewContainer=E,this._template=C,this._differs=w,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(E){E&&(this._template=E)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const E=this._ngForOf;!this._differ&&E&&(this._differ=this._differs.find(E).create(this.ngForTrackBy))}if(this._differ){const E=this._differ.diff(this._ngForOf);E&&this._applyChanges(E)}}_applyChanges(E){const C=this._viewContainer;E.forEachOperation((w,I,A)=>{if(null==w.previousIndex)C.createEmbeddedView(this._template,new R5(w.item,this._ngForOf,-1,-1),null===A?void 0:A);else if(null==A)C.remove(null===I?void 0:I);else if(null!==I){const G=C.get(I);C.move(G,A),bO(G,w)}});for(let w=0,I=C.length;w<I;w++){const G=C.get(w).context;G.index=w,G.count=I,G.ngForOf=this._ngForOf}E.forEachIdentityChange(w=>{bO(C.get(w.currentIndex),w)})}static ngTemplateContextGuard(E,C){return!0}}return g.\u0275fac=function(E){return new(E||g)(An(Bo),An(Ba),An(Uf))},g.\u0275dir=fr({type:g,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),g})();function bO(g,v){g.context.$implicit=v.item}let CO=(()=>{class g{constructor(E,C){this._viewContainer=E,this._context=new j5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=C}set ngIf(E){this._context.$implicit=this._context.ngIf=E,this._updateView()}set ngIfThen(E){MO("ngIfThen",E),this._thenTemplateRef=E,this._thenViewRef=null,this._updateView()}set ngIfElse(E){MO("ngIfElse",E),this._elseTemplateRef=E,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(E,C){return!0}}return g.\u0275fac=function(E){return new(E||g)(An(Bo),An(Ba))},g.\u0275dir=fr({type:g,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),g})();class j5{constructor(){this.$implicit=null,this.ngIf=null}}function MO(g,v){if(v&&!v.createEmbeddedView)throw new Error(`${g} must be a TemplateRef, but received '${Br(v)}'.`)}let oF=(()=>{class g{}return g.\u0275fac=function(E){return new(E||g)},g.\u0275mod=bo({type:g}),g.\u0275inj=ln({}),g})();let cF=(()=>{class g{}return g.\u0275prov=kn({token:g,providedIn:"root",factory:()=>new dF(sr(Hi),window)}),g})();class dF{constructor(v,E){this.document=v,this.window=E,this.offset=()=>[0,0]}setOffset(v){this.offset=Array.isArray(v)?()=>v:v}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(v){this.supportsScrolling()&&this.window.scrollTo(v[0],v[1])}scrollToAnchor(v){if(!this.supportsScrolling())return;const E=function hF(g,v){const E=g.getElementById(v)||g.getElementsByName(v)[0];if(E)return E;if("function"==typeof g.createTreeWalker&&g.body&&(g.body.createShadowRoot||g.body.attachShadow)){const C=g.createTreeWalker(g.body,NodeFilter.SHOW_ELEMENT);let w=C.currentNode;for(;w;){const I=w.shadowRoot;if(I){const A=I.getElementById(v)||I.querySelector(`[name="${v}"]`);if(A)return A}w=C.nextNode()}}return null}(this.document,v);E&&(this.scrollToElement(E),E.focus())}setHistoryScrollRestoration(v){if(this.supportScrollRestoration()){const E=this.window.history;E&&E.scrollRestoration&&(E.scrollRestoration=v)}}scrollToElement(v){const E=v.getBoundingClientRect(),C=E.left+this.window.pageXOffset,w=E.top+this.window.pageYOffset,I=this.offset();this.window.scrollTo(C-I[0],w-I[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const v=wO(this.window.history)||wO(Object.getPrototypeOf(this.window.history));return!(!v||!v.writable&&!v.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function wO(g){return Object.getOwnPropertyDescriptor(g,"scrollRestoration")}class WF extends WU{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class y_ extends WF{static makeCurrent(){!function BU(g){Yg||(Yg=g)}(new y_)}onAndCancel(v,E,C){return v.addEventListener(E,C,!1),()=>{v.removeEventListener(E,C,!1)}}dispatchEvent(v,E){v.dispatchEvent(E)}remove(v){v.parentNode&&v.parentNode.removeChild(v)}createElement(v,E){return(E=E||this.getDefaultDocument()).createElement(v)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(v){return v.nodeType===Node.ELEMENT_NODE}isShadowRoot(v){return v instanceof DocumentFragment}getGlobalEventTarget(v,E){return"window"===E?window:"document"===E?v:"body"===E?v.body:null}getBaseHref(v){const E=function VF(){return vh=vh||document.querySelector("base"),vh?vh.getAttribute("href"):null}();return null==E?null:function $F(g){Hf=Hf||document.createElement("a"),Hf.setAttribute("href",g);const v=Hf.pathname;return"/"===v.charAt(0)?v:`/${v}`}(E)}resetBaseElement(){vh=null}getUserAgent(){return window.navigator.userAgent}getCookie(v){return function T5(g,v){v=encodeURIComponent(v);for(const E of g.split(";")){const C=E.indexOf("="),[w,I]=-1==C?[E,""]:[E.slice(0,C),E.slice(C+1)];if(w.trim()===v)return decodeURIComponent(I)}return null}(document.cookie,v)}}let Hf,vh=null;const xO=new ar("TRANSITION_ID"),KF=[{provide:If,useFactory:function ZF(g,v,E){return()=>{E.get(Pf).donePromise.then(()=>{const C=$a(),w=v.querySelectorAll(`style[ng-transition="${g}"]`);for(let I=0;I<w.length;I++)C.remove(w[I])})}},deps:[xO,Hi,qo],multi:!0}];let GF=(()=>{class g{build(){return new XMLHttpRequest}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=kn({token:g,factory:g.\u0275fac}),g})();const Jf=new ar("EventManagerPlugins");let Yf=(()=>{class g{constructor(E,C){this._zone=C,this._eventNameToPlugin=new Map,E.forEach(w=>{w.manager=this}),this._plugins=E.slice().reverse()}addEventListener(E,C,w){return this._findPluginFor(C).addEventListener(E,C,w)}addGlobalEventListener(E,C,w){return this._findPluginFor(C).addGlobalEventListener(E,C,w)}getZone(){return this._zone}_findPluginFor(E){const C=this._eventNameToPlugin.get(E);if(C)return C;const w=this._plugins;for(let I=0;I<w.length;I++){const A=w[I];if(A.supports(E))return this._eventNameToPlugin.set(E,A),A}throw new Error(`No event manager plugin found for event ${E}`)}}return g.\u0275fac=function(E){return new(E||g)(sr(Jf),sr(Bs))},g.\u0275prov=kn({token:g,factory:g.\u0275fac}),g})();class RO{constructor(v){this._doc=v}addGlobalEventListener(v,E,C){const w=$a().getGlobalEventTarget(this._doc,v);if(!w)throw new Error(`Unsupported event target ${w} for event ${E}`);return this.addEventListener(w,E,C)}}let LO=(()=>{class g{constructor(){this.usageCount=new Map}addStyles(E){for(const C of E)1===this.changeUsageCount(C,1)&&this.onStyleAdded(C)}removeStyles(E){for(const C of E)0===this.changeUsageCount(C,-1)&&this.onStyleRemoved(C)}onStyleRemoved(E){}onStyleAdded(E){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(E,C){const w=this.usageCount;let I=w.get(E)??0;return I+=C,I>0?w.set(E,I):w.delete(E),I}ngOnDestroy(){for(const E of this.getAllStyles())this.onStyleRemoved(E);this.usageCount.clear()}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=kn({token:g,factory:g.\u0275fac}),g})(),Eh=(()=>{class g extends LO{constructor(E){super(),this.doc=E,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(E){for(const C of this.hostNodes)this.addStyleToHost(C,E)}onStyleRemoved(E){const C=this.styleRef;C.get(E)?.forEach(I=>I.remove()),C.delete(E)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(E){this.hostNodes.add(E);for(const C of this.getAllStyles())this.addStyleToHost(E,C)}removeHost(E){this.hostNodes.delete(E)}addStyleToHost(E,C){const w=this.doc.createElement("style");w.textContent=C,E.appendChild(w);const I=this.styleRef.get(C);I?I.push(w):this.styleRef.set(C,[w])}resetHostNodes(){const E=this.hostNodes;E.clear(),E.add(this.doc.head)}}return g.\u0275fac=function(E){return new(E||g)(sr(Hi))},g.\u0275prov=kn({token:g,factory:g.\u0275fac}),g})();const g_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},__=/%COMP%/g,FO=new ar("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function NO(g,v){return v.flat(100).map(E=>E.replace(__,g))}function BO(g){return v=>{if("__ngUnwrap__"===v)return g;!1===g(v)&&(v.preventDefault(),v.returnValue=!1)}}let v_=(()=>{class g{constructor(E,C,w,I){this.eventManager=E,this.sharedStylesHost=C,this.appId=w,this.removeStylesOnCompDestory=I,this.rendererByCompId=new Map,this.defaultRenderer=new E_(E)}createRenderer(E,C){if(!E||!C)return this.defaultRenderer;const w=this.getOrCreateRenderer(E,C);return w instanceof $O?w.applyToHost(E):w instanceof b_&&w.applyStyles(),w}getOrCreateRenderer(E,C){const w=this.rendererByCompId;let I=w.get(C.id);if(!I){const A=this.eventManager,G=this.sharedStylesHost,pe=this.removeStylesOnCompDestory;switch(C.encapsulation){case Pi.Emulated:I=new $O(A,G,C,this.appId,pe);break;case Pi.ShadowDom:return new qF(A,G,E,C);default:I=new b_(A,G,C,pe)}I.onDestroy=()=>w.delete(C.id),w.set(C.id,I)}return I}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return g.\u0275fac=function(E){return new(E||g)(sr(Yf),sr(Eh),sr(fh),sr(FO))},g.\u0275prov=kn({token:g,factory:g.\u0275fac}),g})();class E_{constructor(v){this.eventManager=v,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(v,E){return E?document.createElementNS(g_[E]||E,v):document.createElement(v)}createComment(v){return document.createComment(v)}createText(v){return document.createTextNode(v)}appendChild(v,E){(VO(v)?v.content:v).appendChild(E)}insertBefore(v,E,C){v&&(VO(v)?v.content:v).insertBefore(E,C)}removeChild(v,E){v&&v.removeChild(E)}selectRootElement(v,E){let C="string"==typeof v?document.querySelector(v):v;if(!C)throw new Error(`The selector "${v}" did not match any elements`);return E||(C.textContent=""),C}parentNode(v){return v.parentNode}nextSibling(v){return v.nextSibling}setAttribute(v,E,C,w){if(w){E=w+":"+E;const I=g_[w];I?v.setAttributeNS(I,E,C):v.setAttribute(E,C)}else v.setAttribute(E,C)}removeAttribute(v,E,C){if(C){const w=g_[C];w?v.removeAttributeNS(w,E):v.removeAttribute(`${C}:${E}`)}else v.removeAttribute(E)}addClass(v,E){v.classList.add(E)}removeClass(v,E){v.classList.remove(E)}setStyle(v,E,C,w){w&(zi.DashCase|zi.Important)?v.style.setProperty(E,C,w&zi.Important?"important":""):v.style[E]=C}removeStyle(v,E,C){C&zi.DashCase?v.style.removeProperty(E):v.style[E]=""}setProperty(v,E,C){v[E]=C}setValue(v,E){v.nodeValue=E}listen(v,E,C){return"string"==typeof v?this.eventManager.addGlobalEventListener(v,E,BO(C)):this.eventManager.addEventListener(v,E,BO(C))}}function VO(g){return"TEMPLATE"===g.tagName&&void 0!==g.content}class qF extends E_{constructor(v,E,C,w){super(v),this.sharedStylesHost=E,this.hostEl=C,this.shadowRoot=C.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const I=NO(w.id,w.styles);for(const A of I){const G=document.createElement("style");G.textContent=A,this.shadowRoot.appendChild(G)}}nodeOrShadowRoot(v){return v===this.hostEl?this.shadowRoot:v}appendChild(v,E){return super.appendChild(this.nodeOrShadowRoot(v),E)}insertBefore(v,E,C){return super.insertBefore(this.nodeOrShadowRoot(v),E,C)}removeChild(v,E){return super.removeChild(this.nodeOrShadowRoot(v),E)}parentNode(v){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(v)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class b_ extends E_{constructor(v,E,C,w,I=C.id){super(v),this.sharedStylesHost=E,this.removeStylesOnCompDestory=w,this.rendererUsageCount=0,this.styles=NO(I,C.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class $O extends b_{constructor(v,E,C,w,I){const A=w+"-"+C.id;super(v,E,C,I,A),this.contentAttr=function YF(g){return"_ngcontent-%COMP%".replace(__,g)}(A),this.hostAttr=function QF(g){return"_nghost-%COMP%".replace(__,g)}(A)}applyToHost(v){this.applyStyles(),this.setAttribute(v,this.hostAttr,"")}createElement(v,E){const C=super.createElement(v,E);return super.setAttribute(C,this.contentAttr,""),C}}let e4=(()=>{class g extends RO{constructor(E){super(E)}supports(E){return!0}addEventListener(E,C,w){return E.addEventListener(C,w,!1),()=>this.removeEventListener(E,C,w)}removeEventListener(E,C,w){return E.removeEventListener(C,w)}}return g.\u0275fac=function(E){return new(E||g)(sr(Hi))},g.\u0275prov=kn({token:g,factory:g.\u0275fac}),g})();const ZO=["alt","control","meta","shift"],t4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},n4={alt:g=>g.altKey,control:g=>g.ctrlKey,meta:g=>g.metaKey,shift:g=>g.shiftKey};let r4=(()=>{class g extends RO{constructor(E){super(E)}supports(E){return null!=g.parseEventName(E)}addEventListener(E,C,w){const I=g.parseEventName(C),A=g.eventCallback(I.fullKey,w,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$a().onAndCancel(E,I.domEventName,A))}static parseEventName(E){const C=E.toLowerCase().split("."),w=C.shift();if(0===C.length||"keydown"!==w&&"keyup"!==w)return null;const I=g._normalizeKey(C.pop());let A="",G=C.indexOf("code");if(G>-1&&(C.splice(G,1),A="code."),ZO.forEach(Ee=>{const Ue=C.indexOf(Ee);Ue>-1&&(C.splice(Ue,1),A+=Ee+".")}),A+=I,0!=C.length||0===I.length)return null;const pe={};return pe.domEventName=w,pe.fullKey=A,pe}static matchEventFullKeyCode(E,C){let w=t4[E.key]||E.key,I="";return C.indexOf("code.")>-1&&(w=E.code,I="code."),!(null==w||!w)&&(w=w.toLowerCase()," "===w?w="space":"."===w&&(w="dot"),ZO.forEach(A=>{A!==w&&(0,n4[A])(E)&&(I+=A+".")}),I+=w,I===C)}static eventCallback(E,C,w){return I=>{g.matchEventFullKeyCode(I,E)&&w.runGuarded(()=>C(I))}}static _normalizeKey(E){return"esc"===E?"escape":E}}return g.\u0275fac=function(E){return new(E||g)(sr(Hi))},g.\u0275prov=kn({token:g,factory:g.\u0275fac}),g})();const zO=[{provide:PS,useValue:"browser"},{provide:IS,useValue:function s4(){y_.makeCurrent()},multi:!0},{provide:Hi,useFactory:function o4(){return function LR(g){Cy=g}(document),document},deps:[]}],a4=WS(UU,"browser",zO),GO=new ar(""),kO=[{provide:Tf,useClass:class zF{addToWindow(v){In.getAngularTestability=(C,w=!0)=>{const I=v.findTestabilityInTree(C,w);if(null==I)throw new Error("Could not find testability for element.");return I},In.getAllAngularTestabilities=()=>v.getAllTestabilities(),In.getAllAngularRootElements=()=>v.getAllRootElements(),In.frameworkStabilizers||(In.frameworkStabilizers=[]),In.frameworkStabilizers.push(C=>{const w=In.getAllAngularTestabilities();let I=w.length,A=!1;const G=function(pe){A=A||pe,I--,0==I&&C(A)};w.forEach(function(pe){pe.whenStable(G)})})}findTestabilityInTree(v,E,C){return null==E?null:v.getTestability(E)??(C?$a().isShadowRoot(E)?this.findTestabilityInTree(v,E.host,!0):this.findTestabilityInTree(v,E.parentElement,!0):null)}},deps:[]},{provide:jS,useClass:Vg,deps:[Bs,$g,Tf]},{provide:Vg,useClass:Vg,deps:[Bs,$g,Tf]}],HO=[{provide:Ay,useValue:"root"},{provide:lc,useFactory:function i4(){return new lc},deps:[]},{provide:Jf,useClass:e4,multi:!0,deps:[Hi,Bs,PS]},{provide:Jf,useClass:r4,multi:!0,deps:[Hi]},{provide:v_,useClass:v_,deps:[Yf,Eh,fh,FO]},{provide:CC,useExisting:v_},{provide:LO,useExisting:Eh},{provide:Eh,useClass:Eh,deps:[Hi]},{provide:Yf,useClass:Yf,deps:[Jf,Bs]},{provide:class pF{},useClass:GF,deps:[]},[]];let l4=(()=>{class g{constructor(E){}static withServerTransition(E){return{ngModule:g,providers:[{provide:fh,useValue:E.appId},{provide:xO,useExisting:fh},KF]}}}return g.\u0275fac=function(E){return new(E||g)(sr(GO,12))},g.\u0275mod=bo({type:g}),g.\u0275inj=ln({providers:[...HO,...kO],imports:[oF,FU]}),g})(),JO=(()=>{class g{constructor(E){this._doc=E}getTitle(){return this._doc.title}setTitle(E){this._doc.title=E||""}}return g.\u0275fac=function(E){return new(E||g)(sr(Hi))},g.\u0275prov=kn({token:g,factory:function(E){let C=null;return C=E?new E:function c4(){return new JO(sr(Hi))}(),C},providedIn:"root"}),g})();typeof window<"u"&&window;const{isArray:y4}=Array,{getPrototypeOf:g4,prototype:_4,keys:v4}=Object;function XO(g){if(1===g.length){const v=g[0];if(y4(v))return{args:v,keys:null};if(function E4(g){return g&&"object"==typeof g&&g4(g)===_4}(v)){const E=v4(v);return{args:E.map(C=>v[C]),keys:E}}}return{args:g,keys:null}}const{isArray:b4}=Array;function qO(g){return fe(v=>function C4(g,v){return b4(v)?g(...v):g(v)}(g,v))}function ew(g,v){return g.reduce((E,C,w)=>(E[C]=v[w],E),{})}let tw=(()=>{class g{constructor(E,C){this._renderer=E,this._elementRef=C,this.onChange=w=>{},this.onTouched=()=>{}}setProperty(E,C){this._renderer.setProperty(this._elementRef.nativeElement,E,C)}registerOnTouched(E){this.onTouched=E}registerOnChange(E){this.onChange=E}setDisabledState(E){this.setProperty("disabled",E)}}return g.\u0275fac=function(E){return new(E||g)(An(ja),An(co))},g.\u0275dir=fr({type:g}),g})(),du=(()=>{class g extends tw{}return g.\u0275fac=function(){let v;return function(C){return(v||(v=fi(g)))(C||g)}}(),g.\u0275dir=fr({type:g,features:[hs]}),g})();const oa=new ar("NgValueAccessor"),S4={provide:oa,useExisting:zr(()=>D_),multi:!0},w4=new ar("CompositionEventMode");let D_=(()=>{class g extends tw{constructor(E,C,w){super(E,C),this._compositionMode=w,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function O4(){const g=$a()?$a().getUserAgent():"";return/android (\d+)/.test(g.toLowerCase())}())}writeValue(E){this.setProperty("value",E??"")}_handleInput(E){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(E)}_compositionStart(){this._composing=!0}_compositionEnd(E){this._composing=!1,this._compositionMode&&this.onChange(E)}}return g.\u0275fac=function(E){return new(E||g)(An(ja),An(co),An(w4,8))},g.\u0275dir=fr({type:g,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(E,C){1&E&&ki("input",function(I){return C._handleInput(I.target.value)})("blur",function(){return C.onTouched()})("compositionstart",function(){return C._compositionStart()})("compositionend",function(I){return C._compositionEnd(I.target.value)})},features:[Os([S4]),hs]}),g})();const I4=!1,Mi=new ar("NgValidators"),vl=new ar("NgAsyncValidators");function hw(g){return null!=g}function pw(g){const v=rh(g)?Un(g):g;if(I4&&!ag(v)){let E="Expected async validator to return Promise or Observable.";throw"object"==typeof g&&(E+=" Are you using a synchronous validator where an async validator is expected?"),new Ht(-1101,E)}return v}function fw(g){let v={};return g.forEach(E=>{v=null!=E?{...v,...E}:v}),0===Object.keys(v).length?null:v}function mw(g,v){return v.map(E=>E(g))}function yw(g){return g.map(v=>function T4(g){return!g.validate}(v)?v:E=>v.validate(E))}function S_(g){return null!=g?function gw(g){if(!g)return null;const v=g.filter(hw);return 0==v.length?null:function(E){return fw(mw(E,v))}}(yw(g)):null}function O_(g){return null!=g?function _w(g){if(!g)return null;const v=g.filter(hw);return 0==v.length?null:function(E){return function M4(...g){const v=Fn(g),{args:E,keys:C}=XO(g),w=new me(I=>{const{length:A}=E;if(!A)return void I.complete();const G=new Array(A);let pe=A,Ee=A;for(let Ue=0;Ue<A;Ue++){let Be=!1;Zt(E[Ue]).subscribe(we(I,lt=>{Be||(Be=!0,Ee--),G[Ue]=lt},()=>pe--,void 0,()=>{(!pe||!Be)&&(Ee||I.next(C?ew(C,G):G),I.complete())}))}});return v?w.pipe(qO(v)):w}(mw(E,v).map(pw)).pipe(fe(fw))}}(yw(g)):null}function vw(g,v){return null===g?[v]:Array.isArray(g)?[...g,v]:[g,v]}function w_(g){return g?Array.isArray(g)?g:[g]:[]}function Xf(g,v){return Array.isArray(g)?g.includes(v):g===v}function Cw(g,v){const E=w_(v);return w_(g).forEach(w=>{Xf(E,w)||E.push(w)}),E}function Mw(g,v){return w_(v).filter(E=>!Xf(g,E))}class Dw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(v){this._rawValidators=v||[],this._composedValidatorFn=S_(this._rawValidators)}_setAsyncValidators(v){this._rawAsyncValidators=v||[],this._composedAsyncValidatorFn=O_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(v){this._onDestroyCallbacks.push(v)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(v=>v()),this._onDestroyCallbacks=[]}reset(v){this.control&&this.control.reset(v)}hasError(v,E){return!!this.control&&this.control.hasError(v,E)}getError(v,E){return this.control?this.control.getError(v,E):null}}class ji extends Dw{get formDirective(){return null}get path(){return null}}class El extends Dw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Sw{constructor(v){this._cd=v}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ow=(()=>{class g extends Sw{constructor(E){super(E)}}return g.\u0275fac=function(E){return new(E||g)(An(El,2))},g.\u0275dir=fr({type:g,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(E,C){2&E&&gf("ng-untouched",C.isUntouched)("ng-touched",C.isTouched)("ng-pristine",C.isPristine)("ng-dirty",C.isDirty)("ng-valid",C.isValid)("ng-invalid",C.isInvalid)("ng-pending",C.isPending)},features:[hs]}),g})();const bh="VALID",e0="INVALID",Pc="PENDING",Ch="DISABLED";function t0(g){return null!=g&&!Array.isArray(g)&&"object"==typeof g}class Tw{constructor(v,E){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(v),this._assignAsyncValidators(E)}get validator(){return this._composedValidatorFn}set validator(v){this._rawValidators=this._composedValidatorFn=v}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(v){this._rawAsyncValidators=this._composedAsyncValidatorFn=v}get parent(){return this._parent}get valid(){return this.status===bh}get invalid(){return this.status===e0}get pending(){return this.status==Pc}get disabled(){return this.status===Ch}get enabled(){return this.status!==Ch}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(v){this._assignValidators(v)}setAsyncValidators(v){this._assignAsyncValidators(v)}addValidators(v){this.setValidators(Cw(v,this._rawValidators))}addAsyncValidators(v){this.setAsyncValidators(Cw(v,this._rawAsyncValidators))}removeValidators(v){this.setValidators(Mw(v,this._rawValidators))}removeAsyncValidators(v){this.setAsyncValidators(Mw(v,this._rawAsyncValidators))}hasValidator(v){return Xf(this._rawValidators,v)}hasAsyncValidator(v){return Xf(this._rawAsyncValidators,v)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(v={}){this.touched=!0,this._parent&&!v.onlySelf&&this._parent.markAsTouched(v)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(v=>v.markAllAsTouched())}markAsUntouched(v={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(E=>{E.markAsUntouched({onlySelf:!0})}),this._parent&&!v.onlySelf&&this._parent._updateTouched(v)}markAsDirty(v={}){this.pristine=!1,this._parent&&!v.onlySelf&&this._parent.markAsDirty(v)}markAsPristine(v={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(E=>{E.markAsPristine({onlySelf:!0})}),this._parent&&!v.onlySelf&&this._parent._updatePristine(v)}markAsPending(v={}){this.status=Pc,!1!==v.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!v.onlySelf&&this._parent.markAsPending(v)}disable(v={}){const E=this._parentMarkedDirty(v.onlySelf);this.status=Ch,this.errors=null,this._forEachChild(C=>{C.disable({...v,onlySelf:!0})}),this._updateValue(),!1!==v.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...v,skipPristineCheck:E}),this._onDisabledChange.forEach(C=>C(!0))}enable(v={}){const E=this._parentMarkedDirty(v.onlySelf);this.status=bh,this._forEachChild(C=>{C.enable({...v,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:v.emitEvent}),this._updateAncestors({...v,skipPristineCheck:E}),this._onDisabledChange.forEach(C=>C(!1))}_updateAncestors(v){this._parent&&!v.onlySelf&&(this._parent.updateValueAndValidity(v),v.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(v){this._parent=v}getRawValue(){return this.value}updateValueAndValidity(v={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bh||this.status===Pc)&&this._runAsyncValidator(v.emitEvent)),!1!==v.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!v.onlySelf&&this._parent.updateValueAndValidity(v)}_updateTreeValidity(v={emitEvent:!0}){this._forEachChild(E=>E._updateTreeValidity(v)),this.updateValueAndValidity({onlySelf:!0,emitEvent:v.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ch:bh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(v){if(this.asyncValidator){this.status=Pc,this._hasOwnPendingAsyncValidator=!0;const E=pw(this.asyncValidator(this));this._asyncValidationSubscription=E.subscribe(C=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(C,{emitEvent:v})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(v,E={}){this.errors=v,this._updateControlsErrors(!1!==E.emitEvent)}get(v){let E=v;return null==E||(Array.isArray(E)||(E=E.split(".")),0===E.length)?null:E.reduce((C,w)=>C&&C._find(w),this)}getError(v,E){const C=E?this.get(E):this;return C&&C.errors?C.errors[v]:null}hasError(v,E){return!!this.getError(v,E)}get root(){let v=this;for(;v._parent;)v=v._parent;return v}_updateControlsErrors(v){this.status=this._calculateStatus(),v&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(v)}_initObservables(){this.valueChanges=new Ts,this.statusChanges=new Ts}_calculateStatus(){return this._allControlsDisabled()?Ch:this.errors?e0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pc)?Pc:this._anyControlsHaveStatus(e0)?e0:bh}_anyControlsHaveStatus(v){return this._anyControls(E=>E.status===v)}_anyControlsDirty(){return this._anyControls(v=>v.dirty)}_anyControlsTouched(){return this._anyControls(v=>v.touched)}_updatePristine(v={}){this.pristine=!this._anyControlsDirty(),this._parent&&!v.onlySelf&&this._parent._updatePristine(v)}_updateTouched(v={}){this.touched=this._anyControlsTouched(),this._parent&&!v.onlySelf&&this._parent._updateTouched(v)}_registerOnCollectionChange(v){this._onCollectionChange=v}_setUpdateStrategy(v){t0(v)&&null!=v.updateOn&&(this._updateOn=v.updateOn)}_parentMarkedDirty(v){return!v&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(v){return null}_assignValidators(v){this._rawValidators=Array.isArray(v)?v.slice():v,this._composedValidatorFn=function N4(g){return Array.isArray(g)?S_(g):g||null}(this._rawValidators)}_assignAsyncValidators(v){this._rawAsyncValidators=Array.isArray(v)?v.slice():v,this._composedAsyncValidatorFn=function B4(g){return Array.isArray(g)?O_(g):g||null}(this._rawAsyncValidators)}}const Tc=new ar("CallSetDisabledState",{providedIn:"root",factory:()=>n0}),n0="always";function Mh(g,v,E=n0){(function L_(g,v){const E=function Ew(g){return g._rawValidators}(g);null!==v.validator?g.setValidators(vw(E,v.validator)):"function"==typeof E&&g.setValidators([E]);const C=function bw(g){return g._rawAsyncValidators}(g);null!==v.asyncValidator?g.setAsyncValidators(vw(C,v.asyncValidator)):"function"==typeof C&&g.setAsyncValidators([C]);const w=()=>g.updateValueAndValidity();o0(v._rawValidators,w),o0(v._rawAsyncValidators,w)})(g,v),v.valueAccessor.writeValue(g.value),(g.disabled||"always"===E)&&v.valueAccessor.setDisabledState?.(g.disabled),function $4(g,v){v.valueAccessor.registerOnChange(E=>{g._pendingValue=E,g._pendingChange=!0,g._pendingDirty=!0,"change"===g.updateOn&&Aw(g,v)})}(g,v),function K4(g,v){const E=(C,w)=>{v.valueAccessor.writeValue(C),w&&v.viewToModelUpdate(C)};g.registerOnChange(E),v._registerOnDestroy(()=>{g._unregisterOnChange(E)})}(g,v),function Z4(g,v){v.valueAccessor.registerOnTouched(()=>{g._pendingTouched=!0,"blur"===g.updateOn&&g._pendingChange&&Aw(g,v),"submit"!==g.updateOn&&g.markAsTouched()})}(g,v),function V4(g,v){if(v.valueAccessor.setDisabledState){const E=C=>{v.valueAccessor.setDisabledState(C)};g.registerOnDisabledChange(E),v._registerOnDestroy(()=>{g._unregisterOnDisabledChange(E)})}}(g,v)}function o0(g,v){g.forEach(E=>{E.registerOnValidatorChange&&E.registerOnValidatorChange(v)})}function Aw(g,v){g._pendingDirty&&g.markAsDirty(),g.setValue(g._pendingValue,{emitModelToViewChange:!1}),v.viewToModelUpdate(g._pendingValue),g._pendingChange=!1}function Lw(g,v){const E=g.indexOf(v);E>-1&&g.splice(E,1)}function jw(g){return"object"==typeof g&&null!==g&&2===Object.keys(g).length&&"value"in g&&"disabled"in g}const Uw=class extends Tw{constructor(v=null,E,C){super(function A_(g){return(t0(g)?g.validators:g)||null}(E),function x_(g,v){return(t0(v)?v.asyncValidators:g)||null}(C,E)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(v),this._setUpdateStrategy(E),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),t0(E)&&(E.nonNullable||E.initialValueIsDefault)&&(this.defaultValue=jw(v)?v.value:v)}setValue(v,E={}){this.value=this._pendingValue=v,this._onChange.length&&!1!==E.emitModelToViewChange&&this._onChange.forEach(C=>C(this.value,!1!==E.emitViewToModelChange)),this.updateValueAndValidity(E)}patchValue(v,E={}){this.setValue(v,E)}reset(v=this.defaultValue,E={}){this._applyFormState(v),this.markAsPristine(E),this.markAsUntouched(E),this.setValue(this.value,E),this._pendingChange=!1}_updateValue(){}_anyControls(v){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(v){this._onChange.push(v)}_unregisterOnChange(v){Lw(this._onChange,v)}registerOnDisabledChange(v){this._onDisabledChange.push(v)}_unregisterOnDisabledChange(v){Lw(this._onDisabledChange,v)}_forEachChild(v){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(v){jw(v)?(this.value=this._pendingValue=v.value,v.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=v}},X4={provide:El,useExisting:zr(()=>B_)},Bw=(()=>Promise.resolve())();let B_=(()=>{class g extends El{constructor(E,C,w,I,A,G){super(),this._changeDetectorRef=A,this.callSetDisabledState=G,this.control=new Uw,this._registered=!1,this.update=new Ts,this._parent=E,this._setValidators(C),this._setAsyncValidators(w),this.valueAccessor=function F_(g,v){if(!v)return null;let E,C,w;return Array.isArray(v),v.forEach(I=>{I.constructor===D_?E=I:function k4(g){return Object.getPrototypeOf(g.constructor)===du}(I)?C=I:w=I}),w||C||E||null}(0,I)}ngOnChanges(E){if(this._checkForErrors(),!this._registered||"name"in E){if(this._registered&&(this._checkName(),this.formDirective)){const C=E.name.previousValue;this.formDirective.removeControl({name:C,path:this._getPath(C)})}this._setUpControl()}"isDisabled"in E&&this._updateDisabled(E),function U_(g,v){if(!g.hasOwnProperty("model"))return!1;const E=g.model;return!!E.isFirstChange()||!Object.is(v,E.currentValue)}(E,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(E){this.viewModel=E,this.update.emit(E)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(E){Bw.then(()=>{this.control.setValue(E,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(E){const C=E.isDisabled.currentValue,w=0!==C&&function Ic(g){return"boolean"==typeof g?g:null!=g&&"false"!==g}(C);Bw.then(()=>{w&&!this.control.disabled?this.control.disable():!w&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(E){return this._parent?function r0(g,v){return[...v.path,g]}(E,this._parent):[E]}}return g.\u0275fac=function(E){return new(E||g)(An(ji,9),An(Mi,10),An(vl,10),An(oa,10),An(Rf,8),An(Tc,8))},g.\u0275dir=fr({type:g,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Os([X4]),hs,rs]}),g})(),Vw=(()=>{class g{}return g.\u0275fac=function(E){return new(E||g)},g.\u0275mod=bo({type:g}),g.\u0275inj=ln({}),g})();const uN={provide:oa,useExisting:zr(()=>l0),multi:!0};function Hw(g,v){return null==g?`${v}`:(v&&"object"==typeof v&&(v="Object"),`${g}: ${v}`.slice(0,50))}let l0=(()=>{class g extends du{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(E){this._compareWith=E}writeValue(E){this.value=E;const w=Hw(this._getOptionId(E),E);this.setProperty("value",w)}registerOnChange(E){this.onChange=C=>{this.value=this._getOptionValue(C),E(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(E){for(const C of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(C),E))return C;return null}_getOptionValue(E){const C=function cN(g){return g.split(":")[0]}(E);return this._optionMap.has(C)?this._optionMap.get(C):E}}return g.\u0275fac=function(){let v;return function(C){return(v||(v=fi(g)))(C||g)}}(),g.\u0275dir=fr({type:g,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(E,C){1&E&&ki("change",function(I){return C.onChange(I.target.value)})("blur",function(){return C.onTouched()})},inputs:{compareWith:"compareWith"},features:[Os([uN]),hs]}),g})(),Jw=(()=>{class g{constructor(E,C,w){this._element=E,this._renderer=C,this._select=w,this._select&&(this.id=this._select._registerOption())}set ngValue(E){null!=this._select&&(this._select._optionMap.set(this.id,E),this._setElementValue(Hw(this.id,E)),this._select.writeValue(this._select.value))}set value(E){this._setElementValue(E),this._select&&this._select.writeValue(this._select.value)}_setElementValue(E){this._renderer.setProperty(this._element.nativeElement,"value",E)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return g.\u0275fac=function(E){return new(E||g)(An(co),An(ja),An(l0,9))},g.\u0275dir=fr({type:g,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),g})();const dN={provide:oa,useExisting:zr(()=>Z_),multi:!0};function Yw(g,v){return null==g?`${v}`:("string"==typeof v&&(v=`'${v}'`),v&&"object"==typeof v&&(v="Object"),`${g}: ${v}`.slice(0,50))}let Z_=(()=>{class g extends du{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(E){this._compareWith=E}writeValue(E){let C;if(this.value=E,Array.isArray(E)){const w=E.map(I=>this._getOptionId(I));C=(I,A)=>{I._setSelected(w.indexOf(A.toString())>-1)}}else C=(w,I)=>{w._setSelected(!1)};this._optionMap.forEach(C)}registerOnChange(E){this.onChange=C=>{const w=[],I=C.selectedOptions;if(void 0!==I){const A=I;for(let G=0;G<A.length;G++){const Ee=this._getOptionValue(A[G].value);w.push(Ee)}}else{const A=C.options;for(let G=0;G<A.length;G++){const pe=A[G];if(pe.selected){const Ee=this._getOptionValue(pe.value);w.push(Ee)}}}this.value=w,E(w)}}_registerOption(E){const C=(this._idCounter++).toString();return this._optionMap.set(C,E),C}_getOptionId(E){for(const C of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(C)._value,E))return C;return null}_getOptionValue(E){const C=function hN(g){return g.split(":")[0]}(E);return this._optionMap.has(C)?this._optionMap.get(C)._value:E}}return g.\u0275fac=function(){let v;return function(C){return(v||(v=fi(g)))(C||g)}}(),g.\u0275dir=fr({type:g,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(E,C){1&E&&ki("change",function(I){return C.onChange(I.target)})("blur",function(){return C.onTouched()})},inputs:{compareWith:"compareWith"},features:[Os([dN]),hs]}),g})(),Qw=(()=>{class g{constructor(E,C,w){this._element=E,this._renderer=C,this._select=w,this._select&&(this.id=this._select._registerOption(this))}set ngValue(E){null!=this._select&&(this._value=E,this._setElementValue(Yw(this.id,E)),this._select.writeValue(this._select.value))}set value(E){this._select?(this._value=E,this._setElementValue(Yw(this.id,E)),this._select.writeValue(this._select.value)):this._setElementValue(E)}_setElementValue(E){this._renderer.setProperty(this._element.nativeElement,"value",E)}_setSelected(E){this._renderer.setProperty(this._element.nativeElement,"selected",E)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return g.\u0275fac=function(E){return new(E||g)(An(co),An(ja),An(Z_,9))},g.\u0275dir=fr({type:g,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),g})(),bN=(()=>{class g{}return g.\u0275fac=function(E){return new(E||g)},g.\u0275mod=bo({type:g}),g.\u0275inj=ln({imports:[Vw]}),g})(),MN=(()=>{class g{static withConfig(E){return{ngModule:g,providers:[{provide:Tc,useValue:E.callSetDisabledState??n0}]}}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275mod=bo({type:g}),g.\u0275inj=ln({imports:[bN]}),g})();function pr(...g){return Un(g,Ne(g))}class Zo extends De{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const E=super._subscribe(v);return!E.closed&&v.next(this._value),E}getValue(){const{hasError:v,thrownError:E,_value:C}=this;if(v)throw E;return this._throwIfClosed(),C}next(v){super.next(this._value=v)}}const u0=T(g=>function(){g(this),this.name="EmptyError",this.message="no elements in sequence"});function aI(...g){const v=Ne(g),E=Fn(g),{args:C,keys:w}=XO(g);if(0===C.length)return Un([],v);const I=new me(function DN(g,v,E=ue){return C=>{lI(v,()=>{const{length:w}=g,I=new Array(w);let A=w,G=w;for(let pe=0;pe<w;pe++)lI(v,()=>{const Ee=Un(g[pe],v);let Ue=!1;Ee.subscribe(we(C,Be=>{I[pe]=Be,Ue||(Ue=!0,G--),G||C.next(E(I.slice()))},()=>{--A||C.complete()}))},C)},C)}}(C,v,w?A=>ew(w,A):ue));return E?I.pipe(qO(E)):I}function lI(g,v,E){g?fn(E,g,v):v()}function z_(...g){return function SN(){return $t(1)}()(Un(g,Ne(g)))}function uI(g){return new me(v=>{Zt(g()).subscribe(v)})}function Sh(g,v){const E=D(g)?g:()=>g,C=w=>w.error(E());return new me(v?w=>v.schedule(C,0,w):C)}function G_(){return Re((g,v)=>{let E=null;g._refCount++;const C=we(v,void 0,void 0,void 0,()=>{if(!g||g._refCount<=0||0<--g._refCount)return void(E=null);const w=g._connection,I=E;E=null,w&&(!I||w===I)&&w.unsubscribe(),v.unsubscribe()});g.subscribe(C),C.closed||(E=g.connect())})}class cI extends me{constructor(v,E){super(),this.source=v,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,Ce(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,v?.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new U;const E=this.getSubject();v.add(this.source.subscribe(we(E,void 0,()=>{this._teardown(),E.complete()},C=>{this._teardown(),E.error(C)},()=>this._teardown()))),v.closed&&(this._connection=null,v=U.EMPTY)}return v}refCount(){return G_()(this)}}function aa(g,v){return Re((E,C)=>{let w=null,I=0,A=!1;const G=()=>A&&!w&&C.complete();E.subscribe(we(C,pe=>{w?.unsubscribe();let Ee=0;const Ue=I++;Zt(g(pe,Ue)).subscribe(w=we(C,Be=>C.next(v?v(pe,Be,Ue,Ee++):Be),()=>{w=null,G()}))},()=>{A=!0,G()}))})}function Oh(g){return g<=0?()=>tn:Re((v,E)=>{let C=0;v.subscribe(we(E,w=>{++C<=g&&(E.next(w),g<=C&&E.complete())}))})}function bl(g,v){return Re((E,C)=>{let w=0;E.subscribe(we(C,I=>g.call(v,I,w++)&&C.next(I)))})}function c0(g){return Re((v,E)=>{let C=!1;v.subscribe(we(E,w=>{C=!0,E.next(w)},()=>{C||E.next(g),E.complete()}))})}function dI(g=wN){return Re((v,E)=>{let C=!1;v.subscribe(we(E,w=>{C=!0,E.next(w)},()=>C?E.complete():E.error(g())))})}function wN(){return new u0}function Cl(g,v){const E=arguments.length>=2;return C=>C.pipe(g?bl((w,I)=>g(w,I,C)):ue,Oh(1),E?c0(v):dI(()=>new u0))}function pu(g,v){return D(v)?Pt(g,v,1):Pt(g,1)}function Di(g,v,E){const C=D(g)||v||E?{next:g,error:v,complete:E}:g;return C?Re((w,I)=>{var A;null===(A=C.subscribe)||void 0===A||A.call(C);let G=!0;w.subscribe(we(I,pe=>{var Ee;null===(Ee=C.next)||void 0===Ee||Ee.call(C,pe),I.next(pe)},()=>{var pe;G=!1,null===(pe=C.complete)||void 0===pe||pe.call(C),I.complete()},pe=>{var Ee;G=!1,null===(Ee=C.error)||void 0===Ee||Ee.call(C,pe),I.error(pe)},()=>{var pe,Ee;G&&(null===(pe=C.unsubscribe)||void 0===pe||pe.call(C)),null===(Ee=C.finalize)||void 0===Ee||Ee.call(C)}))}):ue}function Ml(g){return Re((v,E)=>{let I,C=null,w=!1;C=v.subscribe(we(E,void 0,void 0,A=>{I=Zt(g(A,Ml(g)(v))),C?(C.unsubscribe(),C=null,I.subscribe(E)):w=!0})),w&&(C.unsubscribe(),C=null,I.subscribe(E))})}function hI(g,v){return Re(function IN(g,v,E,C,w){return(I,A)=>{let G=E,pe=v,Ee=0;I.subscribe(we(A,Ue=>{const Be=Ee++;pe=G?g(pe,Ue,Be):(G=!0,Ue),C&&A.next(pe)},w&&(()=>{G&&A.next(pe),A.complete()})))}}(g,v,arguments.length>=2,!0))}function k_(g){return g<=0?()=>tn:Re((v,E)=>{let C=[];v.subscribe(we(E,w=>{C.push(w),g<C.length&&C.shift()},()=>{for(const w of C)E.next(w);E.complete()},void 0,()=>{C=null}))})}function pI(g,v){const E=arguments.length>=2;return C=>C.pipe(g?bl((w,I)=>g(w,I,C)):ue,k_(1),E?c0(v):dI(()=>new u0))}function H_(g){return Re((v,E)=>{try{v.subscribe(E)}finally{E.add(g)}})}const Rr="primary",wh=Symbol("RouteTitle");class AN{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const E=this.params[v];return Array.isArray(E)?E[0]:E}return null}getAll(v){if(this.has(v)){const E=this.params[v];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function Ac(g){return new AN(g)}function xN(g,v,E){const C=E.path.split("/");if(C.length>g.length||"full"===E.pathMatch&&(v.hasChildren()||C.length<g.length))return null;const w={};for(let I=0;I<C.length;I++){const A=C[I],G=g[I];if(A.startsWith(":"))w[A.substring(1)]=G;else if(A!==G.path)return null}return{consumed:g.slice(0,C.length),posParams:w}}function la(g,v){const E=g?Object.keys(g):void 0,C=v?Object.keys(v):void 0;if(!E||!C||E.length!=C.length)return!1;let w;for(let I=0;I<E.length;I++)if(w=E[I],!fI(g[w],v[w]))return!1;return!0}function fI(g,v){if(Array.isArray(g)&&Array.isArray(v)){if(g.length!==v.length)return!1;const E=[...g].sort(),C=[...v].sort();return E.every((w,I)=>C[I]===w)}return g===v}function mI(g){return Array.prototype.concat.apply([],g)}function yI(g){return g.length>0?g[g.length-1]:null}function mi(g,v){for(const E in g)g.hasOwnProperty(E)&&v(g[E],E)}function Dl(g){return ag(g)?g:rh(g)?Un(Promise.resolve(g)):pr(g)}const d0=!1,LN={exact:function vI(g,v,E){if(!fu(g.segments,v.segments)||!h0(g.segments,v.segments,E)||g.numberOfChildren!==v.numberOfChildren)return!1;for(const C in v.children)if(!g.children[C]||!vI(g.children[C],v.children[C],E))return!1;return!0},subset:EI},gI={exact:function jN(g,v){return la(g,v)},subset:function UN(g,v){return Object.keys(v).length<=Object.keys(g).length&&Object.keys(v).every(E=>fI(g[E],v[E]))},ignored:()=>!0};function _I(g,v,E){return LN[E.paths](g.root,v.root,E.matrixParams)&&gI[E.queryParams](g.queryParams,v.queryParams)&&!("exact"===E.fragment&&g.fragment!==v.fragment)}function EI(g,v,E){return bI(g,v,v.segments,E)}function bI(g,v,E,C){if(g.segments.length>E.length){const w=g.segments.slice(0,E.length);return!(!fu(w,E)||v.hasChildren()||!h0(w,E,C))}if(g.segments.length===E.length){if(!fu(g.segments,E)||!h0(g.segments,E,C))return!1;for(const w in v.children)if(!g.children[w]||!EI(g.children[w],v.children[w],C))return!1;return!0}{const w=E.slice(0,g.segments.length),I=E.slice(g.segments.length);return!!(fu(g.segments,w)&&h0(g.segments,w,C)&&g.children[Rr])&&bI(g.children[Rr],v,I,C)}}function h0(g,v,E){return v.every((C,w)=>gI[E](g[w].parameters,C.parameters))}class Sl{constructor(v=new Kr([],{}),E={},C=null){this.root=v,this.queryParams=E,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ac(this.queryParams)),this._queryParamMap}toString(){return BN.serialize(this)}}class Kr{constructor(v,E){this.segments=v,this.children=E,this.parent=null,mi(E,(C,w)=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return p0(this)}}class Ih{constructor(v,E){this.path=v,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=Ac(this.parameters)),this._parameterMap}toString(){return DI(this)}}function fu(g,v){return g.length===v.length&&g.every((E,C)=>E.path===v[C].path)}let Ph=(()=>{class g{}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=kn({token:g,factory:function(){return new J_},providedIn:"root"}),g})();class J_{parse(v){const E=new HN(v);return new Sl(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(v){const E=`/${Th(v.root,!0)}`,C=function $N(g){const v=Object.keys(g).map(E=>{const C=g[E];return Array.isArray(C)?C.map(w=>`${f0(E)}=${f0(w)}`).join("&"):`${f0(E)}=${f0(C)}`}).filter(E=>!!E);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${E}${C}${"string"==typeof v.fragment?`#${function WN(g){return encodeURI(g)}(v.fragment)}`:""}`}}const BN=new J_;function p0(g){return g.segments.map(v=>DI(v)).join("/")}function Th(g,v){if(!g.hasChildren())return p0(g);if(v){const E=g.children[Rr]?Th(g.children[Rr],!1):"",C=[];return mi(g.children,(w,I)=>{I!==Rr&&C.push(`${I}:${Th(w,!1)}`)}),C.length>0?`${E}(${C.join("//")})`:E}{const E=function NN(g,v){let E=[];return mi(g.children,(C,w)=>{w===Rr&&(E=E.concat(v(C,w)))}),mi(g.children,(C,w)=>{w!==Rr&&(E=E.concat(v(C,w)))}),E}(g,(C,w)=>w===Rr?[Th(g.children[Rr],!1)]:[`${w}:${Th(C,!1)}`]);return 1===Object.keys(g.children).length&&null!=g.children[Rr]?`${p0(g)}/${E[0]}`:`${p0(g)}/(${E.join("//")})`}}function CI(g){return encodeURIComponent(g).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function f0(g){return CI(g).replace(/%3B/gi,";")}function Y_(g){return CI(g).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function m0(g){return decodeURIComponent(g)}function MI(g){return m0(g.replace(/\+/g,"%20"))}function DI(g){return`${Y_(g.path)}${function VN(g){return Object.keys(g).map(v=>`;${Y_(v)}=${Y_(g[v])}`).join("")}(g.parameters)}`}const ZN=/^[^\/()?;=#]+/;function y0(g){const v=g.match(ZN);return v?v[0]:""}const KN=/^[^=?&#]+/,GN=/^[^&#]+/;class HN{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kr([],{}):new Kr([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(v.length>0||Object.keys(E).length>0)&&(C[Rr]=new Kr(v,E)),C}parseSegment(){const v=y0(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new Ht(4009,d0);return this.capture(v),new Ih(m0(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const E=y0(this.remaining);if(!E)return;this.capture(E);let C="";if(this.consumeOptional("=")){const w=y0(this.remaining);w&&(C=w,this.capture(C))}v[m0(E)]=m0(C)}parseQueryParam(v){const E=function zN(g){const v=g.match(KN);return v?v[0]:""}(this.remaining);if(!E)return;this.capture(E);let C="";if(this.consumeOptional("=")){const A=function kN(g){const v=g.match(GN);return v?v[0]:""}(this.remaining);A&&(C=A,this.capture(C))}const w=MI(E),I=MI(C);if(v.hasOwnProperty(w)){let A=v[w];Array.isArray(A)||(A=[A],v[w]=A),A.push(I)}else v[w]=I}parseParens(v){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=y0(this.remaining),w=this.remaining[C.length];if("/"!==w&&")"!==w&&";"!==w)throw new Ht(4010,d0);let I;C.indexOf(":")>-1?(I=C.slice(0,C.indexOf(":")),this.capture(I),this.capture(":")):v&&(I=Rr);const A=this.parseChildren();E[I]=1===Object.keys(A).length?A[Rr]:new Kr([],A),this.consumeOptional("//")}return E}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new Ht(4011,d0)}}function Q_(g){return g.segments.length>0?new Kr([],{[Rr]:g}):g}function g0(g){const v={};for(const C of Object.keys(g.children)){const I=g0(g.children[C]);(I.segments.length>0||I.hasChildren())&&(v[C]=I)}return function JN(g){if(1===g.numberOfChildren&&g.children[Rr]){const v=g.children[Rr];return new Kr(g.segments.concat(v.segments),v.children)}return g}(new Kr(g.segments,v))}function mu(g){return g instanceof Sl}const X_=!1;function YN(g,v,E,C,w){if(0===E.length)return xc(v.root,v.root,v.root,C,w);const I=function PI(g){if("string"==typeof g[0]&&1===g.length&&"/"===g[0])return new II(!0,0,g);let v=0,E=!1;const C=g.reduce((w,I,A)=>{if("object"==typeof I&&null!=I){if(I.outlets){const G={};return mi(I.outlets,(pe,Ee)=>{G[Ee]="string"==typeof pe?pe.split("/"):pe}),[...w,{outlets:G}]}if(I.segmentPath)return[...w,I.segmentPath]}return"string"!=typeof I?[...w,I]:0===A?(I.split("/").forEach((G,pe)=>{0==pe&&"."===G||(0==pe&&""===G?E=!0:".."===G?v++:""!=G&&w.push(G))}),w):[...w,I]},[]);return new II(E,v,C)}(E);return I.toRoot()?xc(v.root,v.root,new Kr([],{}),C,w):function A(pe){const Ee=function XN(g,v,E,C){if(g.isAbsolute)return new Rc(v.root,!0,0);if(-1===C)return new Rc(E,E===v.root,0);return function TI(g,v,E){let C=g,w=v,I=E;for(;I>w;){if(I-=w,C=C.parent,!C)throw new Ht(4005,X_&&"Invalid number of '../'");w=C.segments.length}return new Rc(C,!1,w-I)}(E,C+(Ah(g.commands[0])?0:1),g.numberOfDoubleDots)}(I,v,g.snapshot?._urlSegment,pe),Ue=Ee.processChildren?Lc(Ee.segmentGroup,Ee.index,I.commands):q_(Ee.segmentGroup,Ee.index,I.commands);return xc(v.root,Ee.segmentGroup,Ue,C,w)}(g.snapshot?._lastPathIndex)}function Ah(g){return"object"==typeof g&&null!=g&&!g.outlets&&!g.segmentPath}function xh(g){return"object"==typeof g&&null!=g&&g.outlets}function xc(g,v,E,C,w){let A,I={};C&&mi(C,(pe,Ee)=>{I[Ee]=Array.isArray(pe)?pe.map(Ue=>`${Ue}`):`${pe}`}),A=g===v?E:wI(g,v,E);const G=Q_(g0(A));return new Sl(G,I,w)}function wI(g,v,E){const C={};return mi(g.children,(w,I)=>{C[I]=w===v?E:wI(w,v,E)}),new Kr(g.segments,C)}class II{constructor(v,E,C){if(this.isAbsolute=v,this.numberOfDoubleDots=E,this.commands=C,v&&C.length>0&&Ah(C[0]))throw new Ht(4003,X_&&"Root segment cannot have matrix parameters");const w=C.find(xh);if(w&&w!==yI(C))throw new Ht(4004,X_&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rc{constructor(v,E,C){this.segmentGroup=v,this.processChildren=E,this.index=C}}function q_(g,v,E){if(g||(g=new Kr([],{})),0===g.segments.length&&g.hasChildren())return Lc(g,v,E);const C=function e9(g,v,E){let C=0,w=v;const I={match:!1,pathIndex:0,commandIndex:0};for(;w<g.segments.length;){if(C>=E.length)return I;const A=g.segments[w],G=E[C];if(xh(G))break;const pe=`${G}`,Ee=C<E.length-1?E[C+1]:null;if(w>0&&void 0===pe)break;if(pe&&Ee&&"object"==typeof Ee&&void 0===Ee.outlets){if(!xI(pe,Ee,A))return I;C+=2}else{if(!xI(pe,{},A))return I;C++}w++}return{match:!0,pathIndex:w,commandIndex:C}}(g,v,E),w=E.slice(C.commandIndex);if(C.match&&C.pathIndex<g.segments.length){const I=new Kr(g.segments.slice(0,C.pathIndex),{});return I.children[Rr]=new Kr(g.segments.slice(C.pathIndex),g.children),Lc(I,0,w)}return C.match&&0===w.length?new Kr(g.segments,{}):C.match&&!g.hasChildren()?ev(g,v,E):C.match?Lc(g,0,w):ev(g,v,E)}function Lc(g,v,E){if(0===E.length)return new Kr(g.segments,{});{const C=function qN(g){return xh(g[0])?g[0].outlets:{[Rr]:g}}(E),w={};return!C[Rr]&&g.children[Rr]&&1===g.numberOfChildren&&0===g.children[Rr].segments.length?Lc(g.children[Rr],v,E):(mi(C,(I,A)=>{"string"==typeof I&&(I=[I]),null!==I&&(w[A]=q_(g.children[A],v,I))}),mi(g.children,(I,A)=>{void 0===C[A]&&(w[A]=I)}),new Kr(g.segments,w))}}function ev(g,v,E){const C=g.segments.slice(0,v);let w=0;for(;w<E.length;){const I=E[w];if(xh(I)){const pe=t9(I.outlets);return new Kr(C,pe)}if(0===w&&Ah(E[0])){C.push(new Ih(g.segments[v].path,AI(E[0]))),w++;continue}const A=xh(I)?I.outlets[Rr]:`${I}`,G=w<E.length-1?E[w+1]:null;A&&G&&Ah(G)?(C.push(new Ih(A,AI(G))),w+=2):(C.push(new Ih(A,{})),w++)}return new Kr(C,{})}function t9(g){const v={};return mi(g,(E,C)=>{"string"==typeof E&&(E=[E]),null!==E&&(v[C]=ev(new Kr([],{}),0,E))}),v}function AI(g){const v={};return mi(g,(E,C)=>v[C]=`${E}`),v}function xI(g,v,E){return g==E.path&&la(v,E.parameters)}const Rh="imperative";class ua{constructor(v,E){this.id=v,this.url=E}}class tv extends ua{constructor(v,E,C="imperative",w=null){super(v,E),this.type=0,this.navigationTrigger=C,this.restoredState=w}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yu extends ua{constructor(v,E,C){super(v,E),this.urlAfterRedirects=C,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _0 extends ua{constructor(v,E,C,w){super(v,E),this.reason=C,this.code=w,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class v0 extends ua{constructor(v,E,C,w){super(v,E),this.reason=C,this.code=w,this.type=16}}class nv extends ua{constructor(v,E,C,w){super(v,E),this.error=C,this.target=w,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class n9 extends ua{constructor(v,E,C,w){super(v,E),this.urlAfterRedirects=C,this.state=w,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r9 extends ua{constructor(v,E,C,w){super(v,E),this.urlAfterRedirects=C,this.state=w,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s9 extends ua{constructor(v,E,C,w,I){super(v,E),this.urlAfterRedirects=C,this.state=w,this.shouldActivate=I,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class i9 extends ua{constructor(v,E,C,w){super(v,E),this.urlAfterRedirects=C,this.state=w,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o9 extends ua{constructor(v,E,C,w){super(v,E),this.urlAfterRedirects=C,this.state=w,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a9{constructor(v){this.route=v,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class l9{constructor(v){this.route=v,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class u9{constructor(v){this.snapshot=v,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c9{constructor(v){this.snapshot=v,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d9{constructor(v){this.snapshot=v,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h9{constructor(v){this.snapshot=v,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RI{constructor(v,E,C){this.routerEvent=v,this.position=E,this.anchor=C,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let m9=(()=>{class g{createUrlTree(E,C,w,I,A,G){return YN(E||C.root,w,I,A,G)}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=kn({token:g,factory:g.\u0275fac}),g})(),g9=(()=>{class g{}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=kn({token:g,factory:function(v){return m9.\u0275fac(v)},providedIn:"root"}),g})();class LI{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const E=this.pathFromRoot(v);return E.length>1?E[E.length-2]:null}children(v){const E=rv(v,this._root);return E?E.children.map(C=>C.value):[]}firstChild(v){const E=rv(v,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(v){const E=sv(v,this._root);return E.length<2?[]:E[E.length-2].children.map(w=>w.value).filter(w=>w!==v)}pathFromRoot(v){return sv(v,this._root).map(E=>E.value)}}function rv(g,v){if(g===v.value)return v;for(const E of v.children){const C=rv(g,E);if(C)return C}return null}function sv(g,v){if(g===v.value)return[v];for(const E of v.children){const C=sv(g,E);if(C.length)return C.unshift(v),C}return[]}class za{constructor(v,E){this.value=v,this.children=E}toString(){return`TreeNode(${this.value})`}}function jc(g){const v={};return g&&g.children.forEach(E=>v[E.value.outlet]=E),v}class jI extends LI{constructor(v,E){super(v),this.snapshot=E,iv(this,v)}toString(){return this.snapshot.toString()}}function UI(g,v){const E=function _9(g,v){const A=new E0([],{},{},"",{},Rr,v,null,g.root,-1,{});return new NI("",new za(A,[]))}(g,v),C=new Zo([new Ih("",{})]),w=new Zo({}),I=new Zo({}),A=new Zo({}),G=new Zo(""),pe=new Uc(C,w,A,G,I,Rr,v,E.root);return pe.snapshot=E.root,new jI(new za(pe,[]),E)}class Uc{constructor(v,E,C,w,I,A,G,pe){this.url=v,this.params=E,this.queryParams=C,this.fragment=w,this.data=I,this.outlet=A,this.component=G,this.title=this.data?.pipe(fe(Ee=>Ee[wh]))??pr(void 0),this._futureSnapshot=pe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(fe(v=>Ac(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(fe(v=>Ac(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function FI(g,v="emptyOnly"){const E=g.pathFromRoot;let C=0;if("always"!==v)for(C=E.length-1;C>=1;){const w=E[C],I=E[C-1];if(w.routeConfig&&""===w.routeConfig.path)C--;else{if(I.component)break;C--}}return function v9(g){return g.reduce((v,E)=>({params:{...v.params,...E.params},data:{...v.data,...E.data},resolve:{...E.data,...v.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(C))}class E0{get title(){return this.data?.[wh]}constructor(v,E,C,w,I,A,G,pe,Ee,Ue,Be){this.url=v,this.params=E,this.queryParams=C,this.fragment=w,this.data=I,this.outlet=A,this.component=G,this.routeConfig=pe,this._urlSegment=Ee,this._lastPathIndex=Ue,this._resolve=Be}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ac(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ac(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class NI extends LI{constructor(v,E){super(E),this.url=v,iv(this,E)}toString(){return BI(this._root)}}function iv(g,v){v.value._routerState=g,v.children.forEach(E=>iv(g,E))}function BI(g){const v=g.children.length>0?` { ${g.children.map(BI).join(", ")} } `:"";return`${g.value}${v}`}function ov(g){if(g.snapshot){const v=g.snapshot,E=g._futureSnapshot;g.snapshot=E,la(v.queryParams,E.queryParams)||g.queryParams.next(E.queryParams),v.fragment!==E.fragment&&g.fragment.next(E.fragment),la(v.params,E.params)||g.params.next(E.params),function RN(g,v){if(g.length!==v.length)return!1;for(let E=0;E<g.length;++E)if(!la(g[E],v[E]))return!1;return!0}(v.url,E.url)||g.url.next(E.url),la(v.data,E.data)||g.data.next(E.data)}else g.snapshot=g._futureSnapshot,g.data.next(g._futureSnapshot.data)}function av(g,v){const E=la(g.params,v.params)&&function FN(g,v){return fu(g,v)&&g.every((E,C)=>la(E.parameters,v[C].parameters))}(g.url,v.url);return E&&!(!g.parent!=!v.parent)&&(!g.parent||av(g.parent,v.parent))}function Lh(g,v,E){if(E&&g.shouldReuseRoute(v.value,E.value.snapshot)){const C=E.value;C._futureSnapshot=v.value;const w=function b9(g,v,E){return v.children.map(C=>{for(const w of E.children)if(g.shouldReuseRoute(C.value,w.value.snapshot))return Lh(g,C,w);return Lh(g,C)})}(g,v,E);return new za(C,w)}{if(g.shouldAttach(v.value)){const I=g.retrieve(v.value);if(null!==I){const A=I.route;return A.value._futureSnapshot=v.value,A.children=v.children.map(G=>Lh(g,G)),A}}const C=function C9(g){return new Uc(new Zo(g.url),new Zo(g.params),new Zo(g.queryParams),new Zo(g.fragment),new Zo(g.data),g.outlet,g.component,g)}(v.value),w=v.children.map(I=>Lh(g,I));return new za(C,w)}}const lv="ngNavigationCancelingError";function WI(g,v){const{redirectTo:E,navigationBehaviorOptions:C}=mu(v)?{redirectTo:v,navigationBehaviorOptions:void 0}:v,w=VI(!1,0,v);return w.url=E,w.navigationBehaviorOptions=C,w}function VI(g,v,E){const C=new Error("NavigationCancelingError: "+(g||""));return C[lv]=!0,C.cancellationCode=v,E&&(C.url=E),C}function $I(g){return ZI(g)&&mu(g.url)}function ZI(g){return g&&g[lv]}class M9{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new jh,this.attachRef=null}}let jh=(()=>{class g{constructor(){this.contexts=new Map}onChildOutletCreated(E,C){const w=this.getOrCreateContext(E);w.outlet=C,this.contexts.set(E,w)}onChildOutletDestroyed(E){const C=this.getContext(E);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let C=this.getContext(E);return C||(C=new M9,this.contexts.set(E,C)),C}getContext(E){return this.contexts.get(E)||null}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=kn({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const b0=!1;let KI=(()=>{class g{constructor(){this.activated=null,this._activatedRoute=null,this.name=Rr,this.activateEvents=new Ts,this.deactivateEvents=new Ts,this.attachEvents=new Ts,this.detachEvents=new Ts,this.parentContexts=Dr(jh),this.location=Dr(Bo),this.changeDetector=Dr(Rf),this.environmentInjector=Dr(La)}ngOnChanges(E){if(E.name){const{firstChange:C,previousValue:w}=E.name;if(C)return;this.isTrackedInParentContexts(w)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(w)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ht(4012,b0);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ht(4012,b0);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ht(4012,b0);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,C){this.activated=E,this._activatedRoute=C,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,C){if(this.isActivated)throw new Ht(4013,b0);this._activatedRoute=E;const w=this.location,A=E.snapshot.component,G=this.parentContexts.getOrCreateContext(this.name).children,pe=new D9(E,G,w.injector);if(C&&function S9(g){return!!g.resolveComponentFactory}(C)){const Ee=C.resolveComponentFactory(A);this.activated=w.createComponent(Ee,w.length,pe)}else this.activated=w.createComponent(A,{index:w.length,injector:pe,environmentInjector:C??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275dir=fr({type:g,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[rs]}),g})();class D9{constructor(v,E,C){this.route=v,this.childContexts=E,this.parent=C}get(v,E){return v===Uc?this.route:v===jh?this.childContexts:this.parent.get(v,E)}}let uv=(()=>{class g{}return g.\u0275fac=function(E){return new(E||g)},g.\u0275cmp=Gr({type:g,selectors:[["ng-component"]],standalone:!0,features:[$D],decls:1,vars:0,template:function(E,C){1&E&&nh(0,"router-outlet")},dependencies:[KI],encapsulation:2}),g})();function zI(g,v){return g.providers&&!g._injector&&(g._injector=Df(g.providers,v,`Route: ${g.path}`)),g._injector??v}function dv(g){const v=g.children&&g.children.map(dv),E=v?{...g,children:v}:{...g};return!E.component&&!E.loadComponent&&(v||E.loadChildren)&&E.outlet&&E.outlet!==Rr&&(E.component=uv),E}function Oo(g){return g.outlet||Rr}function GI(g,v){const E=g.filter(C=>Oo(C)===v);return E.push(...g.filter(C=>Oo(C)!==v)),E}function Uh(g){if(!g)return null;if(g.routeConfig?._injector)return g.routeConfig._injector;for(let v=g.parent;v;v=v.parent){const E=v.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class T9{constructor(v,E,C,w){this.routeReuseStrategy=v,this.futureState=E,this.currState=C,this.forwardEvent=w}activate(v){const E=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,C,v),ov(this.futureState.root),this.activateChildRoutes(E,C,v)}deactivateChildRoutes(v,E,C){const w=jc(E);v.children.forEach(I=>{const A=I.value.outlet;this.deactivateRoutes(I,w[A],C),delete w[A]}),mi(w,(I,A)=>{this.deactivateRouteAndItsChildren(I,C)})}deactivateRoutes(v,E,C){const w=v.value,I=E?E.value:null;if(w===I)if(w.component){const A=C.getContext(w.outlet);A&&this.deactivateChildRoutes(v,E,A.children)}else this.deactivateChildRoutes(v,E,C);else I&&this.deactivateRouteAndItsChildren(E,C)}deactivateRouteAndItsChildren(v,E){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,E):this.deactivateRouteAndOutlet(v,E)}detachAndStoreRouteSubtree(v,E){const C=E.getContext(v.value.outlet),w=C&&v.value.component?C.children:E,I=jc(v);for(const A of Object.keys(I))this.deactivateRouteAndItsChildren(I[A],w);if(C&&C.outlet){const A=C.outlet.detach(),G=C.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:A,route:v,contexts:G})}}deactivateRouteAndOutlet(v,E){const C=E.getContext(v.value.outlet),w=C&&v.value.component?C.children:E,I=jc(v);for(const A of Object.keys(I))this.deactivateRouteAndItsChildren(I[A],w);C&&(C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated()),C.attachRef=null,C.resolver=null,C.route=null)}activateChildRoutes(v,E,C){const w=jc(E);v.children.forEach(I=>{this.activateRoutes(I,w[I.value.outlet],C),this.forwardEvent(new h9(I.value.snapshot))}),v.children.length&&this.forwardEvent(new c9(v.value.snapshot))}activateRoutes(v,E,C){const w=v.value,I=E?E.value:null;if(ov(w),w===I)if(w.component){const A=C.getOrCreateContext(w.outlet);this.activateChildRoutes(v,E,A.children)}else this.activateChildRoutes(v,E,C);else if(w.component){const A=C.getOrCreateContext(w.outlet);if(this.routeReuseStrategy.shouldAttach(w.snapshot)){const G=this.routeReuseStrategy.retrieve(w.snapshot);this.routeReuseStrategy.store(w.snapshot,null),A.children.onOutletReAttached(G.contexts),A.attachRef=G.componentRef,A.route=G.route.value,A.outlet&&A.outlet.attach(G.componentRef,G.route.value),ov(G.route.value),this.activateChildRoutes(v,null,A.children)}else{const G=Uh(w.snapshot),pe=G?.get(Yd)??null;A.attachRef=null,A.route=w,A.resolver=pe,A.injector=G,A.outlet&&A.outlet.activateWith(w,A.injector),this.activateChildRoutes(v,null,A.children)}}else this.activateChildRoutes(v,null,C)}}class kI{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class C0{constructor(v,E){this.component=v,this.route=E}}function A9(g,v,E){const C=g._root;return Fh(C,v?v._root:null,E,[C.value])}function Fc(g,v){const E=Symbol(),C=v.get(g,E);return C===E?"function"!=typeof g||function or(g){return null!==vn(g)}(g)?v.get(g):g:C}function Fh(g,v,E,C,w={canDeactivateChecks:[],canActivateChecks:[]}){const I=jc(v);return g.children.forEach(A=>{(function R9(g,v,E,C,w={canDeactivateChecks:[],canActivateChecks:[]}){const I=g.value,A=v?v.value:null,G=E?E.getContext(g.value.outlet):null;if(A&&I.routeConfig===A.routeConfig){const pe=function L9(g,v,E){if("function"==typeof E)return E(g,v);switch(E){case"pathParamsChange":return!fu(g.url,v.url);case"pathParamsOrQueryParamsChange":return!fu(g.url,v.url)||!la(g.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!av(g,v)||!la(g.queryParams,v.queryParams);default:return!av(g,v)}}(A,I,I.routeConfig.runGuardsAndResolvers);pe?w.canActivateChecks.push(new kI(C)):(I.data=A.data,I._resolvedData=A._resolvedData),Fh(g,v,I.component?G?G.children:null:E,C,w),pe&&G&&G.outlet&&G.outlet.isActivated&&w.canDeactivateChecks.push(new C0(G.outlet.component,A))}else A&&Nh(v,G,w),w.canActivateChecks.push(new kI(C)),Fh(g,null,I.component?G?G.children:null:E,C,w)})(A,I[A.value.outlet],E,C.concat([A.value]),w),delete I[A.value.outlet]}),mi(I,(A,G)=>Nh(A,E.getContext(G),w)),w}function Nh(g,v,E){const C=jc(g),w=g.value;mi(C,(I,A)=>{Nh(I,w.component?v?v.children.getContext(A):null:v,E)}),E.canDeactivateChecks.push(new C0(w.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,w))}function Bh(g){return"function"==typeof g}function hv(g){return g instanceof u0||"EmptyError"===g?.name}const M0=Symbol("INITIAL_VALUE");function Nc(){return aa(g=>aI(g.map(v=>v.pipe(Oh(1),function ON(...g){const v=Ne(g);return Re((E,C)=>{(v?z_(g,E,v):z_(g,E)).subscribe(C)})}(M0)))).pipe(fe(v=>{for(const E of v)if(!0!==E){if(E===M0)return M0;if(!1===E||E instanceof Sl)return E}return!0}),bl(v=>v!==M0),Oh(1)))}function HI(g){return function ge(...g){return be(g)}(Di(v=>{if(mu(v))throw WI(0,v)}),fe(v=>!0===v))}const pv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JI(g,v,E,C,w){const I=fv(g,v,E);return I.matched?function Q9(g,v,E,C){const w=v.canMatch;return w&&0!==w.length?pr(w.map(A=>{const G=Fc(A,g);return Dl(function W9(g){return g&&Bh(g.canMatch)}(G)?G.canMatch(v,E):g.runInContext(()=>G(v,E)))})).pipe(Nc(),HI()):pr(!0)}(C=zI(v,C),v,E).pipe(fe(A=>!0===A?I:{...pv})):pr(I)}function fv(g,v,E){if(""===v.path)return"full"===v.pathMatch&&(g.hasChildren()||E.length>0)?{...pv}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const w=(v.matcher||xN)(E,g,v);if(!w)return{...pv};const I={};mi(w.posParams,(G,pe)=>{I[pe]=G.path});const A=w.consumed.length>0?{...I,...w.consumed[w.consumed.length-1].parameters}:I;return{matched:!0,consumedSegments:w.consumed,remainingSegments:E.slice(w.consumed.length),parameters:A,positionalParamSegments:w.posParams??{}}}function D0(g,v,E,C){if(E.length>0&&function e7(g,v,E){return E.some(C=>S0(g,v,C)&&Oo(C)!==Rr)}(g,E,C)){const I=new Kr(v,function q9(g,v,E,C){const w={};w[Rr]=C,C._sourceSegment=g,C._segmentIndexShift=v.length;for(const I of E)if(""===I.path&&Oo(I)!==Rr){const A=new Kr([],{});A._sourceSegment=g,A._segmentIndexShift=v.length,w[Oo(I)]=A}return w}(g,v,C,new Kr(E,g.children)));return I._sourceSegment=g,I._segmentIndexShift=v.length,{segmentGroup:I,slicedSegments:[]}}if(0===E.length&&function t7(g,v,E){return E.some(C=>S0(g,v,C))}(g,E,C)){const I=new Kr(g.segments,function X9(g,v,E,C,w){const I={};for(const A of C)if(S0(g,E,A)&&!w[Oo(A)]){const G=new Kr([],{});G._sourceSegment=g,G._segmentIndexShift=v.length,I[Oo(A)]=G}return{...w,...I}}(g,v,E,C,g.children));return I._sourceSegment=g,I._segmentIndexShift=v.length,{segmentGroup:I,slicedSegments:E}}const w=new Kr(g.segments,g.children);return w._sourceSegment=g,w._segmentIndexShift=v.length,{segmentGroup:w,slicedSegments:E}}function S0(g,v,E){return(!(g.hasChildren()||v.length>0)||"full"!==E.pathMatch)&&""===E.path}function YI(g,v,E,C){return!!(Oo(g)===C||C!==Rr&&S0(v,E,g))&&("**"===g.path||fv(v,g,E).matched)}function QI(g,v,E){return 0===v.length&&!g.children[E]}const O0=!1;class w0{constructor(v){this.segmentGroup=v||null}}class XI{constructor(v){this.urlTree=v}}function Wh(g){return Sh(new w0(g))}function qI(g){return Sh(new XI(g))}class i7{constructor(v,E,C,w,I){this.injector=v,this.configLoader=E,this.urlSerializer=C,this.urlTree=w,this.config=I,this.allowRedirects=!0}apply(){const v=D0(this.urlTree.root,[],[],this.config).segmentGroup,E=new Kr(v.segments,v.children);return this.expandSegmentGroup(this.injector,this.config,E,Rr).pipe(fe(I=>this.createUrlTree(g0(I),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ml(I=>{if(I instanceof XI)return this.allowRedirects=!1,this.match(I.urlTree);throw I instanceof w0?this.noMatchError(I):I}))}match(v){return this.expandSegmentGroup(this.injector,this.config,v.root,Rr).pipe(fe(w=>this.createUrlTree(g0(w),v.queryParams,v.fragment))).pipe(Ml(w=>{throw w instanceof w0?this.noMatchError(w):w}))}noMatchError(v){return new Ht(4002,O0)}createUrlTree(v,E,C){const w=Q_(v);return new Sl(w,E,C)}expandSegmentGroup(v,E,C,w){return 0===C.segments.length&&C.hasChildren()?this.expandChildren(v,E,C).pipe(fe(I=>new Kr([],I))):this.expandSegment(v,C,E,C.segments,w,!0)}expandChildren(v,E,C){const w=[];for(const I of Object.keys(C.children))"primary"===I?w.unshift(I):w.push(I);return Un(w).pipe(pu(I=>{const A=C.children[I],G=GI(E,I);return this.expandSegmentGroup(v,G,A,I).pipe(fe(pe=>({segment:pe,outlet:I})))}),hI((I,A)=>(I[A.outlet]=A.segment,I),{}),pI())}expandSegment(v,E,C,w,I,A){return Un(C).pipe(pu(G=>this.expandSegmentAgainstRoute(v,E,C,G,w,I,A).pipe(Ml(Ee=>{if(Ee instanceof w0)return pr(null);throw Ee}))),Cl(G=>!!G),Ml((G,pe)=>{if(hv(G))return QI(E,w,I)?pr(new Kr([],{})):Wh(E);throw G}))}expandSegmentAgainstRoute(v,E,C,w,I,A,G){return YI(w,E,I,A)?void 0===w.redirectTo?this.matchSegmentAgainstRoute(v,E,w,I,A):G&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,E,C,w,I,A):Wh(E):Wh(E)}expandSegmentAgainstRouteUsingRedirect(v,E,C,w,I,A){return"**"===w.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,C,w,A):this.expandRegularSegmentAgainstRouteUsingRedirect(v,E,C,w,I,A)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,E,C,w){const I=this.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?qI(I):this.lineralizeSegments(C,I).pipe(Pt(A=>{const G=new Kr(A,{});return this.expandSegment(v,G,E,A,w,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,E,C,w,I,A){const{matched:G,consumedSegments:pe,remainingSegments:Ee,positionalParamSegments:Ue}=fv(E,w,I);if(!G)return Wh(E);const Be=this.applyRedirectCommands(pe,w.redirectTo,Ue);return w.redirectTo.startsWith("/")?qI(Be):this.lineralizeSegments(w,Be).pipe(Pt(lt=>this.expandSegment(v,E,C,lt.concat(Ee),A,!1)))}matchSegmentAgainstRoute(v,E,C,w,I){return"**"===C.path?(v=zI(C,v),C.loadChildren?(C._loadedRoutes?pr({routes:C._loadedRoutes,injector:C._loadedInjector}):this.configLoader.loadChildren(v,C)).pipe(fe(G=>(C._loadedRoutes=G.routes,C._loadedInjector=G.injector,new Kr(w,{})))):pr(new Kr(w,{}))):JI(E,C,w,v).pipe(aa(({matched:A,consumedSegments:G,remainingSegments:pe})=>A?this.getChildConfig(v=C._injector??v,C,w).pipe(Pt(Ue=>{const Be=Ue.injector??v,lt=Ue.routes,{segmentGroup:ht,slicedSegments:wt}=D0(E,G,pe,lt),Gt=new Kr(ht.segments,ht.children);if(0===wt.length&&Gt.hasChildren())return this.expandChildren(Be,lt,Gt).pipe(fe(an=>new Kr(G,an)));if(0===lt.length&&0===wt.length)return pr(new Kr(G,{}));const qt=Oo(C)===I;return this.expandSegment(Be,Gt,lt,wt,qt?Rr:I,!0).pipe(fe(Ln=>new Kr(G.concat(Ln.segments),Ln.children)))})):Wh(E)))}getChildConfig(v,E,C){return E.children?pr({routes:E.children,injector:v}):E.loadChildren?void 0!==E._loadedRoutes?pr({routes:E._loadedRoutes,injector:E._loadedInjector}):function Y9(g,v,E,C){const w=v.canLoad;return void 0===w||0===w.length?pr(!0):pr(w.map(A=>{const G=Fc(A,g);return Dl(function U9(g){return g&&Bh(g.canLoad)}(G)?G.canLoad(v,E):g.runInContext(()=>G(v,E)))})).pipe(Nc(),HI())}(v,E,C).pipe(Pt(w=>w?this.configLoader.loadChildren(v,E).pipe(Di(I=>{E._loadedRoutes=I.routes,E._loadedInjector=I.injector})):function r7(g){return Sh(VI(O0,3))}())):pr({routes:[],injector:v})}lineralizeSegments(v,E){let C=[],w=E.root;for(;;){if(C=C.concat(w.segments),0===w.numberOfChildren)return pr(C);if(w.numberOfChildren>1||!w.children[Rr])return v.redirectTo,Sh(new Ht(4e3,O0));w=w.children[Rr]}}applyRedirectCommands(v,E,C){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),v,C)}applyRedirectCreateUrlTree(v,E,C,w){const I=this.createSegmentGroup(v,E.root,C,w);return new Sl(I,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(v,E){const C={};return mi(v,(w,I)=>{if("string"==typeof w&&w.startsWith(":")){const G=w.substring(1);C[I]=E[G]}else C[I]=w}),C}createSegmentGroup(v,E,C,w){const I=this.createSegments(v,E.segments,C,w);let A={};return mi(E.children,(G,pe)=>{A[pe]=this.createSegmentGroup(v,G,C,w)}),new Kr(I,A)}createSegments(v,E,C,w){return E.map(I=>I.path.startsWith(":")?this.findPosParam(v,I,w):this.findOrReturn(I,C))}findPosParam(v,E,C){const w=C[E.path.substring(1)];if(!w)throw new Ht(4001,O0);return w}findOrReturn(v,E){let C=0;for(const w of E){if(w.path===v.path)return E.splice(C),w;C++}return v}}class a7{}class c7{constructor(v,E,C,w,I,A,G){this.injector=v,this.rootComponentType=E,this.config=C,this.urlTree=w,this.url=I,this.paramsInheritanceStrategy=A,this.urlSerializer=G}recognize(){const v=D0(this.urlTree.root,[],[],this.config.filter(E=>void 0===E.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,v,Rr).pipe(fe(E=>{if(null===E)return null;const C=new E0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rr,this.rootComponentType,null,this.urlTree.root,-1,{}),w=new za(C,E),I=new NI(this.url,w);return this.inheritParamsAndData(I._root),I}))}inheritParamsAndData(v){const E=v.value,C=FI(E,this.paramsInheritanceStrategy);E.params=Object.freeze(C.params),E.data=Object.freeze(C.data),v.children.forEach(w=>this.inheritParamsAndData(w))}processSegmentGroup(v,E,C,w){return 0===C.segments.length&&C.hasChildren()?this.processChildren(v,E,C):this.processSegment(v,E,C,C.segments,w)}processChildren(v,E,C){return Un(Object.keys(C.children)).pipe(pu(w=>{const I=C.children[w],A=GI(E,w);return this.processSegmentGroup(v,A,I,w)}),hI((w,I)=>w&&I?(w.push(...I),w):null),function PN(g,v=!1){return Re((E,C)=>{let w=0;E.subscribe(we(C,I=>{const A=g(I,w++);(A||v)&&C.next(I),!A&&C.complete()}))})}(w=>null!==w),c0(null),pI(),fe(w=>{if(null===w)return null;const I=tP(w);return function d7(g){g.sort((v,E)=>v.value.outlet===Rr?-1:E.value.outlet===Rr?1:v.value.outlet.localeCompare(E.value.outlet))}(I),I}))}processSegment(v,E,C,w,I){return Un(E).pipe(pu(A=>this.processSegmentAgainstRoute(A._injector??v,A,C,w,I)),Cl(A=>!!A),Ml(A=>{if(hv(A))return QI(C,w,I)?pr([]):pr(null);throw A}))}processSegmentAgainstRoute(v,E,C,w,I){if(E.redirectTo||!YI(E,C,w,I))return pr(null);let A;if("**"===E.path){const G=w.length>0?yI(w).parameters:{},pe=rP(C)+w.length;A=pr({snapshot:new E0(w,G,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sP(E),Oo(E),E.component??E._loadedComponent??null,E,nP(C),pe,iP(E)),consumedSegments:[],remainingSegments:[]})}else A=JI(C,E,w,v).pipe(fe(({matched:G,consumedSegments:pe,remainingSegments:Ee,parameters:Ue})=>{if(!G)return null;const Be=rP(C)+pe.length;return{snapshot:new E0(pe,Ue,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sP(E),Oo(E),E.component??E._loadedComponent??null,E,nP(C),Be,iP(E)),consumedSegments:pe,remainingSegments:Ee}}));return A.pipe(aa(G=>{if(null===G)return pr(null);const{snapshot:pe,consumedSegments:Ee,remainingSegments:Ue}=G;v=E._injector??v;const Be=E._loadedInjector??v,lt=function h7(g){return g.children?g.children:g.loadChildren?g._loadedRoutes:[]}(E),{segmentGroup:ht,slicedSegments:wt}=D0(C,Ee,Ue,lt.filter(qt=>void 0===qt.redirectTo));if(0===wt.length&&ht.hasChildren())return this.processChildren(Be,lt,ht).pipe(fe(qt=>null===qt?null:[new za(pe,qt)]));if(0===lt.length&&0===wt.length)return pr([new za(pe,[])]);const Gt=Oo(E)===I;return this.processSegment(Be,lt,ht,wt,Gt?Rr:I).pipe(fe(qt=>null===qt?null:[new za(pe,qt)]))}))}}function p7(g){const v=g.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function tP(g){const v=[],E=new Set;for(const C of g){if(!p7(C)){v.push(C);continue}const w=v.find(I=>C.value.routeConfig===I.value.routeConfig);void 0!==w?(w.children.push(...C.children),E.add(w)):v.push(C)}for(const C of E){const w=tP(C.children);v.push(new za(C.value,w))}return v.filter(C=>!E.has(C))}function nP(g){let v=g;for(;v._sourceSegment;)v=v._sourceSegment;return v}function rP(g){let v=g,E=v._segmentIndexShift??0;for(;v._sourceSegment;)v=v._sourceSegment,E+=v._segmentIndexShift??0;return E-1}function sP(g){return g.data||{}}function iP(g){return g.resolve||{}}function oP(g){return"string"==typeof g.title||null===g.title}function mv(g){return aa(v=>{const E=g(v);return E?Un(E).pipe(fe(()=>v)):pr(v)})}const Bc=new ar("ROUTES");let yv=(()=>{class g{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Dr(TS)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return pr(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const C=Dl(E.loadComponent()).pipe(fe(lP),Di(I=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=I}),H_(()=>{this.componentLoaders.delete(E)})),w=new cI(C,()=>new De).pipe(G_());return this.componentLoaders.set(E,w),w}loadChildren(E,C){if(this.childrenLoaders.get(C))return this.childrenLoaders.get(C);if(C._loadedRoutes)return pr({routes:C._loadedRoutes,injector:C._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(C);const I=this.loadModuleFactoryOrRoutes(C.loadChildren).pipe(fe(G=>{this.onLoadEndListener&&this.onLoadEndListener(C);let pe,Ee,Ue=!1;Array.isArray(G)?Ee=G:(pe=G.create(E).injector,Ee=mI(pe.get(Bc,[],Ct.Self|Ct.Optional)));return{routes:Ee.map(dv),injector:pe}}),H_(()=>{this.childrenLoaders.delete(C)})),A=new cI(I,()=>new De).pipe(G_());return this.childrenLoaders.set(C,A),A}loadModuleFactoryOrRoutes(E){return Dl(E()).pipe(fe(lP),Pt(C=>C instanceof WD||Array.isArray(C)?pr(C):Un(this.compiler.compileModuleAsync(C))))}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=kn({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function lP(g){return function b7(g){return g&&"object"==typeof g&&"default"in g}(g)?g.default:g}let P0=(()=>{class g{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new De,this.configLoader=Dr(yv),this.environmentInjector=Dr(La),this.urlSerializer=Dr(Ph),this.rootContexts=Dr(jh),this.navigationId=0,this.afterPreactivation=()=>pr(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=w=>this.events.next(new l9(w)),this.configLoader.onLoadStartListener=w=>this.events.next(new a9(w))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const C=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:C})}setupNavigations(E){return this.transitions=new Zo({id:0,targetPageId:0,currentUrlTree:E.currentUrlTree,currentRawUrl:E.currentUrlTree,extractedUrl:E.urlHandlingStrategy.extract(E.currentUrlTree),urlAfterRedirects:E.urlHandlingStrategy.extract(E.currentUrlTree),rawUrl:E.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rh,restoredState:null,currentSnapshot:E.routerState.snapshot,targetSnapshot:null,currentRouterState:E.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(bl(C=>0!==C.id),fe(C=>({...C,extractedUrl:E.urlHandlingStrategy.extract(C.rawUrl)})),aa(C=>{let w=!1,I=!1;return pr(C).pipe(Di(A=>{this.currentNavigation={id:A.id,initialUrl:A.rawUrl,extractedUrl:A.extractedUrl,trigger:A.source,extras:A.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),aa(A=>{const G=E.browserUrlTree.toString(),pe=!E.navigated||A.extractedUrl.toString()!==G||G!==E.currentUrlTree.toString();if(!pe&&"reload"!==(A.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const Ue="";return this.events.next(new v0(A.id,E.serializeUrl(C.rawUrl),Ue,0)),E.rawUrlTree=A.rawUrl,A.resolve(null),tn}if(E.urlHandlingStrategy.shouldProcessUrl(A.rawUrl))return uP(A.source)&&(E.browserUrlTree=A.extractedUrl),pr(A).pipe(aa(Ue=>{const Be=this.transitions?.getValue();return this.events.next(new tv(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),Ue.source,Ue.restoredState)),Be!==this.transitions?.getValue()?tn:Promise.resolve(Ue)}),function o7(g,v,E,C){return aa(w=>function s7(g,v,E,C,w){return new i7(g,v,E,C,w).apply()}(g,v,E,w.extractedUrl,C).pipe(fe(I=>({...w,urlAfterRedirects:I}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,E.config),Di(Ue=>{this.currentNavigation={...this.currentNavigation,finalUrl:Ue.urlAfterRedirects},C.urlAfterRedirects=Ue.urlAfterRedirects}),function m7(g,v,E,C,w){return Pt(I=>function u7(g,v,E,C,w,I,A="emptyOnly"){return new c7(g,v,E,C,w,A,I).recognize().pipe(aa(G=>null===G?function l7(g){return new me(v=>v.error(g))}(new a7):pr(G)))}(g,v,E,I.urlAfterRedirects,C.serialize(I.urlAfterRedirects),C,w).pipe(fe(A=>({...I,targetSnapshot:A}))))}(this.environmentInjector,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),Di(Ue=>{if(C.targetSnapshot=Ue.targetSnapshot,"eager"===E.urlUpdateStrategy){if(!Ue.extras.skipLocationChange){const lt=E.urlHandlingStrategy.merge(Ue.urlAfterRedirects,Ue.rawUrl);E.setBrowserUrl(lt,Ue)}E.browserUrlTree=Ue.urlAfterRedirects}const Be=new n9(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot);this.events.next(Be)}));if(pe&&E.urlHandlingStrategy.shouldProcessUrl(E.rawUrlTree)){const{id:Ue,extractedUrl:Be,source:lt,restoredState:ht,extras:wt}=A,Gt=new tv(Ue,this.urlSerializer.serialize(Be),lt,ht);this.events.next(Gt);const qt=UI(Be,this.rootComponentType).snapshot;return pr(C={...A,targetSnapshot:qt,urlAfterRedirects:Be,extras:{...wt,skipLocationChange:!1,replaceUrl:!1}})}{const Ue="";return this.events.next(new v0(A.id,E.serializeUrl(C.extractedUrl),Ue,1)),E.rawUrlTree=A.rawUrl,A.resolve(null),tn}}),Di(A=>{const G=new r9(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot);this.events.next(G)}),fe(A=>C={...A,guards:A9(A.targetSnapshot,A.currentSnapshot,this.rootContexts)}),function $9(g,v){return Pt(E=>{const{targetSnapshot:C,currentSnapshot:w,guards:{canActivateChecks:I,canDeactivateChecks:A}}=E;return 0===A.length&&0===I.length?pr({...E,guardsResult:!0}):function Z9(g,v,E,C){return Un(g).pipe(Pt(w=>function J9(g,v,E,C,w){const I=v&&v.routeConfig?v.routeConfig.canDeactivate:null;return I&&0!==I.length?pr(I.map(G=>{const pe=Uh(v)??w,Ee=Fc(G,pe);return Dl(function B9(g){return g&&Bh(g.canDeactivate)}(Ee)?Ee.canDeactivate(g,v,E,C):pe.runInContext(()=>Ee(g,v,E,C))).pipe(Cl())})).pipe(Nc()):pr(!0)}(w.component,w.route,E,v,C)),Cl(w=>!0!==w,!0))}(A,C,w,g).pipe(Pt(G=>G&&function j9(g){return"boolean"==typeof g}(G)?function K9(g,v,E,C){return Un(v).pipe(pu(w=>z_(function G9(g,v){return null!==g&&v&&v(new u9(g)),pr(!0)}(w.route.parent,C),function z9(g,v){return null!==g&&v&&v(new d9(g)),pr(!0)}(w.route,C),function H9(g,v,E){const C=v[v.length-1],I=v.slice(0,v.length-1).reverse().map(A=>function x9(g){const v=g.routeConfig?g.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:g,guards:v}:null}(A)).filter(A=>null!==A).map(A=>uI(()=>pr(A.guards.map(pe=>{const Ee=Uh(A.node)??E,Ue=Fc(pe,Ee);return Dl(function N9(g){return g&&Bh(g.canActivateChild)}(Ue)?Ue.canActivateChild(C,g):Ee.runInContext(()=>Ue(C,g))).pipe(Cl())})).pipe(Nc())));return pr(I).pipe(Nc())}(g,w.path,E),function k9(g,v,E){const C=v.routeConfig?v.routeConfig.canActivate:null;if(!C||0===C.length)return pr(!0);const w=C.map(I=>uI(()=>{const A=Uh(v)??E,G=Fc(I,A);return Dl(function F9(g){return g&&Bh(g.canActivate)}(G)?G.canActivate(v,g):A.runInContext(()=>G(v,g))).pipe(Cl())}));return pr(w).pipe(Nc())}(g,w.route,E))),Cl(w=>!0!==w,!0))}(C,I,g,v):pr(G)),fe(G=>({...E,guardsResult:G})))})}(this.environmentInjector,A=>this.events.next(A)),Di(A=>{if(C.guardsResult=A.guardsResult,mu(A.guardsResult))throw WI(0,A.guardsResult);const G=new s9(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot,!!A.guardsResult);this.events.next(G)}),bl(A=>!!A.guardsResult||(E.restoreHistory(A),this.cancelNavigationTransition(A,"",3),!1)),mv(A=>{if(A.guards.canActivateChecks.length)return pr(A).pipe(Di(G=>{const pe=new i9(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(G.urlAfterRedirects),G.targetSnapshot);this.events.next(pe)}),aa(G=>{let pe=!1;return pr(G).pipe(function y7(g,v){return Pt(E=>{const{targetSnapshot:C,guards:{canActivateChecks:w}}=E;if(!w.length)return pr(E);let I=0;return Un(w).pipe(pu(A=>function g7(g,v,E,C){const w=g.routeConfig,I=g._resolve;return void 0!==w?.title&&!oP(w)&&(I[wh]=w.title),function _7(g,v,E,C){const w=function v7(g){return[...Object.keys(g),...Object.getOwnPropertySymbols(g)]}(g);if(0===w.length)return pr({});const I={};return Un(w).pipe(Pt(A=>function E7(g,v,E,C){const w=Uh(v)??C,I=Fc(g,w);return Dl(I.resolve?I.resolve(v,E):w.runInContext(()=>I(v,E)))}(g[A],v,E,C).pipe(Cl(),Di(G=>{I[A]=G}))),k_(1),function TN(g){return fe(()=>g)}(I),Ml(A=>hv(A)?tn:Sh(A)))}(I,g,v,C).pipe(fe(A=>(g._resolvedData=A,g.data=FI(g,E).resolve,w&&oP(w)&&(g.data[wh]=w.title),null)))}(A.route,C,g,v)),Di(()=>I++),k_(1),Pt(A=>I===w.length?pr(E):tn))})}(E.paramsInheritanceStrategy,this.environmentInjector),Di({next:()=>pe=!0,complete:()=>{pe||(E.restoreHistory(G),this.cancelNavigationTransition(G,"",2))}}))}),Di(G=>{const pe=new o9(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(G.urlAfterRedirects),G.targetSnapshot);this.events.next(pe)}))}),mv(A=>{const G=pe=>{const Ee=[];pe.routeConfig?.loadComponent&&!pe.routeConfig._loadedComponent&&Ee.push(this.configLoader.loadComponent(pe.routeConfig).pipe(Di(Ue=>{pe.component=Ue}),fe(()=>{})));for(const Ue of pe.children)Ee.push(...G(Ue));return Ee};return aI(G(A.targetSnapshot.root)).pipe(c0(),Oh(1))}),mv(()=>this.afterPreactivation()),fe(A=>{const G=function E9(g,v,E){const C=Lh(g,v._root,E?E._root:void 0);return new jI(C,v)}(E.routeReuseStrategy,A.targetSnapshot,A.currentRouterState);return C={...A,targetRouterState:G}}),Di(A=>{E.currentUrlTree=A.urlAfterRedirects,E.rawUrlTree=E.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl),E.routerState=A.targetRouterState,"deferred"===E.urlUpdateStrategy&&(A.extras.skipLocationChange||E.setBrowserUrl(E.rawUrlTree,A),E.browserUrlTree=A.urlAfterRedirects)}),((g,v,E)=>fe(C=>(new T9(v,C.targetRouterState,C.currentRouterState,E).activate(g),C)))(this.rootContexts,E.routeReuseStrategy,A=>this.events.next(A)),Di({next:A=>{w=!0,this.lastSuccessfulNavigation=this.currentNavigation,E.navigated=!0,this.events.next(new yu(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(E.currentUrlTree))),E.titleStrategy?.updateTitle(A.targetRouterState.snapshot),A.resolve(!0)},complete:()=>{w=!0}}),H_(()=>{w||I||this.cancelNavigationTransition(C,"",1),this.currentNavigation?.id===C.id&&(this.currentNavigation=null)}),Ml(A=>{if(I=!0,ZI(A)){$I(A)||(E.navigated=!0,E.restoreHistory(C,!0));const G=new _0(C.id,this.urlSerializer.serialize(C.extractedUrl),A.message,A.cancellationCode);if(this.events.next(G),$I(A)){const pe=E.urlHandlingStrategy.merge(A.url,E.rawUrlTree),Ee={skipLocationChange:C.extras.skipLocationChange,replaceUrl:"eager"===E.urlUpdateStrategy||uP(C.source)};E.scheduleNavigation(pe,Rh,null,Ee,{resolve:C.resolve,reject:C.reject,promise:C.promise})}else C.resolve(!1)}else{E.restoreHistory(C,!0);const G=new nv(C.id,this.urlSerializer.serialize(C.extractedUrl),A,C.targetSnapshot??void 0);this.events.next(G);try{C.resolve(E.errorHandler(A))}catch(pe){C.reject(pe)}}return tn}))}))}cancelNavigationTransition(E,C,w){const I=new _0(E.id,this.urlSerializer.serialize(E.extractedUrl),C,w);this.events.next(I),E.resolve(!1)}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=kn({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function uP(g){return g!==Rh}let cP=(()=>{class g{buildTitle(E){let C,w=E.root;for(;void 0!==w;)C=this.getResolvedTitleForRoute(w)??C,w=w.children.find(I=>I.outlet===Rr);return C}getResolvedTitleForRoute(E){return E.data[wh]}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=kn({token:g,factory:function(){return Dr(C7)},providedIn:"root"}),g})(),C7=(()=>{class g extends cP{constructor(E){super(),this.title=E}updateTitle(E){const C=this.buildTitle(E);void 0!==C&&this.title.setTitle(C)}}return g.\u0275fac=function(E){return new(E||g)(sr(JO))},g.\u0275prov=kn({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),M7=(()=>{class g{}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=kn({token:g,factory:function(){return Dr(S7)},providedIn:"root"}),g})();class D7{shouldDetach(v){return!1}store(v,E){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,E){return v.routeConfig===E.routeConfig}}let S7=(()=>{class g extends D7{}return g.\u0275fac=function(){let v;return function(C){return(v||(v=fi(g)))(C||g)}}(),g.\u0275prov=kn({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const T0=new ar("",{providedIn:"root",factory:()=>({})});let w7=(()=>{class g{}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=kn({token:g,factory:function(){return Dr(I7)},providedIn:"root"}),g})(),I7=(()=>{class g{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,C){return E}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=kn({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function P7(g){throw g}function T7(g,v,E){return v.parse("/")}const A7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},x7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let po=(()=>{class g{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Dr(rU),this.isNgZoneEnabled=!1,this.options=Dr(T0,{optional:!0})||{},this.errorHandler=this.options.errorHandler||P7,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||T7,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Dr(w7),this.routeReuseStrategy=Dr(M7),this.urlCreationStrategy=Dr(g9),this.titleStrategy=Dr(cP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=mI(Dr(Bc,{optional:!0})??[]),this.navigationTransitions=Dr(P0),this.urlSerializer=Dr(Ph),this.location=Dr(qg),this.isNgZoneEnabled=Dr(Bs)instanceof Bs&&Bs.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Sl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=UI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Rh,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const C="popstate"===E.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,C,E.state)},0)}))}navigateToSyncWithBrowser(E,C,w){const I={replaceUrl:!0},A=w?.navigationId?w:null;if(w){const pe={...w};delete pe.navigationId,delete pe.\u0275routerPageId,0!==Object.keys(pe).length&&(I.state=pe)}const G=this.parseUrl(E);this.scheduleNavigation(G,C,A,I)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(E){this.config=E.map(dv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,C={}){const{relativeTo:w,queryParams:I,fragment:A,queryParamsHandling:G,preserveFragment:pe}=C,Ee=pe?this.currentUrlTree.fragment:A;let Ue=null;switch(G){case"merge":Ue={...this.currentUrlTree.queryParams,...I};break;case"preserve":Ue=this.currentUrlTree.queryParams;break;default:Ue=I||null}return null!==Ue&&(Ue=this.removeEmptyProps(Ue)),this.urlCreationStrategy.createUrlTree(w,this.routerState,this.currentUrlTree,E,Ue,Ee??null)}navigateByUrl(E,C={skipLocationChange:!1}){const w=mu(E)?E:this.parseUrl(E),I=this.urlHandlingStrategy.merge(w,this.rawUrlTree);return this.scheduleNavigation(I,Rh,null,C)}navigate(E,C={skipLocationChange:!1}){return function R7(g){for(let v=0;v<g.length;v++){const E=g[v];if(null==E)throw new Ht(4008,false)}}(E),this.navigateByUrl(this.createUrlTree(E,C),C)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let C;try{C=this.urlSerializer.parse(E)}catch(w){C=this.malformedUriErrorHandler(w,this.urlSerializer,E)}return C}isActive(E,C){let w;if(w=!0===C?{...A7}:!1===C?{...x7}:C,mu(E))return _I(this.currentUrlTree,E,w);const I=this.parseUrl(E);return _I(this.currentUrlTree,I,w)}removeEmptyProps(E){return Object.keys(E).reduce((C,w)=>{const I=E[w];return null!=I&&(C[w]=I),C},{})}scheduleNavigation(E,C,w,I,A){if(this.disposed)return Promise.resolve(!1);let G,pe,Ee,Ue;return A?(G=A.resolve,pe=A.reject,Ee=A.promise):Ee=new Promise((Be,lt)=>{G=Be,pe=lt}),Ue="computed"===this.canceledNavigationResolution?w&&w.\u0275routerPageId?w.\u0275routerPageId:I.replaceUrl||I.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Ue,source:C,restoredState:w,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:E,extras:I,resolve:G,reject:pe,promise:Ee,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ee.catch(Be=>Promise.reject(Be))}setBrowserUrl(E,C){const w=this.urlSerializer.serialize(E),I={...C.extras.state,...this.generateNgRouterState(C.id,C.targetPageId)};this.location.isCurrentPathEqualTo(w)||C.extras.replaceUrl?this.location.replaceState(w,"",I):this.location.go(w,"",I)}restoreHistory(E,C=!1){if("computed"===this.canceledNavigationResolution){const w=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===w?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===w&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(w)}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,C){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:C}:{navigationId:E}}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=kn({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();class dP{}let U7=(()=>{class g{constructor(E,C,w,I,A){this.router=E,this.injector=w,this.preloadingStrategy=I,this.loader=A}setUpPreloading(){this.subscription=this.router.events.pipe(bl(E=>E instanceof yu),pu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,C){const w=[];for(const I of C){I.providers&&!I._injector&&(I._injector=Df(I.providers,E,`Route: ${I.path}`));const A=I._injector??E,G=I._loadedInjector??A;(I.loadChildren&&!I._loadedRoutes&&void 0===I.canLoad||I.loadComponent&&!I._loadedComponent)&&w.push(this.preloadConfig(A,I)),(I.children||I._loadedRoutes)&&w.push(this.processRoutes(G,I.children??I._loadedRoutes))}return Un(w).pipe($t())}preloadConfig(E,C){return this.preloadingStrategy.preload(C,()=>{let w;w=C.loadChildren&&void 0===C.canLoad?this.loader.loadChildren(E,C):pr(null);const I=w.pipe(Pt(A=>null===A?pr(void 0):(C._loadedRoutes=A.routes,C._loadedInjector=A.injector,this.processRoutes(A.injector??E,A.routes))));return C.loadComponent&&!C._loadedComponent?Un([I,this.loader.loadComponent(C)]).pipe($t()):I})}}return g.\u0275fac=function(E){return new(E||g)(sr(po),sr(TS),sr(La),sr(dP),sr(yv))},g.\u0275prov=kn({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const vv=new ar("");let hP=(()=>{class g{constructor(E,C,w,I,A={}){this.urlSerializer=E,this.transitions=C,this.viewportScroller=w,this.zone=I,this.options=A,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},A.scrollPositionRestoration=A.scrollPositionRestoration||"disabled",A.anchorScrolling=A.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof tv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof yu&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof RI&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,C){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new RI(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return g.\u0275fac=function(E){!function VC(){throw new Error("invalid")}()},g.\u0275prov=kn({token:g,factory:g.\u0275fac}),g})();var fo=(()=>((fo=fo||{})[fo.COMPLETE=0]="COMPLETE",fo[fo.FAILED=1]="FAILED",fo[fo.REDIRECTING=2]="REDIRECTING",fo))();const Wc=!1;function Ol(g,v){return{\u0275kind:g,\u0275providers:v}}const Ev=new ar("",{providedIn:"root",factory:()=>!1});function fP(){const g=Dr(qo);return v=>{const E=g.get(Af);if(v!==E.components[0])return;const C=g.get(po),w=g.get(mP);1===g.get(bv)&&C.initialNavigation(),g.get(yP,null,Ct.Optional)?.setUpPreloading(),g.get(vv,null,Ct.Optional)?.init(),C.resetRootComponentType(E.componentTypes[0]),w.closed||(w.next(),w.unsubscribe())}}const mP=new ar(Wc?"bootstrap done indicator":"",{factory:()=>new De}),bv=new ar(Wc?"initial navigation":"",{providedIn:"root",factory:()=>1});function V7(){let g=[];return g=Wc?[{provide:nf,multi:!0,useFactory:()=>{const v=Dr(po);return()=>v.events.subscribe(E=>{console.group?.(`Router Event: ${E.constructor.name}`),console.log(function p9(g){if(!("type"in g))return`Unknown Router Event: ${g.constructor.name}`;switch(g.type){case 14:return`ActivationEnd(path: '${g.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${g.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${g.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${g.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state}, shouldActivate: ${g.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 2:return`NavigationCancel(id: ${g.id}, url: '${g.url}')`;case 16:return`NavigationSkipped(id: ${g.id}, url: '${g.url}')`;case 1:return`NavigationEnd(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${g.id}, url: '${g.url}', error: ${g.error})`;case 0:return`NavigationStart(id: ${g.id}, url: '${g.url}')`;case 6:return`ResolveEnd(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 5:return`ResolveStart(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 10:return`RouteConfigLoadEnd(path: ${g.route.path})`;case 9:return`RouteConfigLoadStart(path: ${g.route.path})`;case 4:return`RoutesRecognized(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 15:return`Scroll(anchor: '${g.anchor}', position: '${g.position?`${g.position[0]}, ${g.position[1]}`:null}')`}}(E)),console.log(E),console.groupEnd?.()})}}]:[],Ol(1,g)}const yP=new ar(Wc?"router preloader":"");function $7(g){return Ol(0,[{provide:yP,useExisting:U7},{provide:dP,useExisting:g}])}const Vh=!1,gP=new ar(Vh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Z7=[qg,{provide:Ph,useClass:J_},po,jh,{provide:Uc,useFactory:function pP(g){return g.routerState.root},deps:[po]},yv,Vh?{provide:Ev,useValue:!0}:[]];function K7(){return new NS("Router",po)}let _P=(()=>{class g{constructor(E){}static forRoot(E,C){return{ngModule:g,providers:[Z7,Vh&&C?.enableTracing?V7().\u0275providers:[],{provide:Bc,multi:!0,useValue:E},{provide:gP,useFactory:H7,deps:[[po,new Wd,new Vd]]},{provide:T0,useValue:C||{}},C?.useHash?{provide:cu,useClass:KU}:{provide:cu,useClass:aO},{provide:vv,useFactory:()=>{const g=Dr(cF),v=Dr(Bs),E=Dr(T0),C=Dr(P0),w=Dr(Ph);return E.scrollOffset&&g.setOffset(E.scrollOffset),new hP(w,C,g,v,E)}},C?.preloadingStrategy?$7(C.preloadingStrategy).\u0275providers:[],{provide:NS,multi:!0,useFactory:K7},C?.initialNavigation?J7(C):[],[{provide:vP,useFactory:fP},{provide:FS,multi:!0,useExisting:vP}]]}}static forChild(E){return{ngModule:g,providers:[{provide:Bc,multi:!0,useValue:E}]}}}return g.\u0275fac=function(E){return new(E||g)(sr(gP,8))},g.\u0275mod=bo({type:g}),g.\u0275inj=ln({imports:[uv]}),g})();function H7(g){if(Vh&&g)throw new Ht(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function J7(g){return["disabled"===g.initialNavigation?Ol(3,[{provide:If,multi:!0,useFactory:()=>{const v=Dr(po);return()=>{v.setUpLocationChangeListener()}}},{provide:bv,useValue:2}]).\u0275providers:[],"enabledBlocking"===g.initialNavigation?Ol(2,[{provide:bv,useValue:0},{provide:If,multi:!0,deps:[qo],useFactory:v=>{const E=v.get($U,Promise.resolve());return()=>E.then(()=>new Promise(C=>{const w=v.get(po),I=v.get(mP);(function F7(g,v){g.events.pipe(bl(E=>E instanceof yu||E instanceof _0||E instanceof nv||E instanceof v0),fe(E=>E instanceof yu||E instanceof v0?fo.COMPLETE:E instanceof _0&&(0===E.code||1===E.code)?fo.REDIRECTING:fo.FAILED),bl(E=>E!==fo.REDIRECTING),Oh(1)).subscribe(()=>{v()})})(w,()=>{C(!0)}),v.get(P0).afterPreactivation=()=>(C(!0),I.closed?pr(void 0):I),w.initialNavigation()}))}}]).\u0275providers:[]]}const vP=new ar(Vh?"Router Initializer":""),Q7=[];let X7=(()=>{class g{}return g.\u0275fac=function(E){return new(E||g)},g.\u0275mod=bo({type:g}),g.\u0275inj=ln({imports:[_P.forRoot(Q7),_P]}),g})();var Cv,Ae=M(17626),A0=M(73386),Nn=M(15861),$h=M(91558),_s=M(74333),q7=M(89726),eB=M(94573),Jn=M(26584),cs=M(86810),Yi=M(58817),x0=M(47996),EP=M(47877),Vr=M(63290),Lr=M(10699),Fe=M(77712),Vc=M(90912),Pn=M(76898),mo=M(99433),tB=M(85931),Ga=M(8314),ka=M(55342);let R0=Cv=class extends cs.wq{constructor(g){super(g),this.type="none"}clone(){return new Cv({type:this.type})}};(0,Ae._)([(0,ka.J)({none:"none",stayAbove:"stay-above"})],R0.prototype,"type",void 0),R0=Cv=(0,Ae._)([(0,Pn.j)("esri.ground.NavigationConstraint")],R0);var Hr=M(14517);let Cs=class extends Hr.Z{constructor(){super(...arguments),this.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,this.DECONFLICTOR_SHOW_VISIBLE=!1,this.DECONFLICTOR_SHOW_INVISIBLE=!1,this.DECONFLICTOR_SHOW_GRID=!1,this.LABELS_SHOW_BORDER=!1,this.TEXT_SHOW_BASELINE=!1,this.TEXT_SHOW_BORDER=!1,this.OVERLAY_DRAW_DEBUG_TEXTURE=!1,this.OVERLAY_SHOW_CENTER=!1,this.SHOW_POI=!1,this.TESTS_DISABLE_OPTIMIZATIONS=!1,this.TESTS_DISABLE_FAST_UPDATES=!1,this.DRAW_MESH_GEOMETRY_NORMALS=!1,this.FEATURE_TILE_FETCH_SHOW_TILES=!1,this.FEATURE_TILE_TREE_SHOW_TILES=!1,this.TERRAIN_TILE_TREE_SHOW_TILES=!1,this.I3S_TREE_SHOW_TILES=!1,this.I3S_SHOW_MODIFICATIONS=!1,this.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,this.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,this.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1,this.LINE_WIREFRAMES=!1,this.TERRAIN_USE_LEGACY_SHADING=!1}};(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"SCENEVIEW_HITTEST_RETURN_INTERSECTOR",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"DECONFLICTOR_SHOW_VISIBLE",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"DECONFLICTOR_SHOW_INVISIBLE",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"DECONFLICTOR_SHOW_GRID",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"LABELS_SHOW_BORDER",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"TEXT_SHOW_BASELINE",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"TEXT_SHOW_BORDER",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"OVERLAY_DRAW_DEBUG_TEXTURE",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"OVERLAY_SHOW_CENTER",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"SHOW_POI",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"TESTS_DISABLE_OPTIMIZATIONS",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"TESTS_DISABLE_FAST_UPDATES",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"DRAW_MESH_GEOMETRY_NORMALS",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"FEATURE_TILE_FETCH_SHOW_TILES",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"FEATURE_TILE_TREE_SHOW_TILES",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"TERRAIN_TILE_TREE_SHOW_TILES",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"I3S_TREE_SHOW_TILES",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"I3S_SHOW_MODIFICATIONS",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"LOD_INSTANCE_RENDERER_DISABLE_UPDATES",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"LINE_WIREFRAMES",void 0),(0,Ae._)([(0,Fe.Cb)()],Cs.prototype,"TERRAIN_USE_LEGACY_SHADING",void 0),Cs=(0,Ae._)([(0,Pn.j)("esri.views.3d.support.DebugFlags")],Cs);const nB=new Cs;var Mv,bP=M(92236);let ca=Mv=class extends((0,cs.eC)(x0.Z)){constructor(g){super(g),this.opacity=1,this.shading=!nB.TERRAIN_USE_LEGACY_SHADING,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new _s.Z;const v=C=>{C.parent&&C.parent!==this&&"remove"in C.parent&&C.parent.remove(C),C.parent=this,"elevation"!==C.type&&"base-elevation"!==C.type&&Vr.Z.getLogger(this.declaredClass).error(`Layer '${C.title}, id:${C.id}' of type '${C.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};this.layers.on("after-add",C=>v(C.item)),this.layers.on("after-remove",C=>(C=>{C.parent=null})(C.item))}initialize(){this.when().catch(g=>{Vr.Z.getLogger(this.declaredClass).error("#load()","Failed to load ground",g)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const g=this.layers.removeAll();for(const v of g)v.destroy();this.layers.destroy()}normalizeCtorArgs(g){return g&&"resourceInfo"in g&&(this._set("resourceInfo",g.resourceInfo),delete(g={...g}).resourceInfo),g}set layers(g){this._set("layers",(0,q7.Z)(g,this._get("layers")))}writeLayers(g,v,E,C){const w=[];g&&(C={...C,layerContainerType:"ground"},g.forEach(I=>{if("write"in I){const A={};(0,eB.sM)(I)().write(A,C)&&w.push(A)}else C&&C.messages&&C.messages.push(new Jn.Z("layer:unsupported",`Layers (${I.title}, ${I.id}) of type '${I.declaredClass}' cannot be persisted in the ground`,{layer:I}))})),v.layers=w}load(g){return this.addResolvingPromise(this._loadFromSource(g)),Promise.resolve(this)}loadAll(){return(0,EP.G)(this,g=>{g(this.layers)})}queryElevation(g,v){var E=this;return(0,Nn.Z)(function*(){yield E.load({signal:v?.signal});const{ElevationQuery:C}=yield M.e(4684).then(M.bind(M,14684));(0,Lr.k_)(v);const w=new C,I=E.layers.filter(CP).toArray();return w.queryAll(I,g,v)})()}createElevationSampler(g,v){var E=this;return(0,Nn.Z)(function*(){yield E.load({signal:v?.signal});const{ElevationQuery:C}=yield M.e(4684).then(M.bind(M,14684));(0,Lr.k_)(v);const w=new C,I=E.layers.filter(CP).toArray();return w.createSamplerAll(I,g,v)})()}clone(){const g={opacity:this.opacity,surfaceColor:(0,Yi.d9)(this.surfaceColor),navigationConstraint:(0,Yi.d9)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(g.loadStatus="loaded"),new Mv({resourceInfo:this.resourceInfo}).set(g)}read(g,v){this.resourceInfo||this._set("resourceInfo",{data:g,context:v}),super.read(g,v)}_loadFromSource(g){const v=this.resourceInfo;return v?this._loadLayersFromJSON(v.data,v.context,g):Promise.resolve()}_loadLayersFromJSON(g,v,E){const C=v&&v.origin||"web-scene",w=v&&v.portal||null,I=v&&v.url||null;return Promise.all([M.e(7534),M.e(1074)]).then(M.bind(M,71074)).then(({populateOperationalLayers:A})=>{(0,Lr.k_)(E);const G=[];return g.layers&&Array.isArray(g.layers)&&G.push(A(this.layers,g.layers,{context:{origin:C,url:I,portal:w,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"})),(0,Lr.as)(G)}).then(()=>{})}};function CP(g){return"elevation"===g.type||function rB(g){return g&&"createElevationSampler"in g}(g)}(0,Ae._)([(0,Fe.Cb)({json:{read:!1}})],ca.prototype,"layers",null),(0,Ae._)([(0,mo.c)("layers")],ca.prototype,"writeLayers",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ca.prototype,"resourceInfo",void 0),(0,Ae._)([(0,Fe.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:Vc.z8,read:{reader:bP.b,source:"transparency"},write:{writer:(g,v)=>{v.transparency=(0,bP.a)(g)},target:"transparency"}}})],ca.prototype,"opacity",void 0),(0,Ae._)([(0,Fe.Cb)({type:Boolean,nonNullable:!0,json:{read:!1}})],ca.prototype,"shading",void 0),(0,Ae._)([(0,Fe.Cb)({type:$h.Z,json:{type:[Vc.z8],write:(g,v)=>{v.surfaceColor=g.toJSON().slice(0,3)}}})],ca.prototype,"surfaceColor",void 0),(0,Ae._)([(0,Fe.Cb)({type:R0,json:{write:!0}})],ca.prototype,"navigationConstraint",void 0),ca=Mv=(0,Ae._)([(0,Pn.j)("esri.Ground")],ca);const $c=ca;var Zc=M(46882),Zh=M(61885),kt=M(62208),Qi=M(66656),Kc=M(72469);function MP(g){return!(!g?.loaded||!(0,Kc.S1)(g)?.operations?.supportsEditing||"editingEnabled"in g&&!(0,Kc.ln)(g))}var DP=M(59318),Ha=M(21726),SP=M(33954);const OP=Vr.Z.getLogger("esri.support.basemapUtils");function IP(g){for(const v in g){const E=g[v];!1===E?.destroyed&&E.destroy(),delete g[v]}}function Dv(g,v){let E;if("string"==typeof g){if(!(g in SP.s)){const C=Object.entries(SP.s).filter(([w,I])=>DP.Z.apiKey&&!I.classic||!DP.Z.apiKey&&I.classic&&!I.deprecated).map(([w])=>`"${w}"`).join(", ");return OP.warn(`Unable to find basemap definition for: ${g}. Try one of these: ${C}`),null}v&&(E=v[g]),E||(E=A0.default.fromId(g),v&&(v[g]=E))}else E=(0,Vc.se)(A0.default,g);return E?.destroyed&&(OP.warn("The provided basemap is already destroyed",{basemap:E}),E=null),E}function TP(g){if(AP(g.url))return!0;if("vector-tile"===g.type)for(const v in g.sourceNameToSource)if(AP(g.sourceNameToSource[v]?.sourceUrl))return!0;return!1}const oB=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function AP(g){if(!g)return!1;const v=new Ha.R9((0,Ha.hF)(g));return!!v.authority&&oB.test(v.authority)}var BP=M(38953);const WP={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function VP(g){let v=null;return"string"==typeof g?g in WP?v=new $c({resourceInfo:{data:{layers:[WP[g]]}}}):Vr.Z.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${g}. Try "world-elevation"`):v=(0,Vc.se)($c,g),v}var $P=M(6432),ZP=M(6119);let da=class extends((0,ZP.Q)((0,$P.K)(Zh.Z.EventedMixin(Hr.Z)))){constructor(g){super(g),this.allLayers=new Zc.Z({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:v=>"layers"in v?v.layers:null}),this.allTables=(0,BP.a)(this),this.basemap=null,this.editableLayers=new Zc.Z({getCollections:()=>[this.allLayers],itemFilterFunction:MP}),this.ground=new $c,this._basemapCache={}}destroy(){this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.ground?.destroy(),this.basemap?.destroy(),IP(this._basemapCache),this._basemapCache=null}castBasemap(g){return Dv(g,this._basemapCache)}castGround(g){const v=VP(g);return(0,kt.Wi)(v)?this._get("ground"):v}findLayerById(g){return this.allLayers.find(v=>v.id===g)}findTableById(g){return this.allTables.find(v=>v.id===g)}};(0,Ae._)([(0,Fe.Cb)({readOnly:!0,dependsOn:[]})],da.prototype,"allLayers",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],da.prototype,"allTables",void 0),(0,Ae._)([(0,Fe.Cb)({type:A0.default})],da.prototype,"basemap",void 0),(0,Ae._)([(0,Qi.p)("basemap")],da.prototype,"castBasemap",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],da.prototype,"editableLayers",void 0),(0,Ae._)([(0,Fe.Cb)({type:$c,nonNullable:!0})],da.prototype,"ground",void 0),(0,Ae._)([(0,Qi.p)("ground")],da.prototype,"castGround",null),da=(0,Ae._)([(0,Pn.j)("esri.Map")],da);const lB=da;var gu=M(88879),Xi=M(85807),wv=M(56354),rn=M(32917),Ui=M(23841),KP=M(14889),uB=M(59289),L0=M(2004),Fi=M(72642),ha=M(54614),Iv=M(37053),cB=M(2584),j0=M(35575),wl=M(72392);const U0={widthBreakpoint:{getValue(g){const v=g.viewSize[0],E=g.breakpoints,C=this.values;return v<=E.xsmall?C.xsmall:v<=E.small?C.small:v<=E.medium?C.medium:v<=E.large?C.large:C.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(g){const v=g.viewSize[1],E=g.breakpoints,C=this.values;return v<=E.xsmall?C.xsmall:v<=E.small?C.small:v<=E.medium?C.medium:v<=E.large?C.large:C.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(g){const v=g.viewSize,w=this.values;return v[1]>=v[0]?w.portrait:w.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},Pv={xsmall:544,small:768,medium:992,large:1200};function Tv(g,v){return v?U0[g].valueToClassName[v].split(" "):[]}const hB=g=>{let v=class extends g{constructor(...E){super(...E),this._breakpointsHandles=new wl.Z,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=Pv}initialize(){this._breakpointsHandles.add((0,rn.YP)(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),rn.nn))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles=(0,kt.SC)(this._breakpointsHandles))}set breakpoints(E){if(E===this._get("breakpoints"))return;const C=function dB(g){return g&&g.xsmall<g.small&&g.small<g.medium&&g.medium<g.large}(E);if(!C){const w=JSON.stringify(Pv,null,2);console.warn("provided breakpoints are not valid, using defaults:"+w)}E=C?E:Pv,this._set("breakpoints",{...E})}_updateClassNames(){if(!this.container)return;const E=j0.Z.acquire(),C=j0.Z.acquire();let w,I=!1;for(w in U0){const A=this[w],G=U0[w].getValue({viewSize:this.size,breakpoints:this.breakpoints});A!==G&&(I=!0,this[w]=G,Tv(w,A).forEach(pe=>C.push(pe)),Tv(w,G).forEach(pe=>E.push(pe)))}I&&(this._applyClassNameChanges(E,C),j0.Z.release(E),j0.Z.release(C))}_applyClassNameChanges(E,C){const w=this.container;w&&(C.forEach(I=>w.classList.remove(I)),E.forEach(I=>w.classList.add(I)))}_removeActiveClassNames(){const E=this.container;if(!E)return;let C;for(C in U0)Tv(C,this[C]).forEach(w=>E.classList.remove(w))}};return(0,Ae._)([(0,Fe.Cb)()],v.prototype,"breakpoints",null),(0,Ae._)([(0,Fe.Cb)()],v.prototype,"orientation",void 0),(0,Ae._)([(0,Fe.Cb)()],v.prototype,"widthBreakpoint",void 0),(0,Ae._)([(0,Fe.Cb)()],v.prototype,"heightBreakpoint",void 0),v=(0,Ae._)([(0,Pn.j)("esri.views.BreakpointsOwner")],v),v};var Il=M(40764),_u=M(50618),zP=M(17760),GP=(M(50645),M(62996));let Pl=class extends Hr.Z{constructor(){super(...arguments),this.items=new _s.Z,this._watchUpdatingTracking=new zP.t,this._callbacks=new Map,this._projector=(0,GP.E)(),this._hiddenProjector=(0,GP.E)()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){const g=document.createElement("div");g.className="esri-overlay-surface",this._set("surface",g),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),g.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,v=>{for(const E of v.added){const C=()=>E.render();this._callbacks.set(E,C),this._projector.append(this.surface,C)}for(const E of v.removed){const C=this._projector.detach(this._callbacks.get(E));this.surface.removeChild(C.domNode),this._callbacks.delete(E)}})}addItem(g){this.items.add(g)}removeItem(g){this.items.remove(g)}destroy(){this.items.removeAll(),this._callbacks.forEach(g=>this._projector.detach(g)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(g){const v=this._hiddenSurface,E=this._hiddenProjector;let C;const w=()=>(C=g.render(),C);E.append(v,w),E.renderNow();const I={left:0,top:0,right:0,bottom:0};if(C&&C.domNode){const A=C.domNode.getBoundingClientRect();I.left=A.left,I.top=A.top,I.right=A.right,I.bottom=A.bottom}for(E.detach(w);v.firstChild;)v.removeChild(v.firstChild);return I}overlaps(g,v){const E=this.computeBoundingRect(g),C=this.computeBoundingRect(v);return Math.max(E.left,C.left)<=Math.min(E.right,C.right)&&Math.max(E.top,C.top)<=Math.min(E.bottom,C.bottom)}get hasVisibleItems(){return this.items.some(g=>g.visible)}prepare(){var g=this;return(0,Nn.Z)(function*(){yield document.fonts.load(g._fontString()).catch(()=>{})})()}renderCanvas(g){if(!this.items.some(E=>E.visible))return;const v=g.getContext("2d");v.save(),v.font=this._fontString(),this.items.forEach(E=>{v.save(),E.renderCanvas(v),v.restore()}),v.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Pl.prototype,"surface",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Pl.prototype,"items",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Pl.prototype,"needsRender",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Pl.prototype,"_watchUpdatingTracking",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Pl.prototype,"updating",null),Pl=(0,Ae._)([(0,Pn.j)("esri.views.overlay.ViewOverlay")],Pl);const kP=Pl;M(52515);var zc=M(17770),Gc=M(7074),Si=M(40915),HP=M(27306),Kh=(M(23719),M(21286)),kc=M(77275),F0=(M(16730),M(15348));const XP=["B","kB","MB","GB","TB"];var gB=M(87183),qP=M(67736),vu=M(88411),Av=M(36630),_B=M(66845),eT=M(46679);const tT=Vr.Z.getLogger("esri.widgets.Feature.support.featureUtils"),EB=/href=(""|'')/gi,bB=/(\{([^\{\r\n]+)\})/g,CB=/\'/g,nT=/^\s*expression\//i,MB=/(\n)/gi,DB=/[\u00A0-\u9999<>\&]/gim,SB=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,OB=/^(?:mailto:|tel:)/,rT="relationships/",xv=(0,vu.Ze)("short-date-short-time");function sT(g){if(!(0,kt.Wi)(g))return g.get("sourceLayer")||g.get("layer")}function B0(g,v){return Rv.apply(this,arguments)}function Rv(){return(Rv=(0,Nn.Z)(function*(g,v){return"function"==typeof g?g.call(null,v):g})).apply(this,arguments)}function iT(g=""){if(g)return!OB.test(g.trim().toLowerCase())}function Lv(g){return!!g&&nT.test(g)}function oT(g,v){const E=function wB(g,v){if(!Lv(v)||!g)return null;const E=v.replace(nT,"").toLowerCase();let C=null;return g.some(w=>w.name.toLowerCase()===E&&(C=w,!0)),C}(v,g?.fieldName);return E?E.title||null:g?g.label||g.fieldName:null}function zh(g,v){const E=jv(v,g);return E?E.name:g}function jv(g,v){return g&&"function"==typeof g.getField&&v?g.getField(v)??null:null}function aT(g){return`${g}`.trim()}function Eu({attributes:g,globalAttributes:v,layer:E,text:C,expressionAttributes:w,fieldInfoMap:I}){return C?Uv({formattedAttributes:v,template:LB(C,{...v,...w,...g},E),fieldInfoMap:I}):""}function Uv({formattedAttributes:g,template:v,fieldInfoMap:E}){return aT(function PB(g){return g.replace(EB,"")}((0,kc.gx)((0,kc.gx)(v,C=>function IB(g,v){const E=v.get(g.toLowerCase());return`{${E&&E.fieldName||g}}`}(C,E)),g)))}function Fv(g,v){return g.replace(bB,(E,C,w)=>{const I=jv(v,w);return I?`{${I.name}}`:C})}function LB(g,v,E){const C=Fv(g,E);return C&&C.replace(SB,(w,I,A)=>function RB(g,v,E){const C=(v=aT(v))&&"{"!==v[0];return(0,kc.gx)(g,function xB(g,v=!1){const E={...g};return Object.keys(E).forEach(C=>function AB(g,v,E=!1){const C=v[g];if("string"==typeof C){const w="%27",I=(E?encodeURIComponent(C):C).replace(CB,w);v[g]=I}}(C,E,v)),E}(E,C||!1))}(w,I||A,v))}function lT(g){return!!g?.layer}function uT(g,v){if(!g||!g.length||!v)return;const E=v.toLowerCase();let C;return g.some(w=>!(!w.fieldName||w.fieldName.toLowerCase()!==E||(C=w,0))),C}function cT(g){const v=[];if(!g)return v;const{fieldInfos:E,content:C}=g;return E&&v.push(...E),C&&Array.isArray(C)&&C.forEach(w=>{if("fields"===w.type){const I=w&&w.fieldInfos;I&&v.push(...I)}}),v}function Nv(g){return g.replace(DB,v=>`&#${v.charCodeAt(0)};`)}function Gh(g){return"string"==typeof g?g.replace(MB,'<br class="esri-text-new-line" />'):g}function dT(g){const{value:v,fieldName:E,fieldInfos:C,fieldInfoMap:w,layer:I,graphic:A}=g;if(null==v)return"";const G=function WB({fieldName:g,value:v,graphic:E,layer:C}){if(Ja(g)||!C||"function"!=typeof C.getFieldDomain)return null;const w=E&&C.getFieldDomain(g,{feature:E});return w&&"coded-value"===w.type?w.getName(v):null}({fieldName:E,value:v,graphic:A,layer:I});if(G)return G;const pe=function BB({fieldName:g,graphic:v,layer:E}){if(Ja(g)||!E||"function"!=typeof E.getFeatureType)return null;const{typeIdField:C}=E;if(!C||g!==C)return null;const w=E.getFeatureType(v);return w?w.name:null}({fieldName:E,graphic:A,layer:I});if(pe)return pe;if(w.get(E.toLowerCase()))return function NB(g,v){const C=v.fieldName,w=uT(v.fieldInfos,C)?.clone(),I=v.preventPlacesFormatting,A=v.layer,G=jv(A,C);if(w&&"date"===G?.type){const Ee=w.format||new _B.Z;Ee.dateFormat=Ee.dateFormat||"short-date-short-time",Ee.dateTimeFormatOptions=!lT(A)&&function UB(g){return"feature"===g?.type}(A)&&A.datesInUnknownTimezone||lT(A)&&function FB(g){return"map-image"===g?.type}(A.layer)&&A.layer.datesInUnknownTimezone?{timeZone:"UTC"}:null,w.format=Ee}const pe=w&&w.format;return"string"==typeof g&&(0,Av.Ec)(C)&&pe?pe.formatRasterPixelValue(g):"string"==typeof(g=function jB(g,v){if("string"==typeof g&&v&&null==v.dateFormat&&(null!=v.places||null!=v.digitSeparator)){const E=Number(g);if(!isNaN(E))return E}return g}(g,pe))||null==g||null==pe?Gh(g):I?(0,F0.uf)(g,{...(0,F0.sh)(pe),minimumFractionDigits:0,maximumFractionDigits:20}):pe.format(g)}(v,{fieldInfos:C||Array.from(w.values()),fieldName:E,layer:I});const Ee=I&&I.fieldsIndex;return Ee&&Ee.isDateField(E)?(0,vu.p6)(v,xv):Gh(v)}function Bv({fieldInfos:g,attributes:v,layer:E,graphic:C,fieldInfoMap:w,relatedInfos:I}){const A={};return I?.forEach(G=>function GB({attributes:g,relatedInfo:v,fieldInfoMap:E,fieldInfos:C,layer:w}){g&&v&&(v.relatedFeatures&&v.relatedFeatures&&v.relatedFeatures.forEach(I=>pT({attributes:g,graphic:I,relatedInfo:v,fieldInfoMap:E,fieldInfos:C,layer:w})),v.relatedStatsFeatures&&v.relatedStatsFeatures&&v.relatedStatsFeatures.forEach(I=>pT({attributes:g,graphic:I,relatedInfo:v,fieldInfoMap:E,fieldInfos:C,layer:w})))}({attributes:A,relatedInfo:G,fieldInfoMap:w,fieldInfos:g,layer:E})),v&&Object.keys(v).forEach(G=>{A[G]=dT({fieldName:G,fieldInfos:g,fieldInfoMap:w,layer:E,value:v[G],graphic:C})}),A}function hT(g,v){return Wv.apply(this,arguments)}function Wv(){return(Wv=(0,Nn.Z)(function*(g,v){const{layer:E,graphic:C,outFields:w,objectIds:I,returnGeometry:A,spatialReference:G}=g,pe=I[0];if("number"!=typeof pe&&"string"!=typeof pe)return tT.warn("Could not query required fields for the specified feature. The feature's ID is invalid.",{layer:E,graphic:C,objectId:pe,requiredFields:w}),null;if(!(0,Kc.S1)(E)?.operations?.supportsQuery)return tT.warn("The specified layer cannot be queried. The following fields will not be available.",{layer:E,graphic:C,requiredFields:w,returnGeometry:A}),null;const Ee=E.createQuery();return Ee.objectIds=I,Ee.outFields=w?.length?w:[E.objectIdField],Ee.returnGeometry=!!A,Ee.returnZ=!!A,Ee.returnM=!!A,Ee.outSpatialReference=G,(yield E.queryFeatures(Ee,v)).features[0]})).apply(this,arguments)}function Vv(){return(Vv=(0,Nn.Z)(function*(g){if(!g.expressionInfos?.length)return!1;const v=yield(0,eT.LC)(),{arcadeUtils:{hasGeometryFunctions:E}}=v;return E(g)})).apply(this,arguments)}function $v(){return $v=(0,Nn.Z)(function*({graphic:g,popupTemplate:v,layer:E,spatialReference:C},w){if(!E||!v||("function"==typeof E.load&&(yield E.load(w)),!g.attributes))return;const I=g.attributes[E.objectIdField];if(null==I)return;const A=[I],G=yield v.getRequiredFields(E.fieldsIndex),pe=(0,Av.R9)(G,g),Ee=pe?[]:G,Ue=v.returnGeometry||(yield function ZB(g){return Vv.apply(this,arguments)}(v));if(pe&&!Ue)return;const Be=yield hT({layer:E,graphic:g,outFields:Ee,objectIds:A,returnGeometry:Ue,spatialReference:C},w);Be&&(Be.geometry&&(g.geometry=Be.geometry),Be.attributes&&(g.attributes={...g.attributes,...Be.attributes}))}),$v.apply(this,arguments)}function Ja(g=""){return!!g&&g.includes(rT)}function pT({attributes:g,graphic:v,relatedInfo:E,fieldInfos:C,fieldInfoMap:w,layer:I}){g&&v&&E&&Object.keys(v.attributes).forEach(A=>{const G=function zB(g){return g?`${rT}${g.layerId}/${g.fieldName}`:""}({layerId:E.relation.id.toString(),fieldName:A});g[G]=dT({fieldName:G,fieldInfos:C,fieldInfoMap:w,layer:I,value:v.attributes[A],graphic:v})})}const fT=g=>{if(!g)return!1;const v=g.toUpperCase();return v.includes("CURRENT_TIMESTAMP")||v.includes("CURRENT_DATE")||v.includes("CURRENT_TIME")},mT=({layer:g,method:v,query:E,definitionExpression:C})=>{if(!g.capabilities?.query?.supportsCacheHint||"attachments"===v)return;const w=(0,kt.pC)(E.where)?E.where:null,I=(0,kt.pC)(E.geometry)?E.geometry:null;fT(C)||fT(w)||"extent"===I?.type||"tile"===E.resultType||(E.cacheHint=!0)};function yT(g,v,E){return g.find(C=>C!==v&&"feature"===C.type&&C.url===v.url&&C.layerId===E.relatedTableId)}const gT={editing:!1,operations:{add:!0,update:!0,delete:!0}},_T=_s.Z.ofType(gB.Z);let qi=class extends Hr.Z{constructor(g){super(g),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.abilities={...gT},this.activeAttachmentInfo=null,this.activeFileInfo=null,this.attachmentInfos=new _T,this.fileInfos=new _s.Z,this.graphic=null,this.mode="view",this.filesEnabled=!1,this.addHandles((0,rn.YP)(()=>this.graphic,()=>this._graphicChanged(),rn.nn))}destroy(){this._attachmentLayer=null,this.graphic=null}castAbilities(g){return{...gT,...g}}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){const{graphic:g}=this;if(!g)return!1;const v=g.layer||g.sourceLayer;return v?.loaded&&"capabilities"in v&&v.capabilities&&"operations"in v.capabilities&&"supportsResizeAttachments"in v.capabilities.operations&&v.capabilities.operations.supportsResizeAttachments||!1}getAttachments(){var g=this;return(0,Nn.Z)(function*(){const{_attachmentLayer:v,attachmentInfos:E}=g;if(!v||"function"!=typeof v.queryAttachments)throw new Jn.Z("invalid-layer","getAttachments(): A valid layer is required.");const C=g._getObjectId(),w=new qP.Z({objectIds:[C],returnMetadata:!0}),I=[],A=v.queryAttachments(w).then(pe=>pe[C]||I).catch(()=>I);g._getAttachmentsPromise=A,g.notifyChange("state");const G=yield A;return E.removeAll(),G.length&&E.addMany(G),g._getAttachmentsPromise=null,g.notifyChange("state"),G})()}addAttachment(g,v=this.graphic){var E=this;return(0,Nn.Z)(function*(){const{_attachmentLayer:C,attachmentInfos:w,abilities:I}=E;if(!v)throw new Jn.Z("invalid-graphic","addAttachment(): A valid graphic is required.",{graphic:v});if(!g)throw new Jn.Z("invalid-attachment","addAttachment(): An attachment is required.",{attachment:g});if(!I.operations?.add)throw new Jn.Z("invalid-abilities","addAttachment(): add abilities are required.");if(!C||"function"!=typeof C.addAttachment)throw new Jn.Z("invalid-layer","addAttachment(): A valid layer is required.");const A=C.addAttachment(v,g).then(pe=>E._queryAttachment(pe.objectId,v)),G=yield A;return w.add(G),G})()}deleteAttachment(g){var v=this;return(0,Nn.Z)(function*(){const{_attachmentLayer:E,attachmentInfos:C,graphic:w,abilities:I}=v;if(!g)throw new Jn.Z("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:g});if(!I.operations?.delete)throw new Jn.Z("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!E||"function"!=typeof E.deleteAttachments)throw new Jn.Z("invalid-layer","deleteAttachment(): A valid layer is required.");if(!w)throw new Jn.Z("invalid-graphic","deleteAttachment(): A graphic is required.");const A=E.deleteAttachments(w,[g.id]).then(()=>g),G=yield A;return C.remove(G),G})()}updateAttachment(g,v=this.activeAttachmentInfo){var E=this;return(0,Nn.Z)(function*(){const{_attachmentLayer:C,attachmentInfos:w,graphic:I,abilities:A}=E;if(!g)throw new Jn.Z("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:g});if(!v)throw new Jn.Z("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:v});if(!A.operations?.update)throw new Jn.Z("invalid-abilities","updateAttachment(): Update abilities are required.");const G=w.findIndex(Ue=>Ue===v);if(!C||"function"!=typeof C.updateAttachment)throw new Jn.Z("invalid-layer","updateAttachment(): A valid layer is required.");if(!I)throw new Jn.Z("invalid-graphic","updateAttachment(): A graphic is required.");const pe=C.updateAttachment(I,v.id,g).then(Ue=>E._queryAttachment(Ue.objectId)),Ee=yield pe;return w.splice(G,1,Ee),Ee})()}commitFiles(){var g=this;return(0,Nn.Z)(function*(){return yield Promise.all(g.fileInfos.items.map(v=>g.addAttachment(v.form))),g.fileInfos.removeAll(),g.getAttachments()})()}addFile(g,v){if(!g||!v)return null;const E={file:g,form:v};return this.fileInfos.add(E),E}updateFile(g,v,E=this.activeFileInfo){if(!g||!v||!E)return null;const C=this.fileInfos.findIndex(w=>E===w);return C>-1&&this.fileInfos.splice(C,1,{file:g,form:v}),this.fileInfos.items[C]}deleteFile(g){const v=this.fileInfos.find(E=>E.file===g);return v?(this.fileInfos.remove(v),v):null}_queryAttachment(g,v){var E=this;return(0,Nn.Z)(function*(){const{_attachmentLayer:C}=E;if(!g||!C?.queryAttachments)throw new Jn.Z("invalid-attachment-id","Could not query attachment.");const w=E._getObjectId(v),I=new qP.Z({objectIds:[w],attachmentsWhere:`AttachmentId=${g}`,returnMetadata:!0});return C.queryAttachments(I).then(A=>A[w][0])})()}_getObjectId(g=this.graphic){return g?.getObjectId()??null}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))}_setAttachmentLayer(){const{graphic:g}=this,v=sT(g);this._attachmentLayer=v?"scene"===v.type&&(0,kt.pC)(v.associatedLayer)?v.associatedLayer:v:null}};(0,Ae._)([(0,Fe.Cb)()],qi.prototype,"abilities",void 0),(0,Ae._)([(0,Qi.p)("abilities")],qi.prototype,"castAbilities",null),(0,Ae._)([(0,Fe.Cb)()],qi.prototype,"activeAttachmentInfo",void 0),(0,Ae._)([(0,Fe.Cb)()],qi.prototype,"activeFileInfo",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0,type:_T})],qi.prototype,"attachmentInfos",void 0),(0,Ae._)([(0,Fe.Cb)()],qi.prototype,"fileInfos",void 0),(0,Ae._)([(0,Fe.Cb)({type:gu.Z})],qi.prototype,"graphic",void 0),(0,Ae._)([(0,Fe.Cb)()],qi.prototype,"mode",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],qi.prototype,"state",null),(0,Ae._)([(0,Fe.Cb)()],qi.prototype,"filesEnabled",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],qi.prototype,"supportsResizeAttachments",null),qi=(0,Ae._)([(0,Pn.j)("esri.widgets.Attachments.AttachmentsViewModel")],qi);const Zv=qi;var YB=M(54346);function vT(g){const v=g.toLowerCase();return"image/bmp"===v||"image/emf"===v||"image/exif"===v||"image/gif"===v||"image/x-icon"===v||"image/jpeg"===v||"image/png"===v||"image/tiff"===v||"image/x-wmf"===v}var ai=M(38570),Oi=M(25552),Kt=M(94450);const ET={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},es="esri-attachments",bu="esri-button",Vn={base:es,loaderContainer:`${es}__loader-container`,loader:`${es}__loader`,fadeIn:`${es}--fade-in`,container:`${es}__container`,containerList:`${es}__container--list`,containerPreview:`${es}__container--preview`,actions:`${es}__actions`,deleteButton:`${es}__delete-button`,addAttachmentButton:`${es}__add-attachment-button`,errorMessage:`${es}__error-message`,items:`${es}__items`,item:`${es}__item`,itemButton:`${es}__item-button`,itemMask:`${es}__item-mask`,itemMaskIcon:`${es}__item-mask--icon`,itemImage:`${es}__image`,itemImageResizable:`${es}__image--resizable`,itemLabel:`${es}__label`,itemFilename:`${es}__filename`,itemChevronIcon:`${es}__item-chevron-icon`,itemLink:`${es}__item-link`,itemLinkOverlay:`${es}__item-link-overlay`,itemLinkOverlayIcon:`${es}__item-link-overlay-icon`,itemEditIcon:`${es}__item-edit-icon`,itemAddIcon:`${es}__item-add-icon`,itemAddButton:`${es}__item-add-button`,formNode:`${es}__form-node`,fileFieldset:`${es}__file-fieldset`,fileLabel:`${es}__file-label`,fileName:`${es}__file-name`,fileInput:`${es}__file-input`,metadata:`${es}__metadata`,metadataFieldset:`${es}__metadata-fieldset`,progressBar:`${es}__progress-bar`,esriWidget:"esri-widget",esriButton:bu,buttonDisabled:`${bu}--disabled`,esriButtonSecondary:`${bu}--secondary`,esriButtonTertiary:`${bu}--tertiary`,esriButtonThird:`${bu}--third`,esriButtonSmall:`${bu}--small`,esriButtonHalf:`${bu}--half`,empty:"esri-widget__content--empty",iconExternalLink:"esri-icon-link-external",iconEdit:"esri-icon-edit",iconRight:"esri-icon-right",iconLeft:"esri-icon-left",iconPlus:"esri-icon-plus"},Kv=window.CSS;let wi=class extends Si.Z{constructor(g,v){super(g,v),this.displayType="auto",this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=null,this.visibleElements={...ET},this._supportsImageOrientation=Kv&&Kv.supports&&Kv.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}initialize(){this.viewModel||(this.viewModel=new Zv),this.addHandles([(0,rn.on)(()=>this.viewModel?.attachmentInfos,"change",()=>this.scheduleRender()),(0,rn.on)(()=>this.viewModel?.fileInfos,"change",()=>this.scheduleRender()),(0,rn.YP)(()=>this.viewModel?.mode,()=>this._modeChanged(),rn.nn)])}loadDependencies(){return Promise.all([M.e(8472).then(M.bind(M,8472))])}get abilities(){return this.viewModel.abilities}set abilities(g){this.viewModel.abilities=g}get effectiveDisplayType(){const{displayType:g}=this;return g&&"auto"!==g?g:this.viewModel.supportsResizeAttachments?"preview":"list"}get graphic(){return this.viewModel.graphic}set graphic(g){this.viewModel.graphic=g}get label(){return this.messages?.widgetLabel??""}set label(g){this._overrideIfSome("label",g)}castVisibleElements(g){return{...ET,...g}}addAttachment(){const{_addAttachmentForm:g,viewModel:v}=this;return this._set("submitting",!0),this._set("error",null),v.addAttachment(g).then(E=>(this._set("submitting",!1),this._set("error",null),v.mode="view",E)).catch(E=>{throw this._set("submitting",!1),this._set("error",new Jn.Z("attachments:add-attachment",this.messages.addErrorMessage,E)),E})}deleteAttachment(g){const{viewModel:v}=this;return this._set("submitting",!0),this._set("error",null),v.deleteAttachment(g).then(E=>(this._set("submitting",!1),this._set("error",null),v.mode="view",E)).catch(E=>{throw this._set("submitting",!1),this._set("error",new Jn.Z("attachments:delete-attachment",this.messages.deleteErrorMessage,E)),E})}updateAttachment(){const{viewModel:g}=this,{_updateAttachmentForm:v}=this;return this._set("submitting",!0),this._set("error",null),g.updateAttachment(v).then(E=>(this._set("submitting",!1),this._set("error",null),g.mode="view",E)).catch(E=>{throw this._set("submitting",!1),this._set("error",new Jn.Z("attachments:update-attachment",this.messages.updateErrorMessage,E)),E})}addFile(){const g=this.viewModel.addFile(this.selectedFile,this._addAttachmentForm);return this.viewModel.mode="view",g}updateFile(){const{viewModel:g}=this,v=g.updateFile(this.selectedFile,this._updateAttachmentForm,g.activeFileInfo);return g.mode="view",v}deleteFile(g){const v=this.viewModel.deleteFile(g||this.viewModel.activeFileInfo?.file);return this.viewModel.mode="view",v}render(){const{submitting:g,viewModel:v}=this,{state:E}=v;return(0,Kt.u)("div",{class:this.classes(Vn.base,Vn.esriWidget)},g?this.renderProgressBar():null,"loading"===E?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}renderErrorMessage(){const{error:g,visibleElements:v}=this;return g&&v.errorMessage?(0,Kt.u)("div",{key:"error-message",class:Vn.errorMessage},g.message):null}renderAttachments(){const{activeFileInfo:g,mode:v,activeAttachmentInfo:E}=this.viewModel;return"add"===v?this.renderAddForm():"edit"===v?this.renderDetailsForm(E||g):this.renderAttachmentContainer()}renderLoading(){return(0,Kt.u)("div",{class:Vn.loaderContainer,key:"loader"},(0,Kt.u)("div",{class:Vn.loader}))}renderProgressBar(){return this.visibleElements.progressBar?(0,Kt.u)("div",{class:Vn.progressBar,key:"progress-bar"}):null}renderAddForm(){const{submitting:g,selectedFile:v}=this,E=g||!v,C=this.visibleElements.cancelAddButton?(0,Kt.u)("button",{type:"button",bind:this,disabled:g,onclick:this._cancelForm,class:this.classes(Vn.esriButton,Vn.esriButtonTertiary,Vn.esriButtonSmall,Vn.esriButtonHalf,g&&Vn.buttonDisabled)},this.messages.cancel):null,w=this.visibleElements.addSubmitButton?(0,Kt.u)("button",{type:"submit",disabled:E,class:this.classes(Vn.esriButton,Vn.esriButtonSecondary,Vn.esriButtonSmall,Vn.esriButtonHalf,{[Vn.buttonDisabled]:E})},this.messages.add):null,I=v?(0,Kt.u)("span",{key:"file-name",class:Vn.fileName},v.name):null,A=(0,Kt.u)("form",{bind:this,afterCreate:ai.Yo,afterRemoved:ai.pV,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},(0,Kt.u)("fieldset",{class:Vn.fileFieldset},I,(0,Kt.u)("label",{class:this.classes(Vn.fileLabel,Vn.esriButton,Vn.esriButtonSecondary)},v?this.messages.changeFile:this.messages.selectFile,(0,Kt.u)("input",{class:Vn.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),w,C);return(0,Kt.u)("div",{key:"add-form-container",class:Vn.formNode},A)}renderDetailsForm(g){const{visibleElements:v,viewModel:E,selectedFile:C,submitting:w}=this,{abilities:I}=E,A=w||!C;let G,pe,Ee,Ue;C?(G=C.type,pe=C.name,Ee=C.size):g&&"file"in g?(G=g.file.type,pe=g.file.name,Ee=g.file.size):g&&"contentType"in g&&(G=g.contentType,pe=g.name,Ee=g.size,Ue=g.url);const Be=I.editing&&I.operations?.delete&&v.deleteButton?(0,Kt.u)("button",{key:"delete-button",type:"button",disabled:w,bind:this,onclick:an=>this._submitDeleteAttachment(an,g),class:this.classes(Vn.esriButton,Vn.esriButtonSmall,Vn.esriButtonTertiary,Vn.deleteButton,{[Vn.buttonDisabled]:w})},this.messages.delete):void 0,lt=I.editing&&I.operations?.update&&v.updateButton?(0,Kt.u)("button",{disabled:A,key:"update-button",type:"submit",class:this.classes(Vn.esriButton,Vn.esriButtonSmall,Vn.esriButtonThird,{[Vn.buttonDisabled]:A})},this.messages.update):void 0,ht=this.visibleElements.cancelUpdateButton?(0,Kt.u)("button",{disabled:w,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes(Vn.esriButton,Vn.esriButtonSmall,Vn.esriButtonTertiary,Vn.esriButtonThird,{[Vn.buttonDisabled]:w})},this.messages.cancel):void 0,wt=I.editing&&I.operations?.update?(0,Kt.u)("fieldset",{key:"file",class:Vn.fileFieldset},(0,Kt.u)("span",{key:"file-name",class:Vn.fileName},pe),(0,Kt.u)("label",{class:this.classes(Vn.fileLabel,Vn.esriButton,Vn.esriButtonSecondary)},this.messages.changeFile,(0,Kt.u)("input",{class:Vn.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):void 0,Gt=(0,Kt.u)("fieldset",{key:"size",class:Vn.metadataFieldset},(0,Kt.u)("label",null,function yB(g,v){let E=0===v?0:Math.floor(Math.log(v)/Math.log(HP.Y8.KILOBYTES));E=(0,Kh.uZ)(E,0,XP.length-1);const C=(0,F0.uf)(v/HP.Y8.KILOBYTES**E,{maximumFractionDigits:2});return(0,kc.gx)(g.units.bytes[XP[E]],{fileSize:C})}(this.messagesUnits,Ee??0))),qt=(0,Kt.u)("fieldset",{key:"content-type",class:Vn.metadataFieldset},(0,Kt.u)("label",null,G)),mn=(0,kt.pC)(Ue)?(0,Kt.u)("a",{class:Vn.itemLink,href:Ue,rel:"noreferrer",target:"_blank"},this.renderImageMask(g,400),(0,Kt.u)("div",{class:Vn.itemLinkOverlay},(0,Kt.u)("span",{class:Vn.itemLinkOverlayIcon},(0,Kt.u)("calcite-icon",{icon:"launch"})))):this.renderImageMask(g,400),Ln=(0,Kt.u)("form",{bind:this,afterCreate:ai.Yo,afterRemoved:ai.pV,"data-node-ref":"_updateAttachmentForm",onsubmit:an=>this._submitUpdateAttachment(an,g)},(0,Kt.u)("div",{class:Vn.metadata},Gt,qt),wt,(0,Kt.u)("div",{class:Vn.actions},Be,ht,lt));return(0,Kt.u)("div",{key:"edit-form-container",class:Vn.formNode},mn,Ln)}renderImageMask(g,v){return g?"file"in g?this.renderGenericImageMask(g.file.name,g.file.type):this.renderImageMaskForAttachment(g,v):null}renderGenericImageMask(g,v){const{supportsResizeAttachments:E}=this.viewModel,C=function QB(g){const v=(0,YB.V)("esri/themes/base/images/files/");return g?"text/plain"===g?`${v}text-32.svg`:"application/pdf"===g?`${v}pdf-32.svg`:"text/csv"===g?`${v}csv-32.svg`:"application/gpx+xml"===g?`${v}gpx-32.svg`:"application/x-dwf"===g?`${v}cad-32.svg`:"application/postscript"===g||"application/json"===g||"text/xml"===g||"model/vrml"===g?`${v}code-32.svg`:"application/x-zip-compressed"===g||"application/x-7z-compressed"===g||"application/x-gzip"===g||"application/x-tar"===g||"application/x-gtar"===g||"application/x-bzip2"===g||"application/gzip"===g||"application/x-compress"===g||"application/x-apple-diskimage"===g||"application/x-rar-compressed"===g||"application/zip"===g?`${v}zip-32.svg`:g.includes("image/")?`${v}image-32.svg`:g.includes("audio/")?`${v}sound-32.svg`:g.includes("video/")?`${v}video-32.svg`:g.includes("msexcel")||g.includes("ms-excel")||g.includes("spreadsheetml")?`${v}excel-32.svg`:g.includes("msword")||g.includes("ms-word")||g.includes("wordprocessingml")?`${v}word-32.svg`:g.includes("powerpoint")||g.includes("presentationml")?`${v}report-32.svg`:`${v}generic-32.svg`:`${v}generic-32.svg`}(v),w={[Vn.itemImageResizable]:E};return(0,Kt.u)("div",{class:this.classes(Vn.itemMaskIcon,Vn.itemMask)},(0,Kt.u)("img",{title:g,alt:g,src:C,class:this.classes(w,Vn.itemImage)}))}renderImageMaskForAttachment(g,v){const{supportsResizeAttachments:E}=this.viewModel;if(!g)return null;const{contentType:C,name:w,url:I}=g;if(!E||!vT(C))return this.renderGenericImageMask(w,C);const A=this._getCSSTransform(g),G=A?{transform:A,"image-orientation":"none"}:{},pe=`${I}${I?.includes("?")?"&":"?"}w=${v}`,Ee={[Vn.itemImageResizable]:E};return(0,Kt.u)("div",{class:this.classes(Vn.itemMask)},(0,Kt.u)("img",{styles:G,alt:w,title:w,src:pe,class:this.classes(Ee,Vn.itemImage)}))}renderFile(g){const{file:v}=g;return(0,Kt.u)("li",{class:Vn.item,key:v},(0,Kt.u)("button",{key:"details-button",bind:this,class:Vn.itemButton,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,onclick:()=>this._startEditFile(g),type:"button"},this.renderImageMask(g),(0,Kt.u)("label",{class:Vn.itemLabel},(0,Kt.u)("span",{class:Vn.itemFilename},v.name||this.messages.noTitle),(0,Kt.u)("span",{"aria-hidden":"true",class:this.classes(Vn.itemChevronIcon,(0,ai.dZ)(this.container)?Vn.iconLeft:Vn.iconRight)}))))}renderAttachmentInfo({attachmentInfo:g,displayType:v}){const{viewModel:E,effectiveDisplayType:C}=this,{abilities:w,supportsResizeAttachments:I}=E,{contentType:A,name:G,url:pe}=g,Ee=this.renderImageMask(g,"list"===v?48:400),Ue=w.editing?(0,Kt.u)("span",{"aria-hidden":"true",class:this.classes(Vn.itemChevronIcon,(0,ai.dZ)(this.container)?Vn.iconLeft:Vn.iconRight)}):null,Be=[Ee,"preview"===C&&I&&vT(A)?null:(0,Kt.u)("label",{class:Vn.itemLabel},(0,Kt.u)("span",{class:Vn.itemFilename},G||this.messages.noTitle),Ue)],lt=w.editing?(0,Kt.u)("button",{key:"details-button",bind:this,class:Vn.itemButton,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":g.id,onclick:()=>this._startEditAttachment(g),type:"button"},Be):(0,Kt.u)("a",{key:"details-link",class:Vn.itemButton,href:pe??void 0,target:"_blank"},Be);return(0,Kt.u)("li",{class:Vn.item,key:g},lt)}renderAttachmentContainer(){const{effectiveDisplayType:g,viewModel:v,visibleElements:E}=this,{attachmentInfos:C,abilities:w,fileInfos:I}=v,A=!!C?.length,G=!!I?.length,pe={[Vn.containerList]:"preview"!==g,[Vn.containerPreview]:"preview"===g},Ee=w.editing&&w.operations?.add&&E.addButton?(0,Kt.u)("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes(Vn.esriButton,Vn.esriButtonTertiary,Vn.addAttachmentButton),type:"button"},(0,Kt.u)("span",{"aria-hidden":"true",class:this.classes(Vn.itemAddIcon,Vn.iconPlus)}),this.messages.add):void 0,Ue=A?(0,Kt.u)("ul",{key:"attachments-list",class:Vn.items},C.toArray().map(ht=>this.renderAttachmentInfo({attachmentInfo:ht,displayType:g}))):void 0,Be=G?(0,Kt.u)("ul",{key:"file-list",class:Vn.items},I.toArray().map(ht=>this.renderFile(ht))):void 0,lt=G||A?void 0:(0,Kt.u)("div",{class:Vn.empty},this.messages.noAttachments);return(0,Kt.u)("div",{key:"attachments-container",class:this.classes(Vn.container,pe)},Ue,Be,lt,Ee)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(g){const v=g.target,E=v&&v.files&&v.files.item(0);this._set("selectedFile",E)}_submitDeleteAttachment(g,v){g.preventDefault(),v&&("file"in v?this.deleteFile(v.file):v&&this.deleteAttachment(v))}_submitAddAttachment(g){g.preventDefault(),this.viewModel.filesEnabled?this.addFile():this.addAttachment()}_submitUpdateAttachment(g,v){g.preventDefault(),v&&"file"in v?this.updateFile():this.updateAttachment()}_startEditAttachment(g){const{viewModel:v}=this;v.activeFileInfo=null,v.activeAttachmentInfo=g,v.mode="edit"}_startEditFile(g){const{viewModel:v}=this;v.activeAttachmentInfo=null,v.activeFileInfo=g,v.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(g){g.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(g){const{orientationInfo:v}=g;return!this._supportsImageOrientation&&v?[v.rotation?`rotate(${v.rotation}deg)`:"",v.mirrored?"scaleX(-1)":""].join(" "):""}};(0,Ae._)([(0,Fe.Cb)()],wi.prototype,"abilities",null),(0,Ae._)([(0,Fe.Cb)()],wi.prototype,"displayType",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],wi.prototype,"effectiveDisplayType",null),(0,Ae._)([(0,Fe.Cb)()],wi.prototype,"graphic",null),(0,Ae._)([(0,Fe.Cb)()],wi.prototype,"label",null),(0,Ae._)([(0,Fe.Cb)(),(0,Oi.H)("esri/widgets/Attachments/t9n/Attachments")],wi.prototype,"messages",void 0),(0,Ae._)([(0,Fe.Cb)(),(0,Oi.H)("esri/core/t9n/Units")],wi.prototype,"messagesUnits",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],wi.prototype,"selectedFile",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],wi.prototype,"submitting",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],wi.prototype,"error",void 0),(0,Ae._)([(0,Fe.Cb)({type:Zv})],wi.prototype,"viewModel",void 0),(0,Ae._)([(0,Fe.Cb)()],wi.prototype,"visibleElements",void 0),(0,Ae._)([(0,Qi.p)("visibleElements")],wi.prototype,"castVisibleElements",null),wi=(0,Ae._)([(0,Pn.j)("esri.widgets.Attachments")],wi);const XB=wi;let kh=class extends Zv{constructor(g){super(g),this.description=null,this.title=null}};(0,Ae._)([(0,Fe.Cb)()],kh.prototype,"description",void 0),(0,Ae._)([(0,Fe.Cb)()],kh.prototype,"title",void 0),kh=(0,Ae._)([(0,Pn.j)("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],kh);const zv=kh,qB={heading:"esri-widget__heading"};function Gv({level:g,class:v,...E},C){const w=function bT(g){return(0,Kh.uZ)(Math.ceil(g),1,6)}(g);return(0,Kt.u)(`h${w}`,{...E,class:(0,ai.Sh)(qB.heading,v),role:"heading","aria-level":String(w)},C)}const kv="esri-feature-element-info",Hv={base:kv,title:`${kv}__title`,description:`${kv}__description`};let Jc=class extends Si.Z{constructor(g,v){super(g,v),this.description=null,this.headingLevel=2,this.title=null}render(){return(0,Kt.u)("div",{class:Hv.base},this.renderTitle(),this.renderDescription())}renderTitle(){const{title:g}=this;return g?(0,Kt.u)(Gv,{level:this.headingLevel,class:Hv.title},g):null}renderDescription(){const{description:g}=this;return g?(0,Kt.u)("div",{key:"description",class:Hv.description},g):null}};(0,Ae._)([(0,Fe.Cb)()],Jc.prototype,"description",void 0),(0,Ae._)([(0,Fe.Cb)()],Jc.prototype,"headingLevel",void 0),(0,Ae._)([(0,Fe.Cb)()],Jc.prototype,"title",void 0),Jc=(0,Ae._)([(0,Pn.j)("esri.widgets.Feature.support.FeatureElementInfo")],Jc);const W0=Jc;let pa=class extends Si.Z{constructor(g,v){super(g,v),this._featureElementInfo=null,this.attachmentsWidget=new XB,this.headingLevel=2,this.viewModel=new zv}initialize(){this._featureElementInfo=new W0,this.addHandles([(0,rn.YP)(()=>[this.viewModel?.description,this.viewModel?.title,this.headingLevel],()=>this._setupFeatureElementInfo(),rn.nn),(0,rn.YP)(()=>this.viewModel,g=>this.attachmentsWidget.viewModel=g,rn.nn)])}destroy(){this.attachmentsWidget.destroy(),this._featureElementInfo?.destroy()}get description(){return this.viewModel.description}set description(g){this.viewModel.description=g}get displayType(){return this.attachmentsWidget.displayType}set displayType(g){this.attachmentsWidget.displayType=g}get graphic(){return this.viewModel.graphic}set graphic(g){this.viewModel.graphic=g}get title(){return this.viewModel.title}set title(g){this.viewModel.title=g}render(){const{attachmentsWidget:g}=this;return(0,Kt.u)("div",{class:"esri-feature-attachments"},this._featureElementInfo?.render(),g?.render())}_setupFeatureElementInfo(){const{description:g,title:v,headingLevel:E}=this;this._featureElementInfo?.set({description:g,title:v,headingLevel:E})}};(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],pa.prototype,"attachmentsWidget",void 0),(0,Ae._)([(0,Fe.Cb)()],pa.prototype,"description",null),(0,Ae._)([(0,Fe.Cb)()],pa.prototype,"displayType",null),(0,Ae._)([(0,Fe.Cb)()],pa.prototype,"graphic",null),(0,Ae._)([(0,Fe.Cb)()],pa.prototype,"headingLevel",void 0),(0,Ae._)([(0,Fe.Cb)()],pa.prototype,"title",null),(0,Ae._)([(0,Fe.Cb)({type:zv})],pa.prototype,"viewModel",void 0),pa=(0,Ae._)([(0,Pn.j)("esri.widgets.Feature.FeatureAttachments")],pa);const tW=pa;var Yc=M(80542);let Tl=class extends((0,Yc.p)(Hr.Z)){constructor(g){super(g),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.handles.add((0,rn.YP)(()=>this.creator,v=>{this._destroyContent(),this._createContent(v)},rn.nn))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:g,graphic:v,destroyer:E}=this;g&&v&&(B0(E,{graphic:v}).catch(()=>null),this._set("created",null))}_createContent(g){var v=this;return(0,Nn.Z)(function*(){const E=v.graphic;if(!E||!g)return;const C=B0(g,{graphic:E}).catch(()=>null);v._loadingPromise=C,v.notifyChange("state");const w=yield C;C===v._loadingPromise&&(v._loadingPromise=null,v.notifyChange("state"),v._set("created",w))})()}};(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Tl.prototype,"created",void 0),(0,Ae._)([(0,Fe.Cb)()],Tl.prototype,"creator",void 0),(0,Ae._)([(0,Fe.Cb)()],Tl.prototype,"destroyer",void 0),(0,Ae._)([(0,Fe.Cb)({type:gu.Z})],Tl.prototype,"graphic",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Tl.prototype,"state",null),Tl=(0,Ae._)([(0,Pn.j)("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],Tl);const V0=Tl;var Jv=M(13777);const Yv="esri-feature-content",Qv={base:Yv,loaderContainer:`${Yv}__loader-container`,loader:`${Yv}__loader`};let Qc=class extends Si.Z{constructor(g,v){super(g,v),this.viewModel=null,this._addTargetToAnchors=E=>{Array.from(E.querySelectorAll("a")).forEach(C=>{iT(C.href)&&!C.hasAttribute("target")&&C.setAttribute("target","_blank")})}}get creator(){return this.viewModel?.creator}set creator(g){this.viewModel&&(this.viewModel.creator=g)}get graphic(){return this.viewModel?.graphic}set graphic(g){this.viewModel&&(this.viewModel.graphic=g)}renderLoading(){return(0,Kt.u)("div",{class:Qv.loaderContainer,key:"loader"},(0,Kt.u)("div",{class:Qv.loader}))}renderCreated(){const g=this.viewModel?.created;return g?g instanceof HTMLElement?(0,Kt.u)("div",{key:g,bind:g,afterCreate:this._attachToNode}):(0,Jv.Qd)(g)?(0,Kt.u)("div",{key:g},!g.destroyed&&g.render()):(0,Kt.u)("div",{key:g,innerHTML:g,afterCreate:this._addTargetToAnchors}):null}render(){const g=this.viewModel?.state;return(0,Kt.u)("div",{class:Qv.base},"loading"===g?this.renderLoading():this.renderCreated())}_attachToNode(g){g.appendChild(this)}};(0,Ae._)([(0,Fe.Cb)()],Qc.prototype,"creator",null),(0,Ae._)([(0,Fe.Cb)()],Qc.prototype,"graphic",null),(0,Ae._)([(0,Fe.Cb)({type:V0})],Qc.prototype,"viewModel",void 0),Qc=(0,Ae._)([(0,Pn.j)("esri.widgets.Feature.FeatureContent")],Qc);const $0=Qc;var nW=M(38439),CT=M(25621);let Ya=class extends Hr.Z{constructor(g){super(g),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:g,fieldInfos:v}=this,E=[];return v?.forEach(C=>{if(C.hasOwnProperty("visible")&&!C.visible)return;const w=C.clone();w.label=oT(w,g),E.push(w)}),E}};(0,Ae._)([(0,Fe.Cb)()],Ya.prototype,"attributes",void 0),(0,Ae._)([(0,Fe.Cb)({type:[nW.Z]})],Ya.prototype,"expressionInfos",void 0),(0,Ae._)([(0,Fe.Cb)()],Ya.prototype,"description",void 0),(0,Ae._)([(0,Fe.Cb)({type:[CT.Z]})],Ya.prototype,"fieldInfos",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Ya.prototype,"formattedFieldInfos",null),(0,Ae._)([(0,Fe.Cb)()],Ya.prototype,"title",void 0),Ya=(0,Ae._)([(0,Pn.j)("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],Ya);const Z0=Ya,rW=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];const K0="esri-feature-fields",Hh={base:K0,fieldHeader:`${K0}__field-header`,fieldData:`${K0}__field-data`,fieldDataDate:`${K0}__field-data--date`,esriTable:"esri-widget__table"};let Ko=class extends Si.Z{constructor(g,v){super(g,v),this._featureElementInfo=null,this.viewModel=new Z0,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new W0,this.addHandles((0,rn.YP)(()=>[this.viewModel?.description,this.viewModel?.title],()=>this._setupFeatureElementInfo(),rn.nn))}destroy(){this._featureElementInfo?.destroy()}get attributes(){return this.viewModel.attributes}set attributes(g){this.viewModel.attributes=g}get description(){return this.viewModel.description}set description(g){this.viewModel.description=g}get expressionInfos(){return this.viewModel.expressionInfos}set expressionInfos(g){this.viewModel.expressionInfos=g}get fieldInfos(){return this.viewModel.fieldInfos}set fieldInfos(g){this.viewModel.fieldInfos=g}get title(){return this.viewModel.title}set title(g){this.viewModel.title=g}renderFieldInfo(g,v){const{attributes:E}=this.viewModel,C=g.fieldName,w=g.label||C,I=E?null==E[C]?"":E[C]:"",A=!(!g.format||!g.format.dateFormat),G="number"!=typeof I||A?function iW(g,v){if("string"!=typeof v||!v)return v;const E=function sW(g){let v=null;return rW.some(E=>(E.pattern.test(g)&&(v=E),!!v)),v}(v);if(!E)return v;const C=v.match(E.pattern),I=(0,kc.gx)((0,kc.gx)(E.label,{messages:g,hierPart:C&&C[2]}),{appName:E.appName});return v.replace(E.pattern,`<a${E.target?` target="${E.target}"`:""} href="$1"${"_blank"===E.target?' rel="noreferrer"':""}>${I}</a>`)}(this.messagesURIUtils,I):this._forceLTR(I),pe={[Hh.fieldDataDate]:A};return(0,Kt.u)("tr",{key:`fields-element-info-row-${C}-${v}`},(0,Kt.u)("th",{key:`fields-element-info-row-header-${C}-${v}`,class:Hh.fieldHeader,innerHTML:w}),(0,Kt.u)("td",{key:`fields-element-info-row-data-${C}-${v}`,class:this.classes(Hh.fieldData,pe),innerHTML:G}))}renderFields(){const{formattedFieldInfos:g}=this.viewModel;return g?.length?(0,Kt.u)("table",{class:Hh.esriTable,summary:this.messages.fieldsSummary},(0,Kt.u)("tbody",null,g.map((v,E)=>this.renderFieldInfo(v,E)))):null}render(){return(0,Kt.u)("div",{class:Hh.base},this._featureElementInfo?.render(),this.renderFields())}_setupFeatureElementInfo(){const{description:g,title:v}=this;this._featureElementInfo?.set({description:g,title:v})}_forceLTR(g){return`&lrm;${g}`}};(0,Ae._)([(0,Fe.Cb)()],Ko.prototype,"attributes",null),(0,Ae._)([(0,Fe.Cb)()],Ko.prototype,"description",null),(0,Ae._)([(0,Fe.Cb)()],Ko.prototype,"expressionInfos",null),(0,Ae._)([(0,Fe.Cb)()],Ko.prototype,"fieldInfos",null),(0,Ae._)([(0,Fe.Cb)()],Ko.prototype,"title",null),(0,Ae._)([(0,Fe.Cb)({type:Z0,nonNullable:!0})],Ko.prototype,"viewModel",void 0),(0,Ae._)([(0,Fe.Cb)(),(0,Oi.H)("esri/widgets/Feature/t9n/Feature")],Ko.prototype,"messages",void 0),(0,Ae._)([(0,Fe.Cb)(),(0,Oi.H)("esri/widgets/support/t9n/uriUtils")],Ko.prototype,"messagesURIUtils",void 0),Ko=(0,Ae._)([(0,Pn.j)("esri.widgets.Feature.FeatureFields")],Ko);const MT=Ko;var Jh=M(88159);const dW={maximumFractionDigits:20};M(8029);var wo=M(86606);M(20383),M(52068);const pW="<",fW=">",mW=(0,vu.Ze)("short-date");const _W=new $h.Z([64,64,64]);function ST(g,v){const E=[],C=g.length-1;return 5===g.length?E.push(0,2,4):E.push(0,C),g.map((w,I)=>E.includes(I)?function yW(g,v,E,C){let w="";0===v?w=`${pW} `:v===E&&(w=`${fW} `);let I=null;return I=C?(0,vu.p6)(g,mW):function hW(g){return(0,F0.uf)(g,dW)}(g),w+I}(w,I,C,v):null)}function vW(g,v,E){return eE.apply(this,arguments)}function eE(){return eE=(0,Nn.Z)(function*(g,v,E){let C=!1,w=[],I=[];if(g.stops){const Ee=g.stops;w=Ee.map(Ue=>Ue.value),C=Ee.some(Ue=>!!Ue.label),C&&(I=Ee.map(Ue=>Ue.label))}if(null==w[0]&&null==w[w.length-1])return null;const pe=C?null:ST(w,E??!1);return(yield Promise.all(w.map(function(){var Ee=(0,Nn.Z)(function*(Ue,Be){return{value:Ue,color:"opacity"===g.type?yield EW(Ue,g,v):(yield Promise.resolve().then(M.bind(M,81808))).getColor(g,Ue),label:C?I[Be]:pe?.[Be]??""}});return function(Ue,Be){return Ee.apply(this,arguments)}}()))).reverse()}),eE.apply(this,arguments)}function EW(g,v){return tE.apply(this,arguments)}function tE(){return(tE=(0,Nn.Z)(function*(g,v,E=_W){const C=new $h.Z(E),w=(yield Promise.resolve().then(M.bind(M,81808))).getOpacity(v,g);return null!=w&&(C.a=w),C})).apply(this,arguments)}var MW=M(52372);function yo(g,v,E){return nE.apply(this,arguments)}function nE(){return(nE=(0,Nn.Z)(function*(g,v,E){(0,Jh.s1)(g,v,()=>[]).push(...E)})).apply(this,arguments)}function rE(){return(rE=(0,Nn.Z)(function*(g){const v=new Map;if(!g)return v;if("visualVariables"in g&&g.visualVariables){const E=g.visualVariables.filter(C=>"color"===C.type);for(const C of E){const w=((yield vW(C))??[]).map(I=>I.color);yield yo(v,C.field||C.valueExpression,w)}}if("heatmap"===g.type){const E=function DW(g){if(!g.colorStops)return[];const v=[...g.colorStops].filter(C=>C.color?.a>0);let E=v.length-1;if(v&&v[0]){const C=v[E];C&&1!==C.ratio&&(v.push(new MW.Z({ratio:1,color:C.color})),E++)}return v.map((C,w)=>{let I="";return 0===w?I=g.legendOptions?.minLabel||"low":w===E&&(I=g.legendOptions?.maxLabel||"high"),{color:C.color,label:I,ratio:C.ratio}}).reverse()}(g).map(C=>C.color);yield yo(v,g.field||g.valueExpression,E)}else if("pie-chart"===g.type){for(const E of g.attributes)yield yo(v,E.field||E.valueExpression,[E.color]);yield yo(v,"default",[g?.othersCategory?.color,(0,wo._h)(g.backgroundFillSymbol,null)])}else if("dot-density"===g.type){for(const E of g.attributes)yield yo(v,E.field||E.valueExpression,[E.color]);yield yo(v,"default",[g.backgroundColor])}else if("unique-value"===g.type)if("predominance"===g.authoringInfo?.type)for(const E of g.uniqueValueInfos??[])yield yo(v,E.value.toString(),[(0,wo._h)(E.symbol,null)]);else{const E=(g.uniqueValueInfos??[]).map(G=>(0,wo._h)(G.symbol,null)),{field:C,field2:w,field3:I,valueExpression:A}=g;(C||A)&&(yield yo(v,C||A,E)),w&&(yield yo(v,w,E)),I&&(yield yo(v,I,E))}else if("class-breaks"===g.type){const E=g.classBreakInfos.map(I=>(0,wo._h)(I.symbol,null)),{field:C,valueExpression:w}=g;yield yo(v,C??w,E)}else"simple"===g.type&&(yield yo(v,"default",[(0,wo._h)(g.symbol,null)]));return"defaultSymbol"in g&&g.defaultSymbol&&(yield yo(v,"default",[(0,wo._h)(g.defaultSymbol,null)])),v.forEach((E,C)=>{const w=(0,tB.Tw)(E.filter(Boolean),(I,A)=>JSON.stringify(I)===JSON.stringify(A));v.set(C,w)}),v})).apply(this,arguments)}Vr.Z.getLogger("esri.renderers.support.utils"),(0,vu.Ze)("short-date");var xW=M(77891),RW=M(84792),sE=(M(15283),M(2865)),LW=M(24263),jW=(M(82054),M(21674),M(72854),M(37118)),iE=(M(55214),M(93555),M(24192),M(17253),M(96854)),UW=M(29132),oE=M(67010),FW=(M(6871),M(60776));const IT=Vr.Z.getLogger("esri.widgets.Feature.support.relatedFeatureUtils"),PT=new Map;function z0(g){if(!Ja(g))return null;const[v,E]=g.split("/").slice(1);return{layerId:v,fieldName:E}}function aE(){return(aE=(0,Nn.Z)(function*(g,v,E,C){const w=E.layerId.toString(),{layerInfo:I,relation:A,relatedFields:G,outStatistics:pe,url:Ee,sourceSpatialReference:Ue}=v;if(!I||!A)return null;const Be=function WW({originRelationship:g,relationships:v,layerId:E}){let C=null;return v&&v.some(w=>(`${w.relatedTableId}`===E&&w.id===g?.id&&(C=w),!!C)),C}({originRelationship:A,relationships:I.relationships,layerId:w});if(Be?.relationshipTableId&&Be.keyFieldInRelationshipTable){const ht=(yield function KW(g,v,E,C){const w=new oE.default;return w.outFields=["*"],w.relationshipId="number"==typeof v.id?v.id:parseInt(v.id,10),w.objectIds=[g.attributes[E.objectIdField]],E.queryRelatedFeatures?.(w,C)??Promise.resolve({})}(g,Be,E,C))[g.attributes[E.objectIdField]];if(!ht)return null;const wt=ht.features.map(Gt=>Gt.attributes[I.objectIdField]);if(pe?.length&&I.supportsStatistics){const Gt=new iE.Z;Gt.where=function zW(g,v,E){let C=0;const w=[];for(;C<v.length;)w.push(`${g} IN (${v.slice(C,E+C)})`),C+=E;return w.join(" OR ")}(I.objectIdField,wt,1e3),Gt.outFields=G,Gt.outStatistics=pe,Gt.sourceSpatialReference=Ue;const qt={features:Promise.resolve(ht),statsFeatures:(0,sE.e)(Ee,Gt)};return(0,Lr.as)(qt)}}const lt=Be?.keyField;if(lt){const ht=(0,Av.H7)(function QW(g,v){if(null!=g){v=v.toLowerCase();for(const E of g)if(E&&E.name.toLowerCase()===v)return E}return null}(I.fields,lt)),wt=function VW(g,v){const E=v.toLowerCase();for(const C in g)if(C.toLowerCase()===E)return g[C];return null}(g.attributes,A.keyField),Gt=ht?`${lt}=${wt}`:`${lt}='${wt}'`,qt=(0,sE.e)(Ee,new iE.Z({where:Gt,outFields:v.relatedFields,sourceSpatialReference:Ue}),C),mn=v.outStatistics&&v.outStatistics.length>0&&I.supportsStatistics?(0,sE.e)(Ee,new iE.Z({where:Gt,outFields:v.relatedFields,outStatistics:v.outStatistics,sourceSpatialReference:Ue}),C):null,Ln={features:qt};return mn&&(Ln.statsFeatures=mn),(0,Lr.as)(Ln)}return null})).apply(this,arguments)}const TT={chartAnimation:!0};let Gs=class extends Hr.Z{constructor(g){super(g),this.abilities={...TT},this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.isAggregate=!1,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}castAbilities(g){return{...TT,...g}}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(g){this._setContentElementMedia(g)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(g){const{formattedMediaInfoCount:v}=this;this.activeMediaInfoIndex=(g+v)%v}_pageContentElementMedia(g){const{activeMediaInfoIndex:v}=this;this._setContentElementMedia(v+g)}_formatMediaInfos(){const{mediaInfos:g,layer:v}=this,E=this.attributes??{},C=this.formattedAttributes??{},w=this.expressionAttributes??{},I=this.fieldInfoMap??new Map;return g?.map(A=>{const G=A?.clone();if(!G)return null;if(G.title=Eu({attributes:E,fieldInfoMap:I,globalAttributes:C,expressionAttributes:w,layer:v,text:G.title}),G.caption=Eu({attributes:E,fieldInfoMap:I,globalAttributes:C,expressionAttributes:w,layer:v,text:G.caption}),G.altText=Eu({attributes:E,fieldInfoMap:I,globalAttributes:C,expressionAttributes:w,layer:v,text:G.altText}),"image"===G.type){const{value:pe}=G;return this._setImageValue({value:pe,formattedAttributes:C,layer:v}),G.value.sourceURL?G:void 0}if("pie-chart"===G.type||"line-chart"===G.type||"column-chart"===G.type||"bar-chart"===G.type){const{value:pe}=G;return this._setChartValue({value:pe,chartType:G.type,attributes:E,formattedAttributes:C,layer:v,expressionAttributes:w}),G}return null}).filter(kt.pC)??[]}_setImageValue(g){const v=this.fieldInfoMap??new Map,{value:E,formattedAttributes:C,layer:w}=g,{linkURL:I,sourceURL:A}=E;if(A){const G=Fv(A,w);E.sourceURL=Uv({formattedAttributes:C,template:G,fieldInfoMap:v})}if(I){const G=Fv(I,w);E.linkURL=Uv({formattedAttributes:C,template:G,fieldInfoMap:v})}}_setChartValue(g){const{value:v,attributes:E,formattedAttributes:C,chartType:w,layer:I,expressionAttributes:A}=g,{popupTemplate:G,relatedInfos:pe}=this,{fields:Ee,normalizeField:Ue}=v,Be=I;if(v.fields=function TB(g,v){return g&&g.map(E=>zh(E,v))}(Ee,Be),Ue&&(v.normalizeField=zh(Ue,Be)),!Ee.some(ht=>!!(null!=C[ht]||Ja(ht)&&pe?.size)))return;const lt=G?.fieldInfos??[];Ee.forEach(ht=>{if(Ja(ht))return void(v.series=[...v.series,...this._getRelatedChartInfos({fieldInfos:lt,fieldName:ht,formattedAttributes:C,chartType:w,value:v})]);const wt=this._getChartOption({value:v,attributes:E,chartType:w,formattedAttributes:C,expressionAttributes:A,fieldName:ht,fieldInfos:lt});v.series.push(wt)})}_getRelatedChartInfos(g){const{fieldInfos:v,fieldName:E,formattedAttributes:C,chartType:w,value:I}=g,A=[],G=z0(E),pe=G&&this.relatedInfos?.get(G.layerId.toString());if(!pe)return A;const{relatedFeatures:Ee,relation:Ue}=pe;if(!Ue||!Ee)return A;const{cardinality:Be}=Ue;return Ee.forEach(lt=>{const{attributes:ht}=lt;ht&&Object.keys(ht).forEach(wt=>{wt===G.fieldName&&A.push(this._getChartOption({value:I,attributes:ht,formattedAttributes:C,fieldName:E,chartType:w,relatedFieldName:wt,hasMultipleRelatedFeatures:Ee?.length>1,fieldInfos:v}))})}),"one-to-many"===Be||"many-to-many"===Be?A:[A[0]]}_getTooltip({label:g,value:v,chartType:E}){return"pie-chart"===E?`${g}`:`${g}: ${v}`}_getChartOption(g){const{value:v,attributes:E,formattedAttributes:C,expressionAttributes:w,fieldName:I,relatedFieldName:A,fieldInfos:G,chartType:pe,hasMultipleRelatedFeatures:Ee}=g,Ue=this.layer,Be=this.fieldInfoMap??new Map,{normalizeField:lt,tooltipField:ht}=v,wt=lt?Ja(lt)?E[z0(lt).fieldName]:E[lt]:null,Gt=Lv(I)&&w&&void 0!==w[I]?w[I]:A&&void 0!==E[A]?E[A]:void 0!==E[I]?E[I]:C[I],qt=new xW.Z({fieldName:I,value:void 0===Gt?null:Gt&&wt?Gt/wt:Gt});if(Ja(I)){const cr=Be.get(I.toLowerCase()),Sr=ht&&Be.get(ht.toLowerCase()),zl=cr?.fieldName??I,bp=Ee&&ht?z0(ht).fieldName:Sr?.fieldName??ht;return qt.tooltip=this._getTooltip({label:Ee&&bp?E[bp]:C[bp]??cr?.label??cr?.fieldName??A,value:Ee&&A?E[A]:C[zl],chartType:pe}),qt}const mn=uT(G,I),Ln=zh(I,Ue),an=ht&&void 0!==C[ht]?C[ht]:oT(mn||new CT.Z({fieldName:Ln}),this.popupTemplate?.expressionInfos);return qt.tooltip=this._getTooltip({label:an,value:C[Ln],chartType:pe}),qt}};(0,Ae._)([(0,Fe.Cb)()],Gs.prototype,"abilities",void 0),(0,Ae._)([(0,Qi.p)("abilities")],Gs.prototype,"castAbilities",null),(0,Ae._)([(0,Fe.Cb)()],Gs.prototype,"activeMediaInfoIndex",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Gs.prototype,"activeMediaInfo",null),(0,Ae._)([(0,Fe.Cb)()],Gs.prototype,"attributes",void 0),(0,Ae._)([(0,Fe.Cb)()],Gs.prototype,"description",void 0),(0,Ae._)([(0,Fe.Cb)()],Gs.prototype,"fieldInfoMap",void 0),(0,Ae._)([(0,Fe.Cb)()],Gs.prototype,"formattedAttributes",void 0),(0,Ae._)([(0,Fe.Cb)()],Gs.prototype,"expressionAttributes",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Gs.prototype,"formattedMediaInfos",null),(0,Ae._)([(0,Fe.Cb)()],Gs.prototype,"isAggregate",void 0),(0,Ae._)([(0,Fe.Cb)()],Gs.prototype,"layer",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Gs.prototype,"formattedMediaInfoCount",null),(0,Ae._)([(0,Fe.Cb)()],Gs.prototype,"mediaInfos",void 0),(0,Ae._)([(0,Fe.Cb)()],Gs.prototype,"popupTemplate",void 0),(0,Ae._)([(0,Fe.Cb)()],Gs.prototype,"relatedInfos",void 0),(0,Ae._)([(0,Fe.Cb)()],Gs.prototype,"title",void 0),Gs=(0,Ae._)([(0,Pn.j)("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],Gs);const Cu=Gs;var AT=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],qW=[{name:"default",colors:[].concat(AT.slice(30,39),AT.slice(28,30).reverse())},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}],lE=M(56683);const xT="en-us",uE=new Map([["ar",()=>Promise.all([M.e(8592),M.e(3309)]).then(M.bind(M,93309)).then(g=>g.a)],["bg-bg",()=>Promise.all([M.e(8592),M.e(2504)]).then(M.bind(M,82504)).then(g=>g.b)],["bs-ba",()=>Promise.all([M.e(8592),M.e(88)]).then(M.bind(M,88)).then(g=>g.b)],["ca-es",()=>Promise.all([M.e(8592),M.e(2371)]).then(M.bind(M,32371)).then(g=>g.c)],["cs-cz",()=>Promise.all([M.e(8592),M.e(3690)]).then(M.bind(M,93690)).then(g=>g.c)],["da-dk",()=>Promise.all([M.e(8592),M.e(2125)]).then(M.bind(M,42125)).then(g=>g.d)],["de-de",()=>Promise.all([M.e(8592),M.e(7396)]).then(M.bind(M,7396)).then(g=>g.d)],["de-ch",()=>Promise.all([M.e(8592),M.e(2479)]).then(M.bind(M,62479)).then(g=>g.d)],["el-gr",()=>Promise.all([M.e(8592),M.e(9548)]).then(M.bind(M,39548)).then(g=>g.e)],["en-us",()=>Promise.all([M.e(8592),M.e(700)]).then(M.bind(M,20700)).then(g=>g.e)],["en-ca",()=>Promise.all([M.e(8592),M.e(7028)]).then(M.bind(M,37028)).then(g=>g.e)],["es-es",()=>Promise.all([M.e(8592),M.e(4824)]).then(M.bind(M,54824)).then(g=>g.e)],["et-ee",()=>Promise.all([M.e(8592),M.e(3914)]).then(M.bind(M,23914)).then(g=>g.e)],["fi-fi",()=>Promise.all([M.e(8592),M.e(1299)]).then(M.bind(M,1299)).then(g=>g.f)],["fr-fr",()=>Promise.all([M.e(8592),M.e(9856)]).then(M.bind(M,39856)).then(g=>g.f)],["he-il",()=>Promise.all([M.e(8592),M.e(4609)]).then(M.bind(M,24609)).then(g=>g.h)],["hr-hr",()=>Promise.all([M.e(8592),M.e(7731)]).then(M.bind(M,87731)).then(g=>g.h)],["hu-hu",()=>Promise.all([M.e(8592),M.e(7127)]).then(M.bind(M,57127)).then(g=>g.h)],["id-id",()=>Promise.all([M.e(8592),M.e(6560)]).then(M.bind(M,36560)).then(g=>g.i)],["it-it",()=>Promise.all([M.e(8592),M.e(7708)]).then(M.bind(M,67708)).then(g=>g.i)],["ja-jp",()=>Promise.all([M.e(8592),M.e(6651)]).then(M.bind(M,36651)).then(g=>g.j)],["ko-kr",()=>Promise.all([M.e(8592),M.e(7016)]).then(M.bind(M,7016)).then(g=>g.k)],["lt-lt",()=>Promise.all([M.e(8592),M.e(5010)]).then(M.bind(M,5010)).then(g=>g.l)],["lv-lv",()=>Promise.all([M.e(8592),M.e(2620)]).then(M.bind(M,92620)).then(g=>g.l)],["nb-no",()=>Promise.all([M.e(8592),M.e(5237)]).then(M.bind(M,55237)).then(g=>g.n)],["nl-nl",()=>Promise.all([M.e(8592),M.e(948)]).then(M.bind(M,948)).then(g=>g.n)],["pl-pl",()=>Promise.all([M.e(8592),M.e(8351)]).then(M.bind(M,58351)).then(g=>g.p)],["pt-br",()=>Promise.all([M.e(8592),M.e(6681)]).then(M.bind(M,86681)).then(g=>g.p)],["pt-pt",()=>Promise.all([M.e(8592),M.e(8110)]).then(M.bind(M,48110)).then(g=>g.p)],["ro-ro",()=>Promise.all([M.e(8592),M.e(8372)]).then(M.bind(M,78372)).then(g=>g.r)],["ru-ru",()=>Promise.all([M.e(8592),M.e(8073)]).then(M.bind(M,88073)).then(g=>g.r)],["sk-sk",()=>Promise.all([M.e(8592),M.e(7419)]).then(M.bind(M,7419)).then(g=>g.s)],["sl-sl",()=>Promise.all([M.e(8592),M.e(1218)]).then(M.bind(M,11218)).then(g=>g.s)],["sr-rs",()=>Promise.all([M.e(8592),M.e(5302)]).then(M.bind(M,85302)).then(g=>g.s)],["sv-se",()=>Promise.all([M.e(8592),M.e(6079)]).then(M.bind(M,86079)).then(g=>g.s)],["th-th",()=>Promise.all([M.e(8592),M.e(5508)]).then(M.bind(M,55508)).then(g=>g.t)],["tr-tr",()=>Promise.all([M.e(8592),M.e(6844)]).then(M.bind(M,56844)).then(g=>g.t)],["uk-ua",()=>Promise.all([M.e(8592),M.e(4978)]).then(M.bind(M,4978)).then(g=>g.u)],["vi-vn",()=>Promise.all([M.e(8592),M.e(8633)]).then(M.bind(M,29202)).then(g=>g.v)],["zh-cn",()=>Promise.all([M.e(8592),M.e(865)]).then(M.bind(M,70865)).then(g=>g.z)],["zh-hk",()=>Promise.all([M.e(8592),M.e(3207)]).then(M.bind(M,3207)).then(g=>g.z)],["zh-tw",()=>Promise.all([M.e(8592),M.e(3207)]).then(M.bind(M,3207)).then(g=>g.z)]]);let qc=null,Qh=null;function cE(){return(cE=(0,Nn.Z)(function*(g=(0,lE.Kd)()){if(g=function tV(g){return g?uE.has(g.toLowerCase())?g.toLowerCase():function eV(g){const v=g.split("-")[0].toLowerCase();let E=null;for(const C of uE.keys())if(C.startsWith(v)){E=C;break}return E}(g)||xT:xT}(g),qc&&g===Qh)return qc;qc=M.e(4430).then(M.bind(M,4430)).then(v=>v.i),Qh=g;try{const[v,E]=yield Promise.all([qc,uE.get(Qh)()]);Qh===g&&(v.am4core.options.defaultLocale=E.default),v.am4core.options.suppressWarnings=!0,v.am4core.options.autoDispose=!0}catch{return qc=null,Qh=null,null}return qc})).apply(this,arguments)}const RT="calcite-mode-";function G0(){return function sV(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replace(/\s|'|"/g,"")}().startsWith("dark")}const Ni="esri-feature-media",xs={base:Ni,mediaContainer:`${Ni}__container`,mediaItemContainer:`${Ni}__item-container`,mediaItem:`${Ni}__item`,mediaItemTitle:`${Ni}__item-title`,mediaItemCaption:`${Ni}__item-caption`,mediaPrevious:`${Ni}__previous`,mediaPreviousIconLTR:`${Ni}__previous-icon`,mediaPreviousIconRTL:`${Ni}__previous-icon--rtl`,mediaNext:`${Ni}__next`,mediaNextIconLTR:`${Ni}__next-icon`,mediaNextIconRTL:`${Ni}__next-icon--rtl`,mediaChart:`${Ni}__chart`,mediaButton:`${Ni}__button`,mediaIcon:`${Ni}__icon`,iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow"},Qa="color",Al="tooltip",Xh="value",LT="default-line-value";let eo=class extends Si.Z{constructor(g,v){var E;super(g,v),E=this,this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this.viewModel=new Cu,this.messages=null,this._getChartDependencies=function(){var C=(0,Nn.Z)(function*(w){const I=yield function nV(){return cE.apply(this,arguments)}(),{destroyed:A,viewModel:G}=E;if(A||!G||!w)return;const{activeMediaInfo:pe}=G,Ee=yield E._getRendererColors(I);E._renderChart({chartDiv:w,mediaInfo:pe,chartsModule:I,colorMap:Ee})});return function(w){return C.apply(this,arguments)}}()}initialize(){this._featureElementInfo=new W0,this.addHandles([(0,rn.YP)(()=>[this.viewModel?.activeMediaInfo,this.viewModel?.activeMediaInfoIndex],()=>this._setupMediaRefreshTimer(),rn.nn),(0,rn.YP)(()=>[this.viewModel?.description,this.viewModel?.title],()=>this._setupFeatureElementInfo(),rn.nn)])}destroy(){this._clearMediaRefreshTimer(),this._featureElementInfo?.destroy()}get attributes(){return this.viewModel.attributes}set attributes(g){this.viewModel.attributes=g}get activeMediaInfoIndex(){return this.viewModel.activeMediaInfoIndex}set activeMediaInfoIndex(g){this.viewModel.activeMediaInfoIndex=g}get description(){return this.viewModel.description}set description(g){this.viewModel.description=g}get fieldInfoMap(){return this.viewModel.fieldInfoMap}set fieldInfoMap(g){this.viewModel.fieldInfoMap=g}get layer(){return this.viewModel.layer}set layer(g){this.viewModel.layer=g}get mediaInfos(){return this.viewModel.mediaInfos}set mediaInfos(g){this.viewModel.mediaInfos=g}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(g){this.viewModel.popupTemplate=g}get relatedInfos(){return this.viewModel.relatedInfos}set relatedInfos(g){this.viewModel.relatedInfos=g}get title(){return this.viewModel.title}set title(g){this.viewModel.title=g}render(){return(0,Kt.u)("div",{bind:this,class:xs.base,onkeyup:this._handleMediaKeyup},this._featureElementInfo?.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:g}=this.viewModel;return g?(0,Kt.u)("div",{key:"media-element-container",class:xs.mediaContainer},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}renderImageMediaInfo(g){const{_refreshIntervalInfo:v}=this,{activeMediaInfoIndex:E,formattedMediaInfoCount:C}=this.viewModel,{value:w,refreshInterval:I,altText:A,title:G,type:pe}=g,{sourceURL:Ee,linkURL:Ue}=w,Be=iT(Ue??void 0)?"_blank":"_self",lt="_blank"===Be?"noreferrer":"",ht=I?v:null,qt=(0,Kt.u)("img",{alt:A||G,key:`media-${pe}-${E}-${C}-${ht?ht.timestamp:0}`,src:(ht?ht.sourceURL:Ee)??void 0});return(Ue?(0,Kt.u)("a",{title:G,href:Ue,rel:lt,target:Be},qt):null)||qt}renderChartMediaInfo(g){const{activeMediaInfoIndex:v,formattedMediaInfoCount:E}=this.viewModel;return(0,Kt.u)("div",{key:`media-${g.type}-${v}-${E}`,bind:this,class:xs.mediaChart,afterCreate:this._getChartDependencies})}renderMediaInfoType(){const{activeMediaInfo:g}=this.viewModel;return g?"image"===g.type?this.renderImageMediaInfo(g):g.type.includes("chart")?this.renderChartMediaInfo(g):null:null}renderMediaInfo(){const{activeMediaInfo:g}=this.viewModel;if(!g)return null;const v=g.title?(0,Kt.u)("div",{key:"media-title",class:xs.mediaItemTitle,innerHTML:g.title}):null,E=g.caption?(0,Kt.u)("div",{key:"media-caption",class:xs.mediaItemCaption,innerHTML:g.caption}):null;return(0,Kt.u)("div",{key:"media-container",class:xs.mediaItemContainer},(0,Kt.u)("div",{key:"media-item-container",class:xs.mediaItem},this.renderMediaInfoType()),v,E)}renderMediaPageButton(g){if(this.viewModel.formattedMediaInfoCount<2)return null;const v="previous"===g,E=v?this.messages.previous:this.messages.next,C=this.classes(xs.mediaButton,v?xs.mediaPrevious:xs.mediaNext),w=v?this.classes(xs.mediaIcon,xs.mediaPreviousIconLTR,xs.iconLeftTriangleArrow):this.classes(xs.mediaIcon,xs.mediaNextIconLTR,xs.iconRightTriangleArrow),I=v?this.classes(xs.mediaIcon,xs.mediaPreviousIconRTL,xs.iconRightTriangleArrow):this.classes(xs.mediaIcon,xs.mediaNextIconRTL,xs.iconLeftTriangleArrow);return(0,Kt.u)("button",{type:"button",key:v?"media-previous":"media-next",title:E,"aria-label":E,tabIndex:0,class:C,bind:this,onclick:v?this._previous:this._next},(0,Kt.u)("span",{"aria-hidden":"true",class:w}),(0,Kt.u)("span",{"aria-hidden":"true",class:I}))}_setupFeatureElementInfo(){const{description:g,title:v}=this;this._featureElementInfo?.set({description:g,title:v})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}_getRenderer(){const{isAggregate:g,layer:v}=this.viewModel;return g&&v?.featureReduction&&"renderer"in v.featureReduction?v.featureReduction.renderer:v?.renderer}_getRendererColors(g){var v=this;return(0,Nn.Z)(function*(){const{am4core:E}=g,C=new Map,w=v._getRenderer();if(!w)return C;const A=yield function IW(g){return rE.apply(this,arguments)}(w);return A.delete("default"),Array.from(A.values()).every(G=>1===G?.length)&&(C.set(LT,E.color({r:50,g:50,b:50,a:1})),Array.from(A.keys()).forEach(G=>{G&&C.set(G,E.color(A.get(G)?.[0].toCss(!0)))})),C})()}_handleMediaKeyup(g){const v=(0,zc.kK)(g);"ArrowLeft"===v&&(g.stopPropagation(),this.viewModel.previous()),"ArrowRight"===v&&(g.stopPropagation(),this.viewModel.next())}_renderChart(g){const{abilities:v}=this.viewModel,{chartsModule:E,chartDiv:C,mediaInfo:w,colorMap:I}=g,{value:A,type:G}=w,{am4core:pe}=E,Ee=function rV(g,v="default"){const E=qW.find(C=>C.name===v);return E?E.colors.map(C=>g.color(C)):null}(pe);G0()&&pe.useTheme(E.am4themes_dark);const Be=window.matchMedia("(prefers-reduced-motion: reduce)");v.chartAnimation&&!Be.matches?pe.useTheme(E.am4themes_animated):pe.unuseTheme(E.am4themes_animated),pe.useTheme(function Ue(ht){ht instanceof pe.ColorSet&&Ee&&(ht.list=Ee)});const lt="pie-chart"===G?this._createPieChart(g):this._createXYChart(g);C.setAttribute("aria-label",w.altText||w.title),lt.data=A.series.map(ht=>({[Al]:ht.tooltip,[Xh]:ht.value,[Qa]:I.get(ht.fieldName)})).filter(ht=>"pie-chart"!==G||null!=ht.value&&ht.value>0)}_customizeChartTooltip(g,v){g&&(g.label.wrap=!0,g.label.maxWidth=200,g.autoTextColor=!1,g.getFillFromObject=!1,g.label.fill=v.color("#ffffff"),g.background.fill=v.color({r:0,g:0,b:0,a:.7}))}_createPieChart(g){const{chartDiv:v,chartsModule:E}=g,{am4core:C,am4charts:w}=E,I=C.create(v,w.PieChart);I.rtl=(0,ai.dZ)(this.container);const A=I.series.push(new w.PieSeries);return A.labels.template.disabled=!0,A.ticks.template.disabled=!0,A.dataFields.value=Xh,A.dataFields.category=Al,this._customizeChartTooltip(A.tooltip,C),A.slices.template.propertyFields.fill=Qa,A.slices.template.propertyFields.stroke=Qa,I}_getMinSeriesValue(g){let v=0;return g.forEach(E=>v=Math.min(E.value,v)),v}_createColumnChart(g,v){const{chartsModule:E,mediaInfo:C}=v,{value:w}=C,{am4core:I,am4charts:A}=E,G=g.xAxes.push(new A.CategoryAxis);G.dataFields.category=Al,G.renderer.labels.template.disabled=!0;const pe=G.tooltip;this._customizeChartTooltip(pe,I),pe.events.on("sizechanged",()=>{pe.dy=-pe.contentHeight});const Ee=g.yAxes.push(new A.ValueAxis),Ue=Ee.renderer.labels.template;Ee.renderer.minLabelPosition=.05,Ee.renderer.maxLabelPosition=.95,Ee.min=this._getMinSeriesValue(w.series),this._customizeChartTooltip(Ee.tooltip,I),Ue.wrap=!0;const Be=g.series.push(new A.ColumnSeries);Be.dataFields.valueY=Xh,Be.dataFields.categoryX=Al,Be.columns.template.propertyFields.fill=Qa,Be.columns.template.propertyFields.stroke=Qa,g.cursor=new A.XYCursor,w.series.length>15&&(g.scrollbarX=new I.Scrollbar)}_createBarChart(g,v){const{chartsModule:E,mediaInfo:C}=v,{value:w}=C,{am4core:I,am4charts:A}=E,G=g.yAxes.push(new A.CategoryAxis);G.dataFields.category=Al,G.renderer.inversed=!0,G.renderer.labels.template.disabled=!0;const pe=G.tooltip;this._customizeChartTooltip(pe,I),pe.events.on("sizechanged",()=>{pe.dx=pe.contentWidth});const Ee=g.xAxes.push(new A.ValueAxis),Ue=Ee.renderer.labels.template;Ee.renderer.minLabelPosition=.05,Ee.renderer.maxLabelPosition=.95,Ee.min=this._getMinSeriesValue(w.series),this._customizeChartTooltip(Ee.tooltip,I),Ue.wrap=!0;const Be=g.series.push(new A.ColumnSeries);Be.dataFields.valueX=Xh,Be.dataFields.categoryY=Al,Be.columns.template.propertyFields.fill=Qa,Be.columns.template.propertyFields.stroke=Qa,g.cursor=new A.XYCursor,w.series.length>15&&(g.scrollbarY=new I.Scrollbar)}_createLineChart(g,v){const{chartsModule:E,mediaInfo:C,colorMap:w}=v,{value:I}=C,{am4core:A,am4charts:G}=E,pe=g.xAxes.push(new G.CategoryAxis);pe.dataFields.category=Al,pe.renderer.labels.template.disabled=!0;const Ee=pe.tooltip;this._customizeChartTooltip(Ee,A),Ee.events.on("sizechanged",()=>{Ee.dy=-Ee.contentHeight});const Ue=g.yAxes.push(new G.ValueAxis),Be=Ue.renderer.labels.template;Ue.renderer.minLabelPosition=.05,Ue.renderer.maxLabelPosition=.95,Ue.min=this._getMinSeriesValue(I.series),this._customizeChartTooltip(Ue.tooltip,A),Be.wrap=!0;const lt=g.series.push(new G.LineSeries);lt.dataFields.categoryX=Al,lt.dataFields.valueY=Xh,lt.strokeWidth=1;const ht=w.get(LT);ht&&(lt.stroke=ht);const wt=lt.bullets.push(new G.CircleBullet);wt.propertyFields.fill=Qa,wt.propertyFields.stroke=Qa,g.cursor=new G.XYCursor,I.series.length>15&&(g.scrollbarX=new A.Scrollbar)}_createXYChart(g){const{chartDiv:v,chartsModule:E,mediaInfo:C}=g,{type:w}=C,{am4core:I,am4charts:A}=E,G=I.create(v,A.XYChart);return G.rtl=(0,ai.dZ)(this.container),"column-chart"===w&&this._createColumnChart(G,g),"bar-chart"===w&&this._createBarChart(G,g),"line-chart"===w&&this._createLineChart(G,g),G}_clearMediaRefreshTimer(){const{_refreshTimer:g}=this;g&&(clearTimeout(g),this._refreshTimer=null)}_updateMediaInfoTimestamp(g){const v=Date.now();this._refreshIntervalInfo={timestamp:v,sourceURL:g&&this._getImageSource(g,v)},this.scheduleRender()}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:g}=this.viewModel;g&&"image"===g.type&&g.refreshInterval&&this._setRefreshTimeout(g)}_setRefreshTimeout(g){const{refreshInterval:v,value:E}=g;if(!v)return;const C=6e4*v;this._updateMediaInfoTimestamp(E.sourceURL);const w=setInterval(()=>{this._updateMediaInfoTimestamp(E.sourceURL)},C);this._refreshTimer=w}_getImageSource(g,v){const E=g.includes("?")?"&":"?",[C,w=""]=g.split("#");return`${C}${E}timestamp=${v}${w?"#":""}${w}`}};(0,Ae._)([(0,Fe.Cb)()],eo.prototype,"attributes",null),(0,Ae._)([(0,Fe.Cb)()],eo.prototype,"activeMediaInfoIndex",null),(0,Ae._)([(0,Fe.Cb)()],eo.prototype,"description",null),(0,Ae._)([(0,Fe.Cb)()],eo.prototype,"fieldInfoMap",null),(0,Ae._)([(0,Fe.Cb)()],eo.prototype,"layer",null),(0,Ae._)([(0,Fe.Cb)()],eo.prototype,"mediaInfos",null),(0,Ae._)([(0,Fe.Cb)()],eo.prototype,"popupTemplate",null),(0,Ae._)([(0,Fe.Cb)()],eo.prototype,"relatedInfos",null),(0,Ae._)([(0,Fe.Cb)()],eo.prototype,"title",null),(0,Ae._)([(0,Fe.Cb)({type:Cu})],eo.prototype,"viewModel",void 0),(0,Ae._)([(0,Fe.Cb)(),(0,Oi.H)("esri/widgets/Feature/t9n/Feature")],eo.prototype,"messages",void 0),eo=(0,Ae._)([(0,Pn.j)("esri.widgets.Feature.FeatureMedia")],eo);const jT=eo;M(55664),M(55013),M(16615),M(82561);var lV=M(75484),uV=M(64531),UT=(M(6785),M(501)),cV=M(38159),dV=M(80415);const hV=["$datastore","$map","$layer","$aggregatedfeatures"],fV=Vr.Z.getLogger("esri.widgets.Feature.support.arcadeFeatureUtils");function mV(g){return"string"==typeof g?Gh(Nv(g)):Array.isArray(g)?function yV(g){return`<ul class="esri-widget__list">${g.map(v=>`<li>${"string"==typeof v?Gh(Nv(v)):v}</li>`).join("")}</ul>`}(g):"esri.arcade.Dictionary"===g?.declaredClass?function gV(g){return`<table class="esri-widget__table">${g.keys().map(v=>{const E=g.field(v);return`<tr><th>${v}</th><td>${"string"==typeof E?Gh(Nv(E)):E}</td></tr>`}).join("")}</table>`}(g):g}function FT(){return Promise.all([M.e(8592),M.e(4988)]).then(M.bind(M,4988))}function EV(g){return fE.apply(this,arguments)}function fE(){return(fE=(0,Nn.Z)(function*({graphic:g,view:v}){const{isAggregate:E,layer:C}=g;if(!E||!C||"2d"!==v?.type)return[];const w=yield v.whenLayerView(C);if(!function vV(g){return"createQuery"in g&&"queryFeatures"in g}(w))return[];const I=w.createQuery(),A=g.getObjectId();I.aggregateIds=null!=A?[A]:[];const{features:G}=yield w.queryFeatures(I);return G})).apply(this,arguments)}function NT(g){return mE.apply(this,arguments)}function mE(){return(mE=(0,Nn.Z)(function*({expressionInfo:g,arcadeUtils:v,interceptor:E,spatialReference:C,map:w,graphic:I,view:A}){if(!g||!g.expression)return null;const G=v.createSyntaxTree(g.expression),pe=hV.filter(ht=>v.hasVariable(G,ht)),[Ee]=yield Promise.all([EV({graphic:I,view:A}),v.loadScriptDependencies(G,!0,pe)]),Ue=v.getViewInfo({spatialReference:C}),Be=v.createExecContext(I,Ue);Be.interceptor=E,Be.useAsync=!0,function _V({aggregatedFeatures:g,arcadeUtils:v,featureSetVars:E,context:C,viewInfo:w,map:I,graphic:A,interceptor:G}){E.forEach(pe=>{const Ee=pe.toLowerCase(),Ue=w.sr;if("$map"===Ee&&(C.vars[Ee]=v.convertMapToFeatureSetCollection({map:I,spatialReference:Ue,interceptor:G})),"$layer"===Ee&&(C.vars[Ee]=v.convertFeatureLayerToFeatureSet({layer:A.sourceLayer,spatialReference:Ue,interceptor:G})),"$datastore"===Ee&&(C.vars[Ee]=v.convertServiceUrlToWorkspace({url:A.sourceLayer.url,spatialReference:Ue,interceptor:G})),"$aggregatedfeatures"===Ee){const lt=A.layer,{fields:ht,objectIdField:wt,geometryType:Gt,spatialReference:qt,displayField:mn}=lt,Ln=new dV.default({fields:ht,objectIdField:wt,geometryType:Gt,spatialReference:qt,displayField:mn,..."feature"===lt.type?{templates:lt.templates,typeIdField:lt.typeIdField,types:lt.types}:null,source:g});C.vars[Ee]=v.convertFeatureLayerToFeatureSet({layer:Ln,spatialReference:qt,interceptor:G})}})}({aggregatedFeatures:Ee,arcadeUtils:v,featureSetVars:pe,context:Be,viewInfo:Ue,map:w,graphic:I,interceptor:E});const lt=v.createFunction(G,Be);return v.executeAsyncFunction(lt,Be).catch(ht=>fV.error("arcade-execution-error",{error:ht,graphic:I,expressionInfo:g}))})).apply(this,arguments)}function bV(g){return yE.apply(this,arguments)}function yE(){return(yE=(0,Nn.Z)(function*({expressionInfos:g,spatialReference:v,graphic:E,interceptor:C,map:w,view:I}){if(!g||!g.length)return{};const A=yield FT(),G={};for(const Ue of g)G[`expression/${Ue.name}`]=NT({expressionInfo:Ue,arcadeUtils:A,interceptor:C,spatialReference:v,map:w,graphic:E,view:I});const pe=yield(0,Lr.as)(G),Ee={};for(const Ue in pe)Ee[Ue]=mV(pe[Ue].value);return Ee})).apply(this,arguments)}let go=class extends((0,Yc.p)(Hr.Z)){constructor(g){var v;super(g),v=this,this._abortController=null,this.expressionInfo=null,this.graphic=null,this.contentElement=null,this.contentElementViewModel=null,this.interceptor=null,this.view=null,this._cancelQuery=()=>{const{_abortController:E}=this;E&&E.abort(),this._abortController=null},this._createVM=()=>{const E=this.contentElement?.type;this.contentElementViewModel?.destroy();const C="fields"===E?new Z0:"media"===E?new Cu:"text"===E?new V0:null;this._set("contentElementViewModel",C)},this._compile=(0,Nn.Z)(function*(){v._cancelQuery();const E=new AbortController;v._abortController=E,yield v._compileExpression(),v._abortController===E&&(v._abortController=null)}),this._compileThrottled=(0,Gc.P)(this._compile,1,this),this._compileExpression=(0,Nn.Z)(function*(){const{expressionInfo:E,graphic:C,interceptor:w,spatialReference:I,map:A,view:G,_abortController:pe}=v;if(!(E&&C&&I&&A))return void v._set("contentElement",null);const Ee=yield FT();if(pe!==v._abortController)return;const Ue=yield NT({arcadeUtils:Ee,expressionInfo:E,graphic:C,interceptor:w,map:A,spatialReference:I,view:G});if(!Ue||"esri.arcade.Dictionary"!==Ue.declaredClass)return void v._set("contentElement",null);const Be=yield Ue.castAsJsonAsync(pe?.signal),lt=Be?.type,ht="media"===lt?uV.Z.fromJSON(Be):"text"===lt?UT.Z.fromJSON(Be):"fields"===lt?lV.Z.fromJSON(Be):null;v._set("contentElement",ht)}),this.handles.add([(0,rn.YP)(()=>[this.expressionInfo,this.graphic,this.map,this.spatialReference,this.view],()=>this._compileThrottled(),rn.nn),(0,rn.YP)(()=>[this.contentElement],()=>this._createVM(),rn.nn)])}destroy(){this._cancelQuery(),this.contentElementViewModel?.destroy(),this._set("contentElementViewModel",null),this._set("contentElement",null)}get spatialReference(){return this.view?.spatialReference??null}set spatialReference(g){this._override("spatialReference",g)}get state(){const{_abortController:g,contentElement:v,contentElementViewModel:E}=this;return g?"loading":v||E?"ready":"disabled"}get map(){return this.view?.map??null}set map(g){this._override("map",g)}};(0,Ae._)([(0,Fe.Cb)()],go.prototype,"_abortController",void 0),(0,Ae._)([(0,Fe.Cb)({type:cV.Z})],go.prototype,"expressionInfo",void 0),(0,Ae._)([(0,Fe.Cb)({type:gu.Z})],go.prototype,"graphic",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],go.prototype,"contentElement",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],go.prototype,"contentElementViewModel",void 0),(0,Ae._)([(0,Fe.Cb)()],go.prototype,"interceptor",void 0),(0,Ae._)([(0,Fe.Cb)()],go.prototype,"spatialReference",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],go.prototype,"state",null),(0,Ae._)([(0,Fe.Cb)()],go.prototype,"map",null),(0,Ae._)([(0,Fe.Cb)()],go.prototype,"view",void 0),go=(0,Ae._)([(0,Pn.j)("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],go);const gE=go;let H0=class extends Si.Z{constructor(g,v){super(g,v),this._contentWidget=null,this.viewModel=new gE}initialize(){this.addHandles((0,rn.YP)(()=>this.viewModel?.contentElementViewModel,()=>this._setupExpressionWidget(),rn.nn))}destroy(){this._destroyContentWidget()}renderLoading(){return(0,Kt.u)("div",{key:"loading-container",class:"esri-feature__loading-container"},(0,Kt.u)("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))}render(){const{state:g}=this.viewModel;return(0,Kt.u)("div",{class:"esri-feature-expression"},"loading"===g?this.renderLoading():"disabled"===g?null:this._contentWidget?.render())}_destroyContentWidget(){const{_contentWidget:g}=this;g&&(g.viewModel=null,g.destroy()),this._contentWidget=null}_setupExpressionWidget(){const{contentElementViewModel:g,contentElement:v}=this.viewModel,E=v?.type;this._destroyContentWidget();const C=g?"fields"===E?new MT({viewModel:g}):"media"===E?new jT({viewModel:g}):"text"===E?new $0({viewModel:g}):null:null;this._contentWidget=C,this.scheduleRender()}};(0,Ae._)([(0,Fe.Cb)({type:gE})],H0.prototype,"viewModel",void 0),H0=(0,Ae._)([(0,Pn.j)("esri.widgets.Feature.FeatureExpression")],H0);const MV=H0;var Xa=M(79608),ed=M(61996);let ps=class extends((0,Xa.J)((0,ed.IG)((0,Yc.p)(Hr.Z)))){constructor(g){var v;super(g),v=this,this._queryAbortController=null,this._queryPageAbortController=null,this._queryFeatureCountAbortController=null,this.featuresPerPage=10,this.description=null,this.graphic=null,this.layer=null,this.map=null,this.orderByFields=null,this.featureCount=0,this.relationshipId=null,this.showAllEnabled=!1,this.title=null,this._cancelQuery=()=>{const{_queryAbortController:E}=this;E&&E.abort(),this._queryAbortController=null},this._cancelQueryFeatureCount=()=>{const{_queryFeatureCountAbortController:E}=this;E&&E.abort(),this._queryFeatureCountAbortController=null},this._cancelQueryPage=()=>{const{_queryPageAbortController:E}=this;E&&E.abort(),this._queryPageAbortController=null},this._queryController=(0,Nn.Z)(function*(){v._cancelQuery();const E=new AbortController;v._queryAbortController=E,yield(0,Lr.R8)(v._query()),v._queryAbortController===E&&(v._queryAbortController=null)}),this._queryFeatureCountController=(0,Nn.Z)(function*(){v._cancelQueryFeatureCount();const E=new AbortController;v._queryFeatureCountAbortController=E,yield(0,Lr.R8)(v._queryFeatureCount()),v._queryFeatureCountAbortController===E&&(v._queryFeatureCountAbortController=null)}),this._queryPageController=(0,Nn.Z)(function*(){const E=new AbortController;v._queryPageAbortController=E,yield(0,Lr.R8)(v._queryPage()),v._queryPageAbortController===E&&(v._queryPageAbortController=null)}),this._queryThrottled=(0,Gc.P)(this._queryController,100,this),this._queryFeatureCountThrottled=(0,Gc.P)(this._queryFeatureCountController,100,this),this._queryPageThrottled=(0,Gc.P)(this._queryPageController,100,this),this._query=(0,Nn.Z)(function*(){const{_queryAbortController:E,relatedFeatures:C}=v;v._destroyRelatedFeatureViewModels(),v.featurePage=1,C.removeAll(),C.addMany(v._sliceFeatures(yield v._queryRelatedFeatures({signal:E?.signal})))}),this.handles.add([(0,rn.YP)(()=>[this.displayCount,this.graphic,this.layer,this.map,this.orderByFieldsFixedCasing,this.relationshipId,this.featuresPerPage,this.showAllEnabled,this.canQuery,this.featureCount],()=>this._queryThrottled(),rn.nn),(0,rn.YP)(()=>[this.featurePage,this.showAllEnabled],()=>this._queryPageThrottled()),(0,rn.YP)(()=>[this.layer,this.relationshipId,this.objectId,this.canQuery],()=>this._queryFeatureCountThrottled())])}destroy(){this._destroyRelatedFeatureViewModels(),this.relatedFeatures.removeAll(),this._cancelQuery(),this._cancelQueryFeatureCount(),this._cancelQueryPage()}set featurePage(g){const{featuresPerPage:v,featureCount:E}=this,w=Math.ceil(E/v)||1;this._set("featurePage",Math.min(Math.max(g,1),w))}get featurePage(){return this._get("featurePage")}get orderByFieldsFixedCasing(){const{orderByFields:g,relatedLayer:v}=this;return g&&v?.loaded?g.map(E=>{const C=E.clone(),w=zh(E.field,v);return C.field=w,C}):g??[]}get supportsCacheHint(){return!!this.layer?.capabilities?.queryRelated?.supportsCacheHint}get canQuery(){const g=this.layer?.capabilities?.queryRelated;return!!(this.relatedLayer&&this.relationship&&"number"==typeof this.relationshipId&&"number"==typeof this.objectId&&g?.supportsCount&&g?.supportsPagination)}get itemDescriptionFieldName(){return this.orderByFieldsFixedCasing?.[0]?.field||null}set displayCount(g){this._set("displayCount",Math.min(Math.max(g,0),10))}get displayCount(){return this._get("displayCount")}get objectId(){return(this.objectIdField&&this.graphic?.attributes?.[this.objectIdField])??null}get objectIdField(){return this.layer?.objectIdField||null}get relatedFeatures(){return this._get("relatedFeatures")||new _s.Z}get relatedLayer(){const{layer:g,map:v,relationship:E}=this;return g?.loaded&&v&&E?function JB(g,v,E){return g&&v&&E?yT(g.allLayers,v,E)||yT(g.allTables,v,E):null}(v,g,E)??null:null}get relationship(){const{relationshipId:g,layer:v}=this;return"number"==typeof g?v?.relationships?.find(({id:E})=>E===g)??null:null}get relatedFeatureViewModels(){return this._get("relatedFeatureViewModels")||new _s.Z}get state(){const{_queryAbortController:g,_queryFeatureCountAbortController:v,_queryPageAbortController:E,canQuery:C}=this;return v?"loading":g||E?"querying":C?"ready":"disabled"}_destroyRelatedFeatureViewModels(){this.relatedFeatureViewModels?.forEach(g=>!g.destroyed&&g.destroy()),this.relatedFeatureViewModels.removeAll()}_queryFeatureCount(){var g=this;return(0,Nn.Z)(function*(){const{layer:v,relatedLayer:E,relationshipId:C,objectId:w,_queryFeatureCountAbortController:I,canQuery:A,supportsCacheHint:G}=g;if(yield v?.load(),yield E?.load(),!A||!v||!E)return void g._set("featureCount",0);const pe=E.createQuery(),Ee=new oE.default({cacheHint:G,relationshipId:C,returnGeometry:!1,objectIds:[w],where:(0,kt.yl)(pe.where,void 0)}),Ue=yield v.queryRelatedFeaturesCount(Ee,{signal:I?.signal});g._set("featureCount",Ue[w]||0)})()}_sliceFeatures(g){const{showAllEnabled:v,displayCount:E}=this;return v?g:E?g.slice(0,E):[]}_queryPage(){var g=this;return(0,Nn.Z)(function*(){const{relatedFeatures:v,featurePage:E,showAllEnabled:C,_queryPageAbortController:w}=g;!C||E<2||v.addMany(yield g._queryRelatedFeatures({signal:w?.signal}))})()}_queryRelatedFeatures(g){var v=this;return(0,Nn.Z)(function*(){const{orderByFieldsFixedCasing:E,showAllEnabled:C,featuresPerPage:w,displayCount:I,layer:A,relationshipId:G,featurePage:pe,featureCount:Ee,relatedLayer:Ue,supportsCacheHint:Be}=v,{canQuery:lt,objectId:ht}=v;if(!lt||!A||!Ue)return[];const wt=C?((pe-1)*w+Ee)%Ee:0,Gt=C?w:I,qt=Ue.objectIdField,mn=[...E?.map(Sr=>Sr.field),qt].filter(kt.pC),Ln=E?.map(Sr=>`${Sr.field} ${Sr.order}`),an=Ue.createQuery(),Kn=new oE.default({orderByFields:Ln,start:wt,num:Gt,outFields:mn,cacheHint:Be,relationshipId:G,returnGeometry:!1,objectIds:[ht],where:(0,kt.yl)(an.where,void 0)}),cr=(yield A.queryRelatedFeatures(Kn,{signal:g?.signal}))[ht]?.features||[];return cr.forEach(Sr=>{Sr.sourceLayer=Ue,Sr.layer=Ue}),cr})()}};(0,Ae._)([(0,Fe.Cb)()],ps.prototype,"_queryAbortController",void 0),(0,Ae._)([(0,Fe.Cb)()],ps.prototype,"_queryPageAbortController",void 0),(0,Ae._)([(0,Fe.Cb)()],ps.prototype,"_queryFeatureCountAbortController",void 0),(0,Ae._)([(0,Fe.Cb)({value:1})],ps.prototype,"featurePage",null),(0,Ae._)([(0,Fe.Cb)()],ps.prototype,"featuresPerPage",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ps.prototype,"orderByFieldsFixedCasing",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ps.prototype,"supportsCacheHint",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ps.prototype,"canQuery",null),(0,Ae._)([(0,Fe.Cb)()],ps.prototype,"description",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ps.prototype,"itemDescriptionFieldName",null),(0,Ae._)([(0,Fe.Cb)({value:3})],ps.prototype,"displayCount",null),(0,Ae._)([(0,Fe.Cb)({type:gu.Z})],ps.prototype,"graphic",void 0),(0,Ae._)([(0,Fe.Cb)()],ps.prototype,"layer",void 0),(0,Ae._)([(0,Fe.Cb)()],ps.prototype,"map",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ps.prototype,"objectId",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ps.prototype,"objectIdField",null),(0,Ae._)([(0,Fe.Cb)()],ps.prototype,"orderByFields",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ps.prototype,"relatedFeatures",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ps.prototype,"relatedLayer",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ps.prototype,"relationship",null),(0,Ae._)([(0,Fe.Cb)()],ps.prototype,"featureCount",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ps.prototype,"relatedFeatureViewModels",null),(0,Ae._)([(0,Fe.Cb)()],ps.prototype,"relationshipId",void 0),(0,Ae._)([(0,Fe.Cb)()],ps.prototype,"showAllEnabled",void 0),(0,Ae._)([(0,Fe.Cb)()],ps.prototype,"state",null),(0,Ae._)([(0,Fe.Cb)()],ps.prototype,"title",void 0),ps=(0,Ae._)([(0,Pn.j)("esri.widgets.Feature.FeatureRelationship.FeatureRelationshipViewModel")],ps);const vE=ps;var fa=M(97059);const qh="esri-feature",EE=`${qh}-relationship`,qa={base:EE,esriWidget:"esri-widget",listContainer:`${EE}__list`,listContainerQuerying:`${EE}__list--querying`,featureObserver:`${qh}__feature-observer`,stickySpinnerContainer:`${qh}__sticky-loading-container`,loadingSpinnerContainer:`${qh}__loading-container`,spinner:`${qh}__loading-spinner`,iconLoading:"esri-icon-loading-indicator esri-rotating"},BT={title:!0,description:!0};let Bi=class extends Si.Z{constructor(g,v){super(g,v),this._featureElementInfo=null,this._relatedFeatureIntersectionObserverNode=null,this._relatedFeatureIntersectionObserver=new IntersectionObserver(([E])=>{E?.isIntersecting&&this._increaseFeaturePage()},{root:window.document}),this.headingLevel=2,this.viewModel=new vE,this.messages=null,this.messagesCommon=null,this.visibleElements={...BT},this._increaseFeaturePage=()=>{const{state:E,showAllEnabled:C,relatedFeatures:w,featuresPerPage:I,featurePage:A}=this.viewModel;"ready"===E&&C&&w.length>=I*A&&this.viewModel.featurePage++}}initialize(){this._featureElementInfo=new W0,this.addHandles([(0,rn.YP)(()=>[this.viewModel.description,this.viewModel.title,this.headingLevel],()=>this._setupFeatureElementInfo(),rn.nn),(0,rn.YP)(()=>[this.viewModel.state,this.viewModel.showAllEnabled,this._relatedFeatureIntersectionObserverNode],()=>this._handleRelatedFeatureObserverChange()),(0,rn.on)(()=>this.viewModel.relatedFeatureViewModels,"change",()=>this._setupRelatedFeatureViewModels())])}loadDependencies(){return Promise.all([Promise.all([M.e(8954),M.e(8592),M.e(4533)]).then(M.bind(M,64533)),Promise.all([M.e(8592),M.e(7591)]).then(M.bind(M,37591)),M.e(8472).then(M.bind(M,8472)),Promise.all([M.e(8954),M.e(1206)]).then(M.bind(M,11206))])}destroy(){this._unobserveRelatedFeatureObserver(),this._featureElementInfo=(0,kt.SC)(this._featureElementInfo)}get displayShowAllButton(){const{showAllEnabled:g,featureCount:v,displayCount:E}=this.viewModel;return!g&&!!v&&(v>E||0===E)}get displayListItems(){return this.displayShowAllButton||this.viewModel.relatedFeatureViewModels.length>0}get description(){return this.viewModel.description}set description(g){this.viewModel.description=g}get featureCountDescription(){const{messages:g}=this,{featureCount:v}=this.viewModel;return(0,fa.n)(1===v?g?.numberRecord:g?.numberRecords,{number:v})}get title(){return this.viewModel.title}set title(g){this.viewModel.title=g}castVisibleElements(g){return{...BT,...g}}renderStickyLoading(){return"querying"===this.viewModel.state?(0,Kt.u)("div",{key:"sticky-loader",class:qa.stickySpinnerContainer},this.renderLoadingIcon()):null}renderLoadingIcon(){return(0,Kt.u)("span",{class:this.classes(qa.iconLoading,qa.spinner)})}renderLoading(){return(0,Kt.u)("div",{key:"loading-container",class:qa.loadingSpinnerContainer},this.renderLoadingIcon())}renderShowAllIconNode(){return(0,Kt.u)("calcite-icon",{scale:"s",icon:"list",slot:"content-end"})}renderChevronIconNode(){const g=(0,ai.dZ)(this.container)?"chevron-left":"chevron-right";return(0,Kt.u)("calcite-icon",{scale:"s",icon:g,slot:"content-end"})}renderRelatedFeature(g){const{itemDescriptionFieldName:v}=this.viewModel,E=g.title;g.description=v&&g.formattedAttributes?.global[v];const C="loading"===g.state;return(0,Kt.u)("calcite-list-item",{key:g.uid,label:C?`${this.messagesCommon?.loading}\u2026`:E,description:C?"\u2026":g.description??"",onCalciteListItemSelect:()=>this.emit("select-record",{featureViewModel:g})},this.renderChevronIconNode())}renderShowAllListItem(){return this.displayShowAllButton?(0,Kt.u)("calcite-list-item",{key:"show-all-item",label:this.messages?.showAll,description:this.featureCountDescription,onCalciteListItemSelect:()=>this.emit("show-all-records")},this.renderShowAllIconNode()):null}renderNoRelatedFeaturesMessage(){return(0,Kt.u)("calcite-notice",{key:"no-related-features-message",icon:"information",open:!0,kind:"brand",scale:"s",width:"full"},(0,Kt.u)("div",{slot:"message"},this.messages?.noRelatedFeatures))}renderFeatureObserver(){return(0,Kt.u)("div",{key:"feature-observer",class:qa.featureObserver,bind:this,afterCreate:this._relatedFeatureIntersectionObserverCreated})}renderList(){const{relatedFeatureViewModels:g}=this.viewModel;return(0,Kt.u)("calcite-list",null,g.toArray().map(v=>this.renderRelatedFeature(v)),this.renderShowAllListItem())}renderRelatedFeatures(){const{displayListItems:g}=this,{state:v}=this.viewModel;return(0,Kt.u)("div",{key:"list-container",class:this.classes(qa.listContainer,{[qa.listContainerQuerying]:"querying"===v})},g?this.renderList():"ready"===v?this.renderNoRelatedFeaturesMessage():null,this.renderStickyLoading(),this.renderFeatureObserver())}renderRelationshipNotFound(){return(0,Kt.u)("calcite-notice",{key:"relationship-not-found",icon:"exclamation-mark-triangle",open:!0,kind:"danger",scale:"s",width:"full"},(0,Kt.u)("div",{slot:"message"},this.messages?.relationshipNotFound))}render(){const{state:g}=this.viewModel;return(0,Kt.u)("div",{class:this.classes(qa.base,qa.esriWidget)},this._featureElementInfo?.render(),"loading"===g?this.renderLoading():"disabled"===g?this.renderRelationshipNotFound():this.renderRelatedFeatures())}_setupRelatedFeatureViewModels(){const{relatedFeatureViewModels:g}=this.viewModel,v="related-feature-viewmodels";this.removeHandles(v),g?.forEach(E=>{this.addHandles((0,rn.YP)(()=>[E.title,E.state],()=>this.scheduleRender(),rn.nn),v)}),this.scheduleRender()}_setupFeatureElementInfo(){const{headingLevel:g,visibleElements:v}=this;this._featureElementInfo?.set({description:v.description&&this.description,title:v.title&&this.title,headingLevel:g})}_handleRelatedFeatureObserverChange(){var g=this;return(0,Nn.Z)(function*(){g._unobserveRelatedFeatureObserver();const{state:v,showAllEnabled:E}=g.viewModel;yield(0,Lr.e4)(0),g._relatedFeatureIntersectionObserverNode&&"ready"===v&&E&&g._relatedFeatureIntersectionObserver.observe(g._relatedFeatureIntersectionObserverNode)})()}_relatedFeatureIntersectionObserverCreated(g){this._relatedFeatureIntersectionObserverNode=g}_unobserveRelatedFeatureObserver(){this._relatedFeatureIntersectionObserverNode&&this._relatedFeatureIntersectionObserver.unobserve(this._relatedFeatureIntersectionObserverNode)}};(0,Ae._)([(0,Fe.Cb)()],Bi.prototype,"_relatedFeatureIntersectionObserverNode",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Bi.prototype,"displayShowAllButton",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Bi.prototype,"displayListItems",null),(0,Ae._)([(0,Fe.Cb)()],Bi.prototype,"description",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Bi.prototype,"featureCountDescription",null),(0,Ae._)([(0,Fe.Cb)()],Bi.prototype,"headingLevel",void 0),(0,Ae._)([(0,Fe.Cb)()],Bi.prototype,"title",null),(0,Ae._)([(0,Fe.Cb)({type:vE})],Bi.prototype,"viewModel",void 0),(0,Ae._)([(0,Fe.Cb)(),(0,Oi.H)("esri/widgets/Feature/t9n/Feature")],Bi.prototype,"messages",void 0),(0,Ae._)([(0,Fe.Cb)(),(0,Oi.H)("esri/t9n/common")],Bi.prototype,"messagesCommon",void 0),(0,Ae._)([(0,Fe.Cb)()],Bi.prototype,"visibleElements",void 0),(0,Ae._)([(0,Qi.p)("visibleElements")],Bi.prototype,"castVisibleElements",null),Bi=(0,Ae._)([(0,Pn.j)("esri.widgets.Feature.FeatureRelationship")],Bi);const WT=Bi;var ep;const VT="content-view-models",$T="relationship-view-models",ZT={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0,relationshipContent:!0};let Ms=ep=class extends((0,ed.IG)(Hr.Z)){constructor(g){super(g),this._handles=new wl.Z,this._error=null,this._featureAbortController=null,this._graphicChangedThrottled=(0,Gc.P)(this._graphicChanged,1,this),this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities={...ZT},this.content=null,this.contentViewModels=[],this.description=null,this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title="",this.view=null,this._isAllowedContentType=v=>{const{abilities:E}=this;return"attachments"===v.type&&!!E.attachmentsContent||"custom"===v.type&&!!E.customContent||"fields"===v.type&&!!E.fieldsContent||"media"===v.type&&!!E.mediaContent||"text"===v.type&&!!E.textContent||"expression"===v.type&&!!E.expressionContent||"relationship"===v.type&&!!E.relationshipContent},this._handles.add((0,rn.YP)(()=>[this.graphic,this._effectivePopupTemplate,this.abilities],()=>this._graphicChangedThrottled(),rn.nn))}destroy(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return(0,kt.pC)(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return function $B(g,v){const E=new Map;return g&&g.forEach(C=>{const w=zh(C.fieldName,v);C.fieldName=w,E.set(w.toLowerCase(),C)}),E}(cT(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return sT(this.graphic)}castAbilities(g){return{...ZT,...g}}get isTable(){return this._sourceLayer?.isTable||!1}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(g){this._set("graphic",g?g.clone():null)}get spatialReference(){return this.view?.spatialReference??null}set spatialReference(g){this._override("spatialReference",g)}get map(){return this.view?.map||null}set map(g){this._override("map",g)}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(g,v){const E=this.contentViewModels[g];E instanceof Cu&&E.setActiveMedia(v)}nextMedia(g){const v=this.contentViewModels[g];v instanceof Cu&&v.next()}previousMedia(g){const v=this.contentViewModels[g];v instanceof Cu&&v.previous()}updateGeometry(){var g=this;return(0,Nn.Z)(function*(){const{graphic:v,spatialReference:E,_sourceLayer:C}=g;yield C?.load();const w=C?.objectIdField;if(!w||!v||!C)return;const I=v?.attributes?.[w];if(null==I)return;const A=[I];if(!v.geometry){const G=(yield hT({layer:C,graphic:v,outFields:[],objectIds:A,returnGeometry:!0,spatialReference:E}))?.geometry;G&&(v.geometry=G)}})()}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}_graphicChanged(){var g=this;return(0,Nn.Z)(function*(){g._cancelFeatureQuery(),g._error=null,g._clear();const{graphic:v}=g;if(!v)return;const E=new AbortController;g._featureAbortController=E;try{yield g._queryFeature({signal:E.signal})}catch(C){(0,Lr.D_)(C)||(g._error=C,Vr.Z.getLogger(g.declaredClass).error("error","The popupTemplate could not be displayed for this feature.",{error:C,graphic:v,popupTemplate:g._effectivePopupTemplate}))}g._featureAbortController===E&&(g._featureAbortController=null)})()}_cancelFeatureQuery(){const{_featureAbortController:g}=this;g&&g.abort(),this._featureAbortController=null}_compileContentElement(g,v){return"attachments"===g.type?this._compileAttachments(g,v):"custom"===g.type?this._compileCustom(g,v):"fields"===g.type?this._compileFields(g,v):"media"===g.type?this._compileMedia(g,v):"text"===g.type?this._compileText(g,v):"expression"===g.type?this._compileExpression(g,v):"relationship"===g.type?this._compileRelationship(g,v):void 0}_compileContent(g){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(g)?g.filter(this._isAllowedContentType).map((v,E)=>this._compileContentElement(v,E)).filter(kt.pC):"string"==typeof g?this._compileText(new UT.Z({text:g}),0).text:g}_destroyContentViewModels(){this._handles?.remove($T),this._handles?.remove(VT),this.contentViewModels.forEach(g=>g&&!g.destroyed&&g.destroy()),this._set("contentViewModels",[])}_matchesFeature(g,v){const E=g?.graphic?.getObjectId(),C=v?.getObjectId();return(0,kt.pC)(E)&&(0,kt.pC)(C)&&E===C}_setRelatedFeaturesViewModels({relatedFeatureViewModels:g,relatedFeatures:v,map:E}){const{view:C,spatialReference:w}=this;v?.filter(Boolean).forEach(I=>{g.find(A=>this._matchesFeature(A,I))||g.add(new ep({abilities:{relationshipContent:!1},map:E,view:C,spatialReference:w,graphic:I}))}),g.forEach(I=>{v?.find(G=>this._matchesFeature(I,G))||g.remove(I)})}_setExpressionContentVM(g,v){const E=this.formattedAttributes,{contentElement:C,contentElementViewModel:w}=g,I=C?.type;w&&I&&("fields"===I&&(this._createFieldsFormattedAttributes({contentElement:C,contentElementIndex:v,formattedAttributes:E}),w.set(this._createFieldsVMParams(C,v))),"media"===I&&(this._createMediaFormattedAttributes({contentElement:C,contentElementIndex:v,formattedAttributes:E}),w.set(this._createMediaVMParams(C,v))),"text"===I&&w.set(this._createTextVMParams(C)))}_compileRelationship(g,v){const{displayCount:E,orderByFields:C,relationshipId:w,title:I,description:A}=g,{_sourceLayer:G,graphic:pe,map:Ee}=this,Ue=new vE({displayCount:E,graphic:pe,orderByFields:C,relationshipId:w,layer:G,map:Ee,...this._compileTitleAndDesc({title:I,description:A})});return this.contentViewModels[v]=Ue,this._handles.add((0,rn.on)(()=>Ue.relatedFeatures,"change",()=>this._setRelatedFeaturesViewModels(Ue)),$T),g}_compileExpression(g,v){const{expressionInfo:E}=g,{graphic:C,map:w,spatialReference:I,view:A}=this,G=new gE({expressionInfo:E,graphic:C,interceptor:ep.interceptor,map:w,spatialReference:I,view:A});return this.contentViewModels[v]=G,this._handles.add((0,rn.YP)(()=>G.contentElementViewModel,()=>this._setExpressionContentVM(G,v),rn.nn),VT),g}_compileAttachments(g,v){const{graphic:E}=this,{description:C,title:w}=g;return this.contentViewModels[v]=new zv({graphic:E,...this._compileTitleAndDesc({title:w,description:C})}),g}_compileCustom(g,v){const{graphic:E}=this,{creator:C,destroyer:w}=g;return this.contentViewModels[v]=new V0({graphic:E,creator:C,destroyer:w}),g}_compileTitleAndDesc({title:g,description:v}){const{_fieldInfoMap:E,_sourceLayer:C,graphic:w,formattedAttributes:I}=this,A=w?.attributes,G=this._expressionAttributes,pe=I.global;return{title:Eu({attributes:A,fieldInfoMap:E,globalAttributes:pe,expressionAttributes:G,layer:C,text:g}),description:Eu({attributes:A,fieldInfoMap:E,globalAttributes:pe,expressionAttributes:G,layer:C,text:v})}}_createFieldsVMParams(g,v){const E=this._effectivePopupTemplate,C=this.formattedAttributes,w={...C?.global,...C?.content[v]},I=(g?.fieldInfos||E?.fieldInfos)?.filter(({fieldName:Ee})=>Lv(Ee)||Ja(Ee)||w.hasOwnProperty(Ee)),A=E?.expressionInfos,{description:G,title:pe}=g;return{attributes:w,expressionInfos:A,fieldInfos:I,...this._compileTitleAndDesc({title:pe,description:G})}}_compileFields(g,v){const E=g.clone(),C=new Z0(this._createFieldsVMParams(g,v));return this.contentViewModels[v]=C,E.fieldInfos=C.formattedFieldInfos.slice(0),E}_createMediaVMParams(g,v){const{abilities:E,graphic:C,_fieldInfoMap:w,_effectivePopupTemplate:I,relatedInfos:A,_sourceLayer:G,_expressionAttributes:pe}=this,Ee=this.formattedAttributes,Ue=C?.attributes??{},{description:Be,mediaInfos:lt,title:ht}=g;return{abilities:{chartAnimation:E.chartAnimation},activeMediaInfoIndex:g.activeMediaInfoIndex||0,attributes:Ue,isAggregate:C?.isAggregate,layer:G,fieldInfoMap:w,formattedAttributes:{...Ee?.global,...Ee?.content[v]},expressionAttributes:pe,mediaInfos:lt,popupTemplate:I,relatedInfos:A,...this._compileTitleAndDesc({title:ht,description:Be})}}_compileMedia(g,v){const E=g.clone(),C=new Cu(this._createMediaVMParams(g,v));return E.mediaInfos=C.formattedMediaInfos.slice(0),this.contentViewModels[v]=C,E}_createTextVMParams(g){const{graphic:v,_fieldInfoMap:E,_sourceLayer:C,_expressionAttributes:w}=this;return g&&g.text&&(g.text=Eu({attributes:v?.attributes??{},fieldInfoMap:E,globalAttributes:this.formattedAttributes?.global??{},expressionAttributes:w,layer:C,text:g.text})),{graphic:v,creator:g.text}}_compileText(g,v){const E=g.clone();return this.contentViewModels[v]=new V0(this._createTextVMParams(E)),E}_compileLastEditInfo(){const{_effectivePopupTemplate:g,_sourceLayer:v,graphic:E}=this;if(!g)return;const{lastEditInfoEnabled:C}=g,w=v?.editFieldsInfo;return C&&w?function VB(g,v){const{creatorField:E,creationDateField:C,editorField:w,editDateField:I}=g;if(!v)return;const A=v[I];if("number"==typeof A){const pe=v[w];return{type:"edit",date:(0,vu.p6)(A,xv),user:pe}}const G=v[C];if("number"==typeof G){const pe=v[E];return{type:"create",date:(0,vu.p6)(G,xv),user:pe}}return null}(w,E?.attributes):void 0}_compileTitle(g){const{_fieldInfoMap:v,_sourceLayer:E,graphic:C,_expressionAttributes:w}=this;return Eu({attributes:C?.attributes??{},fieldInfoMap:v,globalAttributes:this.formattedAttributes?.global??{},expressionAttributes:w,layer:E,text:g})}_getTitle(){var g=this;return(0,Nn.Z)(function*(){const{_effectivePopupTemplate:v,graphic:E}=g;if(!E)return null;const C=v?.title;return B0(C,{graphic:E})})()}_getContent(){var g=this;return(0,Nn.Z)(function*(){const{_effectivePopupTemplate:v,graphic:E}=g;if(!E)return null;const C=v?.content;return B0(C,{graphic:E})})()}_queryFeature(g){var v=this;return(0,Nn.Z)(function*(){const{_featureAbortController:E,_sourceLayer:C,graphic:w,_effectivePopupTemplate:I}=v,A=v.map,G=v.view,pe=v.spatialReference;if(E!==v._featureAbortController||!w)return;yield function KB(g,v){return $v.apply(this,arguments)}({graphic:w,popupTemplate:I,layer:C,spatialReference:pe},g);const{content:{value:Ee},title:{value:Ue}}=yield(0,Lr.as)({content:v._getContent(),title:v._getTitle()}),{expressionAttributes:{value:Be}}=yield(0,Lr.as)({checkForRelatedFeatures:v._checkForRelatedFeatures(g),expressionAttributes:bV({expressionInfos:I?.expressionInfos,spatialReference:pe,graphic:w,map:A,interceptor:ep.interceptor,view:G})});E===v._featureAbortController&&w&&(v._expressionAttributes=Be,v._graphicExpressionAttributes={...w.attributes,...Be},v._set("formattedAttributes",v._createFormattedAttributes(Ee)),v._set("title",v._compileTitle(Ue)),v._set("lastEditInfo",v._compileLastEditInfo()||null),v._set("content",v._compileContent(Ee)||null))})()}_createMediaFormattedAttributes({contentElement:g,contentElementIndex:v,formattedAttributes:E}){const{_effectivePopupTemplate:C,graphic:w,relatedInfos:I,_sourceLayer:A,_fieldInfoMap:G,_graphicExpressionAttributes:pe}=this;E.content[v]=Bv({fieldInfos:C?.fieldInfos,graphic:w,attributes:{...pe,...g.attributes},layer:A,fieldInfoMap:G,relatedInfos:I})}_createFieldsFormattedAttributes({contentElement:g,contentElementIndex:v,formattedAttributes:E}){if(g.fieldInfos){const{graphic:C,relatedInfos:w,_sourceLayer:I,_fieldInfoMap:A,_graphicExpressionAttributes:G}=this;E.content[v]=Bv({fieldInfos:g.fieldInfos,graphic:C,attributes:{...G,...g.attributes},layer:I,fieldInfoMap:A,relatedInfos:w})}}_createFormattedAttributes(g){const{_effectivePopupTemplate:v,graphic:E,relatedInfos:C,_sourceLayer:w,_fieldInfoMap:I,_graphicExpressionAttributes:A}=this,G=v?.fieldInfos,pe={global:Bv({fieldInfos:G,graphic:E,attributes:A,layer:w,fieldInfoMap:I,relatedInfos:C}),content:[]};return Array.isArray(g)&&g.forEach((Ee,Ue)=>{"fields"===Ee.type&&this._createFieldsFormattedAttributes({contentElement:Ee,contentElementIndex:Ue,formattedAttributes:pe}),"media"===Ee.type&&this._createMediaFormattedAttributes({contentElement:Ee,contentElementIndex:Ue,formattedAttributes:pe})}),pe}_checkForRelatedFeatures(g){const{graphic:v,_effectivePopupTemplate:E}=this;return this._queryRelatedInfos(v,cT(E),g)}_queryRelatedInfos(g,v,E){var C=this;return(0,Nn.Z)(function*(){const{relatedInfos:w,_sourceLayer:I}=C;w.clear();const A=(0,kt.pC)(I?.associatedLayer)?yield I?.associatedLayer.load(E):I;if(!A||!g)return;const G=v.filter(Ue=>Ue&&Ja(Ue.fieldName));if(!G||!G.length)return;v.forEach(Ue=>C._configureRelatedInfo(Ue,A));const pe=yield function HW({relatedInfos:g,layer:v},E){const C={};return g.forEach((w,I)=>{const{relation:A}=w;if(!A){const Be=new Jn.Z("relation-required","A relation is required on a layer to retrieve related records.");throw IT.error(Be),Be}const{relatedTableId:G}=A;if("number"!=typeof G){const Be=new Jn.Z("A related table ID is required on a layer to retrieve related records.");throw IT.error(Be),Be}const pe=`${v.url}/${G}`,Ee=PT.get(pe),Ue=Ee||function kW(g,v){return(0,RW.default)(g,{query:{f:"json"},signal:v&&v.signal})}(pe);Ee||PT.set(pe,Ue),C[I]=Ue}),(0,Lr.Hl)((0,Lr.as)(C),E)}({relatedInfos:w,layer:A},E);Object.keys(pe).forEach(Ue=>{const Be=w.get(Ue.toString()),lt=pe[Ue]?.value;Be&&lt&&(Be.layerInfo=lt.data)});const Ee=yield function JW({graphic:g,relatedInfos:v,layer:E},C){const w={};return v.forEach((I,A)=>{I.layerInfo&&(w[A]=function GW(g,v,E,C){return aE.apply(this,arguments)}(g,I,E,C))}),(0,Lr.as)(w)}({graphic:g,relatedInfos:w,layer:A},E);Object.keys(Ee).forEach(Ue=>{!function ZW(g,v){if(!v||!g)return;const{features:E,statsFeatures:C}=g,w=E&&E.value;v.relatedFeatures=w?w.features:[];const I=C&&C.value;v.relatedStatsFeatures=I?I.features:[]}(Ee[Ue]?.value,w.get(Ue.toString()))})})()}_configureRelatedInfo(g,v){const{relatedInfos:E}=this,C=z0(g.fieldName);if(!C)return;const{layerId:w,fieldName:I}=C;if(!w)return;const A=E.get(w.toString())||function $W(g,v){const E=function BW(g,v){if(!v.relationships)return null;let E=null;const{relationships:C}=v;return C.some(w=>w.id===parseInt(g,10)&&(E=w,!0)),E}(g,v);if(E)return{url:`${v.url}/${E.relatedTableId}`,sourceSpatialReference:v.spatialReference,relation:E,relatedFields:[],outStatistics:[]}}(w,v);A&&(function YW({relatedInfo:g,fieldName:v,fieldInfo:E}){if(g.relatedFields?.push(v),E.statisticType){const C=new FW.Z({statisticType:E.statisticType,onStatisticField:v,outStatisticFieldName:v});g.outStatistics?.push(C)}}({relatedInfo:A,fieldName:I,fieldInfo:g}),this.relatedInfos.set(w,A))}};Ms.interceptor=new class DV{constructor(v,E){this.preLayerQueryCallback=v,this.preRequestCallback=E,this.preLayerQueryCallback||(this.preLayerQueryCallback=C=>{}),this.preRequestCallback||(this.preLayerQueryCallback=C=>{})}}(({query:g,layer:v,method:E})=>{mT({layer:v,method:E,query:g,definitionExpression:`${v.definitionExpression} ${v.serviceDefinitionExpression}`})},({queryPayload:g,layer:v,method:E})=>{mT({layer:v,method:E,query:g,definitionExpression:`${v.definitionExpression} ${v.serviceDefinitionExpression}`})}),(0,Ae._)([(0,Fe.Cb)()],Ms.prototype,"_error",void 0),(0,Ae._)([(0,Fe.Cb)()],Ms.prototype,"_featureAbortController",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Ms.prototype,"_effectivePopupTemplate",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Ms.prototype,"_fieldInfoMap",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Ms.prototype,"_sourceLayer",null),(0,Ae._)([(0,Fe.Cb)()],Ms.prototype,"abilities",void 0),(0,Ae._)([(0,Qi.p)("abilities")],Ms.prototype,"castAbilities",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Ms.prototype,"content",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Ms.prototype,"contentViewModels",void 0),(0,Ae._)([(0,Fe.Cb)()],Ms.prototype,"description",void 0),(0,Ae._)([(0,Fe.Cb)({type:Boolean})],Ms.prototype,"defaultPopupTemplateEnabled",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Ms.prototype,"isTable",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Ms.prototype,"state",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Ms.prototype,"formattedAttributes",void 0),(0,Ae._)([(0,Fe.Cb)({type:gu.Z,value:null})],Ms.prototype,"graphic",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Ms.prototype,"lastEditInfo",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Ms.prototype,"relatedInfos",void 0),(0,Ae._)([(0,Fe.Cb)()],Ms.prototype,"spatialReference",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Ms.prototype,"title",void 0),(0,Ae._)([(0,Fe.Cb)()],Ms.prototype,"map",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Ms.prototype,"waitingForContent",null),(0,Ae._)([(0,Fe.Cb)()],Ms.prototype,"view",void 0),Ms=ep=(0,Ae._)([(0,Pn.j)("esri.widgets.FeatureViewModel")],Ms);const bE=Ms,yi="esri-feature",ws={iconText:"esri-icon-font-fallback-text",iconLoading:"esri-icon-loading-indicator esri-rotating",esriTable:"esri-widget__table",esriWidget:"esri-widget",base:yi,container:`${yi}__size-container`,title:`${yi}__title`,main:`${yi}__main-container`,btn:`${yi}__button`,icon:`${yi}__icon`,content:`${yi}__content`,contentNode:`${yi}__content-node`,contentElement:`${yi}__content-element`,text:`${yi}__text`,lastEditedInfo:`${yi}__last-edited-info`,fields:`${yi}__fields`,fieldHeader:`${yi}__field-header`,fieldData:`${yi}__field-data`,fieldDataDate:`${yi}__field-data--date`,loadingSpinnerContainer:`${yi}__loading-container`,spinner:`${yi}__loading-spinner`},KT=g=>{let v=class extends g{constructor(){super(...arguments),this.renderNodeContent=E=>(0,Jv.Qd)(E)&&!E.destroyed?(0,Kt.u)("div",{class:ws.contentNode,key:E},E.render()):E instanceof HTMLElement?(0,Kt.u)("div",{class:ws.contentNode,key:E,bind:E,afterCreate:this._attachToNode}):(0,Jv.o)(E)?(0,Kt.u)("div",{class:ws.contentNode,key:E,bind:E.domNode,afterCreate:this._attachToNode}):null}_attachToNode(E){E.appendChild(this)}};return v=(0,Ae._)([(0,Pn.j)("esri.widgets.Feature.ContentMixin")],v),v};var CE;const zT={title:!0,content:!0,lastEditedInfo:!0},GT="relationship-handles";let qs=CE=class extends(KT(Si.Z)){constructor(g,v){super(g,v),this._contentWidgets=[],this.flowItems=null,this.headingLevel=2,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.visibleElements={...zT},this.viewModel=new bE}initialize(){this.addHandles((0,rn.YP)(()=>this.viewModel?.contentViewModels,()=>this._setupContentWidgets(),rn.nn))}loadDependencies(){return Promise.all([M.e(8954),M.e(1206)]).then(M.bind(M,11206))}destroy(){this._destroyContentWidgets()}get graphic(){return this.viewModel.graphic}set graphic(g){this.viewModel.graphic=g}get defaultPopupTemplateEnabled(){return this.viewModel.defaultPopupTemplateEnabled}set defaultPopupTemplateEnabled(g){this.viewModel.defaultPopupTemplateEnabled=g}get isTable(){return this.viewModel.isTable}get label(){return this.messages?.widgetLabel??""}set label(g){this._overrideIfSome("label",g)}get spatialReference(){return this.viewModel.spatialReference}set spatialReference(g){this.viewModel.spatialReference=g}get title(){return this.viewModel.title}castVisibleElements(g){return{...zT,...g}}get map(){return this.viewModel.map}set map(g){this.viewModel.map=g}get view(){return this.viewModel.view}set view(g){this.viewModel.view=g}render(){const{state:g}=this.viewModel,v=(0,Kt.u)("div",{class:ws.container,key:"container"},this.renderTitle(),"error"===g?this.renderError():"loading"===g?this.renderLoading():this.renderContentContainer());return(0,Kt.u)("div",{class:this.classes(ws.base,ws.esriWidget)},v)}setActiveMedia(g,v){return this.viewModel.setActiveMedia(g,v)}nextMedia(g){return this.viewModel.nextMedia(g)}previousMedia(g){return this.viewModel.previousMedia(g)}renderError(){const{messagesCommon:g,messages:v,visibleElements:E}=this;return(0,Kt.u)("calcite-notice",{open:!0,kind:"danger",icon:"exclamation-mark-circle",scale:"s"},E.title?(0,Kt.u)("div",{key:"error-title",slot:"title"},g.errorMessage):null,(0,Kt.u)("div",{key:"error-message",slot:"message"},v.loadingError))}renderLoading(){return(0,Kt.u)("div",{key:"loading-container",class:ws.loadingSpinnerContainer},(0,Kt.u)("span",{class:this.classes(ws.iconLoading,ws.spinner)}))}renderContentContainer(){const{visibleElements:g}=this;return g.content?(0,Kt.u)("div",{class:ws.main},[this.renderContent(),this.renderLastEditInfo()]):null}renderTitle(){const{visibleElements:g,title:v}=this;return g.title?(0,Kt.u)(Gv,{level:this.headingLevel,class:ws.title,innerHTML:v}):null}renderContent(){const g=this.viewModel.content,v="content";if(!g)return null;if(Array.isArray(g))return g.length?(0,Kt.u)("div",{class:ws.contentNode,key:`${v}-content-elements`},g.map(this.renderContentElement,this)):null;if("string"==typeof g){const E=this._contentWidgets[0];return!E||E.destroyed?null:(0,Kt.u)("div",{class:ws.contentNode,key:`${v}-content`},E.render())}return this.renderNodeContent(g)}renderContentElement(g,v){const{visibleElements:E}=this;if("boolean"!=typeof E.content&&!E.content?.[g.type])return null;switch(g.type){case"attachments":return this.renderAttachments(v);case"custom":return this.renderCustom(g,v);case"fields":return this.renderFields(v);case"media":return this.renderMedia(v);case"text":return this.renderText(g,v);case"expression":return this.renderExpression(v);case"relationship":return this.renderRelationship(v);default:return null}}renderAttachments(g){const v=this._contentWidgets[g];if(!v||v.destroyed)return null;const{state:E,attachmentInfos:C}=v.viewModel;return"loading"===E||C.length>0?(0,Kt.u)("div",{key:this._buildKey("attachments-element",g),class:this.classes(ws.contentElement)},v.render()):null}renderRelationship(g){const v=this._contentWidgets[g];return v&&!v.destroyed&&this.flowItems?(0,Kt.u)("div",{key:this._buildKey("relationship-element",g),class:ws.contentElement},v.render()):null}renderExpression(g){const v=this._contentWidgets[g];return!v||v.destroyed?null:(0,Kt.u)("div",{key:this._buildKey("expression-element",g),class:ws.contentElement},v.render())}renderCustom(g,v){const{creator:E}=g,C=this._contentWidgets[v];return!C||C.destroyed?null:E?(0,Kt.u)("div",{key:this._buildKey("custom-element",v),class:ws.contentElement},C.render()):null}renderFields(g){const v=this._contentWidgets[g];return!v||v.destroyed?null:(0,Kt.u)("div",{key:this._buildKey("fields-element",g),class:ws.contentElement},v.render())}renderMedia(g){const v=this._contentWidgets[g];return!v||v.destroyed?null:(0,Kt.u)("div",{key:this._buildKey("media-element",g),class:ws.contentElement},v.render())}renderLastEditInfo(){const{visibleElements:g,messages:v}=this,{lastEditInfo:E}=this.viewModel;if(!E||!g.lastEditedInfo)return null;const{date:C,user:w}=E,A=(0,fa.n)("edit"===E.type?w?v.lastEditedByUser:v.lastEdited:w?v.lastCreatedByUser:v.lastCreated,{date:C,user:w});return(0,Kt.u)("div",{key:"edit-info-element",class:this.classes(ws.lastEditedInfo,ws.contentElement)},A)}renderText(g,v){const C=this._contentWidgets[v];return!C||C.destroyed?null:g.text?(0,Kt.u)("div",{key:this._buildKey("text-element",v),class:this.classes(ws.contentElement,ws.text)},C.render()):null}_buildKey(g,...v){return`${g}__${this.get("viewModel.graphic.uid")||"0"}-${v.join("-")}`}_destroyContentWidget(g){g&&(g.viewModel=null,!g.destroyed&&g.destroy())}_destroyContentWidgets(){this.removeHandles(GT),this._contentWidgets.forEach(g=>this._destroyContentWidget(g)),this._contentWidgets=[]}_addFeatureRelationshipHandles(g){const{flowItems:v,visibleElements:E}=this;this.addHandles([(0,rn.on)(()=>g,"select-record",({featureViewModel:C})=>{v&&(C.abilities={relationshipContent:!0},v.push(new CE({flowItems:v,viewModel:C,visibleElements:E})))}),(0,rn.on)(()=>g,"show-all-records",()=>{if(!v)return;const{viewModel:C}=g;C.showAllEnabled=!0;const w=new WT({visibleElements:{title:!1,description:!1},viewModel:C});this._addFeatureRelationshipHandles(w),v.push(w)})],GT)}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:g,visibleElements:v}=this,E=this.get("viewModel.content"),{contentViewModels:C}=this.viewModel;if(Array.isArray(E))E.forEach((w,I)=>{if("attachments"===w.type&&(this._contentWidgets[I]=new tW({displayType:w.displayType,headingLevel:v.title?g+1:g,viewModel:C[I]})),"fields"===w.type&&(this._contentWidgets[I]=new MT({viewModel:C[I]})),"media"===w.type&&(this._contentWidgets[I]=new jT({viewModel:C[I]})),"text"===w.type&&(this._contentWidgets[I]=new $0({viewModel:C[I]})),"custom"===w.type&&(this._contentWidgets[I]=new $0({viewModel:C[I]})),"expression"===w.type&&(this._contentWidgets[I]=new MV({viewModel:C[I]})),"relationship"===w.type){const A=new WT({viewModel:C[I]});this._addFeatureRelationshipHandles(A),this._contentWidgets[I]=A}},this);else{const w=C[0];w&&!w.destroyed&&(this._contentWidgets[0]=new $0({viewModel:w}))}this.scheduleRender()}};(0,Ae._)([(0,Fe.Cb)()],qs.prototype,"graphic",null),(0,Ae._)([(0,Fe.Cb)()],qs.prototype,"defaultPopupTemplateEnabled",null),(0,Ae._)([(0,Fe.Cb)()],qs.prototype,"flowItems",void 0),(0,Ae._)([(0,Fe.Cb)()],qs.prototype,"headingLevel",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],qs.prototype,"isTable",null),(0,Ae._)([(0,Fe.Cb)()],qs.prototype,"label",null),(0,Ae._)([(0,Fe.Cb)(),(0,Oi.H)("esri/widgets/Feature/t9n/Feature")],qs.prototype,"messages",void 0),(0,Ae._)([(0,Fe.Cb)(),(0,Oi.H)("esri/t9n/common")],qs.prototype,"messagesCommon",void 0),(0,Ae._)([(0,Fe.Cb)(),(0,Oi.H)("esri/widgets/support/t9n/uriUtils")],qs.prototype,"messagesURIUtils",void 0),(0,Ae._)([(0,Fe.Cb)()],qs.prototype,"spatialReference",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],qs.prototype,"title",null),(0,Ae._)([(0,Fe.Cb)()],qs.prototype,"visibleElements",void 0),(0,Ae._)([(0,Qi.p)("visibleElements")],qs.prototype,"castVisibleElements",null),(0,Ae._)([(0,Fe.Cb)()],qs.prototype,"map",null),(0,Ae._)([(0,Fe.Cb)()],qs.prototype,"view",null),(0,Ae._)([(0,Fe.Cb)({type:bE})],qs.prototype,"viewModel",void 0),qs=CE=(0,Ae._)([(0,Pn.j)("esri.widgets.Feature")],qs);const OV=qs;var kT;const J0=Symbol("anchorHandles");let Mu=class extends Zh.Z.EventedAccessor{constructor(g){super(g),this[kT]=new wl.Z,this.location=null,this.screenLocationEnabled=!1,this.view=null,this[J0].add([(0,rn.gx)(()=>(0,kt.yw)(this.screenLocationEnabled?this.view:null,v=>[v.size,"3d"===v.type?v.camera:v.viewpoint]),()=>this.notifyChange("screenLocation")),(0,rn.YP)(()=>this.screenLocation,(v,E)=>{(0,kt.pC)(v)&&(0,kt.pC)(E)&&this.emit("view-change")})])}destroy(){this.view=null,this[J0]=(0,kt.SC)(this[J0])}get screenLocation(){const{location:g,view:v,screenLocationEnabled:E}=this;return E&&(0,kt.pC)(g)&&(0,kt.pC)(v)&&v.ready?v.toScreen?.(g):null}};kT=J0,(0,Ae._)([(0,Fe.Cb)()],Mu.prototype,"location",void 0),(0,Ae._)([(0,Fe.Cb)()],Mu.prototype,"screenLocation",null),(0,Ae._)([(0,Fe.Cb)()],Mu.prototype,"screenLocationEnabled",void 0),(0,Ae._)([(0,Fe.Cb)()],Mu.prototype,"view",void 0),Mu=(0,Ae._)([(0,Pn.j)("esri.widgets.support.AnchorElementViewModel")],Mu);const HT=Mu;let Y0=class extends HT{constructor(g){super(g),this.visible=!1}};(0,Ae._)([(0,Fe.Cb)()],Y0.prototype,"visible",void 0),Y0=(0,Ae._)([(0,Pn.j)("esri.widgets.CompassViewModel")],Y0);const JT=Y0,ME="esri-spinner",DE_base=ME,DE_spinnerStart=`${ME}--start`,DE_spinnerFinish=`${ME}--finish`;let Du=class extends Si.Z{constructor(g,v){super(g,v),this._animationDelay=500,this._animationPromise=null,this.viewModel=new JT}initialize(){this.addHandles((0,rn.YP)(()=>this.visible,g=>this._visibleChange(g)))}destroy(){this._animationPromise=null}get location(){return this.viewModel.location}set location(g){this.viewModel.location=g}get view(){return this.viewModel.view}set view(g){this.viewModel.view=g}get visible(){return this.viewModel.visible}set visible(g){this.viewModel.visible=g}show(g){const{location:v,promise:E}=g??{};v&&(this.viewModel.location=v),this.visible=!0,E&&E.catch(()=>{}).then(()=>this.hide())}hide(){this.visible=!1}render(){const{visible:g}=this,{screenLocation:v}=this.viewModel,E=!!v,I={[DE_spinnerStart]:g&&E,[DE_spinnerFinish]:!g&&E},A=this._getPositionStyles();return(0,Kt.u)("div",{class:this.classes(DE_base,I),styles:A})}_visibleChange(g){if(g)return void(this.viewModel.screenLocationEnabled=!0);const v=(0,Lr.e4)(this._animationDelay);this._animationPromise=v,v.catch(()=>{}).then(()=>{this._animationPromise===v&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)})}_getPositionStyles(){const{screenLocation:g,view:v}=this.viewModel;if((0,kt.Wi)(v)||(0,kt.Wi)(g))return{};const{padding:E}=v;return{left:g.x-E.left+"px",top:g.y-E.top+"px"}}};(0,Ae._)([(0,Fe.Cb)()],Du.prototype,"location",null),(0,Ae._)([(0,Fe.Cb)()],Du.prototype,"view",null),(0,Ae._)([(0,Fe.Cb)({type:JT})],Du.prototype,"viewModel",void 0),(0,Ae._)([(0,Fe.Cb)()],Du.prototype,"visible",null),Du=(0,Ae._)([(0,Pn.j)("esri.widgets.Spinner")],Du);const IV=Du;var tp=M(48753);const Q0_iconZoom="esri-icon-zoom-in-magnifying-glass",xl=new tp.Z({id:"zoom-to-feature",title:"{messages.zoom}",className:Q0_iconZoom}),SE=new tp.Z({id:"remove-selected-feature",title:"{messages.remove}",className:"esri-icon-trash"}),Su=new tp.Z({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:Q0_iconZoom}),Ou=new tp.Z({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:"esri-icon-table"}),X0=Vr.Z.getLogger("esri.widgets.Popup.PopupViewModel"),TV=g=>{const{event:v,view:E}=g,{action:C}=v,w=E&&E.popup;if(!C)return Promise.reject(new Jn.Z("trigger-action:missing-arguments","Event has no action"));if(!w)return Promise.reject(new Jn.Z("trigger-action:missing-arguments","view.popup is missing"));const{disabled:I,id:A}=C;if(!A)return Promise.reject(new Jn.Z("trigger-action:invalid-action","action.id is missing"));if(I)return Promise.reject(new Jn.Z("trigger-action:invalid-action","Action is disabled"));if(A===xl.id)return function xV(g){return wE.apply(this,arguments)}(w.viewModel).catch(Lr.H9);if(A===Su.id)return function RV(g){return IE.apply(this,arguments)}(w.viewModel);if(A===Ou.id)return w.featureMenuOpen=!w.featureMenuOpen,w.viewModel.browseClusterEnabled=!w.viewModel.browseClusterEnabled,Promise.resolve();if(w.viewModel.browseClusterEnabled=!1,A===SE.id){w.close();const{selectedFeature:G}=w;if(!G)return Promise.reject(new Jn.Z(`trigger-action:${SE.id}`,"selectedFeature is required",{selectedFeature:G}));const{sourceLayer:pe}=G;return pe?pe.remove(G):E.graphics.remove(G),Promise.resolve()}return Promise.resolve()};function YT(g){const{selectedFeature:v,location:E,view:C}=g;return C?"3d"===C.type?v??E??null:g.get("selectedFeature.geometry")||E:null}function wu(g){return!!g&&g.isAggregate&&"cluster"===g.sourceLayer?.featureReduction?.type}function OE(){return(OE=(0,Nn.Z)(function*(g,v){if("3d"!==v?.type||!g||"esri.Graphic"!==g.declaredClass)return!0;const E=v.getViewForGraphic(g);if(E&&"whenGraphicBounds"in E){let C;try{C=yield E.whenGraphicBounds(g,{useViewElevation:!0})}catch{}return!C||!C.boundingBox||C.boundingBox[0]===C.boundingBox[3]&&C.boundingBox[1]===C.boundingBox[4]&&C.boundingBox[2]===C.boundingBox[5]}return!0})).apply(this,arguments)}function wE(){return wE=(0,Nn.Z)(function*(g){const{location:v,selectedFeature:E,view:C,zoomFactor:w}=g,I=YT(g);if(!C||!I){const Ue=new Jn.Z("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:I,view:C});throw X0.error(Ue),Ue}const A=C.scale/w,G=g.selectedFeature?.geometry,pe=G??v,Ee=(0,kt.pC)(pe)&&"point"===pe.type&&(yield function AV(g,v){return OE.apply(this,arguments)}(E,C));xl.active=!0,xl.disabled=!0;try{yield g.zoomTo({target:{target:I,scale:Ee?A:void 0}})}catch{const Be=new Jn.Z("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:E});X0.error(Be)}finally{xl.active=!1,xl.disabled=!1,g.zoomToLocation=null,Ee&&(g.location=pe)}}),wE.apply(this,arguments)}function IE(){return(IE=(0,Nn.Z)(function*(g){const{selectedFeature:v,view:E}=g;if("2d"!==E?.type){const A=new Jn.Z("zoomToCluster:invalid-view","View must be 2d MapView.",{view:E});throw X0.error(A),A}if(!v||!wu(v)){const A=new Jn.Z("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:v});throw X0.error(A),A}const[C,w]=yield AE(E,v);Su.active=!0,Su.disabled=!0;const{extent:I}=yield C.queryExtent(w);yield g.zoomTo({target:I}),Su.active=!1,Su.disabled=!1})).apply(this,arguments)}function PE(){return(PE=(0,Nn.Z)(function*(g){const{view:v,selectedFeature:E}=g;if(!v||!E)return;const[C,w]=yield AE(v,E),{extent:I}=yield C.queryExtent(w);g.selectedClusterBoundaryFeature.geometry=I,v.graphics.add(g.selectedClusterBoundaryFeature)})).apply(this,arguments)}function TE(){return(TE=(0,Nn.Z)(function*(g){const{selectedFeature:v,view:E}=g;if(!E||!v)return;const[C,w]=yield AE(E,v);Ou.active=!0,Ou.disabled=!0;const{features:I}=yield C.queryFeatures(w);Ou.active=!1,Ou.disabled=!1,E.popup?.open({features:[v].concat(I),featureMenuOpen:!0})})).apply(this,arguments)}function AE(g,v){return xE.apply(this,arguments)}function xE(){return(xE=(0,Nn.Z)(function*(g,v){const E=yield g.whenLayerView(v.sourceLayer),C=E.createQuery(),w=v.getObjectId();return C.aggregateIds=null!=w?[w]:[],[E,C]})).apply(this,arguments)}function QT(g){if((0,kt.Wi)(g))return null;switch(g.type){case"point":return g;case"extent":return g.center;case"polygon":return g.centroid;case"multipoint":case"polyline":return g.extent?.center;default:return null}}const er="esri-popup",np=`${er}__header`,Iu=`${er}--is-docked`,Mn={calciteThemeLight:"calcite-mode-light",calciteThemeDark:"calcite-mode-dark",iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow",iconDockToTop:"esri-icon-maximize",iconDockToBottom:"esri-icon-dock-bottom",iconDockToLeft:"esri-icon-dock-left",iconDockToRight:"esri-icon-dock-right",iconClose:"esri-icon-close",iconUndock:"esri-icon-minimize",iconCheckMark:"esri-icon-check-mark",iconLoading:"esri-icon-loading-indicator",iconDefaultAction:"esri-icon-default-action",iconActionsMenu:"esri-icon-handle-horizontal",rotating:"esri-rotating",base:er,widget:"esri-widget",main:`${er}__main-container`,loadingContainer:`${er}__loading-container`,isCollapsible:`${er}--is-collapsible`,isCollapsed:`${er}--is-collapsed`,shadow:`${er}--shadow`,isDocked:Iu,isDockedTopLeft:`${Iu}-top-left`,isDockedTopCenter:`${Iu}-top-center`,isDockedTopRight:`${Iu}-top-right`,isDockedBottomLeft:`${Iu}-bottom-left`,isDockedBottomCenter:`${Iu}-bottom-center`,isDockedBottomRight:`${Iu}-bottom-right`,alignTopCenter:`${er}--aligned-top-center`,alignBottomCenter:`${er}--aligned-bottom-center`,alignTopLeft:`${er}--aligned-top-left`,alignBottomLeft:`${er}--aligned-bottom-left`,alignTopRight:`${er}--aligned-top-right`,alignBottomRight:`${er}--aligned-bottom-right`,isFeatureMenuOpen:`${er}--feature-menu-open`,isActionsMenuOpen:`${er}--actions-menu-open`,hasFeatureUpdated:`${er}--feature-updated`,header:np,headerButtons:`${np}-buttons`,headerContainer:`${np}-container`,headerContainerButton:`${np}-container--button`,headerTitle:`${np}-title`,content:`${er}__content`,contentHasFlows:"esri-content--has-flows",contentFlowItem:"esri-content__flow-item",footer:`${er}__footer`,footerHasPagination:`${er}__footer--has-pagination`,footerHasActions:`${er}__footer--has-actions`,footerHasActionsMenu:`${er}__footer--has-actions-menu`,button:`${er}__button`,buttonDisabled:`${er}__button--disabled`,buttonDock:`${er}__button--dock`,icon:`${er}__icon`,iconDock:`${er}__icon--dock-icon`,inlineActionsContainer:`${er}__inline-actions-container`,actionsMenuButton:`${er}__actions-menu-button`,actions:`${er}__actions`,action:`${er}__action`,actionImage:`${er}__action-image`,actionText:`${er}__action-text`,actionToggle:`${er}__action-toggle`,actionToggleOn:`${er}__action-toggle--on`,actionExit:`${er}__action--exit`,actionSelectFeature:`${er}__action--select-feature`,pointer:`${er}__pointer`,pointerDirection:`${er}__pointer-direction`,navigation:`${er}__navigation`,paginationPrevious:`${er}__pagination-previous`,paginationNext:`${er}__pagination-next`,paginationPreviousIconLTR:`${er}__pagination-previous-icon`,paginationPreviousIconRTL:`${er}__pagination-previous-icon--rtl`,paginationNextIconLTR:`${er}__pagination-next-icon`,paginationNextIconRTL:`${er}__pagination-next-icon--rtl`,featureMenu:`${er}__feature-menu`,featureMenuList:`${er}__feature-menu-list`,featureMenuItem:`${er}__feature-menu-item`,featureMenuViewport:`${er}__feature-menu-viewport`,featureMenuHeader:`${er}__feature-menu-header`,featureMenuNote:`${er}__feature-menu-note`,featureMenuSelected:`${er}__feature-menu-item--selected`,featureMenuButton:`${er}__feature-menu-button`,featureMenuTitle:`${er}__feature-menu-title`,featureMenuObserver:`${er}__feature-menu-observer`,featureMenuLoader:`${er}__feature-menu-loader`,collapseButton:`${er}__collapse-button`,collapseIcon:`${er}__collapse-icon`};var rp=M(46367),XT=M(44917),NV=M(59397),BV=M(10671);function LE(g){return g&&"opacity"in g?g.opacity*LE(g.parent):1}function jE(){return(jE=(0,Nn.Z)(function*(g,v){if(!g)return;const E=g.sourceLayer,C=((0,kt.pC)(v)&&v.useSourceLayer?E:g.layer)??E,w=LE(C);if((0,kt.pC)(g.symbol)&&(!(0,kt.pC)(v)||!0!==v.ignoreGraphicSymbol)){const qt="web-style"===g.symbol.type?yield(0,wo.Q8)(g.symbol,{...v,cache:(0,kt.pC)(v)?v.webStyleCache:null}):g.symbol.clone();return(0,wo.tb)(qt,null,w),qt}const I=((0,kt.pC)(v)?v.renderer:null)??(C&&"renderer"in C?C.renderer:null);let A=I&&"getSymbolAsync"in I?yield I.getSymbolAsync(g,v):null;if(!A)return;if(A="web-style"===A.type?yield A.fetchSymbol({...v,cache:(0,kt.pC)(v)?v.webStyleCache:null}):A.clone(),!(I&&"visualVariables"in I&&I.visualVariables&&I.visualVariables.length))return(0,wo.tb)(A,null,w),A;if("arcadeRequiredForVisualVariables"in I&&I.arcadeRequiredForVisualVariables&&((0,kt.Wi)(v)||(0,kt.Wi)(v.arcade))){const qt={...(0,kt.Wg)(v)};qt.arcade=yield(0,eT.LC)(),v=qt}const G=yield Promise.resolve().then(M.bind(M,81808)),pe=[],Ee=[],Ue=[],Be=[];for(const qt of I.visualVariables)switch(qt.type){case"color":pe.push(qt);break;case"opacity":Ee.push(qt);break;case"rotation":Be.push(qt);break;case"size":qt.target||Ue.push(qt)}const lt=!!pe.length&&pe[pe.length-1],ht=lt?G.getColor(lt,g,v):null,wt=!!Ee.length&&Ee[Ee.length-1];let Gt=wt?G.getOpacity(wt,g,v):null;if(null!=w&&(Gt=null!=Gt?Gt*w:w),(0,wo.tb)(A,ht,Gt),Ue.length){const qt=G.getAllSizes(Ue,g,v);yield(0,wo.e3)(A,qt)}for(const qt of Be)(0,wo.BR)(A,G.getRotationAngle(qt,g,v),qt.axis);return A})).apply(this,arguments)}M(74741),M(71131),M(34057),M(30695),M(66960);var rd=M(61477);function s2(g){return g&&"function"==typeof g.highlight}const i2=g=>{let v=class extends g{constructor(...E){super(...E),this.goToOverride=null,this.view=null}callGoTo(E){const{view:C}=this;return(0,kt.O3)(C),this.goToOverride?this.goToOverride(C,E):C.goTo(E.target,E.options)}};return(0,Ae._)([(0,Fe.Cb)()],v.prototype,"goToOverride",void 0),(0,Ae._)([(0,Fe.Cb)()],v.prototype,"view",void 0),v=(0,Ae._)([(0,Pn.j)("esri.widgets.support.GoTo")],v),v};var JV=M(88493);const sp=_s.Z.ofType({key:"type",defaultKeyValue:"button",base:NV.Z,typeMap:{button:tp.Z,toggle:BV.Z}});let $r=class extends(i2(HT)){get isLoadingFeature(){return this.featureViewModels.some(g=>g.waitingForContent)}constructor(g){super(g),this._handles=new wl.Z,this._pendingPromises=new Set,this._fetchFeaturesController=null,this._highlightSelectedFeaturePromise=null,this._highlightActiveFeaturePromise=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new sp,this.activeFeature=null,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new gu.Z({symbol:new JV.Z({outline:{width:1.5,color:"cyan"},style:"none"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}initialize(){this._handles.add([(0,rn.YP)(()=>[this.autoOpenEnabled,this.view],()=>this._autoOpenEnabledChange()),this.on("view-change",()=>this._autoClose()),(0,rn.YP)(()=>[this.highlightEnabled,this.selectedFeature,this.visible,this.view],()=>this._highlightSelectedFeature()),(0,rn.YP)(()=>[this.highlightEnabled,this.activeFeature,this.visible,this.view],()=>this._highlightActiveFeature()),(0,rn.YP)(()=>this.view?.animation?.state,g=>this._animationStateChange(g)),(0,rn.YP)(()=>this.location,g=>this._locationChange(g)),(0,rn.YP)(()=>this.selectedFeature,g=>this._selectedFeatureChange(g)),(0,rn.YP)(()=>[this.selectedFeatureIndex,this.featureCount,this.featuresPerPage],()=>this._selectedFeatureIndexChange()),(0,rn.YP)(()=>[this.featurePage,this.selectedFeatureIndex,this.featureCount,this.featuresPerPage,this.featureViewModels],()=>this._setGraphicOnFeatureViewModels()),(0,rn.YP)(()=>this.featureViewModels,()=>this._featureViewModelsChange()),this.on("trigger-action",g=>TV({event:g,view:this.view})),(0,rn.gx)(()=>!this.waitingForResult,()=>this._waitingForResultChange(),rn.Z_),(0,rn.YP)(()=>[this.features,this.view?.map,this.view?.spatialReference],()=>this._updateFeatureVMs()),(0,rn.YP)(()=>this.view?.scale,()=>this._viewScaleChange()),(0,rn.gx)(()=>!this.visible,()=>this.browseClusterEnabled=!1),(0,rn.YP)(()=>this.browseClusterEnabled,g=>g?this.enableClusterBrowsing():this.disableClusterBrowsing())])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const g=this._get("allActions")||new sp;g.removeAll();const{actions:v,defaultActions:E,defaultPopupTemplateEnabled:C,includeDefaultActions:w,selectedFeature:I}=this,A=w?E.concat(v):v,G=I&&("function"==typeof I.getEffectivePopupTemplate&&I.getEffectivePopupTemplate(C)||I.popupTemplate),pe=G&&G.actions,Ee=G&&G.overwriteActions?pe:pe?pe.concat(A):A;return Ee&&Ee.filter(Boolean).forEach(Ue=>g.add(Ue)),g}get defaultActions(){const g=this._get("defaultActions")||new sp;return g.removeAll(),g.addMany(wu(this.selectedFeature)?[Su.clone(),Ou.clone()]:[xl.clone()]),g}get featureCount(){return this.features.length}get features(){return this._get("features")||[]}set features(g){const v=g||[];this._set("features",v);const{pendingPromisesCount:E,promiseCount:C,selectedFeatureIndex:w}=this,I=C&&v.length;I&&E&&-1===w?this.selectedFeatureIndex=0:I&&-1!==w||(this.selectedFeatureIndex=v.length?0:-1)}get location(){return this._get("location")||null}set location(g){let v=g;const E=this.view?.spatialReference?.isWebMercator;g&&g?.spatialReference?.isWGS84&&E&&(v=(0,rp.$)(g)),this._set("location",v)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(this._fetchFeaturesController||this.pendingPromisesCount>0)||0!==this.featureCount)}get promiseCount(){return this.promises.length}get promises(){return this._get("promises")||[]}set promises(g){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(g)||!g.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount");this._set("promises",g),(g=g.slice(0)).forEach(v=>{this._pendingPromises.add(v),v.then(w=>{this._pendingPromises.has(v)&&this._updateFeatures(w),this._updatePendingPromises(v)},()=>this._updatePendingPromises(v))}),this.notifyChange("pendingPromisesCount")}get selectedFeature(){const{features:g,selectedFeatureIndex:v}=this;return-1===v?null:g[v]||null}get selectedFeatureIndex(){const g=this._get("selectedFeatureIndex");return"number"==typeof g?g:-1}set selectedFeatureIndex(g){const{featureCount:v}=this;g=isNaN(g)||g<-1||!v?-1:(g+v)%v,this.activeFeature=null,this._set("selectedFeatureIndex",g)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get("view.ready")?"ready":"disabled"}centerAtLocation(){const{view:g}=this,v=YT(this);return v&&g?this.callGoTo({target:{target:v,scale:g.scale}}):Promise.reject(new Jn.Z("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:v,view:g}))}zoomTo(g){return this.callGoTo(g)}clear(){this.set({promises:[],features:[],content:null,title:null,location:null,activeFeature:null})}fetchFeatures(g,v){const{view:E}=this;if(!E||!g)throw new Jn.Z("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:g,view:E});return E.fetchPopupFeatures(g,{event:v&&v.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:v&&v.signal})}open(g){const v={updateLocationEnabled:!1,promises:[],fetchFeatures:!1,...g,visible:!0},{fetchFeatures:E}=v;delete v.fetchFeatures,E&&this._setFetchFeaturesPromises(v.location);const C=["actionsMenuOpen","collapsed","featureMenuOpen"];for(const w of C)delete v[w];this.set(v)}triggerAction(g){const v=this.allActions.getItemAt(g);v&&!v.disabled&&this.emit("trigger-action",{action:v})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){(function UV(g){const v=g.features.filter(E=>wu(E));v.length&&(g.features=v)})(this),this._clearBrowsedClusterGraphics()}enableClusterBrowsing(){var g=this;return(0,Nn.Z)(function*(){const{view:v,selectedFeature:E}=g;"2d"===v?.type?wu(E)?(yield function LV(g){return PE.apply(this,arguments)}(g),yield function jV(g){return TE.apply(this,arguments)}(g)):Vr.Z.getLogger(g.declaredClass).warn("enableClusterBrowsing:invalid-selectedFeature: Selected feature must represent an aggregate/cluster graphic.",E):Vr.Z.getLogger(g.declaredClass).warn("enableClusterBrowsing:invalid-view: View must be 2d MapView.",E)})()}_animationStateChange(g){this.zoomToLocation||(xl.disabled="waiting-for-target"===g)}_clearBrowsedClusterGraphics(){const g=this.view?.graphics;g&&(g.remove(this.selectedClusterBoundaryFeature),this._selectedClusterFeature&&g.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){if(wu(this.selectedFeature))return this.browseClusterEnabled=!1,this.visible=!1,void this.clear();this.browseClusterEnabled&&(this.features=this.selectedFeature?[this.selectedFeature]:[])}_locationChange(g){const{selectedFeature:v,updateLocationEnabled:E}=this;E&&g&&(!v||v.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:g,featureCount:v,featurePage:E,featuresPerPage:C,featureViewModels:w}=this;if(null===E)return;const I=((E-1)*C+v)%v;w.slice(I,I+C).forEach((G,pe)=>{G&&!G.graphic&&(G.graphic=g[I+pe])})}_selectedFeatureChange(g){var v=this;return(0,Nn.Z)(function*(){const{location:E,updateLocationEnabled:C,view:w}=v;if(g&&w){if(v.browseClusterEnabled)return v._selectedClusterFeature&&(w.graphics.remove(v._selectedClusterFeature),v._selectedClusterFeature=null),wu(g)?void 0:(g.symbol=yield function HV(g,v){return jE.apply(this,arguments)}(g),v._selectedClusterFeature=g,void w.graphics.add(v._selectedClusterFeature));!C&&E||!g.geometry?C&&!g.geometry&&v.centerAtLocation().then(()=>{const I=w.center?.clone();I&&(v.location=I)}):v.location=(0,kt.Wg)(QT(g.geometry))}})()}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(g){return this._fetchFeaturesWithController(this._getScreenPoint(g||this.location)).then(v=>{const{clientOnlyGraphics:E,promisesPerLayerView:C}=v,w=Promise.resolve(E),I=C.map(A=>A.promise);this.promises=[w,...I]})}_destroyFeatureVMs(){this.featureViewModels.forEach(g=>g&&!g.destroyed&&g.destroy()),this._set("featureViewModels",[])}_updateFeatureVMs(){const{selectedFeature:g,features:v,featureViewModels:E}=this;if(wu(g)||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!v||!v.length)return;const C=E.slice(0),w=[];v.forEach((I,A)=>{if(!I)return;let G=null;if(C.some((pe,Ee)=>(pe&&pe.graphic===I&&(G=pe,C.splice(Ee,1)),!!G)),G)w[A]=G;else{const pe=new bE({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:this.view?.spatialReference,graphic:I===g?I:null,map:this.view?.map,view:this.view});w[A]=pe}}),C.forEach(I=>I&&!I.destroyed&&I.destroy()),this._set("featureViewModels",w)}_getScreenPoint(g){const{view:v}=this;return v&&g&&"function"==typeof v.toScreen?v.toScreen(g):null}_autoOpenEnabledChange(){const g="auto-fetch-features",{_handles:v,autoOpenEnabled:E}=this;if(v.remove(g),E&&this.view){const C=this.view.on("click",w=>{"mouse"===w.pointerType&&0!==w.button||this._fetchFeaturesAndOpen(w)},rd.f.WIDGET);v.add(C,g)}}_cancelFetchingFeatures(){const g=this._fetchFeaturesController;g&&g.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}_fetchFeaturesWithController(g,v){this._cancelFetchingFeatures();const E=new AbortController,{signal:C}=E;this._fetchFeaturesController=E,this.notifyChange("waitingForResult");const w=this.fetchFeatures(g,{signal:C,event:v});return w.catch(()=>{}).then(()=>{this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}),w}_fetchFeaturesAndOpen(g){const{screenPoint:v,mapPoint:E}=g,{view:C}=this;this._fetchFeaturesWithController(v,g).then(w=>{const{clientOnlyGraphics:I,promisesPerLayerView:A,location:G}=w,pe=[Promise.resolve(I),...A.map(Ee=>Ee.promise)];return C?.popup?.open({location:G||E,promises:pe}),w})}_updatePendingPromises(g){g&&this._pendingPromises.has(g)&&(this._pendingPromises.delete(g),this.notifyChange("pendingPromisesCount"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}_getLayerView(g,v){return(0,Nn.Z)(function*(){return yield g.when(),g.whenLayerView(v)})()}_getHighlightLayer(g){const{layer:v,sourceLayer:E}=g;return E&&"layer"in E&&E.layer?E.layer:"map-notes"===E?.type||"subtype-group"===E?.type?E:v}_getHighlightTarget(g,v){const E="imagery"===v.type?void 0:"objectIdField"in v?v.objectIdField||"OBJECTID":null,C=g.attributes;return C&&E&&C[E]||g}_highlightActiveFeature(){var g=this;return(0,Nn.Z)(function*(){const v="highlight-active-feature";g._handles.remove(v);const{highlightEnabled:E,view:C,activeFeature:w,visible:I}=g;if(!(w&&C&&E&&I))return;const A=g._getHighlightLayer(w);if(!(A&&A instanceof XT.Z))return;const G=g._getLayerView(C,A);g._highlightActiveFeaturePromise=G;const pe=yield G;if(!(pe&&s2(pe)&&g._highlightActiveFeaturePromise===G&&g.activeFeature&&g.highlightEnabled))return;const Ee=pe.highlight(g._getHighlightTarget(w,A));g._handles.add(Ee,v)})()}_highlightSelectedFeature(){var g=this;return(0,Nn.Z)(function*(){const v="highlight-selected-feature";g._handles.remove(v);const{selectedFeature:E,highlightEnabled:C,view:w,visible:I}=g;if(!(E&&w&&C&&I))return;const A=g._getHighlightLayer(E);if(!(A&&A instanceof XT.Z))return;const G=g._getLayerView(w,A);g._highlightSelectedFeaturePromise=G;const pe=yield G;if(!(pe&&s2(pe)&&g._highlightSelectedFeaturePromise===G&&g.selectedFeature&&g.highlightEnabled&&g.visible))return;const Ee=pe.highlight(g._getHighlightTarget(E,A));g._handles.add(Ee,v)})()}_updateFeatures(g){const{features:v}=this;if(!g||!g.length)return;if(!v.length)return void(this.features=g);const E=g.filter(C=>!v.includes(C));this.features=v.concat(E)}};(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"featurePage",void 0),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"isLoadingFeature",null),(0,Ae._)([(0,Fe.Cb)({type:sp})],$r.prototype,"actions",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],$r.prototype,"active",null),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"activeFeature",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],$r.prototype,"allActions",null),(0,Ae._)([(0,Fe.Cb)({type:Boolean})],$r.prototype,"defaultPopupTemplateEnabled",void 0),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"autoCloseEnabled",void 0),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"autoOpenEnabled",void 0),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"browseClusterEnabled",void 0),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"content",void 0),(0,Ae._)([(0,Fe.Cb)({type:sp,readOnly:!0})],$r.prototype,"defaultActions",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],$r.prototype,"featureCount",null),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"features",null),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"featuresPerPage",void 0),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"featureViewModelAbilities",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],$r.prototype,"featureViewModels",void 0),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"highlightEnabled",void 0),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"includeDefaultActions",void 0),(0,Ae._)([(0,Fe.Cb)({type:Fi.Z})],$r.prototype,"location",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],$r.prototype,"pendingPromisesCount",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],$r.prototype,"selectedClusterBoundaryFeature",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],$r.prototype,"waitingForResult",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],$r.prototype,"promiseCount",null),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"promises",null),(0,Ae._)([(0,Fe.Cb)({value:null,readOnly:!0})],$r.prototype,"selectedFeature",null),(0,Ae._)([(0,Fe.Cb)({value:-1})],$r.prototype,"selectedFeatureIndex",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],$r.prototype,"selectedFeatureViewModel",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],$r.prototype,"state",null),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"title",void 0),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"updateLocationEnabled",void 0),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"view",void 0),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"visible",void 0),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"zoomFactor",void 0),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"zoomToLocation",void 0),(0,Ae._)([(0,Fe.Cb)()],$r.prototype,"centerAtLocation",null),$r=(0,Ae._)([(0,Pn.j)("esri.widgets.Popup.PopupViewModel")],$r);const o2=$r;var Io=M(24940);const a2="selected-index",l2="popup-spinner",u2={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},c2="esri-popup";function el(g,v){return void 0===v?`${c2}__${g}`:`${c2}__${g}-${v}`}const d2={closeButton:!0,featureNavigation:!0};let tr=class extends(KT(Si.Z)){constructor(g,v){super(g,v),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new wl.Z,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverNode=null,this._featureMenuViewportNode=null,this._rootFlowItemNode=null,this._featureMenuIntersectionObserverCallback=([E])=>{E?.isIntersecting&&null!=this.viewModel.featurePage&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback,{root:window.document}),this._displaySpinnerThrottled=(0,Gc.P)(()=>this._displaySpinner(),0),this._exitRelatedRecordsActions=new WeakMap,this._featureSelectionActions=new WeakMap,this._flowItems=new _s.Z,this.alignment="auto",this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureMenuOpen=!1,this.headingLevel=2,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.spinnerEnabled=!0,this.viewModel=new o2,this.visibleElements={...d2},this._handleOpenRelatedFeature=E=>{this._openRelatedFeature(E)},this._addSelectedFeatureIndexHandle(),this.addHandles([(0,rn.YP)(()=>this.viewModel?.screenLocation,()=>this._positionContainer()),(0,rn.YP)(()=>[this.viewModel?.active,this.dockEnabled],()=>this._toggleScreenLocationEnabled()),(0,rn.YP)(()=>this.viewModel?.screenLocation,(E,C)=>{!!E!=!!C&&this.reposition()}),(0,rn.YP)(()=>[this.viewModel?.view?.padding,this.viewModel?.view?.size,this.viewModel?.active,this.viewModel?.location,this.alignment],()=>this.reposition()),(0,rn.YP)(()=>this.spinnerEnabled,E=>this._spinnerEnabledChange(E)),(0,rn.YP)(()=>this.viewModel?.view?.size,(E,C)=>this._updateDockEnabledForViewSize(E,C)),(0,rn.YP)(()=>this.viewModel?.view,(E,C)=>this._viewChange(E,C)),(0,rn.YP)(()=>this.viewModel?.view?.ready,(E,C)=>this._viewReadyChange(E??!1,C??!1)),(0,rn.YP)(()=>[this.viewModel?.waitingForResult,this.viewModel?.location],()=>{this._hideSpinner(),this._displaySpinnerThrottled()}),(0,rn.YP)(()=>this.selectedFeatureWidget,()=>this._destroyFlowItemWidgets()),(0,rn.YP)(()=>[this.selectedFeatureWidget?.viewModel?.title,this.selectedFeatureWidget?.viewModel?.state],()=>this._setTitleFromFeatureWidget()),(0,rn.YP)(()=>[this.selectedFeatureWidget?.viewModel?.content,this.selectedFeatureWidget?.viewModel?.state],()=>this._setContentFromFeatureWidget()),(0,rn.gx)(()=>!this.collapsed,()=>{"xsmall"===this.viewModel?.view?.widthBreakpoint&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()}),(0,rn.on)(()=>this.viewModel?.allActions,"change",()=>this._watchActions()),(0,rn.YP)(()=>this.viewModel?.allActions,()=>this._watchActions(),rn.nn),(0,rn.YP)(()=>this.viewModel?.featureViewModels,()=>this._featureMenuViewportScrollTop()),(0,rn.on)(()=>this._flowItems,"change",()=>{this.notifyChange("_activeFlowItemWidget"),this.scheduleRender()}),(0,rn.YP)(()=>[this._activeFlowItemWidget?.viewModel?.state,this._activeFlowItemWidget?.viewModel?.title],()=>this.scheduleRender())])}loadDependencies(){return Promise.all([M.e(8178).then(M.bind(M,58178)),Promise.all([M.e(8954),M.e(8792),M.e(8346),M.e(8592),M.e(7719)]).then(M.bind(M,52405)),Promise.all([M.e(8954),M.e(8346),M.e(2226)]).then(M.bind(M,52573)),Promise.all([M.e(8792),M.e(1978)]).then(M.bind(M,26810)),M.e(8472).then(M.bind(M,8472))])}destroy(){this._destroyFlowItemWidgets(),this._destroySelectedFeatureWidget(),this._destroySpinner(),this._handles?.destroy(),this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver?.disconnect()}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){const{selectedFeatureWidget:g,viewModel:v}=this;if(!g)return!!v?.content;const E=g.viewModel;if(E?.waitingForContent||"error"===E?.state)return!0;const C=E?.content;return Array.isArray(C)?!!C.length:!!C}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&null!=this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}get _activeFlowItemWidget(){const{_flowItems:g}=this;return g.getItemAt(g.length-1)||null}get actions(){return this.viewModel.actions}set actions(g){this.viewModel.actions=g}set actionsMenuOpen(g){this._set("actionsMenuOpen",!!g)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get("actionsMenuOpen")}get autoCloseEnabled(){return this.viewModel.autoCloseEnabled}set autoCloseEnabled(g){this.viewModel.autoCloseEnabled=g}get autoOpenEnabled(){return this.viewModel.autoOpenEnabled}set autoOpenEnabled(g){this.viewModel.autoOpenEnabled=g}get defaultPopupTemplateEnabled(){return this.viewModel.defaultPopupTemplateEnabled}set defaultPopupTemplateEnabled(g){this.viewModel.defaultPopupTemplateEnabled=g}get content(){return this.viewModel.content}set content(g){this.viewModel.content=g}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get("dockOptions")||u2}set dockOptions(g){const v={...u2},E=this.viewModel?.view?.breakpoints,C={};E&&(C.width=E.xsmall,C.height=E.xsmall);const w={...v,...g},I={...v.breakpoint,...C},{breakpoint:A}=w;"object"==typeof A?w.breakpoint={...I,...A}:A&&(w.breakpoint=I),this._set("dockOptions",w),this._setCurrentDockPosition(),this.reposition()}get featureCount(){return this.viewModel.featureCount}get features(){return this.viewModel.features}set features(g){this.viewModel.features=g}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(g){this.viewModel.goToOverride=g}get highlightEnabled(){return this.viewModel.highlightEnabled}set highlightEnabled(g){this.viewModel.highlightEnabled=g}get location(){return this.viewModel.location}set location(g){this.viewModel.location=g}get label(){return this.messages?.widgetLabel??""}set label(g){this._overrideIfSome("label",g)}get promises(){return this.viewModel.promises}set promises(g){this.viewModel.promises=g}get selectedFeature(){return this.viewModel.selectedFeature}get selectedFeatureIndex(){return this.viewModel.selectedFeatureIndex}set selectedFeatureIndex(g){this.viewModel.selectedFeatureIndex=g}get selectedFeatureWidget(){const{_feature:g,visibleElements:v,headingLevel:E,_flowItems:C}=this,{selectedFeatureViewModel:w}=this.viewModel,I={...v,title:!1};return w?(g?(g.viewModel=w,g.visibleElements=I):this._feature=new OV({flowItems:C,headingLevel:E+1,viewModel:w,visibleElements:I}),this._feature):null}get title(){return this.viewModel.title}set title(g){this.viewModel.title=g}get updateLocationEnabled(){return this.viewModel.updateLocationEnabled}set updateLocationEnabled(g){this.viewModel.updateLocationEnabled=g}get view(){return this.viewModel.view}set view(g){this.viewModel.view=g}get visible(){return this.viewModel.visible}set visible(g){this.viewModel.visible=g}castVisibleElements(g){return{...d2,...g}}blur(){const{active:g}=this.viewModel;g||Vr.Z.getLogger(this.declaredClass).warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){return this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(g,v){return this.viewModel.fetchFeatures(g,v)}focus(){const{active:g}=this.viewModel;g||Vr.Z.getLogger(this.declaredClass).warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(g){this._handles.remove(a2);const C={collapsed:!!g&&!!g.collapsed,actionsMenuOpen:!!g&&!!g.actionsMenuOpen,featureMenuOpen:!!g&&!!g.featureMenuOpen};"xsmall"===this.viewModel?.view?.widthBreakpoint&&(C.collapsed=!0),this.set(C),this.viewModel.open(g),this._shouldFocus(g),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(g){return this.viewModel.triggerAction(g)}render(){const{actionsMenuOpen:g,dockEnabled:v,featureMenuVisible:E,dividedActions:C,currentAlignment:w,currentDockPosition:I}=this,{active:A}=this.viewModel,{menuActions:G}=C,Be=this.selectedFeature?.layer?.title,lt=this.selectedFeature?.layer?.id;return(0,Kt.u)("div",{class:this.classes(Mn.base,{[Mn.alignTopCenter]:"top-center"===w,[Mn.alignBottomCenter]:"bottom-center"===w,[Mn.alignTopLeft]:"top-left"===w,[Mn.alignBottomLeft]:"bottom-left"===w,[Mn.alignTopRight]:"top-right"===w,[Mn.alignBottomRight]:"bottom-right"===w,[Mn.isDocked]:A&&v,[Mn.shadow]:A&&!v,[Mn.isDockedTopLeft]:"top-left"===I,[Mn.isDockedTopCenter]:"top-center"===I,[Mn.isDockedTopRight]:"top-right"===I,[Mn.isDockedBottomLeft]:"bottom-left"===I,[Mn.isDockedBottomCenter]:"bottom-center"===I,[Mn.isDockedBottomRight]:"bottom-right"===I,[Mn.isFeatureMenuOpen]:E,[Mn.isActionsMenuOpen]:A&&G.length>1&&g}),role:"presentation","data-layer-title":Be,"data-layer-id":lt,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},A?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return(0,Kt.u)("span",{"aria-hidden":"true",class:this.classes(Mn.icon,Mn.iconLoading,Mn.rotating)})}renderNavigationLoading(){const{messagesCommon:g}=this;return this.viewModel.pendingPromisesCount?(0,Kt.u)("div",{key:el("loading-container"),role:"presentation",class:Mn.loadingContainer,"aria-label":g.loading,title:g.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const g=(0,ai.dZ)(this.container);return(0,Kt.u)("span",{"aria-hidden":"true",class:this.classes(Mn.icon,{[Mn.iconRightTriangleArrow]:g,[Mn.paginationPreviousIconRTL]:g,[Mn.iconLeftTriangleArrow]:!g,[Mn.paginationPreviousIconLTR]:!g})})}renderPreviousButton(){const{messages:g}=this;return(0,Kt.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(Mn.button,Mn.paginationPrevious),"aria-label":g.previous,title:g.previous},this.renderPreviousIcon())}renderNextIcon(){const g=(0,ai.dZ)(this.container);return(0,Kt.u)("span",{"aria-hidden":"true",class:this.classes(Mn.icon,{[Mn.iconLeftTriangleArrow]:g,[Mn.paginationNextIconRTL]:g,[Mn.iconRightTriangleArrow]:!g,[Mn.paginationNextIconLTR]:!g})})}renderNextButton(){const{messages:g}=this;return(0,Kt.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(Mn.button,Mn.paginationNext),"aria-label":g.next,title:g.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:g,featureMenuId:v,messagesCommon:E}=this,{featureCount:C,selectedFeatureIndex:w}=this.viewModel;return(0,Kt.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(Mn.button,Mn.featureMenuButton),"aria-haspopup":"true","aria-controls":v,"aria-expanded":g.toString(),"aria-label":E.menu,title:E.menu},this._getPageText(C,w))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:[]}renderDockIcon(){const{dockEnabled:g}=this,v=this._wouldDockTo();return(0,Kt.u)("span",{"aria-hidden":"true",class:this.classes({[Mn.iconUndock]:g,[Mn.iconDock]:!g,[Mn.iconDockToRight]:!g&&("top-right"===v||"bottom-right"===v),[Mn.iconDockToLeft]:!g&&("top-left"===v||"bottom-left"===v),[Mn.iconDockToTop]:!g&&"top-center"===v,[Mn.iconDockToBottom]:!g&&"bottom-center"===v},Mn.icon)})}renderDockButton(){const{dockEnabled:g,messages:v}=this,E=this.viewModel?.view?.widthBreakpoint,C=g?v.undock:v.dock;return"xsmall"!==E&&this.dockOptions?.buttonEnabled?(0,Kt.u)("div",{role:"button","aria-label":C,title:C,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(Mn.button,Mn.buttonDock)},this.renderDockIcon()):null}renderTitle(){const{title:g}=this.viewModel,{titleId:v,collapsible:E,contentCollapsed:C,messagesCommon:w}=this,I={[Mn.headerContainerButton]:E},A=(0,Kt.u)(Gv,{level:this.headingLevel,class:Mn.headerTitle,innerHTML:g??""}),G=E?(0,Kt.u)("button",{key:`${g}--collapsible`,id:v,title:C?w.expand:w.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(Mn.headerContainer,I),"aria-expanded":C?"false":"true",onclick:this._toggleCollapsed,type:"button"},A,(0,Kt.u)("calcite-icon",{class:Mn.collapseIcon,key:"collapse-icon",icon:C?"chevron-down":"chevron-up",scale:"m"})):(0,Kt.u)("div",{key:g??"title",id:v,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(Mn.headerContainer,I)},A);return g?G:null}renderCloseIcon(){return(0,Kt.u)("span",{"aria-hidden":"true",class:this.classes(Mn.icon,Mn.iconClose)})}renderCloseButton(){const{visibleElements:g,messagesCommon:v}=this;return g.closeButton?(0,Kt.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:Mn.button,"aria-label":v.close,title:v.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return(0,Kt.u)("header",{class:Mn.header},this.renderTitle(),(0,Kt.u)("div",{class:Mn.headerButtons},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:g,hasContent:v,contentCollapsed:E,_flowItems:C}=this,{content:w}=this.viewModel,I=C.toArray(),A={[Mn.contentHasFlows]:!!I.length};return v&&!E?(0,Kt.u)("div",{key:w??"content",enterAnimation:this._createFeatureUpdatedAnimation(),id:g,class:this.classes(Mn.content,A)},(0,Kt.u)("calcite-flow",{bind:this},(0,Kt.u)("calcite-flow-item",{bind:this,"data-node-ref":"_rootFlowItemNode",afterCreate:ai.Yo,key:"root-flow-item",onCalciteFlowItemBack:this._handleBackClick},this.renderContent()),I.map(G=>this.renderFlowItem(G))),I.map(G=>this.renderFlowItemTooltips(G))):null}renderFlowItem(g){const{messages:v}=this,E=G0(),C="graphic"in g&&!g.isTable;return(0,Kt.u)("calcite-flow-item",{bind:this,class:this.classes({[Mn.calciteThemeDark]:!E,[Mn.calciteThemeLight]:E}),heading:g.title??"",description:this._getFlowItemDescription(g),onCalciteFlowItemBack:this._handleBackClick,key:`flow-item-${g.viewModel.uid}`},(0,Kt.u)("calcite-action",{class:Mn.actionExit,icon:"move-up",label:v?.exitRelatedRecords,text:v?.exitRelatedRecords,slot:"header-actions-start",bind:this,afterCreate:w=>this._storeExitRelatedRecordsAction(g,w),onclick:this._destroyFlowItemWidgets}),C?(0,Kt.u)("calcite-action",{class:Mn.actionSelectFeature,icon:"zoom-to-object",label:v?.selectFeature,text:v?.selectFeature,slot:"header-actions-end",bind:this,afterCreate:w=>this._storeFeatureSelectionAction(g,w),onclick:()=>this._handleOpenRelatedFeature(g)}):null,(0,Kt.u)("div",{class:this.classes(Mn.contentFlowItem,{[Mn.calciteThemeDark]:E,[Mn.calciteThemeLight]:!E})},g.render()))}renderFlowItemTooltips(g){const{messages:v,_exitRelatedRecordsActions:E,_featureSelectionActions:C}=this,w=G0(),I=C.get(g);return[(0,Kt.u)("calcite-tooltip",{class:this.classes({[Mn.calciteThemeDark]:!w,[Mn.calciteThemeLight]:w}),key:`exit-related-records-tooltip-${g.viewModel.uid}`,label:v?.exitRelatedRecords,overlayPositioning:"fixed",referenceElement:E.get(g),placement:"top"},v?.exitRelatedRecords),I?(0,Kt.u)("calcite-tooltip",{class:this.classes({[Mn.calciteThemeDark]:!w,[Mn.calciteThemeLight]:w}),key:`select-related-record-tooltip-${g.viewModel.uid}`,label:v?.selectFeature,overlayPositioning:"fixed",referenceElement:I,placement:"top"},v?.selectFeature):null]}renderActionsMenuButton(){const{actionsMenuId:g,actionsMenuButtonId:v,actionsMenuOpen:E,dividedActions:C,messagesCommon:w}=this,I=E?w.close:w.open,{menuActions:A}=C;return A.length?(0,Kt.u)("div",{key:el("actions-menu-button"),class:this.classes(Mn.button,Mn.actionsMenuButton),role:"button",id:v,"aria-haspopup":"true","aria-controls":E?g:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":I,title:I},(0,Kt.u)("span",{"aria-hidden":"true",class:Mn.iconActionsMenu})):null}renderMenuActions(){const{actionsMenuId:g,actionsMenuButtonId:v,actionsMenuOpen:E,dividedActions:C}=this,{menuActions:w}=C;return w.length&&E?(0,Kt.u)("ul",{id:g,role:"menu","aria-labelledby":v,key:el("actions"),class:Mn.actions,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},w.toArray().map(I=>this.renderAction({action:I,type:"menu-item"}))):null}renderInlineActions(){const{inlineActions:g}=this.dividedActions;return g.length?g.toArray().map(v=>this.renderAction({action:v,type:"inline"})):[]}renderInlineActionsContainer(){const{inlineActions:g,menuActions:v}=this.dividedActions,E=!!g.length,C=!!v.length;return E||C?(0,Kt.u)("div",{key:"inline-actions-container","data-inline-actions":E.toString(),"data-menu-actions":C.toString(),class:Mn.inlineActionsContainer},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?(0,Kt.u)("section",{key:el("navigation"),class:this.classes(Mn.navigation)},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:g,dividedActions:v}=this,{inlineActions:E,menuActions:C}=v,w=!!E.length,A={[Mn.footerHasPagination]:g,[Mn.footerHasActions]:w,[Mn.footerHasActionsMenu]:!!C.length};return g||w?(0,Kt.u)("div",{key:el("feature-buttons"),class:this.classes(Mn.footer,A)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:g}=this,{featureViewModels:v,isLoadingFeature:E}=this.viewModel,C=(0,fa.n)(g.selectedFeatures,{total:v.length});return(0,Kt.u)("section",{key:el("menu"),class:Mn.featureMenu},(0,Kt.u)("strong",{class:Mn.featureMenuHeader},C),(0,Kt.u)("nav",{bind:this,class:Mn.featureMenuViewport,"data-node-ref":"_featureMenuViewportNode",afterCreate:ai.Yo},this.renderFeatureMenu(),(0,Kt.u)("div",{class:Mn.featureMenuObserver,bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),E?(0,Kt.u)("div",{class:Mn.featureMenuLoader},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:(0,Kt.u)("div",{key:el("pointer"),class:Mn.pointer,role:"presentation"},(0,Kt.u)("div",{class:this.classes(Mn.pointerDirection,Mn.shadow)}))}renderMainContainer(){const{dockEnabled:g,currentAlignment:v,currentDockPosition:E,titleId:C,contentId:w,collapsible:I,hasContent:A,contentCollapsed:G,visibleElements:pe}=this,{title:Ee}=this.viewModel,Ue="bottom-left"===v||"bottom-center"===v||"bottom-right"===v||"top-left"===E||"top-center"===E||"top-right"===E,Be="top-left"===v||"top-center"===v||"top-right"===v||"bottom-left"===E||"bottom-center"===E||"bottom-right"===E;return(0,Kt.u)("div",{class:this.classes(Mn.main,Mn.widget,{[Mn.shadow]:g,[Mn.isCollapsible]:I,[Mn.isCollapsed]:G}),tabIndex:pe.closeButton?void 0:-1,role:"dialog","aria-labelledby":Ee?C:"","aria-describedby":A&&!G?w:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},Ue?this.renderFooter():null,Ue?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),Be?this.renderFooter():null,Be?this.renderFeatureMenuContainer():null)}renderContent(){const g=this.viewModel?.content;return g?"string"==typeof g?(0,Kt.u)("div",{class:ws.contentNode,key:g,innerHTML:g}):this.renderNodeContent(g):null}renderActionText(g){return(0,Kt.u)("span",{key:"text",class:Mn.actionText},g)}renderActionIcon(g){const v=this._getActionClass(g),E=this._getActionImage(g),C={[Mn.iconLoading]:g.active,[Mn.rotating]:g.active,[Mn.icon]:!!v,[Mn.actionImage]:!g.active&&!!E};return v&&(C[v]=!g.active),(0,Kt.u)("span",{key:"icon","aria-hidden":"true",class:this.classes(Mn.icon,C),styles:this._getIconStyles(E)})}renderAction(g){const{action:v,type:E}=g,C=this._getActionTitle(v),w={[Mn.action]:"toggle"!==v.type,[Mn.actionToggle]:"toggle"===v.type,[Mn.actionToggleOn]:"toggle"===v.type&&v.value,[Mn.buttonDisabled]:v.disabled},I=[this.renderActionIcon(v),this.renderActionText(C)],A="menu-item"===E?(0,Kt.u)("li",{key:v.uid,role:"menuitem",tabIndex:0,title:C,"aria-label":C,class:this.classes(Mn.button,w),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":v.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},I):(0,Kt.u)("div",{key:v.uid,role:"button",tabIndex:0,title:C,"aria-label":C,class:this.classes(Mn.button,w),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":v.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},I);return v.visible?A:null}renderFeatureMenuItem(g,v){const{messages:E,messagesCommon:C}=this,{selectedFeatureIndex:w,selectedFeatureViewModel:I}=this.viewModel,A=g===I,G={[Mn.featureMenuSelected]:A},pe=A?(0,Kt.u)("span",{key:el(`feature-menu-selected-feature-${w}`),title:E.selectedFeature,"aria-label":E.selectedFeature,class:Mn.iconCheckMark}):null,Ee=(0,Kt.u)("span",{innerHTML:g.title||C.untitled});return(0,Kt.u)("li",{role:"menuitem",tabIndex:-1,key:el(`feature-menu-feature-${w}`),class:this.classes(G,Mn.featureMenuItem),bind:this,"data-feature-index":v,onblur:this._removeActiveFeature,onfocus:this._setActiveFeature,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature,onmouseover:this._setActiveFeature,onmouseleave:this._removeActiveFeature},(0,Kt.u)("span",{class:Mn.featureMenuTitle},Ee,pe))}renderFeatureMenu(){const{featureMenuId:g}=this,{featureViewModels:v}=this.viewModel;return v.length>1?(0,Kt.u)("ol",{class:Mn.featureMenuList,id:g,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},v.filter(E=>!!E.graphic).map((E,C)=>this.renderFeatureMenuItem(E,C))):null}_storeFeatureSelectionAction(g,v){this._featureSelectionActions.set(g,v),this.scheduleRender()}_storeExitRelatedRecordsAction(g,v){this._exitRelatedRecordsActions.set(g,v),this.scheduleRender()}_getFlowItemDescription(g){return"featureCountDescription"in g?g.featureCountDescription:g.viewModel.description??""}_openRelatedFeature(g){var v=this;return(0,Nn.Z)(function*(){yield g.viewModel.updateGeometry();const E=g.graphic,C=E?.geometry;if((0,kt.Wi)(C)||(0,kt.Wi)(E))return;v._destroyFlowItemWidgets(),yield v.viewModel.zoomTo({target:C});const w=QT(C);v.open({features:[E],location:(0,kt.pC)(w)?w:void 0})})()}_destroyFlowItemWidgets(){this._flowItems.removeAll().forEach(g=>{"showAllEnabled"in g.viewModel&&(g.viewModel.showAllEnabled=!1),g.viewModel=null,g.destroy()})}_handleBackClick(){const g=this._flowItems.pop();g&&(this._exitRelatedRecordsActions.delete(g),this._featureSelectionActions.delete(g),"showAllEnabled"in g.viewModel&&(g.viewModel.showAllEnabled=!1),g&&(g.viewModel=null,g.destroy()))}_getActionTitle(g){const{messages:v,selectedFeature:E,messagesCommon:C}=this,{id:w}=g,I=E?.attributes,A=g.title??"",G="zoom-to-feature"===w?(0,fa.n)(A,{messages:v}):"remove-selected-feature"===w?(0,fa.n)(A,{messages:C}):"zoom-to-clustered-features"===w||"browse-clustered-features"===w?(0,fa.n)(A,{messages:v}):g.title;return G&&I?(0,fa.n)(G,I):G??""}_getActionClass(g){const{selectedFeature:v}=this,E=v?.attributes,{className:C,image:w}=g,I=w||C?C:Mn.iconDefaultAction;return I&&E?(0,fa.n)(I,E):I??""}_getActionImage(g){const{selectedFeature:v}=this,E=v?.attributes,{image:C}=g;return C&&E?(0,fa.n)(C,E):C??""}_createFeatureUpdatedAnimation(){return(0,ai.vU)("enter",Mn.hasFeatureUpdated)}_getInlineActionCount(){const{maxInlineActions:g,featureNavigationVisible:v}=this;if("number"!=typeof g)return null;const E=Math.round(g);return Math.max(v?E-1:E,0)}_watchActions(){const{allActions:g}=this.viewModel;this.notifyChange("dividedActions");const v="actions";this._handles.remove(v),g&&g.forEach(E=>{this._handles.add((0,rn.YP)(()=>[E.uid,E.active,E.className,E.disabled,E.id,E.title,E.image,E.visible],()=>this.scheduleRender()),v)})}_divideActions(){const{allActions:g}=this.viewModel,v=g.filter(I=>I.visible),E=this._getInlineActionCount(),C=null===E,w=0===E;return{inlineActions:C?v.slice(0):w?new _s.Z:v.slice(0,E),menuActions:C?new _s.Z:v.slice(w?0:E)}}_featureMenuOpenChanged(g){g?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(g){g?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){const{selectedFeatureWidget:g,messagesCommon:v}=this;g&&(this.viewModel.title="error"===g.viewModel?.state?v.errorMessage:g.viewModel?.title||"")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:g}=this;g&&(this.viewModel.content=g)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(g){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(g),this._featureMenuIntersectionObserverNode=g}_handleFeatureMenuKeyup(g){"Escape"===(0,zc.kK)(g)&&(g.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(g){"Escape"===(0,zc.kK)(g)&&(g.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_setActiveFeature(g){const{viewModel:v}=this;v.activeFeature=v.features[g.currentTarget["data-feature-index"]]||null}_removeActiveFeature(){this.viewModel.activeFeature=null}_handleFeatureMenuItemKeyup(g){const v=(0,zc.kK)(g),{_featureMenuNode:E}=this,C=g.currentTarget["data-feature-index"];if(!E)return;const w=E.querySelectorAll("li"),I=w.length;"ArrowUp"!==v?"ArrowDown"!==v?"Home"!==v?"End"!==v||(g.stopPropagation(),w[w.length-1].focus()):(g.stopPropagation(),w[0].focus()):(g.stopPropagation(),w[(C+1+I)%I].focus()):(g.stopPropagation(),w[(C-1+I)%I].focus())}_handleActionMenuItemKeyup(g){const v=(0,zc.kK)(g),{_actionsMenuNode:E}=this,C=g.currentTarget.dataset.actionUid,{menuActions:w}=this.dividedActions,I=w.findIndex(pe=>pe.uid===C);if(!E)return;const A=E.querySelectorAll("li"),G=A.length;"ArrowUp"!==v?"ArrowDown"!==v?"Home"!==v?"End"!==v||(g.stopPropagation(),A[A.length-1].focus()):(g.stopPropagation(),A[0].focus()):(g.stopPropagation(),A[(I+1+G)%G].focus()):(g.stopPropagation(),A[(I-1+G)%G].focus())}_handleMainKeyup(g){const v=(0,zc.kK)(g);"ArrowLeft"===v&&(g.stopPropagation(),this.previous()),"ArrowRight"===v&&(g.stopPropagation(),this.next())}_spinnerEnabledChange(g){if(this._destroySpinner(),!g)return;const v=this.get("viewModel.view");this._createSpinner(v)}_hideSpinner(){const{_spinner:g}=this;g&&(g.location=null,g.hide())}_displaySpinner(){const{_spinner:g}=this;if(!g)return;const{location:v,waitingForResult:E}=this.viewModel;E&&v?g.show({location:v}):g.hide()}_getIconStyles(g){return{"background-image":g?`url(${g})`:""}}_shouldFocus(g){var v=this;return(0,Nn.Z)(function*(){g?.shouldFocus&&(yield(0,rn.N1)(()=>!0===v.viewModel?.active),v.focus())})()}_addSelectedFeatureIndexHandle(){const g=(0,rn.YP)(()=>this.viewModel?.selectedFeatureIndex,(v,E)=>this._selectedFeatureIndexUpdated(v,E));this._handles.add(g,a2)}_selectedFeatureIndexUpdated(g,v){const{featureCount:E}=this;E&&g!==v&&-1!==g&&(this._destroyFlowItemWidgets(),this.actionsMenuOpen=!1,this.featureMenuOpen=!1,this._mainContainerNode&&(this._mainContainerNode.scrollTop=0),this._rootFlowItemNode&&this._rootFlowItemNode.scrollContentTo({top:0}))}_destroySelectedFeatureWidget(){const{_feature:g}=this;g&&(g.viewModel=null,g&&!g.destroyed&&g.destroy()),this._feature=null}_isScreenLocationWithinView(g,v){return g.x>-1&&g.y>-1&&g.x<=v.width&&g.y<=v.height}_isOutsideView(g){const{popupHeight:v,popupWidth:E,screenLocation:C,side:w,view:I}=g;if(isNaN(E)||isNaN(v)||!I||!C)return!1;const A=I.padding;return"right"===w&&C.x+E/2>I.width-A.right||"left"===w&&C.x-E/2<A.left||"top"===w&&C.y-v<A.top||"bottom"===w&&C.y+v>I.height-A.bottom}_calculateAutoAlignment(g){if("auto"!==g)return g;const{_pointerOffsetInPx:v,_containerNode:E,_mainContainerNode:C,viewModel:w}=this,{screenLocation:I,view:A}=w;if((0,kt.Wi)(I)||!A||!E)return"top-center";if(!this._isScreenLocationWithinView(I,A))return this._get("currentAlignment")||"top-center";function G(an){return parseInt(an.replace(/[^-\d\.]/g,""),10)}const pe=C?window.getComputedStyle(C,null):null,Ee=pe?G(pe.getPropertyValue("max-height")):0,Ue=pe?G(pe.getPropertyValue("height")):0,{height:Be,width:lt}=E.getBoundingClientRect(),ht=lt+v,wt=Math.max(Be,Ee,Ue)+v,Gt=this._isOutsideView({popupHeight:wt,popupWidth:ht,screenLocation:I,side:"right",view:A}),qt=this._isOutsideView({popupHeight:wt,popupWidth:ht,screenLocation:I,side:"left",view:A}),mn=this._isOutsideView({popupHeight:wt,popupWidth:ht,screenLocation:I,side:"top",view:A}),Ln=this._isOutsideView({popupHeight:wt,popupWidth:ht,screenLocation:I,side:"bottom",view:A});return qt?mn?"bottom-right":"top-right":Gt?mn?"bottom-left":"top-left":mn?Ln?"top-center":"bottom-center":"top-center"}_callCurrentAlignment(g){return"function"==typeof g?g.call(this):g}_getCurrentAlignment(){const{alignment:g,dockEnabled:v}=this;return v||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(g)))}_setCurrentAlignment(){this._set("currentAlignment",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set("currentDockPosition",this._getCurrentDockPosition())}_calculatePositionResult(g){const v=["left","right"];return(0,ai.dZ)(this.container)&&v.reverse(),g.replace(/leading/gi,v[0]).replace(/trailing/gi,v[1])}_callDockPosition(g){return"function"==typeof g?g.call(this):g}_getDockPosition(){return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(this.dockOptions?.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(g){if("auto"!==g)return g;const v=this.viewModel?.view,E=(0,ai.dZ)(this.container)?"top-left":"top-right";if(!v)return E;const C=v.padding||{left:0,right:0,top:0,bottom:0},w=v.width-C.left-C.right,{breakpoints:I}=v;return I&&w<=I.xsmall?"bottom-center":E}_positionContainer(g=this._containerNode){if(g&&(this._containerNode=g),!this._containerNode)return;const{screenLocation:v}=this.viewModel,{width:E}=this._containerNode.getBoundingClientRect(),C=this._calculatePositionStyle(v,E);C&&Object.assign(this._containerNode.style,C)}_calculateFullWidth(g){const{currentAlignment:v,_pointerOffsetInPx:E}=this;return"top-left"===v||"bottom-left"===v||"top-right"===v||"bottom-right"===v?g+E:g}_calculateAlignmentPosition(g,v,E,C){const{currentAlignment:w,_pointerOffsetInPx:I}=this;if(!E)return;const{padding:A}=E,G=C/2,pe=E.height-v,Ee=E.width-g;return"bottom-center"===w?{top:v+I-A.top,left:g-G-A.left}:"top-left"===w?{bottom:pe+I-A.bottom,right:Ee+I-A.right}:"bottom-left"===w?{top:v+I-A.top,right:Ee+I-A.right}:"top-right"===w?{bottom:pe+I-A.bottom,left:g+I-A.left}:"bottom-right"===w?{top:v+I-A.top,left:g+I-A.left}:"top-center"===w?{bottom:pe+I-A.bottom,left:g-G-A.left}:void 0}_calculatePositionStyle(g,v){const{dockEnabled:E,view:C}=this;if(!C)return;if(E)return{left:"",top:"",right:"",bottom:""};if((0,kt.Wi)(g)||!v)return;const w=this._calculateFullWidth(v),I=this._calculateAlignmentPosition(g.x,g.y,C,w);return I?{top:void 0!==I.top?`${I.top}px`:"auto",left:void 0!==I.left?`${I.left}px`:"auto",bottom:void 0!==I.bottom?`${I.bottom}px`:"auto",right:void 0!==I.right?`${I.right}px`:"auto"}:void 0}_viewChange(g,v){g&&v&&(this.close(),this.clear())}_viewReadyChange(g,v){if(g){const E=this.get("viewModel.view");this._wireUpView(E)}else v&&(this.close(),this.clear())}_wireUpView(g){if(this._destroySpinner(),!g)return;const{spinnerEnabled:v}=this;v&&this._createSpinner(g),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(g,v,E){const[C,w]=g,[I,A]=v,{width:G=0,height:pe=0}=E??{};return C<=G&&I>G||C>G&&I<=G||w<=pe&&A>pe||w>pe&&A<=pe}_updateDockEnabledForViewSize(g,v){if(!g||!v)return;const E=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},C=E.left+E.right,w=E.top+E.bottom,I=[],A=[];I[0]=g[0]-C,I[1]=g[1]-w,A[0]=v[0]-C,A[1]=v[1]-w;const{dockOptions:G}=this;this._dockingThresholdCrossed(I,A,G.breakpoint)&&this._setDockEnabledForViewSize(G),this._setCurrentDockPosition()}_focusDockButtonNode(g){this._focusDockButton&&(this._focusDockButton=!1,g.focus())}_closeButtonNodeUpdated(g){return this._focusClose?(this._focusClose=!1,void g.focus()):this._blurClose?(this._blurClose=!1,void g.blur()):void 0}_mainContainerNodeUpdated(g){return this._mainContainerNode=g,this._focusContainer?(this._focusContainer=!1,void g.focus()):this._blurContainer?(this._blurContainer=!1,void g.blur()):void 0}_featureMenuNodeUpdated(g){if(this._featureMenuNode=g,!g||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const v=g.querySelectorAll("li");v.length&&v[0].focus()}_actionsMenuNodeUpdated(g){if(this._actionsMenuNode=g,!g||!this._focusFirstAction)return;this._focusFirstAction=!1;const v=g.querySelectorAll("li");v.length&&v[0].focus()}_focusFeatureMenuButtonNode(g){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,g.focus())}_focusActionsMenuButtonNode(g){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,g.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:g,viewModel:v}=this;v&&(v.screenLocationEnabled=v.active&&!g)}_shouldDockAtCurrentViewSize(g){const v=g.breakpoint,E=this.viewModel?.view?.ui;if(!E)return!1;const{width:C,height:w}=E;if(isNaN(C)||isNaN(w)||!v)return!1;const I=v.hasOwnProperty("width")&&C<=(v.width??0),A=v.hasOwnProperty("height")&&w<=(v.height??0);return I||A}_setDockEnabledForViewSize(g){g.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(g))}_getPageText(g,v){return this.featureNavigationVisible?(0,fa.n)(this.messages.pageText,{index:v+1,total:g}):null}_destroySpinner(){const{_spinner:g,view:v}=this;g&&(v&&v.ui&&v.ui.remove(g,l2),g.destroy(),this._spinner=null)}_createSpinner(g){g&&(this._spinner=new IV({view:g}),g.ui.add(this._spinner,{key:l2,position:"manual"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const g=!this.featureMenuOpen;this._featureMenuOpenChanged(g),this.actionsMenuOpen=!1,this.featureMenuOpen=g}_toggleActionsMenu(){const g=!this.actionsMenuOpen;this._actionsMenuOpenChanged(g),this.featureMenuOpen=!1,this.actionsMenuOpen=g}_triggerAction(g){const v=g.currentTarget.dataset.actionUid,{allActions:E}=this.viewModel,C=E.findIndex(I=>I.uid===v),w=E.getItemAt(C);w&&"toggle"===w.type&&(w.value=!w.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(C)}_selectFeature(g){const v=g.currentTarget["data-feature-index"];isNaN(v)||(this.viewModel.selectedFeatureIndex=v),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tr.prototype,"actionsMenuId",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tr.prototype,"actionsMenuButtonId",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tr.prototype,"featureMenuId",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tr.prototype,"titleId",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tr.prototype,"contentId",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tr.prototype,"hasContent",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tr.prototype,"featureNavigationVisible",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tr.prototype,"collapsible",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tr.prototype,"featureMenuVisible",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tr.prototype,"contentCollapsed",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tr.prototype,"dividedActions",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0,dependsOn:["_flowItems.length"]})],tr.prototype,"_activeFlowItemWidget",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"actions",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"actionsMenuOpen",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"alignment",void 0),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"autoCloseEnabled",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"autoOpenEnabled",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"defaultPopupTemplateEnabled",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"content",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"collapsed",void 0),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"collapseEnabled",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tr.prototype,"currentAlignment",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tr.prototype,"currentDockPosition",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"dockOptions",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"dockEnabled",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tr.prototype,"featureCount",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"featureMenuOpen",void 0),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"features",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"goToOverride",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"headingLevel",void 0),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"highlightEnabled",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"location",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"label",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"maxInlineActions",void 0),(0,Ae._)([(0,Fe.Cb)(),(0,Oi.H)("esri/widgets/Popup/t9n/Popup")],tr.prototype,"messages",void 0),(0,Ae._)([(0,Fe.Cb)(),(0,Oi.H)("esri/t9n/common")],tr.prototype,"messagesCommon",void 0),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"promises",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tr.prototype,"selectedFeature",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"selectedFeatureIndex",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tr.prototype,"selectedFeatureWidget",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"spinnerEnabled",void 0),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"title",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"updateLocationEnabled",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"view",null),(0,Ae._)([(0,Fe.Cb)({type:o2}),function XV(g){return v=>{v.hasOwnProperty("_delegatedEventNames")||(v._delegatedEventNames=v._delegatedEventNames?v._delegatedEventNames.slice():[]);const E=v._delegatedEventNames,C=Array.isArray(g)?g:function qV(g){return g.split(",").map(v=>v.trim())}(g);E.push(...C)}}(["triggerAction","trigger-action"])],tr.prototype,"viewModel",void 0),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"visible",null),(0,Ae._)([(0,Fe.Cb)()],tr.prototype,"visibleElements",void 0),(0,Ae._)([(0,Qi.p)("visibleElements")],tr.prototype,"castVisibleElements",null),(0,Ae._)([(0,Io.h)()],tr.prototype,"_close",null),(0,Ae._)([(0,Io.h)()],tr.prototype,"_toggleDockEnabled",null),(0,Ae._)([(0,Io.h)()],tr.prototype,"_toggleFeatureMenu",null),(0,Ae._)([(0,Io.h)()],tr.prototype,"_toggleActionsMenu",null),(0,Ae._)([(0,Io.h)()],tr.prototype,"_triggerAction",null),(0,Ae._)([(0,Io.h)()],tr.prototype,"_selectFeature",null),(0,Ae._)([(0,Io.h)()],tr.prototype,"_next",null),(0,Ae._)([(0,Io.h)()],tr.prototype,"_previous",null),tr=(0,Ae._)([(0,Pn.j)("esri.widgets.Popup")],tr);const h2=tr,FE=[0,0];function p2(g){g&&((0,Il.cS)(g),g.parentNode&&g.parentNode.removeChild(g))}const i$=g=>{let v=class extends g{constructor(...E){super(...E),this._freqInfo={freq:16,time:750},this._overlayRenderTaskHandle=null,this.height=0,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,0!==E.length&&void 0!==E[0]?.popup||(this.popup=new h2({view:this})),this.handles.add([(0,rn.YP)(()=>this.cursor,C=>{const{surface:w}=this;w&&w.setAttribute("data-cursor",C)}),(0,rn.YP)(()=>this.interacting,C=>{const{surface:w}=this;w&&w.setAttribute("data-interacting",C.toString())})])}initialize(){this.handles.add((0,rn.YP)(()=>this.ui,(E,C)=>this._handleUIChange(E,C))),this._wireUI(this.ui),this.handles.add([this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui=(0,kt.SC)(this.ui),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(E){const C=this._get("container"),w=(0,Il.L7)(E);if(w||"string"!=typeof E||Vr.Z.getLogger(this.declaredClass).error("#container",`element with id '${E}' not found`),C===w)return;const I="dom-size";if(this.handles.remove(I),this._stopMeasuring(),C&&(C.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(p2(this.root),this._set("root",null)),this.userContent&&((0,Il.YD)(this.userContent,C),p2(this.userContent),this._set("userContent",null))),!w)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);w.classList.add("esri-view");const A=document.createElement("div");A.className="esri-view-user-storage",(0,Il.YD)(w,A),w.appendChild(A),this._set("userContent",A);const G=document.createElement("div");G.className="esri-view-root",w.insertBefore(G,w.firstChild),this._set("root",G);const pe=document.createElement("div");pe.className="esri-view-surface",pe.setAttribute("role","application"),pe.tabIndex=0,G.appendChild(pe),this._set("surface",pe);const Ee=new kP;G.appendChild(Ee.surface),this._set("overlay",Ee),(0,rn.YP)(()=>Ee.needsRender,Ue=>{this._overlayRenderTaskHandle=Ue&&!this._overlayRenderTaskHandle?(0,_u.A)({render:()=>this.overlay?.render()}):(0,kt.hw)(this._overlayRenderTaskHandle)}),this.forceDOMReadyCycle(),this.handles.add((0,rn.YP)(()=>this.size,Ue=>{const[Be,lt]=Ue,ht="esri-view-surface--inset-outline";Be>=document.body.clientWidth||lt>=document.body.clientHeight?pe.classList.add(ht):pe.classList.remove(ht)},rn.nn),I),this._set("container",w),this._startMeasuring()}get focused(){const E=document.activeElement===this.surface;return document.hasFocus()&&E}set popup(E){const C=this._get("popup");C&&C!==E&&C.destroy(),this._set("popup",E)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(E,C,w){const I=this.position;return E-=I?I[0]:0,C-=I?I[1]:0,w?(w[0]=E,w[1]=C):w=[E,C],w}containerToPage(E,C,w){const I=this.position;return E+=I?I[0]:0,C+=I?I[1]:0,w?(w[0]=E,w[1]=C):w=[E,C],w}_handleUIChange(E,C){C&&(this.handles.remove("ui"),C.destroy()),E&&this._wireUI(E),this._set("ui",E)}_wireUI(E){this.handles.remove("ui"),E&&(E.view=this,this.handles.add([(0,rn.YP)(()=>this.root,C=>{E.container=C?function n$(g){const v=document.createElement("div");return g.appendChild(v),v}(C):null},rn.nn),(0,rn.YP)(()=>this.popup,(C,w)=>{const I="popup";w&&E.remove(w,I),C&&(C.view=E.view,E.add(C,{key:I,position:"manual"}))},rn.nn)],"ui"))}_stopMeasuring(){this.handles.remove("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const E=this._freqInfo;E.freq=16,E.time=750,this.handles.add([(()=>{const C=()=>{E.freq=16,E.time=750};return window.addEventListener("resize",C),{remove(){window.removeEventListener("resize",C)}}})(),(0,_u.A)({prepare:C=>{const w=this._measure(),I=this._freqInfo;if(I.time+=C.deltaTime,w&&(I.freq=16,this._get("resizing")||this._set("resizing",!0)),I.time<I.freq)return;I.time=0;const A=this._position();I.freq=A||w?16:Math.min(750,2*I.freq),!w&&I.freq>=512&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const E=this.container,C=E?E.clientWidth:0,w=E?E.clientHeight:0;if(0===C||0===w)return this.suspended||this._set("suspended",!0),!1;const I=this.width,A=this.height;return C===I&&w===A?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",C),this._set("height",w),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:I,oldHeight:A,width:C,height:w}),!0)}_position(){const E=this.container,C=this.position,w=E&&function t$(g){const v=(g.ownerDocument||window.document).defaultView,E=g.getBoundingClientRect();return FE[0]=E.left+(v?.pageXOffset??0),FE[1]=E.top+(v?.pageYOffset??0),FE}(E);return!(!w||C&&w[0]===C[0]&&w[1]===C[1]||(this._set("position",[w[0],w[1]]),0))}forceDOMReadyCycle(){}};return(0,Ae._)([(0,Fe.Cb)()],v.prototype,"container",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],v.prototype,"focused",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],v.prototype,"height",void 0),(0,Ae._)([(0,Fe.Cb)({type:h2})],v.prototype,"popup",null),(0,Ae._)([(0,Fe.Cb)({type:kP})],v.prototype,"overlay",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],v.prototype,"position",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],v.prototype,"resizing",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],v.prototype,"root",void 0),(0,Ae._)([(0,Fe.Cb)({value:null,readOnly:!0})],v.prototype,"size",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],v.prototype,"surface",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],v.prototype,"suspended",void 0),(0,Ae._)([(0,Fe.Cb)()],v.prototype,"ui",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],v.prototype,"userContent",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],v.prototype,"width",void 0),(0,Ae._)([(0,Fe.Cb)()],v.prototype,"widthBreakpoint",void 0),v=(0,Ae._)([(0,Pn.j)("esri.views.DOMContainer")],v),v},o$=g=>{let v=class extends g{fetchPopupFeatures(E,C){var w=this;return(0,Nn.Z)(function*(){yield w.when();const{location:I,queryArea:A,layerViewsAndGraphics:G,clientOnlyGraphics:pe}=yield w._prepareFetchPopupFeatures(E,C),Ee=Promise.resolve(pe),Ue=w._queryLayerPopupFeatures(A,G,C),Be=Ue.map(lt=>lt.promise);return{location:I,clientOnlyGraphics:pe,allGraphicsPromise:(0,Lr.WW)([Ee,...Be]).then(lt=>Array.from(new Set(lt.flat()))),promisesPerLayerView:Ue}})()}_queryLayerPopupFeatures(E,C,w){return C.map(({layerView:I,graphics:A})=>{const G={clientGraphics:A,event:(0,kt.pC)(w)?w.event:void 0,signal:(0,kt.pC)(w)?w.signal:void 0,defaultPopupTemplateEnabled:!!(0,kt.pC)(w)&&!!w.defaultPopupTemplateEnabled},pe=I.fetchPopupFeatures(E,G);return{layerView:I,promise:pe}})}_isValidPopupGraphic(E,C){return E&&!!E.getEffectivePopupTemplate((0,kt.pC)(C)&&C.defaultPopupTemplateEnabled)}_prepareFetchPopupFeatures(E,C){var w=this;return(0,Nn.Z)(function*(){const{clientGraphics:I,queryArea:A,location:G}=yield w._popupHitTestGraphics(E,C),pe=w._getFetchPopupLayerViews(),{layerViewsAndGraphics:Ee,clientOnlyGraphics:Ue}=w._graphicsPerFetchPopupLayerView(I,pe);return{clientOnlyGraphics:Ue,layerViewsAndGraphics:Ee,queryArea:A,location:G}})()}_popupHitTestGraphics(E,C){var w=this;return(0,Nn.Z)(function*(){const I=yield w.popupHitTest(E),G=I.mapPoint,pe=I.results.filter(Ue=>"graphic"===Ue.type&&w._isValidPopupGraphic(Ue.graphic,C)),Ee=pe.length?pe[0].mapPoint:null;return{clientGraphics:pe.map(Ue=>Ue.graphic),queryArea:G,location:G||Ee}})()}_getFetchPopupLayerViews(){const E=[];return this.allLayerViews.forEach(C=>{this._isValidPopupLayerView(C)&&E.push(C)}),(0,kt.pC)(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&E.push(this.graphicsView),E.reverse()}_isValidPopupLayerView(E){return(0,kt.pC)(E)&&(!("layer"in E)||!E.suspended)&&"fetchPopupFeatures"in E}_graphicsPerFetchPopupLayerView(E,C){const w=[],I=new Map,A=C.map(G=>{const pe=[];return I.set("layer"in G?G.layer:G.graphics,pe),{layerView:G,graphics:pe}});for(const G of E){const pe=I.get(G.layer)||I.get(G.sourceLayer)||null;pe?pe.push(G):w.push(G)}return{layerViewsAndGraphics:A,clientOnlyGraphics:w}}};return v=(0,Ae._)([(0,Pn.j)("esri.views.PopupView")],v),v};let ma=class extends((0,ZP.Q)((0,$P.K)(Zh.Z.EventedMixin(Hr.Z)))){constructor(g){super(g),this.allLayers=new Zc.Z({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:v=>"layers"in v?v.layers:null}),this.allTables=(0,BP.a)(this),this.basemap=null,this.editableLayers=new Zc.Z({getCollections:()=>[this.allLayers],itemFilterFunction:MP}),this.ground=new $c,this._basemapCache={}}destroy(){this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.ground?.destroy(),this.basemap?.destroy(),IP(this._basemapCache),this._basemapCache=null}castBasemap(g){return Dv(g,this._basemapCache)}castGround(g){const v=VP(g);return(0,kt.Wi)(v)?this._get("ground"):v}findLayerById(g){return this.allLayers.find(v=>v.id===g)}findTableById(g){return this.allTables.find(v=>v.id===g)}};(0,Ae._)([(0,Fe.Cb)({readOnly:!0,dependsOn:[]})],ma.prototype,"allLayers",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ma.prototype,"allTables",void 0),(0,Ae._)([(0,Fe.Cb)({type:A0.default})],ma.prototype,"basemap",void 0),(0,Ae._)([(0,Qi.p)("basemap")],ma.prototype,"castBasemap",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ma.prototype,"editableLayers",void 0),(0,Ae._)([(0,Fe.Cb)({type:$c,nonNullable:!0})],ma.prototype,"ground",void 0),(0,Ae._)([(0,Qi.p)("ground")],ma.prototype,"castGround",null),ma=(0,Ae._)([(0,Pn.j)("esri.Map")],ma);const f2=ma;var sd=M(97478),NE=M(59213),m2=M(54024),BE=M(60330),WE=M(28705),VE=M(79334),id=M(65234);let em=class extends WE.a{constructor(g){super(g),this.handles.add(this.on("before-add",v=>{(0,kt.Wi)(v.item)||v.item.parent===this.owner&&(Vr.Z.getLogger(this.declaredClass).warn("Analysis inside the collection must be unique. Not adding this element again."),v.preventDefault())}))}_own(g){g.parent=this.owner}_release(g){g.parent=null}};em=(0,Ae._)([(0,Pn.j)("esri.support.AnalysesCollection")],em);var y2=M(51815),g2=M(41039);let Ll=class extends Hr.Z{constructor(g){super(g),this.view=null,this.baseLayerViews=new _s.Z,this.referenceLayerViews=new _s.Z,this._loadingHandle=(0,rn.YP)(()=>this.view?.map?.basemap,v=>{v&&v.load().catch(()=>{})},rn.nn)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){if(this.view&&this.view.suspended)return!1;const g=this.view?.map?.basemap;return!!g&&!!g.loaded&&(this.baseLayerViews.some(v=>v.updating)||this.referenceLayerViews.some(v=>v.updating))}};(0,Ae._)([(0,Fe.Cb)({constructOnly:!0})],Ll.prototype,"view",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Ll.prototype,"baseLayerViews",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Ll.prototype,"referenceLayerViews",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Ll.prototype,"suspended",null),(0,Ae._)([(0,Fe.Cb)({type:Boolean,readOnly:!0})],Ll.prototype,"updating",null),Ll=(0,Ae._)([(0,Pn.j)("esri.views.BasemapView")],Ll);class l${constructor(v,E,C){this.layer=v,this.view=E,this.layerViewImporter=C,this._controller=new AbortController,this._deferred=(0,Lr.dD)(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,(0,Lr.fu)(this._controller.signal,()=>{const w=new Jn.Z("cancelled:layerview-create","layerview creation cancelled",{layer:v});this._deferred.reject(w)})}tryRecycle(v){if(!this.done||!this.layerView||!function a$(g){return"tryRecycleWith"in g}(this.layerView))return null;const E=this.layer.type,C=this._controller.signal;for(let w=0;w<v.length;w++){const I=v[w];if(I.type!==E)continue;const A=this.layerView.tryRecycleWith(I,{signal:C});if(A){v.splice(w,1),this.layer=I;const G=this.layerView,pe=G.view;return this.promise=Promise.race([A.then(()=>((0,Lr.k_)(this._controller.signal),I.emit("layerview-destroy",{view:pe,layerView:G}),pe.emit("layerview-destroy",{view:pe,layerView:G}),I.emit("layerview-create",{view:pe,layerView:G}),pe.emit("layerview-create",{view:pe,layerView:G}),G)),new Promise((Ee,Ue)=>(0,Lr.fu)(this._controller.signal,()=>Ue((0,Lr.zE)())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:v}=this;if(!v)return;const{layer:E,view:C}=this;E.emit("layerview-destroy",{view:C,layerView:v}),C.emit("layerview-destroy",{layer:E,layerView:v}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}start(){var v=this;return(0,Nn.Z)(function*(){if(v._started)return;v._started=!0;const{_controller:{signal:E},layer:C,view:w}=v;v._map=w.map;try{let I,A;if(yield C.load({signal:E}),"prefetchResources"in C&&(yield C.prefetchResources?.({signal:E})),function c$(g){return"createLayerView"in g&&null!=g.createLayerView}(C))I=yield C.createLayerView(w,{signal:E});else{if(!v.layerViewImporter.hasLayerViewModule(C))throw new Jn.Z("layer:view-not-supported","No layerview implementation was found");const Ee=yield v.layerViewImporter.importLayerView(C);(0,Lr.k_)(E),I="default"in Ee?new Ee.default({layer:C,view:w}):new Ee({layer:C,view:w})}const G=()=>{A=(0,kt.hw)(A),I.destroyed||I.destroy(),I.layer=null,I.parent=null,I.view=null,v.done=!0};A=(0,Lr.fu)(E,G),(0,Lr.k_)(E);try{yield I.when()}catch(Ee){throw G(),Ee}if(!v._map?.allLayers?.includes(C))return G(),void v._deferred.reject(new Jn.Z("view:no-layerview-for-layer","The layer has been removed from the map",{layer:C}));v.layerView=I,C.emit("layerview-create",{view:w,layerView:I}),w.emit("layerview-create",{layer:C,layerView:I}),v.done=!0,v._deferred.resolve(I)}catch(I){C.emit("layerview-create-error",{view:w,error:I}),w.emit("layerview-create-error",{layer:C,error:I}),v.done=!0,v._deferred.reject(new Jn.Z("layerview:create-error","layerview creation failed",{layer:C,error:I}))}})()}}let Po=class extends Hr.Z{constructor(g){super(g),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new zP.t,this.supportsGround=!0,this._preloadLayerViewModules=()=>{const v=this.view.map?.allLayers;if(v)for(const E of v)this.layerViewImporter.hasLayerViewModule(E)&&this.layerViewImporter.importLayerView(E)},this._reschedule=()=>((0,kt.Wi)(this._workPromise)&&(this._workPromise=(0,Lr.dD)(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles((0,_u.Os)(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{const v=this.view.map;if(this._map!==v&&(this.clear(),this._map=v),(0,kt.Wi)(this._workPromise))return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const E=new Set,C=[],w=this.view.ready,I=G=>{if(!(0,kt.Wi)(G))for(const pe of G)if(pe){E.add(pe);const Ee=this._layerLayerViewInfoMap.get(pe);Ee&&w?Ee.start():Ee||this._recyclingInfoMap.has(pe)||C.push(pe),"layers"in pe&&pe.layers&&I(pe.layers)}};for(const G of this._rootCollectionNames)I(this.get(G));for(const[G,pe]of this._layerLayerViewInfoMap)if(!E.has(G)){this._layerLayerViewInfoMap.delete(pe.layer);const Ee=pe.tryRecycle(C);Ee?(this._recyclingInfoMap.set(pe.layer,pe),Ee.then(()=>{this._recyclingInfoMap.delete(pe.layer),this._layerLayerViewInfoMap.set(pe.layer,pe),this._reschedule()}).catch(()=>{this._recyclingInfoMap.delete(pe.layer),pe.destroy(),this._reschedule()})):pe.destroy()}for(const[G,pe]of this._recyclingInfoMap)E.has(G)||(this._recyclingInfoMap.delete(pe.layer),pe.destroy());for(const G of C)this._createLayerView(G);this._refreshCollections();const A=[v?.ground?.layers,v?.basemap?.baseLayers,v?.basemap?.referenceLayers,v?.layers].filter(G=>!!G);E.forEach(G=>"layers"in G&&A.push(G.layers)),this.addHandles(A.map(G=>this._watchUpdatingTracking.addOnCollectionChange(()=>G,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.own([(0,rn.on)(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),(0,rn.YP)(()=>{const g=this.view,v=g?.map;return[v?.basemap,v?.ground,v?.layers,g?.ready]},()=>this._reschedule(),rn.tX)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null,(0,kt.pC)(this._workPromise)&&(this._workPromise.reject((0,Lr.zE)()),this._workPromise=null)}get _layersToLayerViews(){const g=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&g.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(g)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return(0,kt.pC)(this._workPromise)||this._watchUpdatingTracking.updating||(0,Jh.oE)(this._layerLayerViewInfoMap,g=>!g.done)}get updatingRemaining(){let g=0;for(const v of this._layerLayerViewInfoMap.values())v.done||++g;return g}clear(){if(!this.destroyed){for(const g of this._layerLayerViewInfoMap.values())g.destroy();this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}whenLayerView(g){var v=this;return(0,Nn.Z)(function*(){if(yield v._reschedule(),!v._layerLayerViewInfoMap.has(g)){if(v._recyclingInfoMap.has(g))return v._recyclingInfoMap.get(g).promise;throw new Jn.Z("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:g})}return v._layerLayerViewInfoMap.get(g).promise})()}_refreshCollections(){for(const[g,v]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(g),this.get(v),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(g,v,E){if(!g||!v)return void(v&&v.removeAll());let C=0;for(const w of g){const I=this._layerLayerViewInfoMap.get(w);if(!I||!I.layerView)continue;const A=I.layerView;A.layer=w,A.parent=E,v.getItemAt(C)!==A&&v.splice(C,0,A),w.layers&&this._populateLayerViewsOwners(w.layers,A.layerViews,A),C+=1}C<v.length&&v.splice(C,v.length)}_createLayerView(g){g.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(g)&&this.layerViewImporter.importLayerView(g);const v=new l$(g,this.view,this.layerViewImporter);v.promise.then(()=>this._refreshCollections(),E=>{E&&((0,Lr.D_)(E)||"cancelled:layerview-create"===E.name)||Vr.Z.getLogger(this.declaredClass).error(`Failed to create layerview for layer title:'${g.title??"no title"}', id:'${g.id??"no id"}' of type '${g.type}'.`,{layer:g,error:E}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(g,v),this.view.ready&&v.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};(0,Ae._)([(0,Fe.Cb)()],Po.prototype,"_workPromise",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Po.prototype,"_watchUpdatingTracking",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Po.prototype,"_layersToLayerViews",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Po.prototype,"_rootCollectionNames",null),(0,Ae._)([(0,Fe.Cb)()],Po.prototype,"layerViewImporter",void 0),(0,Ae._)([(0,Fe.Cb)()],Po.prototype,"supportsGround",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Po.prototype,"updating",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Po.prototype,"updatingRemaining",null),(0,Ae._)([(0,Fe.Cb)({constructOnly:!0})],Po.prototype,"view",void 0),Po=(0,Ae._)([(0,Pn.j)("esri.views.LayerViewManager")],Po);const u$=Po;let _o=class extends Hr.Z{constructor(g){super(g),this.factor=1.5,this.offset=(0,Ui.vW)(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};(0,Ae._)([(0,Fe.Cb)({type:Number})],_o.prototype,"factor",void 0),(0,Ae._)([(0,Fe.Cb)({nonNullable:!0})],_o.prototype,"offset",void 0),(0,Ae._)([(0,Fe.Cb)()],_o.prototype,"position",void 0),(0,Ae._)([(0,Fe.Cb)({type:Number,range:{min:0}})],_o.prototype,"size",void 0),(0,Ae._)([(0,Fe.Cb)()],_o.prototype,"maskUrl",void 0),(0,Ae._)([(0,Fe.Cb)()],_o.prototype,"maskEnabled",void 0),(0,Ae._)([(0,Fe.Cb)()],_o.prototype,"overlayUrl",void 0),(0,Ae._)([(0,Fe.Cb)()],_o.prototype,"overlayEnabled",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],_o.prototype,"version",null),(0,Ae._)([(0,Fe.Cb)({type:Boolean})],_o.prototype,"visible",void 0),_o=(0,Ae._)([(0,Pn.j)("esri.views.Magnifier")],_o);const _2=_o;var v2=M(73138);let op=class extends Hr.Z{constructor(g,v){super({}),this._stage=g,this._textureRequests=new Map,this._frameTask=v?.registerTask(v2.T8.TEXTURE_UNLOAD)??v2.sq}normalizeCtorArgs(){return{}}destroy(){super.destroy(),this._frameTask.remove(),this._textureRequests.forEach(g=>this._releaseTextureRequest(g)),this._textureRequests.clear()}get updating(){return this._frameTask.updating}fromData(g,v,E){const C=this.makeUid(g);let w=this._textureRequests.get(C);if(!w){const I=v();w={referenceCount:0,texture:I,textureAsync:null,abortController:null,onRemove:E},this._stage&&(this._stage.add(I),this._stage.loadImmediate(I)),this._textureRequests.set(C,w)}return w.referenceCount++,{uid:C,texture:w.texture,release:()=>this._release(C)}}_release(g){const v=this._textureRequests.get(g);v?(v.referenceCount<1&&console.warn("TextureCollection: reference count is < 1 for "+g),v.referenceCount--,v.referenceCount<1&&this._frameTask.schedule(()=>this._releaseNow(g))):console.warn(`TextureCollection: texture doesn't exist: '${g}'`)}get test(){return{textureRequests:this._textureRequests}}_releaseNow(g){if(!this._textureRequests)return;const v=this._textureRequests.get(g);!v||v.referenceCount>0||(this._releaseTextureRequest(v),this._textureRequests.delete(g))}_releaseTextureRequest(g){g.onRemove&&g.onRemove(),g.texture?this._stage?.remove(g.texture):g.abortController&&(g.abortController.abort(),g.abortController=null)}makeUid(g,v=null){return(0,kt.pC)(v)?`${g}.${v}px`:g}};(0,Ae._)([(0,Fe.Cb)()],op.prototype,"_frameTask",void 0),(0,Ae._)([(0,Fe.Cb)()],op.prototype,"updating",null),op=(0,Ae._)([(0,Pn.j)("esri.views.3d.support.TextureCollection")],op);var E2,g,gi=M(35216);(g=E2||(E2={}))[g.Left=0]="Left",g[g.Middle=1]="Middle",g[g.Right=2]="Right";const b2=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],C2={};function M2(g){return!!C2[g]}b2.forEach(g=>{C2[g]=!0});class h${constructor(v){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=v,this.inputManager=null}connect(v){v&&this.disconnect(),this.inputManager=v,this._handlers.forEach(({handler:E,priority:C},w)=>this.inputManager?.installHandlers(w,[E],C))}disconnect(){this.inputManager&&this._handlers.forEach((v,E)=>this.inputManager?.uninstallHandlers(E)),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(v,E,C,w){const I=Array.isArray(v)?v:v.split(",");if(!function d$(g){for(const v of g)if(!M2(v))return!1;return!0}(I))return I.some(M2)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let A,G;Array.isArray(E)?G=E:(A=E,G=[]),"function"==typeof C?A=C:w=C,w=w??rd.f.DEFAULT;const pe=this._createUniqueGroupName(),Ee=new p$(this.view,I,G,A);this._handlers.set(pe,{handler:Ee,priority:w});for(const Ue of I){const Be=this._handlerCounts.get(Ue)||0;this._handlerCounts.set(Ue,Be+1)}return this.inputManager&&this.inputManager.installHandlers(pe,[Ee],w),{remove:()=>this._removeHandler(pe,I)}}hasHandler(v){return!!this._handlerCounts.get(v)}_removeHandler(v,E){if(this._handlers.has(v)){this._handlers.delete(v);for(const C of E){const w=this._handlerCounts.get(C);void 0===w?console.error("Trying to remove handler for event that has no handlers registered: ",C):1===w?this._handlerCounts.delete(C):this._handlerCounts.set(C,w-1)}}this.inputManager&&this.inputManager.uninstallHandlers(v)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}}class p$ extends gi.a{constructor(v,E,C,w){super(!0),this._latestDragStart=void 0,this.view=v;for(const I of E)switch(I){case"click":this.registerIncoming("click",C,A=>w(this._wrapClick(A)));break;case"double-click":this.registerIncoming("double-click",C,A=>w(this._wrapDoubleClick(A)));break;case"immediate-click":this.registerIncoming("immediate-click",C,A=>w(this._wrapImmediateClick(A)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",C,A=>w(this._wrapImmediateDoubleClick(A)));break;case"hold":this.registerIncoming("hold",C,A=>w(this._wrapHold(A)));break;case"drag":this.registerIncoming("drag",C,A=>{const G=this._wrapDrag(A);G&&w(G)});break;case"key-down":this.registerIncoming("key-down",C,A=>w(this._wrapKeyDown(A)));break;case"key-up":this.registerIncoming("key-up",C,A=>w(this._wrapKeyUp(A)));break;case"pointer-down":this.registerIncoming("pointer-down",C,A=>w(this._wrapPointer(A,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",C,A=>w(this._wrapPointer(A,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",C,A=>w(this._wrapPointer(A,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",C,A=>w(this._wrapPointerDrag(A)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",C,A=>w(this._wrapMouseWheel(A)));break;case"pointer-enter":this.registerIncoming("pointer-enter",C,A=>w(this._wrapPointer(A,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",C,A=>w(this._wrapPointer(A,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",C,A=>{w(this._wrapGamepad(A))});break;case"focus":this.registerIncoming("focus",C,A=>{w(this._wrapFocus(A))});break;case"blur":this.registerIncoming("blur",C,A=>{w(this._wrapBlur(A))})}}_wrapFocus(v){return{type:"focus",timestamp:v.timestamp,native:v.data.native,cancelable:v.cancelable,stopPropagation:()=>v.stopPropagation(),async:E=>v.async(E),preventDefault:()=>v.preventDefault()}}_wrapBlur(v){return{type:"blur",timestamp:v.timestamp,native:v.data.native,cancelable:v.cancelable,stopPropagation:()=>v.stopPropagation(),async:E=>v.async(E),preventDefault:()=>v.preventDefault()}}_wrapClick(v){const{pointerType:E,button:C,buttons:w,x:I,y:A,native:G,eventId:pe}=v.data,{cancelable:Ee,timestamp:Ue}=v;return{type:"click",pointerType:E,button:C,buttons:w,x:I,y:A,native:G,timestamp:Ue,screenPoint:(0,Ui.vW)(I,A),mapPoint:this._getMapPoint(I,A),eventId:pe,cancelable:Ee,stopPropagation:()=>v.stopPropagation(),async:Be=>v.async(Be),preventDefault:()=>v.preventDefault()}}_wrapDoubleClick(v){const{pointerType:E,button:C,buttons:w,x:I,y:A,native:G,eventId:pe}=v.data,{cancelable:Ee,timestamp:Ue}=v;return{type:"double-click",pointerType:E,button:C,buttons:w,x:I,y:A,native:G,timestamp:Ue,mapPoint:this._getMapPoint(I,A),eventId:pe,cancelable:Ee,stopPropagation:()=>v.stopPropagation(),async:Be=>v.async(Be),preventDefault:()=>v.preventDefault()}}_wrapImmediateClick(v){const{pointerType:E,button:C,buttons:w,x:I,y:A,native:G,eventId:pe}=v.data,Ee=G.pointerId,{cancelable:Ue,timestamp:Be}=v;return{type:"immediate-click",pointerId:Ee,pointerType:E,button:C,buttons:w,x:I,y:A,native:G,timestamp:Be,mapPoint:this._getMapPoint(I,A),eventId:pe,cancelable:Ue,stopPropagation:()=>v.stopPropagation(),async:lt=>v.async(lt),preventDefault:()=>v.preventDefault()}}_wrapImmediateDoubleClick(v){const{pointerType:E,button:C,buttons:w,x:I,y:A,native:G,eventId:pe}=v.data,Ee=G.pointerId,{cancelable:Ue,timestamp:Be}=v;return{type:"immediate-double-click",pointerId:Ee,pointerType:E,button:C,buttons:w,x:I,y:A,native:G,timestamp:Be,mapPoint:this._getMapPoint(I,A),eventId:pe,cancelable:Ue,stopPropagation:()=>v.stopPropagation(),async:lt=>v.async(lt),preventDefault:()=>v.preventDefault()}}_wrapHold(v){const{pointerType:E,button:C,buttons:w,x:I,y:A,native:G}=v.data,{cancelable:pe,timestamp:Ee}=v;return{type:"hold",pointerType:E,button:C,buttons:w,x:I,y:A,native:G,timestamp:Ee,mapPoint:this._getMapPoint(I,A),cancelable:pe,stopPropagation:()=>v.stopPropagation(),async:Ue=>v.async(Ue),preventDefault:()=>v.preventDefault()}}_getMapPoint(v,E){return this.view.toMap((0,Ui.vW)(v,E),{exclude:[]})}_wrapDrag(v){const E=v.data,{x:C,y:w}=E.center,{action:I,pointerType:A,button:G}=E;if("start"===I&&(this._latestDragStart=E),!this._latestDragStart)return;const pe=E.pointer.native,Ee=E.buttons,{cancelable:Ue,timestamp:Be}=v,lt={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return"end"===I&&(this._latestDragStart=void 0),{type:"drag",action:I,x:C,y:w,origin:lt,pointerType:A,button:G,buttons:Ee,radius:E.radius,angle:(0,Kh.BV)(E.angle),native:pe,timestamp:Be,cancelable:Ue,stopPropagation:()=>v.stopPropagation(),async:ht=>v.async(ht),preventDefault:()=>v.preventDefault()}}_wrapKeyDown(v){const{key:E,repeat:C,native:w}=v.data,{cancelable:I,timestamp:A}=v;return{type:"key-down",key:E,repeat:C,native:w,timestamp:A,cancelable:I,stopPropagation:()=>v.stopPropagation(),async:G=>v.async(G),preventDefault:()=>v.preventDefault()}}_wrapKeyUp(v){const{key:E,native:C}=v.data,{cancelable:w,timestamp:I}=v;return{type:"key-up",key:E,native:C,timestamp:I,cancelable:w,stopPropagation:()=>v.stopPropagation(),async:A=>v.async(A),preventDefault:()=>v.preventDefault()}}_wrapPointer(v,E){const{x:C,y:w,button:I,buttons:A,native:G,eventId:pe}=v.data,Ee=G.pointerId,Ue=G.pointerType,{cancelable:Be,timestamp:lt}=v;return{type:E,x:C,y:w,pointerId:Ee,pointerType:Ue,button:I,buttons:A,native:G,timestamp:lt,eventId:pe,cancelable:Be,stopPropagation:()=>v.stopPropagation(),async:ht=>v.async(ht),preventDefault:()=>v.preventDefault()}}_wrapPointerDrag(v){const{x:E,y:C,buttons:w,native:I,eventId:A}=v.data.currentEvent,{button:G}=v.data.startEvent,pe=v.data.startEvent.native.pointerId,Ee=v.data.startEvent.native.pointerType,Ue=v.data.action,Be={x:v.data.startEvent.x,y:v.data.startEvent.y},{cancelable:lt,timestamp:ht}=v;return{type:"pointer-drag",x:E,y:C,pointerId:pe,pointerType:Ee,button:G,buttons:w,action:Ue,origin:Be,native:I,timestamp:ht,eventId:A,cancelable:lt,stopPropagation:()=>v.stopPropagation(),async:wt=>v.async(wt),preventDefault:()=>v.preventDefault()}}_wrapMouseWheel(v){const{cancelable:E,data:C,timestamp:w}=v,{x:I,y:A,deltaY:G,native:pe}=C;return{type:"mouse-wheel",x:I,y:A,deltaY:G,native:pe,timestamp:w,cancelable:E,stopPropagation:()=>v.stopPropagation(),async:Ee=>v.async(Ee),preventDefault:()=>v.preventDefault()}}_wrapGamepad(v){const{action:E,state:C,device:w}=v.data,{cancelable:I,timestamp:A}=v,{buttons:G,axes:pe}=C;return{type:"gamepad",device:w,timestamp:A,action:E,buttons:G,axes:pe,cancelable:I,stopPropagation:()=>v.stopPropagation(),async:Ee=>v.async(Ee),preventDefault:()=>v.preventDefault()}}}var ap,D2,S2;function f$(g){return[g.on("before-add",v=>{const E=v.item;if(null==E||g.includes(E))return Vr.Z.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void v.preventDefault();E.onAdd()}),g.on("after-remove",v=>{const E=v.item;E.active&&(E.view.activeTool=null),E.destroy()})]}function $E(g){return g.visible&&null!=g.getEditableFlag&&g.getEditableFlag(ap.USER)&&g.getEditableFlag(ap.MANAGER)}function ya(g){return(0,Ui.vW)(g.x,g.y)}function O2(g,v){const E=(g instanceof HTMLElement?g:g.surface)?.getBoundingClientRect();return E?(0,Ui.vW)(v.clientX-E.left,v.clientY-E.top):(0,Ui.vW)(0,0)}function w2(g,v){return v instanceof Event?O2(g,v):ya(v)}function I2(g){if(g instanceof Event)return!0;if("object"==typeof g&&"type"in g)switch(g.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}(function(g){g[g.USER=0]="USER",g[g.MANAGER=1]="MANAGER"})(ap||(ap={})),function(g){g[g.None=0]="None",g[g.Unfocused=1]="Unfocused",g[g.Focused=2]="Focused",g[g.Unselected=4]="Unselected",g[g.Selected=8]="Selected",g[g.All=15]="All"}(D2||(D2={})),function(g){g[g.None=0]="None",g[g.Custom1=16]="Custom1",g[g.Custom2=32]="Custom2",g[g.Custom3=64]="Custom3",g[g.Custom4=128]="Custom4",g[g.Custom5=256]="Custom5",g[g.Custom6=512]="Custom6",g[g.Custom7=1024]="Custom7",g[g.Custom8=2048]="Custom8",g[g.Custom9=4096]="Custom9",g[g.Custom10=8192]="Custom10",g[g.Custom11=16384]="Custom11",g[g.Custom12=32768]="Custom12",g[g.All=65520]="All"}(S2||(S2={}));class m${constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(v,E){const C=()=>v.stopPropagation();switch(v.type){case"pointer-move":P2(v.pointerType)&&this._pointerLocations.set(v.pointerId,{x:v.x,y:v.y,pointerType:v.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(C(),"end"===v.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!T2(v))break;const w=ya(v),I=this._intersect(w,v.pointerType,E.forEachTool);if((0,kt.Wi)(I))break;const A=I.manipulator,G=I.tool;!((0,kt.pC)(A)&&(0,kt.pC)(G)&&A.interactive)||A.grabbable&&A.grabbableForEvent(v)||!A.grabbing||A.dragging||this._ungrabManipulatorBeforeDragging(A,v,E),(0,kt.pC)(A)&&(0,kt.pC)(G)&&A.interactive&&A.grabbable&&A.grabbableForEvent(v)&&!A.grabbing&&(this._grabbedManipulators.set(v.pointerId,{manipulator:A,tool:G,start:w,pointerType:v.pointerType}),1===this._grabbedManipulators.size&&(0,kt.Wi)(E.activeTool)&&(this._revertToNullActiveTool=!0,E.setActiveTool(I.tool)),A.grabbing=!0,A.events.emit("grab-changed",{action:"start",pointerType:v.pointerType,screenPoint:w}),C());break}case"pointer-up":this._draggedManipulators.has(v.pointerId)||this._handlePointerEnd(v,E);break;case"pointer-drag":{if(!T2(v))break;const w=this._grabbedManipulators.get(v.pointerId),I=(0,kt.yw)(w,({manipulator:Ue})=>Ue),A=(0,kt.yw)(w,({tool:Ue})=>Ue);if((0,kt.Wi)(I)||(0,kt.Wi)(A))break;const G=ya(v);G.x=(0,Kh.uZ)(G.x,0,E.view.width),G.y=(0,Kh.uZ)(G.y,0,E.view.height);const pe=(0,kt.Wg)(w).start,Ee=this._draggedManipulators.get(v.pointerId);switch(v.action){case"start":case"update":"update"!==v.action&&1!==this._grabbedManipulators.size||(I.dragging=!0,I.events.emit("drag",Ee?{action:"update",start:pe,screenPoint:G}:{action:"start",start:pe,screenPoint:G,pointerType:v.pointerType}),this._draggedManipulators.set(v.pointerId,{tool:A,manipulator:I,start:pe}));break;case"end":I.dragging=!1,Ee&&I.events.emit("drag",{action:"end",start:pe,screenPoint:G}),this._draggedManipulators.delete(v.pointerId),this._handlePointerEnd(v,E)}C();break}case"immediate-click":{const w=ya(v),I=this._intersect(w,v.pointerType,E.forEachTool);if(function y$(g){return!!g.native.shiftKey}(v)||E.forEachTool(Ee=>{if((!(0,kt.pC)(I)||I.tool!==Ee||Ee.automaticManipulatorSelection)&&Ee.manipulators){let Ue=!1;Ee.manipulators.forEach(({manipulator:Be})=>{Be.selected&&(Be.selected=!1,Ue=!0)}),Ue&&Ee.onManipulatorSelectionChanged&&Ee.onManipulatorSelectionChanged()}}),(0,kt.Wi)(I))break;const{manipulator:A,tool:G}=I;if(!A.interactive)break;A.selectable&&G.automaticManipulatorSelection&&(A.selected=!A.selected,G.onManipulatorSelectionChanged&&G.onManipulatorSelectionChanged()),A.events.emit("immediate-click",{screenPoint:w,button:v.button,pointerType:v.pointerType,shiftKey:v.native.shiftKey,stopPropagation:C});break}case"click":{const w=ya(v),I=this._intersect(w,v.pointerType,E.forEachTool),A=(0,kt.pC)(I)?I.manipulator:null;if((0,kt.Wi)(A)||!A.interactive)break;A.events.emit(v.type,{screenPoint:w,button:v.button,pointerType:v.pointerType,shiftKey:v.native.shiftKey}),C();break}case"double-click":{const w=ya(v),I=this._intersect(w,v.pointerType,E.forEachTool),A=(0,kt.pC)(I)?I.manipulator:null;if((0,kt.Wi)(A)||!A.interactive)break;A.events.emit("double-click",{screenPoint:w,button:v.button,pointerType:v.pointerType,shiftKey:v.native.shiftKey,stopPropagation:C});break}case"immediate-double-click":{const w=ya(v),I=this._intersect(w,v.pointerType,E.forEachTool),A=(0,kt.pC)(I)?I.manipulator:null;if((0,kt.Wi)(A)||!A.interactive)break;A.events.emit("immediate-double-click",{screenPoint:w,button:v.button,pointerType:v.pointerType,shiftKey:v.native.shiftKey,stopPropagation:C});break}}this._onFocusChange(E.forEachTool)}_ungrabManipulatorBeforeDragging(v,E,C){v.grabbing=!1,v.events.emit("grab-changed",{action:"end",pointerType:E.pointerType,screenPoint:ya(E)}),this._grabbedManipulators.forEach(({manipulator:w},I)=>{w===v&&this._grabbedManipulators.delete(I)}),this._afterManipulatorUngrab(C.setActiveTool)}_handlePointerEnd(v,E){const C=(0,kt.yw)(this._grabbedManipulators.get(v.pointerId),({manipulator:w})=>w);(0,kt.Wi)(C)||C.grabbing&&(C.grabbing=!1,C.events.emit("grab-changed",{action:"end",pointerType:v.pointerType,screenPoint:ya(v)}),this._grabbedManipulators.delete(v.pointerId),this._afterManipulatorUngrab(E.setActiveTool))}_cursorFromMap(v){let E=null;return(0,Jh.oE)(v,({manipulator:C})=>!((0,kt.Wi)(C)||!C.interactive||(C.grabbing&&C.grabCursor?(E=C.grabCursor,0):!C.cursor||(E=C.cursor,0)))),E}_onFocusChange(v){this._updateCursor(),this._updateFocusedManipulatorTools(v)}_updateCursor(){this._cursor=this._grabbedManipulators.size>0?this._cursorFromMap(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursorFromMap(this._hoveredManipulators)||"pointer":null}_updateFocusedManipulatorTools(v){const E=new Set,C=new Set;this._grabbedManipulators.forEach(({tool:w})=>{E.add(w)}),this._hoveredManipulators.forEach(({tool:w})=>{C.add(w)}),v(w=>{w.hasGrabbedManipulators=E.has(w),w.hasHoveredManipulators=C.has(w);const I=this._grabbedManipulators.values(),A=(0,wv.sE)(I,({tool:G})=>G===w);w.firstGrabbedManipulator=(0,kt.pC)(A)?A.manipulator:null})}clearPointers(v,{forEachTool:E,setActiveTool:C},w=!0,I){const A=(G,pe)=>G===v&&((0,kt.Wi)(I)||I===pe);this._grabbedManipulators.forEach(({tool:G,manipulator:pe,pointerType:Ee},Ue)=>{A(G,pe)&&(this._grabbedManipulators.delete(Ue),pe.grabbing=!1,pe.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:Ee}))}),this._draggedManipulators.forEach(({tool:G,manipulator:pe},Ee)=>{A(G,pe)&&(this._draggedManipulators.delete(Ee),pe.dragging=!1,pe.events.emit("drag",{action:"cancel"}))}),w&&this._hoveredManipulators.forEach(({tool:G,manipulator:pe},Ee)=>{A(G,pe)&&(this._hoveredManipulators.delete(Ee),pe.hovering=!1)}),this._afterManipulatorUngrab(C),this._onFocusChange(E)}_intersect(v,E,C){let w=null;return C(I=>{if(null==I.manipulators||!$E(I))return!1;const A=I.manipulators.intersect(v,E);return!(0,kt.Wi)(A)&&(w={tool:I,manipulator:A},!0)}),w}updateHoveredStateFromKnownPointers(v){this._pointerLocations.forEach((E,C)=>{this._updateHoveredStateForPointerAtScreenPosition((0,Ui.vW)(E.x,E.y),C,E.pointerType,v)})}handleHoverEvent(v,E){"pointer-up"!==v.type&&"immediate-click"!==v.type&&"pointer-move"!==v.type||!P2(v.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(ya(v),v.pointerId,v.pointerType,E)}_updateHoveredStateForPointerAtScreenPosition(v,E,C,w){let I=this._intersect(v,C,w);const A=(0,kt.yw)(this._hoveredManipulators.get(E),({manipulator:G})=>G);(0,kt.pC)(I)&&!I.manipulator.interactive&&(I=null),(0,kt.pC)(I)&&A===I.manipulator||((0,kt.pC)(A)&&(A.hovering=!1),(0,kt.pC)(I)?(I.manipulator.hovering=!0,this._hoveredManipulators.set(E,I)):this._hoveredManipulators.delete(E),this._onFocusChange(w))}_afterManipulatorUngrab(v){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(v(null),this._revertToNullActiveTool=!1)}}function P2(g){return"mouse"===g}function T2(g){return"mouse"!==g.pointerType||0===g.button}const A2="attached",ZE="tools";let tl=class extends Yc.r{constructor(g){super(g),this._manipulatorState=new m$,this.tools=new _s.Z,this.cursor=null,this._forEachTool=v=>{for(const E of this.tools.items)if(v(E))return}}initialize(){this.handles.add([this.view.on(b2,g=>{this._handleInputEvent(g)},rd.f.TOOL),...f$(this.tools),this.tools.on("before-add",({item:g})=>{this._updateToolEditableFlag(g)}),this.tools.on("before-remove",({item:g})=>{this._manipulatorState.clearPointers(g,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.detach(),this.handles.removeAll()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:g=>{this.activeTool=g},view:this.view}}set activeTool(g){if((0,kt.pC)(g)&&!this.view.ready)return void Vr.Z.getLogger(this.declaredClass).error("Cannot set active tool while view is not ready.");if(g===this.activeTool)return;const v=this.activeTool;this._set("activeTool",g),(0,kt.pC)(v)&&v.deactivate(),(0,kt.pC)(g)&&g.activate(),this._removeIncompleteTools(g);for(const E of this.tools){this._updateToolEditableFlag(E);const C=$E(E);!(0,kt.Wi)(this.activeTool)&&C||this._manipulatorState.clearPointers(E,this._manipulatorStateEventArgs,!C)}this._updateCursor()}get updating(){return this.updatingHandles.updating||this.tools.some(g=>g.updating)||(this.textures?.updating??!1)}attach(){"3d"===this.view.type?(this._set("textures",new op(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([(0,rn.YP)(()=>{const{state:g}=this.view;return"camera"in g&&g.camera},()=>this._forEachManipulator(g=>g.onViewChange())),this.view.elevationProvider?.on("elevation-change",g=>this._forEachManipulator(v=>v.onElevationChange(g))),(0,m2.kB)(()=>this._set("textures",(0,kt.SC)(this.textures)))],A2)):this.handles.add((0,rn.YP)(()=>this.view.extent,()=>this._forEachManipulator(g=>g.onViewChange())))}detach(){(0,kt.pC)(this.activeTool)&&(this.activeTool=null),this.tools.removeAll(),this.handles.remove(A2)}_forEachManipulator(g){this._forEachTool(v=>{v.manipulators&&v.manipulators.forEach(({manipulator:E})=>g(E,v))})}_handleInputEvent(g){let v=!1;const E={...g,stopPropagation:()=>{v=!0,g.stopPropagation()}};(0,kt.pC)(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(E):this._forEachTool(C=>{!v&&C.visible&&C.handleInputEvent(E)}),!v&&"key-down"===g.type&&"Escape"===g.key&&this.activeTool&&(g.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(E,this._manipulatorStateEventArgs),!v&&(0,kt.pC)(this.activeTool)&&this.activeTool.handleInputEventAfter(E),this._manipulatorState.handleHoverEvent(E,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this.handles.remove(ZE),this._forEachTool(g=>{if(g instanceof Hr.Z){const v=(0,rn.YP)(()=>[g.cursor,g.visible,g.editable],()=>{$E(g)||this._manipulatorState.clearPointers(g,this._manipulatorStateEventArgs),this._updateCursor()});this.handles.add(v,ZE)}g.manipulators&&this.handles.add([g.manipulators.on("after-remove",v=>{this._manipulatorState.clearPointers(g,this._manipulatorStateEventArgs,!0,v.item.manipulator)}),g.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],ZE)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(g){g.setEditableFlag?.(ap.MANAGER,(0,kt.Wi)(this.activeTool)||g===this.activeTool)}_updateCursor(){let g=this._manipulatorState.cursor;(0,kt.Wi)(g)&&this._forEachTool(v=>!(!(0,kt.pC)(v.cursor)||!v.visible||(g=v.cursor,0))),this._get("cursor")!==g&&this._set("cursor",g)}_removeIncompleteTools(g){this.tools.filter(v=>((0,kt.Wi)(g)||v!==g)&&!v.created&&v.removeIncompleteOnCancel).forEach(v=>{this.tools.remove(v)})}};(0,Ae._)([(0,Fe.Cb)({constructOnly:!0,nonNullable:!0})],tl.prototype,"view",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0,nonNullable:!0})],tl.prototype,"textures",void 0),(0,Ae._)([(0,Fe.Cb)({value:null})],tl.prototype,"activeTool",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0,type:_s.Z})],tl.prototype,"tools",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tl.prototype,"cursor",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tl.prototype,"updating",null),tl=(0,Ae._)([(0,Pn.j)("esri.views.ToolViewManager")],tl);const g$=tl;let od=class extends Hr.Z{constructor(g){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",this._detectedDeviceType="standard"===g.mapping?"standard":_$.test(g.id)?"spacemouse":"unknown",this.nativeIndex=g.index}get native(){const g=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<g.length?g[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return v$[this.deviceType]}};(0,Ae._)([(0,Fe.Cb)({nonNullable:!0,readOnly:!0})],od.prototype,"nativeIndex",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,readOnly:!0})],od.prototype,"deviceType",null),(0,Ae._)([(0,Fe.Cb)({type:Number,readOnly:!0})],od.prototype,"axisThreshold",null),od=(0,Ae._)([(0,Pn.j)("esri.views.input.gamepad.GamepadInputDevice")],od);const _$=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),v$={standard:.15,spacemouse:.025,unknown:0},KE=od;let lp=class extends Hr.Z{constructor(...g){super(...g),this.devices=new _s.Z,this.enabledFocusMode="document"}};(0,Ae._)([(0,Fe.Cb)({type:_s.Z.ofType(KE),readOnly:!0})],lp.prototype,"devices",void 0),(0,Ae._)([(0,Fe.Cb)({type:["document","view","none"]})],lp.prototype,"enabledFocusMode",void 0),lp=(0,Ae._)([(0,Pn.j)("esri.views.input.gamepad.GamepadSettings")],lp);const E$=lp;let tm=class extends Hr.Z{constructor(){super(...arguments),this.gamepad=new E$}};(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],tm.prototype,"gamepad",void 0),tm=(0,Ae._)([(0,Pn.j)("esri.views.input.Input")],tm);const b$=tm;let jl=class extends Hr.Z{constructor(g){super(g),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};(0,Ae._)([(0,Fe.Cb)({type:Boolean,nonNullable:!0})],jl.prototype,"enabled",void 0),(0,Ae._)([(0,Fe.Cb)({type:KE})],jl.prototype,"device",void 0),(0,Ae._)([(0,Fe.Cb)({type:["pan","zoom"],nonNullable:!0})],jl.prototype,"mode",void 0),(0,Ae._)([(0,Fe.Cb)({type:["forward-down","forward-up"],nonNullable:!0})],jl.prototype,"tiltDirection",void 0),(0,Ae._)([(0,Fe.Cb)({type:Number,nonNullable:!0})],jl.prototype,"velocityFactor",void 0),jl=(0,Ae._)([(0,Pn.j)("esri.views.navigation.gamepad.GamepadSettings")],jl);const x2=jl;let Pu=class extends Hr.Z{constructor(g){super(g),this.browserTouchPanEnabled=!0,this.gamepad=new x2,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};(0,Ae._)([(0,Fe.Cb)({type:Boolean})],Pu.prototype,"browserTouchPanEnabled",void 0),(0,Ae._)([(0,Fe.Cb)({type:x2,nonNullable:!0})],Pu.prototype,"gamepad",void 0),(0,Ae._)([(0,Fe.Cb)({type:Boolean})],Pu.prototype,"momentumEnabled",void 0),(0,Ae._)([(0,Fe.Cb)({type:Boolean})],Pu.prototype,"mouseWheelZoomEnabled",void 0),Pu=(0,Ae._)([(0,Pn.j)("esri.views.navigation.Navigation")],Pu);const R2=Pu;var to,L2=M(38305);function j2(g){const v=g.url?(0,L2.Qc)(g.url):void 0;return null==g.spatialReference?.vcsWkid&&(0,kt.pC)(v)&&"ImageServer"===v.serverType||!U2(g)||!g.heightModelInfo?function N2(g){return F2(g)?!!(g.capabilities&&g.capabilities.data&&g.capabilities.data.supportsZ):B2(g)}(g)?VE.Z.deriveUnitFromSR(S$,g.spatialReference):null:g.heightModelInfo}function U2(g){return"heightModelInfo"in g}function F2(g){if("unknown"===g.type||!("capabilities"in g))return!1;switch(g.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function D$(g){return null!=g.layers||B2(g)||F2(g)||U2(g)}function B2(g){switch(g.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}!function(g){g[g.Ok=0]="Ok",g[g.Units=1]="Units",g[g.HeightModel=2]="HeightModel",g[g.CRS=3]="CRS",g[g.Unsupported=4]="Unsupported"}(to||(to={}));const S$=new VE.Z({heightModel:"gravity-related-height"});var W2=M(59617);let GE,kE=null;function O$(g){return HE.apply(this,arguments)}function HE(){return HE=(0,Nn.Z)(function*(g){kE||(kE=M.e(5082).then(M.bind(M,35082)).then(v=>GE=v)),yield kE,(0,Lr.k_)(g)}),HE.apply(this,arguments)}function V2(g,v,E,C){return JE.apply(this,arguments)}function JE(){return JE=(0,Nn.Z)(function*(g,v,E,C){if(!g)return null;const w=g.spatialReference;return(0,ha.kR)()||(0,ha.Up)(w,v)?(0,ha.iV)(g,v):GE?GE.projectGeometry(g,v,E,C):(yield Promise.race([O$(C),(0,ha.zD)(C)]),V2(g,v,E,C))}),JE.apply(this,arguments)}let fs=class extends Hr.Z{constructor(g){super(g),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=(0,kt.IM)(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return(0,kt.pC)(this.userSpatialReference)?this.userSpatialReference:(0,kt.Wg)(this._spatialReferenceTask.spatialReference)}get extent(){return(0,kt.Wg)(this._extentTask.extent)}get heightModelInfo(){return(0,kt.Wg)(this._heightModelInfoTask.heightModelInfo)}get vcsWkid(){return(0,kt.Wg)(this._heightModelInfoTask.vcsWkid)}get latestVcsWkid(){return(0,kt.Wg)(this._heightModelInfoTask.latestVcsWkid)}get viewingMode(){return(0,kt.Wi)(this.userSpatialReference)||this.userSpatialReference.equals((0,kt.Wg)(this._spatialReferenceTask.spatialReference))?(0,kt.Wg)(this._spatialReferenceTask.viewingMode):null}get tileInfo(){return(0,kt.Wg)(this._tileInfoTask.tileInfo)}get mapCollections(){const g=this.map?.(),v=[];return(0,kt.pC)(this.priorityCollection)&&v.push(this.priorityCollection),v.push({parent:g?.basemap,layers:g?.basemap?.baseLayers},{layers:g?.layers},{parent:g?.ground,layers:g?.ground?.layers},{parent:g?.basemap,layers:g?.basemap?.referenceLayers}),v}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};const{layers:g,updating:v}=this._allLayers;let E=null;for(const w of g){const I=this._getSupportedSpatialReferences(w);if(I.length>0){const A=this._narrowDownSpatialReferenceCandidates(E,I);(0,kt.pC)(A)&&(E=A)}if((0,kt.pC)(E)&&1===E.length)break}if(v&&((0,kt.Wi)(E)||1!==E.length))return{updating:!0};const C=this._pickSpatialReferenceCandidate(E);return{spatialReference:(0,kt.pC)(C)?C.spatialReference:null,viewingMode:(0,kt.pC)(C)?C.viewingMode:null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:g,updating:v}=this._collectLayers([{parent:this.map?.()?.basemap,layers:this.map?.()?.basemap?.baseLayers},{layers:this.map?.()?.layers}]);if(g&&g.length>0&&"tileInfo"in g[0]){const E=g[0].tileInfo;return{tileInfo:E&&E.spatialReference.equals(this.spatialReference)?E:null,updating:!1}}return{updating:v}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};const{layers:g,updating:v}=this._allLayers;for(const E of g)if(D$(E)){const C=j2(E);if(C)return{heightModelInfo:C,vcsWkid:E.spatialReference?.vcsWkid,latestVcsWkid:E.spatialReference?.latestVcsWkid,updating:!1}}return{updating:v}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const g=this._allLayers,v=g.updating,E=[];for(const C of g.layers){const w="fullExtents"in C&&C.fullExtents||((0,kt.pC)(C.fullExtent)?[C.fullExtent]:[]),I=this.requiresExtentInSpatialReference?null:w[0],A=w.find(G=>G.spatialReference.equals(this.spatialReference))??I;if(A)return{candidates:[{extent:A,layer:C}],updating:!1};if(this._getSupportedSpatialReferences(C).length>0)for(const G of w)E.push({extent:G,layer:C})}return{candidates:E,updating:v}}get _extentTask(){var g=this;const{candidates:v,updating:E}=this._extentCandidatesTask;if(E)return{updating:E};if((0,kt.Wi)(v)||0===v.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const C=this._pickExtentCandidate(v),w=this.spatialReference;return C.extent.equals(this._projectExtentTask.input)&&w.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:(0,kt.pC)(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished}:((0,kt.pC)(this._projectExtentTask.task)&&(this._projectExtentTask.task=(0,kt.IM)(this._projectExtentTask.task)),this._projectExtentTask={input:C.extent.clone(),output:null,spatialReference:w.clone(),task:(0,NE.vr)(function(){var I=(0,Nn.Z)(function*(A){try{const G=yield V2(C.extent,w,C.layer.portalItem,A);g._projectExtentTask={...g._projectExtentTask,task:null,output:G}}catch{if((0,Lr.Hc)(A))return;g._projectExtentTask={...g._projectExtentTask,task:null}}});return function(A){return I.apply(this,arguments)}}())},{updating:!0})}_narrowDownSpatialReferenceCandidates(g,v){if((0,kt.Wi)(g))return v;const E=[],C=(w,I)=>(0,kt.pC)(w)?(0,kt.pC)(I)?w===I&&w:w:I;for(const w of g)for(const I of v){if(!w.spatialReference.equals(I.spatialReference))continue;const A=C(w.viewingMode,I.viewingMode);if(!1!==A){E.push({spatialReference:w.spatialReference,viewingMode:A});break}}return E.length>0?E:null}_pickSpatialReferenceCandidate(g){const v=this.defaultSpatialReference;return(0,kt.Wi)(g)||g.length<1?(0,kt.pC)(v)?{spatialReference:v,viewingMode:null}:null:((0,kt.pC)(v)&&g.length>1&&g.some(({spatialReference:E})=>E.equals(v))&&(g=g.filter(({spatialReference:E})=>E.equals(v))),g.length>1&&g.some(({viewingMode:E})=>E!==W2.JY.Local)&&(g=g.filter(({viewingMode:E})=>E!==W2.JY.Local)),g[0])}_getSupportedSpatialReferences(g){const v="supportedSpatialReferences"in g&&g.supportedSpatialReferences||(g.spatialReference?[g.spatialReference]:[]);if(0===v.length)return[];const E=[];for(const C of v){const w=this.getSpatialReferenceSupport({spatialReference:C,layer:g});if((0,kt.pC)(w)){const I=(0,kt.pC)(w.constraints)?w.constraints:[{spatialReference:C,viewingMode:null}];for(const{spatialReference:A,viewingMode:G}of I)(!this.requiresExtentInSpatialReference||(0,kt.Wi)(this.userSpatialReference)||A.equals(this.userSpatialReference))&&E.push({spatialReference:A,viewingMode:G})}}return E}_pickExtentCandidate(g){const v=this.spatialReference;return g.find(({extent:E})=>v.equals(E.spatialReference))||g[0]}_collectLayers(g){if("loaded"!==this._loadMaybe(this.map?.()))return{layers:[],updating:!0};const v={layers:[],preloading:-1,updating:!1};for(const E of g)if(this._collectCollection(E,v),v.preloading===this.sourcePreloadCount)break;return{layers:v.layers,updating:v.updating}}_collectCollection(g,v){if(g.layers){switch(this._loadMaybe(g.parent)){case"loading":return v.updating=!0,void++v.preloading;case"failed":return}for(const E of g.layers){switch(this._loadMaybe(E)){case"failed":continue;case"loading":v.updating=!0,++v.preloading;break;case"loaded":v.updating||v.layers.push(E),"layers"in E&&this._collectCollection({layers:E.layers},v)}if(v.preloading===this.sourcePreloadCount)break}}}_loadMaybe(g){return g&&"loadStatus"in g&&null!=g.loadStatus?"not-loaded"===g.loadStatus?(g.load().catch(()=>{}),"loading"):g.loadStatus:"loaded"}};var nm;(0,Ae._)([(0,Fe.Cb)()],fs.prototype,"required",void 0),(0,Ae._)([(0,Fe.Cb)({constructOnly:!0})],fs.prototype,"map",void 0),(0,Ae._)([(0,Fe.Cb)({constructOnly:!0})],fs.prototype,"getSpatialReferenceSupport",void 0),(0,Ae._)([(0,Fe.Cb)()],fs.prototype,"defaultSpatialReference",void 0),(0,Ae._)([(0,Fe.Cb)()],fs.prototype,"userSpatialReference",void 0),(0,Ae._)([(0,Fe.Cb)()],fs.prototype,"sourcePreloadCount",void 0),(0,Ae._)([(0,Fe.Cb)()],fs.prototype,"priorityCollection",void 0),(0,Ae._)([(0,Fe.Cb)()],fs.prototype,"requiresExtentInSpatialReference",void 0),(0,Ae._)([(0,Fe.Cb)()],fs.prototype,"suspended",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],fs.prototype,"ready",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],fs.prototype,"heightModelInfoReady",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],fs.prototype,"spatialReference",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],fs.prototype,"extent",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],fs.prototype,"heightModelInfo",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],fs.prototype,"vcsWkid",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],fs.prototype,"latestVcsWkid",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],fs.prototype,"viewingMode",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],fs.prototype,"tileInfo",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],fs.prototype,"mapCollections",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],fs.prototype,"_allLayers",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],fs.prototype,"_spatialReferenceTask",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],fs.prototype,"_tileInfoTask",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],fs.prototype,"_heightModelInfoTask",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],fs.prototype,"_extentCandidatesTask",null),(0,Ae._)([(0,Fe.Cb)()],fs.prototype,"_extentTask",null),(0,Ae._)([(0,Fe.Cb)()],fs.prototype,"_projectExtentTask",void 0),fs=(0,Ae._)([(0,Pn.j)("esri.views.support.DefaultsFromMap")],fs);let ir=nm=class extends((0,Yc.p)(Zh.Z.EventedMixin((0,BE.v)(Hr.Z)))){constructor(g){super(g),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new Zc.Z({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:v=>v.layerViews}),this.groundView=null,this.basemapView=null,this.fatalError=null,this.graphics=new y2.J,this.analyses=new em,this.typeSpecificPreconditionsReady=!0,this.layerViews=new _s.Z,this.magnifier=new _2,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.timeReference=new g2.Z,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new b$,this.navigation=new R2,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new h$(this),this.persistableViewModels=new _s.Z,this._isValid=!1,this._readyCycleForced=!1,this._currentSpatialReference=null,this.handles.add((0,rn.YP)(()=>this.preconditionsReady,v=>{v?(this._currentSpatialReference=this.spatialReference,nm.views.add(this)):(this._currentSpatialReference=null,nm.views.remove(this)),this.notifyChange("spatialReference"),!v&&this.ready?(this.toolViewManager?.detach(),(0,kt.pC)(this.analysisViewManager)&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown()):v&&!this.ready&&(this._startup(),(0,kt.pC)(this.analysisViewManager)&&this.analysisViewManager.attach(),this.toolViewManager.attach())},rn.Z_))}initialize(){this.addResolvingPromise(this.validate().then(()=>(this._isValid=!0,(0,rn.N1)(()=>this.ready)))),this.basemapView=new Ll({view:this}),this.layerViewManager=new u$({view:this,layerViewImporter:{importLayerView:g=>this.importLayerView(g),hasLayerViewModule:g=>this.hasLayerViewModule(g)},supportsGround:this.supportsGround}),this.toolViewManager=new g$({view:this}),this._setupSpatialReferenceLogger(),this.handles.add([(0,rn.YP)(()=>this.initialExtentRequired,g=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:g},{sync:!0,initial:!0}),(0,rn.YP)(()=>this.ready,g=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=g,this.defaultsFromMap.userSpatialReference=g?this.spatialReference:this._userSpatialReference)},{sync:!0}),(0,rn.YP)(()=>this._userSpatialReference,g=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=g)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){var g=this;let v=null;this.handles.add([(0,rn.YP)(()=>this.defaultsFromMap?.ready,E=>{if(E&&!this.spatialReference&&this.map?.allLayers.length>0){if((0,kt.pC)(v))return;const w=(0,m2.kB)(()=>v=(0,kt.IM)(v));v=(0,NE.vr)(function(){var I=(0,Nn.Z)(function*(A){try{yield(0,Lr.e4)(g.spatialReferenceWarningDelay,null,A)}catch{return}finally{v=null}Vr.Z.getLogger(g.declaredClass).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")});return function(A){return I.apply(this,arguments)}}()),this.handles.add(w,"spatial-reference-logger-task")}else this.handles.remove("spatial-reference-logger-task")},{sync:!0})])}destroy(){if(this.destroyed)return;this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=(0,kt.SC)(this.graphics),this.analyses=(0,kt.SC)(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),(0,kt.SC)(this.analysisViewManager),this.toolViewManager=(0,kt.SC)(this.toolViewManager),this.layerViewManager=(0,kt.SC)(this.layerViewManager),this.basemapView=(0,kt.SC)(this.basemapView),this.invalidate(),this._emitter.clear(),this.handles.removeAll();const g=this.map;this.map=null,g?.destroy()}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return Vr.Z.getLogger(this.declaredClass).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(g){this.toolViewManager&&(this.toolViewManager.activeTool=g)}get animation(){return this._get("animation")}set animation(g){this._set("animation",g)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new fs({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:g=>this.getSpatialReferenceSupport(g),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(g){this._set("extent",g)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||x0.Z.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._currentSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(g){g!==this._get("map")&&(g?.destroyed&&(Vr.Z.getLogger(this.declaredClass).warn("#map","The provided map is already destroyed",{map:g}),g=null),x0.Z.isLoadable(g)&&g.load().catch(()=>{}),this.constructed&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",g))}get spatialReference(){let g=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return g&&this.defaultsFromMap?.required?.heightModelInfo&&(g=g.clone(),g.vcsWkid=this.defaultsFromMap.vcsWkid,g.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),g}set spatialReference(g){const v=!(0,Iv.fS)(g,this._get("spatialReference"));this._set("_userSpatialReference",g),v&&(this._set("spatialReference",g),this._spatialReferenceChanged(g))}_spatialReferenceChanged(g){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){const g=this.toolViewManager?this.toolViewManager.cursor:null;return(0,kt.pC)(g)?g:this._cursor||"default"}set cursor(g){this._cursor=g,this.notifyChange("cursor")}get size(){return[this.width,this.height]}whenLayerView(g){return this.layerViewManager.whenLayerView(g)}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}importLayerView(g){throw new Jn.Z("importLayerView() not implemented")}hasLayerViewModule(g){return!1}validate(){return(0,Nn.Z)(function*(){})()}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(g){return(0,kt.pC)(this.getSpatialReferenceSupport({spatialReference:g}))}when(g,v){return this.isResolved()&&!this.ready&&Vr.Z.getLogger(this.declaredClass).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(g,v)}forceReadyCycle(){this.ready&&((0,rn.gx)(()=>!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(g){this.toolViewManager.tools.add(g),this.activeTool=g}tryFatalErrorRecovery(){this.fatalError=null}};ir.views=new _s.Z,(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"_userSpatialReference",void 0),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"activeTool",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ir.prototype,"allLayerViews",void 0),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"groundView",void 0),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"animation",null),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"basemapView",void 0),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"center",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ir.prototype,"_defaultsFromMapSettings",null),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"defaultsFromMap",null),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"fatalError",void 0),(0,Ae._)([(0,Fe.Cb)({type:L0.Z})],ir.prototype,"extent",null),(0,Ae._)([(0,Fe.Cb)((0,WE.z)(y2.J,"graphics"))],ir.prototype,"graphics",void 0),(0,Ae._)([(0,Fe.Cb)((0,WE.z)(em,"analyses"))],ir.prototype,"analyses",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0,type:VE.Z})],ir.prototype,"heightModelInfo",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ir.prototype,"interacting",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ir.prototype,"navigating",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],ir.prototype,"preconditionsReady",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ir.prototype,"typeSpecificPreconditionsReady",void 0),(0,Ae._)([(0,Fe.Cb)({type:_s.Z,readOnly:!0})],ir.prototype,"layerViews",void 0),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"resolution",null),(0,Ae._)([(0,Fe.Cb)({type:_2})],ir.prototype,"magnifier",void 0),(0,Ae._)([(0,Fe.Cb)({value:null,type:f2})],ir.prototype,"map",null),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"padding",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ir.prototype,"ready",void 0),(0,Ae._)([(0,Fe.Cb)({type:id.Z})],ir.prototype,"spatialReference",null),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"spatialReferenceWarningDelay",void 0),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"stationary",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ir.prototype,"supportsGround",void 0),(0,Ae._)([(0,Fe.Cb)({type:sd.Z})],ir.prototype,"timeExtent",void 0),(0,Ae._)([(0,Fe.Cb)({type:g2.Z,nonNullable:!0})],ir.prototype,"timeReference",void 0),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"tools",null),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"toolViewManager",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ir.prototype,"type",void 0),(0,Ae._)([(0,Fe.Cb)({type:Number})],ir.prototype,"scale",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ir.prototype,"updating",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ir.prototype,"initialExtentRequired",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ir.prototype,"initialExtent",null),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"cursor",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ir.prototype,"input",void 0),(0,Ae._)([(0,Fe.Cb)({type:R2,nonNullable:!0})],ir.prototype,"navigation",void 0),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"layerViewManager",void 0),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"analysisViewManager",void 0),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"width",void 0),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"height",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ir.prototype,"resizing",void 0),(0,Ae._)([(0,Fe.Cb)({value:null,readOnly:!0})],ir.prototype,"size",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ir.prototype,"suspended",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ir.prototype,"viewEvents",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],ir.prototype,"persistableViewModels",void 0),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"_isValid",void 0),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"_readyCycleForced",void 0),(0,Ae._)([(0,Fe.Cb)()],ir.prototype,"_currentSpatialReference",void 0),ir=nm=(0,Ae._)([(0,Pn.j)("esri.views.View")],ir);const w$=ir;let Ul=class extends BE.D{constructor(g){super(g),this.state="running",this.target=null,this._dfd=null}initialize(){this.addResolvingPromise(new Promise((g,v)=>this._dfd={resolve:g,reject:v}))}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd?.reject(new Jn.Z("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._dfd?.resolve())}update(g,v){v||(v=(0,Lr.y8)(g)?"waiting-for-target":"running"),this._set("target",g),this._set("state",v)}};(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Ul.prototype,"done",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0,type:String})],Ul.prototype,"state",void 0),(0,Ae._)([(0,Fe.Cb)()],Ul.prototype,"target",void 0),Ul=(0,Ae._)([(0,Pn.j)("esri.views.ViewAnimation")],Ul),function(g){g.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(Ul||(Ul={}));const YE=Ul;var rm=M(78041),Ls=M(24926);class I${constructor(v,E,C,w){const I=v.targetGeometry,A=E.targetGeometry;w?"string"==typeof w&&(w=(0,rm.Qc)(w)||rm.LI.ease):w=rm.LI.ease,this.easing=w,this.duration=C,this.sCenterX=I.x,this.sCenterY=I.y,this.sScale=v.scale,this.sRotation=v.rotation,this.tCenterX=A.x,this.tCenterY=A.y,this.tScale=E.scale,this.tRotation=E.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(v,E){const C=this.easing(E);let w,I,A,G;E>=1?(w=this.tCenterX,I=this.tCenterY,A=this.tRotation,G=this.tScale):(w=this.sCenterX+C*this.dCenterX,I=this.sCenterY+C*this.dCenterY,A=this.sRotation+C*this.dRotation,G=this.sScale+C*this.dScale),v.targetGeometry.x=w,v.targetGeometry.y=I,v.scale=G,v.rotation=A}}let nl=class extends Hr.Z{constructor(g){super(g),this.updateFunction=null,this.animation=null,this.duration=200,this.transition=null,this.easing=rm.LI.ease,this.view=null,this.viewpoint=new Xi.Z({targetGeometry:new Fi.Z,scale:0,rotation:0}),this._updateTask=(0,_u.A)({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask=(0,kt.hw)(this._updateTask)}animate(g,v,E){this.stop(),(0,Ls.JG)(this.viewpoint,v),this.transition=new I$(this.viewpoint,g.target,E&&E.duration||this.duration,E&&E.easing||this.easing);const w=()=>{this.animation===g&&this._updateTask&&("finished"===g.state&&(this.transition?.applyRatio(this.viewpoint,1),this.view?.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return g.when(w,w),this._startTime=performance.now(),this._updateTask.resume(),this.animation=g,g}animateContinous(g,v){this.stop(),this.updateFunction=v,this.viewpoint=g;const E=new YE({target:g.clone()}),C=()=>{this.animation===E&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return E.when(C,C),this._startTime=performance.now(),this._updateTask.resume(),this.animation=E,E}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(g){const v=this.animation;if(v&&v.state!==YE.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,g.deltaTime);else{const E=this.transition,C=(performance.now()-this._startTime)/E.duration,w=C>=1;E.applyRatio(this.viewpoint,C),w&&this.animation?.finish()}this.view?.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};(0,Ae._)([(0,Fe.Cb)()],nl.prototype,"animation",void 0),(0,Ae._)([(0,Fe.Cb)()],nl.prototype,"duration",void 0),(0,Ae._)([(0,Fe.Cb)()],nl.prototype,"transition",void 0),(0,Ae._)([(0,Fe.Cb)()],nl.prototype,"easing",void 0),(0,Ae._)([(0,Fe.Cb)()],nl.prototype,"view",void 0),(0,Ae._)([(0,Fe.Cb)()],nl.prototype,"viewpoint",void 0),nl=(0,Ae._)([(0,Pn.j)("esri.views.2d.AnimationManager")],nl);const P$=nl;class T${constructor(v){this.view=v,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions)},this.update=()=>{this._updateRequested=!1;const{basemapView:E,graphicsView:C,labelManager:w,layerViews:I,state:{id:A}}=this.view;E?.baseLayerViews.forEach(this._updateLayerView,this),I.forEach(this._updateLayerView,this),E?.referenceLayerViews.forEach(this._updateLayerView,this),(0,kt.pC)(w)&&(w.lastUpdateId!==A&&(w.viewChange(),w.lastUpdateId=A),w.updateRequested&&w.processUpdate(this._updateParameters)),(0,kt.pC)(C)&&(C.lastUpdateId!==A&&(C.viewChange(),C.lastUpdateId=A),C.updateRequested&&C.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||this._frameTaskHandle?.pause()}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return;const v=this.view;this.stationary=v.stationary,this._updateParameters={state:v.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:v.renderingOptions},this._stationaryHandle=(0,rn.YP)(()=>v.stationary,E=>{this.stationary=E,this.requestFrame()}),this._frameTaskHandle=(0,_u.A)(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(v){if(!v.attached)return void this.requestUpdate();const E=this.view.state,C=v.lastUpdateId;null!=C&&(this.stationary||v.moving)||(v.moving=!0,v.moveStart()),C!==E.id&&v.viewChange(),this.stationary&&v.moving&&(v.moving=!1,v.moveEnd()),v.lastUpdateId=E.id,v.updateRequested&&v.processUpdate(this._updateParameters),"layerViews"in v&&v.layerViews.forEach(this._updateLayerView,this)}}function js(){return Promise.all([Promise.all([M.e(5086),M.e(5314),M.e(5506),M.e(4376)]).then(M.bind(M,34376)),Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(5314),M.e(5506),M.e(9202),M.e(4589),M.e(2815),M.e(3871),M.e(5872),M.e(9391),M.e(1619),M.e(4029),M.e(5662),M.e(2236),M.e(7643),M.e(5918),M.e(6888),M.e(8592),M.e(877)]).then(M.bind(M,10877))])}const up=()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(5314),M.e(5506),M.e(9202),M.e(4589),M.e(2815),M.e(3871),M.e(5872),M.e(9391),M.e(1619),M.e(4029),M.e(5662),M.e(2236),M.e(7643),M.e(5918),M.e(9026),M.e(5075),M.e(1310)]).then(M.bind(M,41310))),ad=()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(2815),M.e(3871),M.e(9391),M.e(5696)]).then(M.bind(M,82230))),$2={"base-dynamic":()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(5314),M.e(5506),M.e(9202),M.e(4589),M.e(9798),M.e(8592),M.e(4126)]).then(M.bind(M,54126))),"base-tile":up,"bing-maps":up,csv:ad,"geo-rss":()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(5314),M.e(5506),M.e(9202),M.e(4589),M.e(2815),M.e(3871),M.e(5872),M.e(9391),M.e(1619),M.e(4029),M.e(5662),M.e(5072)]).then(M.bind(M,5072))),feature:ad,geojson:ad,graphics:()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(5314),M.e(5506),M.e(9202),M.e(4589),M.e(2815),M.e(3871),M.e(5872),M.e(9391),M.e(1619),M.e(4029),M.e(5662),M.e(3375)]).then(M.bind(M,63375))),group:()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(5314),M.e(5506),M.e(9202),M.e(4589),M.e(8592),M.e(1405)]).then(M.bind(M,41405))),imagery:()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(5314),M.e(5506),M.e(9202),M.e(4589),M.e(2815),M.e(3871),M.e(5872),M.e(9391),M.e(1619),M.e(4029),M.e(5662),M.e(6926),M.e(8594),M.e(9798),M.e(3808),M.e(8592),M.e(3825)]).then(M.bind(M,53825))),"imagery-tile":()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(5314),M.e(5506),M.e(9202),M.e(4589),M.e(6926),M.e(8594),M.e(3808),M.e(8592),M.e(8732)]).then(M.bind(M,8732))),kml:()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(5314),M.e(5506),M.e(9202),M.e(4589),M.e(2815),M.e(3871),M.e(5872),M.e(9391),M.e(1619),M.e(4029),M.e(5662),M.e(8594),M.e(9798),M.e(7643),M.e(6888),M.e(8592),M.e(2557)]).then(M.bind(M,82557))),"knowledge-graph":()=>js().then(()=>Promise.all([M.e(5086),M.e(5624)]).then(M.bind(M,25624))),"link-chart":()=>js().then(()=>Promise.all([M.e(5086),M.e(5624)]).then(M.bind(M,25624))),"knowledge-graph-sublayer":ad,"map-image":()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(5314),M.e(5506),M.e(9202),M.e(4589),M.e(2815),M.e(3871),M.e(5872),M.e(9391),M.e(1619),M.e(4029),M.e(5662),M.e(9798),M.e(9026),M.e(8592),M.e(9772)]).then(M.bind(M,69772))),"map-notes":()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(5314),M.e(5506),M.e(9202),M.e(4589),M.e(2815),M.e(3871),M.e(5872),M.e(9391),M.e(1619),M.e(4029),M.e(5662),M.e(8592),M.e(6899)]).then(M.bind(M,36899))),media:()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(5314),M.e(5506),M.e(9202),M.e(4589),M.e(2815),M.e(3871),M.e(5872),M.e(9391),M.e(1619),M.e(4029),M.e(5662),M.e(2236),M.e(7643),M.e(5918),M.e(8592),M.e(3662)]).then(M.bind(M,53662))),"ogc-feature":()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(2815),M.e(3871),M.e(9391),M.e(5696),M.e(6829)]).then(M.bind(M,96829))),"open-street-map":up,"oriented-imagery":ad,route:()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(5314),M.e(5506),M.e(9202),M.e(4589),M.e(2815),M.e(3871),M.e(5872),M.e(9391),M.e(1619),M.e(4029),M.e(5662),M.e(403),M.e(9066)]).then(M.bind(M,9066))),stream:()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(2815),M.e(3871),M.e(9391),M.e(5696),M.e(9051)]).then(M.bind(M,39051))),"subtype-group":()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(2815),M.e(3871),M.e(9391),M.e(5696),M.e(5876)]).then(M.bind(M,65876))),tile:up,"vector-tile":()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(5314),M.e(5506),M.e(9202),M.e(4589),M.e(8364),M.e(1363)]).then(M.bind(M,9941))),wcs:()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(5314),M.e(5506),M.e(9202),M.e(4589),M.e(6926),M.e(8594),M.e(3808),M.e(8592),M.e(8732)]).then(M.bind(M,8732))),"web-tile":up,wfs:ad,wms:()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(5314),M.e(5506),M.e(9202),M.e(4589),M.e(9798),M.e(8592),M.e(6053)]).then(M.bind(M,6053))),wmts:()=>js().then(()=>Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(5314),M.e(5506),M.e(9202),M.e(4589),M.e(5075),M.e(3789)]).then(M.bind(M,49300))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};var XE,x$=M(72258),QE=M(33190),To=M(67831),R$=M(25748);let Tu=XE=class extends((0,ed.iv)(Hr.Z)){constructor(g){super(g),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if((0,kt.Wi)(this.geometry)||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return(0,ha.iV)(this.geometry,this.spatialReference)}catch(g){return Vr.Z.getLogger(this.declaredClass).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:g}),null}return this.geometry}constrain(g,v){if((0,kt.Wi)(this.normalizedGeometry))return g;const E=g.targetGeometry;if("extent"===this.normalizedGeometry.type?(0,QE.aV)(this.normalizedGeometry,E):(0,QE.CI)(this.normalizedGeometry,E))return g;const{coordinate:C}=function L$(g,v){const{spatialReference:E}=v,C=[v.x,v.y];let w=Number.POSITIVE_INFINITY,I=0,A=0;const G=[0,0],pe="extent"===g.type?[[[g.xmin,g.ymin],[g.xmin,g.ymax],[g.xmax,g.ymax],[g.xmax,g.ymin],[g.xmin,g.ymin]]]:g.rings;for(const Ee of pe)for(let Ue=0;Ue<Ee.length-1;Ue++){(0,R$.Tx)(G,C,Ee,Ue);const Be=(0,To.d)(C,G);Be<w&&(w=Be,I=G[0],A=G[1])}return{coordinate:new Fi.Z({x:I,y:A,spatialReference:E}),distance:w}}(this.normalizedGeometry,E);return C&&(g.targetGeometry=C),g}clone(){return new XE({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};var qE;(0,Ae._)([(0,Fe.Cb)({constructOnly:!0})],Tu.prototype,"geometry",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Tu.prototype,"normalizedGeometry",null),(0,Ae._)([(0,Fe.Cb)({constructOnly:!0})],Tu.prototype,"spatialReference",void 0),Tu=XE=(0,Ae._)([(0,Pn.j)("esri.views.2d.constraints.GeometryConstraint")],Tu);let cp=qE=class extends((0,ed.iv)(Hr.Z)){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(g,v){return this.enabled&&v&&(this.rotationEnabled||(g.rotation=v.rotation)),g}clone(){return new qE({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};(0,Ae._)([(0,Fe.Cb)()],cp.prototype,"enabled",void 0),(0,Ae._)([(0,Fe.Cb)()],cp.prototype,"rotationEnabled",void 0),cp=qE=(0,Ae._)([(0,Pn.j)("esri.views.2d.constraints.RotationConstraint")],cp);const K2=cp;var e1;let no=e1=class extends((0,ed.iv)(Hr.Z)){constructor(g){super(g),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let g,{lods:v,minScale:E,maxScale:C,minZoom:w,maxZoom:I}=this,A=-1,G=-1,pe=!1,Ee=!1;if(0!==E&&0!==C&&E<C&&([E,C]=[C,E]),!v||!v.length)return this._set("effectiveMinScale",E),void this._set("effectiveMaxScale",C);v=v.map(Ue=>Ue.clone()),v.sort((Ue,Be)=>Be.scale-Ue.scale),v.forEach((Ue,Be)=>Ue.level=Be);for(const Ue of v)!pe&&E>0&&E>=Ue.scale&&(A=Ue.level,pe=!0),!Ee&&C>0&&C>=Ue.scale&&(G=g?g.level:-1,Ee=!0),g=Ue;-1===w&&(w=0===E?0:A),-1===I&&(I=0===C?v.length-1:G),w=Math.max(w,0),w=Math.min(w,v.length-1),I=Math.max(I,0),I=Math.min(I,v.length-1),w>I&&([w,I]=[I,w]),E=v[w].scale,C=v[I].scale,v.splice(0,w),v.splice(I-w+1,v.length),v.forEach((Ue,Be)=>{this._lodByScale[Ue.scale]=Ue,this._scales[Be]=Ue.scale}),this._set("effectiveLODs",v),this._set("effectiveMinZoom",w),this._set("effectiveMaxZoom",I),this._set("effectiveMinScale",E),this._set("effectiveMaxScale",C)}constrain(g,v){if(v&&g.scale===v.scale)return g;const E=this.effectiveMinScale,C=this.effectiveMaxScale,w=g.targetGeometry,I=v&&v.targetGeometry,G=0!==E&&g.scale>E;if(0!==C&&g.scale<C||G){const pe=G?E:C;if(v&&I){const Ee=(pe-v.scale)/(g.scale-v.scale);w.x=I.x+(w.x-I.x)*Ee,w.y=I.y+(w.y-I.y)*Ee}g.scale=pe}return this.snapToZoom&&this.effectiveLODs&&(g.scale=this._getClosestScale(g.scale)),g}fit(g){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(g,null);const v=this.scaleToZoom(g.scale),E=Math.abs(v-Math.floor(v));return g.scale=this.zoomToScale(E>.99?Math.round(v):Math.floor(v)),g}zoomToScale(g){if(!this.effectiveLODs)return 0;g-=this.effectiveMinZoom,g=Math.max(0,g);const v=this._scales;if(g<=0)return v[0];if(g>=v.length)return v[v.length-1];const E=Math.round(g-.5),C=Math.round(g);return v[C]+(C-g)*(v[E]-v[C])}scaleToZoom(g){if(!this.effectiveLODs)return-1;const v=this._scales;let E,C;if(g>=v[0])return this.effectiveMinZoom;if(g<=v[v.length-1])return this.effectiveMaxZoom;for(let w=0;w<v.length-1;w++){if(E=v[w],C=v[w+1],C===g)return w+this.effectiveMinZoom+1;if(E>g&&C<g)return w+this.effectiveMinZoom+1-(g-C)/(E-C)}return-1}snapToClosestScale(g){if(!this.effectiveLODs)return g;const v=this.scaleToZoom(g);return this.zoomToScale(Math.round(v))}snapToNextScale(g,v=.5){if(!this.effectiveLODs)return g*v;const E=Math.round(this.scaleToZoom(g));return this.zoomToScale(E+1)}snapToPreviousScale(g,v=2){if(!this.effectiveLODs)return g*v;const E=Math.round(this.scaleToZoom(g));return this.zoomToScale(E-1)}clone(){return new e1({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(g){return this._lodByScale[g]||(g=this._scales.reduce((v,E)=>Math.abs(E-g)<=Math.abs(v-g)?E:v,this._scales[0])),this._lodByScale[g].scale}};(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],no.prototype,"effectiveLODs",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],no.prototype,"effectiveMinZoom",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],no.prototype,"effectiveMaxZoom",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],no.prototype,"effectiveMinScale",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],no.prototype,"effectiveMaxScale",void 0),(0,Ae._)([(0,Fe.Cb)()],no.prototype,"lods",void 0),(0,Ae._)([(0,Fe.Cb)()],no.prototype,"minZoom",void 0),(0,Ae._)([(0,Fe.Cb)()],no.prototype,"maxZoom",void 0),(0,Ae._)([(0,Fe.Cb)()],no.prototype,"minScale",void 0),(0,Ae._)([(0,Fe.Cb)()],no.prototype,"maxScale",void 0),(0,Ae._)([(0,Fe.Cb)()],no.prototype,"snapToZoom",void 0),no=e1=(0,Ae._)([(0,Pn.j)("esri.views.2d.constraints.ZoomConstraint")],no);const z2=no,j$={base:null,key:"type",typeMap:{extent:L0.Z,polygon:jW.Z}};let Us=class extends Hr.Z{constructor(g){super(g),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(g){this._set("geometry",g||null)}get version(){return`${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _defaultLODs(){const g=this.view?.defaultsFromMap?.tileInfo,v=this.view?.spatialReference;return g&&v&&g.spatialReference.equals(v)?g.lods:null}get _geometry(){return new Tu({geometry:this.geometry,spatialReference:this.view?.spatialReference})}get _rotation(){return new K2({rotationEnabled:this.rotationEnabled})}get _zoom(){const g=this._get("_zoom"),v=this.lods||this._defaultLODs,E=this.minZoom,C=this.maxZoom,w=this.minScale,I=this.maxScale,A=this.snapToZoom;return g&&g.lods===v&&g.minZoom===E&&g.maxZoom===C&&g.minScale===w&&g.maxScale===I&&g.snapToZoom===A?g:new z2({lods:v,minZoom:E,maxZoom:C,minScale:w,maxScale:I,snapToZoom:A})}canZoomInTo(g){const v=this.effectiveMaxScale;return 0===v||g>=v}canZoomOutTo(g){const v=this.effectiveMinScale;return 0===v||g<=v}constrain(g,v){return this._zoom.constrain(g,v),this._rotation.constrain(g,v),this._geometry.constrain(g,v),g}constrainByGeometry(g){return this._geometry.constrain(g)}fit(g){return this._zoom.fit(g)}zoomToScale(g){return this._zoom.zoomToScale(g)}scaleToZoom(g){return this._zoom.scaleToZoom(g)}snapScale(g){return this._zoom.snapToClosestScale(g)}snapToNextScale(g){return this._zoom.snapToNextScale(g)}snapToPreviousScale(g){return this._zoom.snapToPreviousScale(g)}};(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Us.prototype,"effectiveLODs",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Us.prototype,"effectiveMinScale",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Us.prototype,"effectiveMaxScale",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Us.prototype,"effectiveMinZoom",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Us.prototype,"effectiveMaxZoom",null),(0,Ae._)([(0,Fe.Cb)({types:j$,value:null})],Us.prototype,"geometry",null),(0,Ae._)([(0,Fe.Cb)({type:[x$.Z]})],Us.prototype,"lods",void 0),(0,Ae._)([(0,Fe.Cb)()],Us.prototype,"minScale",void 0),(0,Ae._)([(0,Fe.Cb)()],Us.prototype,"maxScale",void 0),(0,Ae._)([(0,Fe.Cb)()],Us.prototype,"minZoom",void 0),(0,Ae._)([(0,Fe.Cb)()],Us.prototype,"maxZoom",void 0),(0,Ae._)([(0,Fe.Cb)()],Us.prototype,"rotationEnabled",void 0),(0,Ae._)([(0,Fe.Cb)()],Us.prototype,"snapToZoom",void 0),(0,Ae._)([(0,Fe.Cb)()],Us.prototype,"view",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Us.prototype,"version",null),(0,Ae._)([(0,Fe.Cb)()],Us.prototype,"_defaultLODs",null),(0,Ae._)([(0,Fe.Cb)({type:Tu})],Us.prototype,"_geometry",null),(0,Ae._)([(0,Fe.Cb)({type:K2})],Us.prototype,"_rotation",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0,type:z2})],Us.prototype,"_zoom",null),Us=(0,Ae._)([(0,Pn.j)("esri.views.2d.MapViewConstraints")],Us);const G2=Us;var s1,k2=M(99770),U$=M(39863),sm=M(31478),F$=M(12225),t1=M(46342),ld=M(30217),n1=M(49966),H2=M(9545);function r1(g){return function N$(g){return g instanceof Float32Array&&g.length>=2}(g)||function B$(g){return Array.isArray(g)&&g.length>=2}(g)}const rl=[0,0];let Fl=s1=class extends cs.wq{constructor(g){super(g),this._viewpoint2D={center:(0,k2.a)(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new L0.Z,this.id=0,this.inverseTransform=(0,t1.c)(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=(0,t1.c)(),this.transformNoRotation=(0,t1.c)(),this.displayMat3=(0,n1.c)(),this.displayViewMat3=(0,n1.c)(),this.viewMat3=(0,n1.c)(),this.viewMat2d=(0,F$.c)(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(g){this._set("pixelRatio",g),this._update()}set size(g){this._set("size",g),this._update()}set viewpoint(g){if(g){const v=this._viewpoint2D,E=g.targetGeometry;v.center[0]=E.x,v.center[1]=E.y,v.rotation=g.rotation,v.scale=g.scale,v.spatialReference=E.spatialReference}this._update()}copy(g){const v=this.size,E=this.viewpoint;return E&&v?(this.viewpoint=(0,Ls.JG)(E,g.viewpoint),this._set("size",(0,To.c)(v,g.size))):(this.viewpoint=g.viewpoint.clone(),this._set("size",[g.size[0],g.size[1]])),this._set("pixelRatio",g.pixelRatio),this}clone(){return new s1({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(g,v,E){return r1(v)?(0,To.t)(g,v,this.inverseTransform):(rl[0]=v,rl[1]=E,(0,To.t)(g,rl,this.inverseTransform))}toScreen(g,v,E){return r1(v)?(0,To.t)(g,v,this.transform):(rl[0]=v,rl[1]=E,(0,To.t)(g,rl,this.transform))}toScreenNoRotation(g,v,E){return r1(v)?(0,To.t)(g,v,this.transformNoRotation):(rl[0]=v,rl[1]=E,(0,To.t)(g,rl,this.transformNoRotation))}getScreenTransform(g,v){const{center:E}=this._viewpoint2D,C=this._get("pixelRatio")||1,w=this._get("size");return(0,Ls.Rb)(g,E,w,v,0,C),g}_update(){const{center:g,spatialReference:v,scale:E,rotation:C}=this._viewpoint2D,w=this._get("pixelRatio")||1,I=this._get("size"),A=new Xi.Z({targetGeometry:new Fi.Z(g[0],g[1],v),scale:E,rotation:C});if(this._set("viewpoint",A),!I||!v||!E)return;this.resolution=(0,Ls.uG)(A),this.rotation=C,this.scale=E,this.spatialReference=v,(0,To.c)(this.center,g),(0,ld.s)(this.displayMat3,0!==I[0]?2/I[0]:0,0,0,0,0!==I[1]?-2/I[1]:0,0,-1,1,1);const Ee=(0,ld.g)(this.viewMat3),Ue=(0,H2.f)(I[0]/2,I[1]/2),Be=(0,H2.f)(-I[0]/2,-I[1]/2),lt=(0,U$.t)(C);(0,ld.h)(Ee,Ee,Ue),(0,ld.r)(Ee,Ee,lt),(0,ld.h)(Ee,Ee,Be),(0,ld.m)(this.displayViewMat3,this.displayMat3,Ee);const ht=(0,sm.a)(this.viewMat2d,Ue);return(0,sm.r)(ht,ht,lt),(0,sm.t)(ht,ht,Be),(0,Ls.bk)(this.extent,A,I),(0,Ls.Ck)(this.transform,A,I,w),(0,sm.c)(this.inverseTransform,this.transform),(0,Ls.Jp)(this.transformNoRotation,A,I,w),this.worldScreenWidth=(0,Ls.L2)(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Fl.prototype,"id",void 0),(0,Ae._)([(0,Fe.Cb)({value:1,json:{write:!0}})],Fl.prototype,"pixelRatio",null),(0,Ae._)([(0,Fe.Cb)({json:{write:!0}})],Fl.prototype,"size",null),(0,Ae._)([(0,Fe.Cb)()],Fl.prototype,"spatialReference",void 0),(0,Ae._)([(0,Fe.Cb)({type:Xi.Z,json:{write:!0}})],Fl.prototype,"viewpoint",null),Fl=s1=(0,Ae._)([(0,Pn.j)("esri.views.2d.ViewState")],Fl);const J2=Fl;var i1,o1;let sl=i1=class extends Hr.Z{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new i1({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};(0,Ae._)([(0,Fe.Cb)()],sl.prototype,"left",void 0),(0,Ae._)([(0,Fe.Cb)()],sl.prototype,"top",void 0),(0,Ae._)([(0,Fe.Cb)()],sl.prototype,"right",void 0),(0,Ae._)([(0,Fe.Cb)()],sl.prototype,"bottom",void 0),sl=i1=(0,Ae._)([(0,Pn.j)("esri.views.2d.PaddedViewState.Padding")],sl);let ud=o1=class extends J2{constructor(...g){super(...g),this.paddedViewState=new J2,this._updateContent=(()=>{const v=(0,k2.a)();return()=>{const E=this._get("size"),C=this._get("padding");if(!E||!C)return;const w=this.paddedViewState;(0,To.s)(v,C.left+C.right,C.top+C.bottom),(0,To.a)(v,E,v),(0,To.c)(w.size,v);const I=w.viewpoint;I&&(this.viewpoint=I)}})(),this.addHandles((0,rn.YP)(()=>[this.size,this.padding],()=>this._updateContent(),rn.Z_)),this.padding=new sl,this.size=[0,0]}set padding(g){this._set("padding",g||new sl)}set viewpoint(g){if(g){const v=g.clone();this.paddedViewState.viewpoint=g,(0,Ls.H4)(v,g,this._get("size"),this._get("padding"));const E=this._viewpoint2D,C=v.targetGeometry;E.center[0]=C.x,E.center[1]=C.y,E.rotation=v.rotation,E.scale=v.scale,E.spatialReference=C.spatialReference,this._update()}}clone(){return new o1({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};(0,Ae._)([(0,Fe.Cb)()],ud.prototype,"paddedViewState",void 0),(0,Ae._)([(0,Fe.Cb)({type:sl})],ud.prototype,"padding",null),(0,Ae._)([(0,Fe.Cb)()],ud.prototype,"viewpoint",null),ud=o1=(0,Ae._)([(0,Pn.j)("esri.views.2d.PaddedViewState")],ud);const W$=ud;M(17083);var V$=M(9598);function a1(g,v){switch(v){case"primary":return"touch"===g.pointerType||0===g.button;case"secondary":return"touch"!==g.pointerType&&2===g.button;case"tertiary":return"touch"!==g.pointerType&&1===g.button}}M(58098),M(8480),M(79527);class Y2 extends gi.a{constructor(v,E){super(!0),this._view=v,this.registerIncoming("double-click",E,C=>this._handleDoubleClick(C,E))}_handleDoubleClick(v,E){a1(v.data,"primary")&&(v.stopPropagation(),E?this._view.mapViewNavigation.zoomOut([v.data.x,v.data.y]):this._view.mapViewNavigation.zoomIn([v.data.x,v.data.y]))}}class $$ extends gi.a{constructor(v,E,C){super(!0),this.view=v,this.pointerType=E,this.registerIncoming("double-tap-drag",C,w=>this._handleDoubleTapDrag(w))}_handleDoubleTapDrag(v){const{data:E}=v,{pointerType:C}=E;if(C!==this.pointerType)return;v.stopPropagation();const{action:w,delta:I}=E,{view:A}=this,{mapViewNavigation:G}=A;switch(w){case"begin":{const{scale:pe}=A;this._startScale=pe,this._currentScale=pe,this._previousDelta=I,G.begin();break}case"update":{if(this._previousDelta.y===I.y)return;this._previousDelta=I;const Ee=this._startScale*1.015**I.y;G.setViewpointImmediate(Ee/this._currentScale),this._currentScale=Ee;break}case"end":{const{constraints:pe}=A,{effectiveLODs:Ee,snapToZoom:Ue}=pe;if(!Ue||!Ee)return void G.end();const Be=pe.snapScale(this._currentScale),lt=(I.y>0?Math.max(Be,pe.snapToPreviousScale(this._startScale)):Math.min(Be,pe.snapToNextScale(this._startScale)))/this._currentScale;G.zoom(lt);break}}}}class im{constructor(v){this._callbacks=v,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(v){const E=v.data,C=E.pointers.size;switch(E.action){case"start":this._currentCount=C,this._emitStart(v);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=C,this._emitStart(v);break;case"update":this._emitUpdate(v);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=C,this._emitStart(v);break;case"end":this._emitEnd(v),this._currentCount=0}this._previousEvent=v}_emitStart(v){this._startEvent=v,this._callbacks.condition?.(this._currentCount,v)&&this._callbacks.start(this._currentCount,v,this._startEvent)}_emitUpdate(v){this._callbacks.condition?.(this._currentCount,v)&&this._callbacks.update(this._currentCount,v,this._startEvent)}_emitEnd(v){this._callbacks.condition?.(this._currentCount,v)&&this._callbacks.end(this._currentCount,v,this._startEvent),this._startEvent=null}}class Z$ extends gi.a{constructor(v,E,C){super(!0),this.view=v,this.pointerAction=E,this.registerIncoming("drag",C,w=>this._handleDrag(w)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(v){super.onInstall(v),this._dragEventSeparator=new im({start:(E,C)=>{this.view.mapViewNavigation.pan.begin(this.view,C.data),C.stopPropagation()},update:(E,C)=>{this.view.mapViewNavigation.pan.update(this.view,C.data),C.stopPropagation()},end:(E,C)=>{this.view.mapViewNavigation.pan.end(this.view,C.data),C.stopPropagation()},condition:(E,C)=>1===E&&a1(C.data,this.pointerAction)})}_handleDrag(v){const E=this.view.mapViewNavigation;E.pinch.zoomMomentum||E.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(v)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class K$ extends gi.a{constructor(v,E,C){super(!0),this._view=v,this.pointerAction=E;const w=this._view.mapViewNavigation;this._dragEventSeparator=new im({start:(I,A)=>{w.rotate.begin(this._view,A.data),A.stopPropagation()},update:(I,A)=>{w.rotate.update(this._view,A.data),A.stopPropagation()},end:(I,A)=>{w.rotate.end(),A.stopPropagation()},condition:(I,A)=>1===I&&a1(A.data,this.pointerAction)}),this.registerIncoming("drag",C,I=>this._dragEventSeparator.handle(I))}}var z$=M(84161);function zo(g){let v=g*g;return g<0&&(v*=-1),v}class J$ extends gi.a{constructor(v){super(!0),this._view=v,this._frameTask=null,this._watchHandles=new wl.Z,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",E=>this._handleGamePadEvent(E)),this._handle.pause()}onInstall(v){super.onInstall(v),this._watchHandles.add([(0,rn.YP)(()=>this._view.navigation.gamepad?.enabled,E=>{E?(this._handle.resume(),this._frameTask||(this._frameTask=(0,_u.A)({update:C=>this._frameUpdate(C.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},rn.nn)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(v){const E=this._view.navigation.gamepad.device;E&&v.data.device!==E||this._currentDevice&&this._currentDevice!==v.data.device||("end"===v.data.action?(this._currentDevice=null,function G$(g){g.translation[0]=0,g.translation[1]=0,g.translation[2]=0,g.heading=0,g.tilt=0}(this._transformation)):(this._currentDevice=v.data.device,function k$(g,v,E){const C=E,w=g.state,I=g.device,A="forward-down"===v.tiltDirection?1:-1;"standard"===I.deviceType?(C.translation[0]=zo(w.axes[0]),C.translation[1]=zo(w.axes[1]),C.translation[2]=zo(w.buttons[7])-zo(w.buttons[6]),C.heading=zo(w.axes[2]),C.tilt=zo(w.axes[3])):"spacemouse"===I.deviceType&&(C.translation[0]=1.2*zo(w.axes[0]),C.translation[1]=1.2*zo(w.axes[1]),C.translation[2]=2*-zo(w.axes[2]),C.heading=1.2*zo(w.axes[5]),C.tilt=1.2*zo(w.axes[3])),C.tilt*=A,(0,z$.g)(C.translation,C.translation,1)}(v.data,this._view.navigation.gamepad,this._transformation)))}_frameUpdate(v){const E=this._transformation;if(function H$(g){return 0===g.translation[0]&&0===g.translation[1]&&0===g.translation[2]&&0===g.heading&&0===g.tilt&&0===g.zoom}(E))return;const C=this._view.viewpoint.clone(),I=Q$*this._view.navigation.gamepad.velocityFactor*v;(0,Ls.Rx)(C,C,[E.translation[0]*I,-E.translation[1]*I]);const pe=this._view.size;(0,Ls.UZ)(C,C,1+E.translation[2]*X$*v,this._view.constraints.rotationEnabled?-E.heading*Y$*v:0,[pe[0]/2,pe[1]],pe);const Ue=this._view.constraints.constrain(C,this._view.viewpoint);this._view.viewpoint=Ue}}const Y$=.06,Q$=.7,X$=6e-4;class q$ extends gi.a{constructor(v,E,C){super(!0),this.view=v,this.keys=E,this._pressed=!1,this._keyMap={[E.left]:"left",[E.right]:"right",[E.up]:"up",[E.down]:"down"},this.registerIncoming("key-down",C,w=>this._handleKeyDown(w)),this.registerIncoming("key-up",C,w=>this._handleKeyUp(w)),this.registerIncoming("blur",C,()=>this._handleBlur())}_handleKeyDown(v){v.data.repeat||this._handleKey(v,!0)}_handleKeyUp(v){this._handleKey(v,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(v,E){const C=this._keyMap[v.data.key];if(this._pressed=null!=C,this._pressed){if(E)switch(this.view.mapViewNavigation.begin(),C){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();v.stopPropagation()}}}class eZ extends gi.a{constructor(v,E,C){super(!0),this.view=v,this.keys=E,this._pressed=!1,this._keyToDirection={[E.clockwiseOption1]:"clockwise",[E.clockwiseOption2]:"clockwise",[E.counterClockwiseOption1]:"counterClockwise",[E.counterClockwiseOption2]:"counterClockwise",[E.resetOption1]:"reset",[E.resetOption2]:"reset"},this.registerIncoming("key-down",C,w=>this._handleKeyDown(w)),this.registerIncoming("key-up",C,w=>this._handleKeyUp(w)),this.registerIncoming("blur",C,()=>this._handleBlur())}_handleKeyDown(v){v.data.repeat||this._handleKey(v,!0)}_handleKeyUp(v){this._handleKey(v,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(v,E){const C=v.modifiers;if(C.size>0&&!C.has("Shift")||!this.view.constraints.rotationEnabled)return;const w=this._keyToDirection[v.data.key];if(this._pressed=null!=w,this._pressed){if(E)switch(this.view.mapViewNavigation.begin(),w){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();v.stopPropagation()}}}var cd;!function(g){g[g.IN=0]="IN",g[g.OUT=1]="OUT"}(cd||(cd={}));class tZ extends gi.a{constructor(v,E,C){super(!0),this.view=v,this.keys=E,this._keysToZoomAction={},this.registerIncoming("key-down",C,w=>this._handleKeyDown(w)),E.zoomIn.forEach(w=>this._keysToZoomAction[w]=cd.IN),E.zoomOut.forEach(w=>this._keysToZoomAction[w]=cd.OUT)}_handleKeyDown(v){this._handleKey(v)}_handleKey(v){const E=v.modifiers;if(E.size>0&&!E.has("Shift"))return;const{key:C}=v.data;if(!(C in this._keysToZoomAction))return;const w=this._keysToZoomAction[C],{mapViewNavigation:I}=this.view;let A=null;switch(w){case cd.IN:A=I.zoomIn();break;case cd.OUT:A=I.zoomOut();break;default:return}I.begin(),A.then(()=>I.end()),v.stopPropagation()}}class rZ extends gi.a{constructor(v,E){super(!0),this._view=v,this._canZoom=!0,this.registerIncoming("mouse-wheel",E,C=>this._handleMouseWheel(C))}_handleMouseWheel(v){if(!this._view.navigation.mouseWheelZoomEnabled||(v.preventDefault(),v.stopPropagation(),!this._canZoom))return;const E=this._view.mapViewNavigation,{x:C,y:w,deltaY:I}=v.data,G=E.zoom(1/.6**(1/60*I),[C,w]);G&&(this._canZoom=!1,G.catch(()=>{}).then(()=>{this._canZoom=!0,E.end()}))}}class sZ extends gi.a{constructor(v){super(!0),this.view=v,this.registerIncoming("drag",C=>this._handleDrag(C)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const E=this.view.mapViewNavigation;this._dragEventSeparator=new im({start:(C,w)=>{E.pinch.begin(this.view,w.data),w.stopPropagation()},update:(C,w)=>{E.pinch.update(this.view,w.data),w.stopPropagation()},end:(C,w)=>{E.pinch.end(this.view),w.stopPropagation()},condition:C=>C>=2})}_handleDrag(v){this._dragEventSeparator.handle(v)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}var iZ=M(25441);function Q2(g){const v=g.native;return v?{buttons:v.buttons.map(E=>E.pressed?E.value?E.value:1:0),axes:v.axes.map(E=>function lZ(g,v){const E=Math.abs(g);return E<v?0:Math.sign(g)*(E-v)/(1-v)}(E,g.axisThreshold))}:{buttons:[],axes:[]}}class uZ{constructor(v,E){this._element=v,this._input=E,this._hasEventListeners=!1,this._onConnectGamepad=I=>{this._connectGamepad(I.gamepad)},this._onDisconnectGamepad=I=>{const A=I.gamepad,G=A.index,pe=this._inputDevices[G];pe&&(this._emitGamepadEvent(A,Q2(pe),!1),this._inputDevices.splice(G,1),this._latestUpdate.splice(G,1),this._input.gamepad.devices.remove(pe),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const C="getGamepads"in window.navigator,w=window.isSecureContext;this.supported=C&&w,this.supported&&(this._forEachGamepad(I=>this._connectGamepad(I)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(v){this._hasEventListeners!==v&&(this._hasEventListeners=v,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(v){this._callback=v}_connectGamepad(v){const E=new KE(v);"unknown"!==E.deviceType&&(this._inputDevices[v.index]=E,this._input.gamepad.devices.add(E)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){null==this._frameTask&&(this._frameTask=(0,_u.A)({update:()=>this._readGamepadState()}))}_stopPolling(){null!=this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const v=document.hasFocus(),E=this._element.contains(document.activeElement),C="document"===this._input.gamepad.enabledFocusMode&&!v||"view"===this._input.gamepad.enabledFocusMode&&!E;this._forEachGamepad(w=>{const I=this._inputDevices[w.index];if(!I)return;const A=this._latestUpdate[w.index],G=Q2(I),pe=C||function aZ(g){for(let v=0;v<g.axes.length;v++)if(0!==g.axes[v])return!1;for(let v=0;v<g.buttons.length;v++)if(0!==g.buttons[v])return!1;return!0}(G);A&&(A.timestamp===w.timestamp||!A.active&&pe||function oZ(g,v){if(g.axes.length!==v.axes.length||g.buttons.length!==v.buttons.length)return!1;for(let E=0;E<g.axes.length;E++)if(g.axes[E]!==v.axes[E])return!1;for(let E=0;E<g.buttons.length;E++)if(g.buttons[E]!==v.buttons[E])return!1;return!0}(A.state,G))||this._emitGamepadEvent(w,G,!pe)})}_forEachGamepad(v){const E=window.navigator.getGamepads();for(let C=0;C<E.length;C++){const w=E[C];this._validate(w)&&v(w)}}_emitGamepadEvent(v,E,C){const w=this._latestUpdate[v.index],I=w&&w.active;if(!I&&!C)return;const A=!I&&C?"start":I&&C?"update":"end";this._latestUpdate[v.index]={timestamp:v.timestamp,state:E,active:C},this._callback&&this._callback({device:this._inputDevices[v.index],state:E,action:A})}_validate(v){if(!v||!v.connected)return!1;for(let E=0;E<v.axes.length;E++)if(isNaN(v.axes[E]))return!1;return!0}}const X2=(0,Ga.Z)("edge"),cZ=(0,Ga.Z)("chrome"),dZ=(0,Ga.Z)("ff"),hZ=(0,Ga.Z)("safari"),q2="esri-view-surface",dd={touchNone:`${q2}--touch-none`,touchPan:`${q2}--touch-pan`};let pZ=(()=>{class g{constructor(E,C){this._input=C,this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=E,E.getAttribute("tabindex")||E.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new uZ(E,this._input),this._gamepadSource.onEvent=w=>this._callback("gamepad",w)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(E=>{this._releasePointerCaptureSafe(E)}),this._gamepadSource=(0,kt.SC)(this._gamepadSource),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(E){this._browserTouchPanningEnabled=E,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(E){this._callback=E}set activeEvents(E){for(const C in this._active)E&&E.has(C)||(this._element.removeEventListener(l1[C],this._active[C]),delete this._active[C]);E&&E.forEach(C=>{if(!this._active[C]&&l1[C]){const w=(this._eventHandlers[C]||this._handleDefault).bind(this,C);this._element.addEventListener(l1[C],w),this._active[C]=w}}),this._gamepadSource.hasEventListeners=E?.has("gamepad")??!1}setPointerCapture(E,C){C?(this._element.setPointerCapture(E.pointerId),this._activePointerCaptures.add(E.pointerId)):(this._releasePointerCaptureSafe(E.pointerId),this._activePointerCaptures.delete(E.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?dd.touchNone:dd.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?dd.touchPan:dd.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(dd.touchNone),this._element.classList.remove(dd.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_releasePointerCaptureSafe(E){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(E))return;this._element.releasePointerCapture(E)}catch{}}_updateNormalizedPointerLikeEvent(E,C){const w=O2(this._element,E);return g.test.disableSubpixelCoordinates&&(w.x=Math.round(w.x),w.y=Math.round(w.y)),C.x=w.x,C.y=w.y,C}_handleKey(E,C){const w=(0,iZ.kK)(C);w&&"key-up"===E&&this._keyDownState.delete(w);const I={native:C,key:w,repeat:!!w&&this._keyDownState.has(w)};w&&"key-down"===E&&this._keyDownState.add(I.key),this._callback(E,I)}_handlePointer(E,C){const w=this._updateNormalizedPointerLikeEvent(C,{native:C,x:0,y:0,pointerType:C.pointerType,button:C.button,buttons:C.buttons,eventId:this._eventId++});this._callback(E,w)}_handlePointerPreventDefault(E,C){const w=this._updateNormalizedPointerLikeEvent(C,{native:C,x:0,y:0,pointerType:C.pointerType,button:C.button,buttons:C.buttons,eventId:this._eventId++});C.preventDefault(),this._callback(E,w)}_handleMouseWheel(E,C){let w=C.deltaY;switch(C.deltaMode){case 0:X2&&(w=w/document.documentElement.clientHeight*600);break;case 1:w*=30;break;case 2:w*=900}X2?w*=.7:cZ||hZ?w*=.6:dZ&&(w*=1.375);const A=Math.abs(w);A>100&&(w=w/A*200/(1+Math.exp(-.02*(A-100))));const G=this._updateNormalizedPointerLikeEvent(C,{native:C,x:0,y:0,deltaY:w});this._callback(E,G)}_handlePointerCaptureLost(E,C){this._activePointerCaptures.delete(C.pointerId),this._handleDefault(E,C)}_handleDefault(E,C){const w={native:C};C.preventDefault(),this._callback(E,w)}_preventAltKeyDefault(E){"Alt"===E.key&&E.preventDefault()}_preventMultiTouchPanning(E){E.touches.length>1&&E.preventDefault()}}return g.test={disableSubpixelCoordinates:!1},g})();const l1={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class fZ extends gi.a{constructor(){super(!0),this.registerIncoming("context-menu",v=>{v.data.native.preventDefault()})}}var om=M(84244);function u1(g,v){return Math.abs(v.x-g.x)+Math.abs(v.y-g.y)}function Au(g){const{native:v}=g,{pointerId:E,button:C,pointerType:w}=v;return"mouse"===w?`${E}:${C}`:`${w}`}class gZ extends gi.a{constructor(v=250,E=10,C=350,w=35,I=om.m){super(!1),this._maximumDoubleClickDelay=v,this._maximumDoubleClickDistance=E,this._maximumDoubleTouchDelay=C,this._maximumDoubleTouchDistance=w,this._clock=I,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this))}onUninstall(){this._pointerState.forEach(v=>v.doubleClickTimer=(0,kt.hw)(v.doubleClickTimer))}get hasPendingInputs(){return(0,Jh.oE)(this._pointerState,v=>null!=v.doubleClickTimer)}_clearDoubleClickTimer(v,E){const C=this._pointerState.get(v);C&&(C.doubleClickTimer=(0,kt.hw)(C.doubleClickTimer),E&&this._click.emit(C.event.data,void 0,C.event.modifiers),this._pointerState.delete(v),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(v){const E=this._pointerState.get(v);1===E.pointerDownCount&&this._click.emit(E.event.data,void 0,E.event.modifiers),E.doubleClickTimer=null,this._pointerState.delete(v),this.refreshHasPendingInputs()}_getPointerId(v){const{pointerId:E,pointerType:C,button:w}=v.native;return"mouse"===C?`${E}:${w}`:`${C}`}_handleImmediateClick(v){const E=v.data,{pointerType:C}=E.native,w=this._getPointerId(E);if(!this._pointerState.has(w))return void this._startClick(v);const I=this._pointerState.get(w),{data:A,modifiers:G}=I.event,pe="touch"===C?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;u1(A,E)>pe?(this._clearDoubleClickTimer(w,!0),this._startClick(v)):(this._clearDoubleClickTimer(w,!1),2===I.pointerDownCount&&this._doubleClick.emit(A,void 0,G))}_handlePointerDown(v){const E=Au(v.data),C=this._pointerState.get(E);C&&(C.pointerDownCount+=1)}_startClick(v){const{data:E}=v,{native:{pointerType:C}}=E,w=Au(E),A=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(w),"touch"===C?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay);this._pointerState.set(w,{event:v,doubleClickTimer:A,pointerDownCount:1}),this.refreshHasPendingInputs()}}class _Z extends gi.a{constructor(v=250,E=10,C=350,w=35,I=om.m){super(!1),this._maximumDoubleClickDelay=v,this._maximumDoubleClickDistance=E,this._maximumDoubleTouchDelay=C,this._maximumDoubleTouchDistance=w,this._clock=I,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=(0,Ui.vW)(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new im({start:(A,G)=>this._dragStart(A,G),update:(A,G)=>this._dragUpdate(G),end:(A,G)=>this._dragEnd(G)}),this.registerIncoming("drag",A=>this._dragEventSeparator.handle(A)),this.registerIncoming("pointer-down",A=>this._handlePointerDown(A)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(v=>{v.doubleTapTimeout=(0,kt.hw)(v.doubleTapTimeout)})}get hasPendingInputs(){return(0,Jh.oE)(this._pointerState,v=>null!=v.doubleTapTimeout)}_clearPointerDown(v){const E=this._pointerState.get(v);E&&(E.doubleTapTimeout=(0,kt.hw)(E.doubleTapTimeout),this._pointerState.delete(v),this.refreshHasPendingInputs())}_createDoubleTapDragData(v,E,C){const{button:w,buttons:I,pointer:A,pointers:G,pointerType:pe,timestamp:Ee}=C;return{action:v,delta:E,button:w,buttons:I,pointer:A,pointers:G,pointerType:pe,timestamp:Ee}}_dragStart(v,E){if(!this._doubleTapDragReady||1!==v)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:C,modifiers:w}=E,{center:I}=C;this._dragStartCenter=I;const A=this._createDoubleTapDragData("begin",(0,Ui.vW)(0,0),C);this._doubleTapDrag.emit(A,void 0,w),E.stopPropagation()}_dragUpdate(v){if(!this._doubleTapDragActive)return;const{data:E,modifiers:C}=v,{center:w}=E,I=(0,Ui.vW)(w.x-this._dragStartCenter.x,w.y-this._dragStartCenter.y),A=this._createDoubleTapDragData("update",I,E);this._doubleTapDrag.emit(A,void 0,C),v.stopPropagation()}_dragEnd(v){if(!this._doubleTapDragActive)return;const{data:E,modifiers:C}=v,{center:w}=E,I=(0,Ui.vW)(w.x-this._dragStartCenter.x,w.y-this._dragStartCenter.y),A=this._createDoubleTapDragData("end",I,E);this._doubleTapDrag.emit(A,void 0,C),this._doubleTapDragActive=!1,v.stopPropagation()}_handlePointerDown(v){const{data:E}=v,C=Au(E),w=this._pointerState.get(C),{pointerType:I}=E.native;if(w){const A="touch"===I?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(C),u1(w.event.data,E)>A?this._storePointerDown(v):this._doubleTapDragReady=!0}else this._storePointerDown(v)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(v){const{data:E}=v,{pointerType:C}=E.native,w=Au(E),A=this._clock.setTimeout(()=>this._clearPointerDown(w),"touch"===C?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay);this._pointerState.set(w,{event:v,doubleTapTimeout:A}),this.refreshHasPendingInputs()}}var tA,c1=M(27422);class vZ extends gi.a{constructor(v){super(!1),this._navigationTouch=v,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(v,E,C,w){return{action:v,pointerType:this._pointerType,button:this._mouseButton,buttons:E.buttons,timestamp:w,pointers:EZ(this._activePointerMap),pointer:E,angle:C.angle,radius:C.radius,center:C.center}}_addPointer(v){const E=v.native.pointerId,C=am(this._activePointerMap).angle,w={event:v,initialAngle:0,lastAngle:0};this._activePointerMap.set(E,w);const I=lm(w,eA(this._activePointerMap));w.initialAngle=I,w.lastAngle=I,this._updatePointerAngles(C)}_updatePointer(v){if(v&&null==v.x&&null==v.y)return;const C=this._activePointerMap.get(v.native.pointerId);C?C.event=v:this._addPointer(v)}_removePointer(v){const E=am(this._activePointerMap).angle;this._activePointerMap.delete(v),this._updatePointerAngles(E)}_updatePointerAngles(v){const E=am(this._activePointerMap);this._activePointerMap.forEach(C=>{C.initialAngle=lm(C,E)-v,C.lastAngle=lm(C,E)-v})}_emitEvent(v,E,C){const w=am(this._activePointerMap);this._drag.emit(this._createPayload(v,E,w,C),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(v){const E=v.data.native.pointerId,C=(0,c1.HA)(v.timestamp);this._activePointerMap.get(E)&&(1===this._activePointerMap.size?(this._updatePointer(v.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",v.data,C),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(E)):(this._removePointer(E),this._emitEvent("removed",v.data,(0,c1.HA)(v.timestamp))))}_handlePointerDrag(v){const E=v.data,C=E.currentEvent,w=(0,c1.HA)(v.timestamp);switch(E.action){case"start":case"update":this._isDragging?this._activePointerMap.has(C.native.pointerId)?(this._updatePointer(C),!this._isCurrentDragSuppressed&&this._emitEvent("update",C,w)):(this._addPointer(C),this._emitEvent("added",C,w),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(C),this._pointerType=v.data.startEvent.pointerType,this._mouseButton=v.data.startEvent.button,this._startStateModifiers=v.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",C,w))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&"touch"===this._pointerType&&1===this._activePointerMap.size}}function eA(g){const v=[];return g.forEach(E=>{v.push((0,Ui.vW)(E.event.x,E.event.y))}),function yZ(g,v){if(v?(v.radius=0,v.center.x=0,v.center.y=0):v={radius:0,center:(0,Ui.vW)()},0===g.length)return v;if(1===g.length)return v.center.x=g[0].x,v.center.y=g[0].y,v;if(2===g.length){const[an,Kn]=g,[cr,Sr]=[Kn.x-an.x,Kn.y-an.y];return v.radius=Math.sqrt(cr*cr+Sr*Sr)/2,v.center.x=(an.x+Kn.x)/2,v.center.y=(an.y+Kn.y)/2,v}let E=0,C=0;for(let an=0;an<g.length;an++)E+=g[an].x,C+=g[an].y;E/=g.length,C/=g.length;const w=g.map(an=>an.x-E),I=g.map(an=>an.y-C);let A=0,G=0,pe=0,Ee=0,Ue=0,Be=0,lt=0;for(let an=0;an<w.length;an++){const Kn=w[an],cr=I[an],Sr=Kn*Kn,zl=cr*cr;A+=Sr,G+=zl,pe+=Kn*cr,Ee+=Sr*Kn,Ue+=zl*cr,Be+=Kn*zl,lt+=cr*Sr}const ht=.5*(Ee+Be),wt=.5*(Ue+lt),Gt=A*G-pe*pe,qt=(ht*G-wt*pe)/Gt,mn=(A*wt-pe*ht)/Gt,Ln=(0,Ui.vW)(qt+E,mn+C);return{radius:Math.sqrt(qt*qt+mn*mn+(A+G)/g.length),center:Ln}}(v)}function am(g){const v=eA(g);let E=0;return g.forEach(C=>{let w=lm(C,v),I=w-C.lastAngle;for(;I>Math.PI;)I-=2*Math.PI;for(;I<-Math.PI;)I+=2*Math.PI;w=C.lastAngle+I,C.lastAngle=w,E+=w-C.initialAngle}),E/=g.size||1,{angle:E,radius:v.radius,center:v.center}}function EZ(g){const v=new Map;return g.forEach((E,C)=>v.set(C,E.event)),v}function lm(g,v){const E=g.event;return Math.atan2(E.y-v.center.y,E.x-v.center.x)}!function(g){g[g.Left=0]="Left",g[g.Middle=1]="Middle",g[g.Right=2]="Right",g[g.Back=3]="Back",g[g.Forward=4]="Forward",g[g.Undefined=-1]="Undefined"}(tA||(tA={}));class bZ extends gi.a{constructor(v=250,E=10,C=350,w=35,I=om.m){super(!1),this._maximumDoubleClickDelay=v,this._maximumDoubleClickDistance=E,this._maximumDoubleTouchDelay=C,this._maximumDoubleTouchDistance=w,this._clock=I,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(v=>{v.immediateDoubleClick&&v.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(v){const E=v.data,C=Au(E);this._pointerState.has(C)||(this._pointerState.set(C,{downButton:E.native.button,immediateDoubleClick:null}),this.startCapturingPointer(E.native))}_handlePointerUp(v){const E=v.data,C=Au(E),w=this._pointerState.get(C);if(w&&w.downButton===E.native.button){const I=w.immediateDoubleClick;if(I){I.timeoutHandle.remove();const A="touch"===v.data.native.pointerType?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;u1(I,v.data)>A?this._startImmediateDoubleClick(v,w):(this._immediateDoubleClick.emit(v.data,void 0,I.modifiers),this._removeState(E))}else this._startImmediateDoubleClick(v,w)}}_startImmediateDoubleClick(v,E){E.immediateDoubleClick={x:v.data.x,y:v.data.y,modifiers:v.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(v.data),"touch"===v.data.native.pointerType?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay)}}_removeState(v){const E=Au(v);this._pointerState.delete(E),this.stopCapturingPointer(v.native),this.refreshHasPendingInputs()}}class CZ extends gi.a{constructor(v=300,E=1.5,C=6,w=6,I=500,A=om.m){super(!1),this._maximumClickDelay=v,this._movementUntilMouseDrag=E,this._movementUntilPenDrag=C,this._movementUntilTouchDrag=w,this._holdDelay=I,this._clock=A,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",G=>{this._handlePointerLoss(G,"pointer-up")}),this.registerIncoming("pointer-capture-lost",G=>{this._handlePointerLoss(G,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",G=>{this._handlePointerLoss(G,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(v=>{v.holdTimeout=(0,kt.hw)(v.holdTimeout)}),super.onUninstall()}_handlePointerDown(v){const E=v.data,C=E.native.pointerId;let w=null;0===this._pointerState.size&&(w=this._clock.setTimeout(()=>{const A=this._pointerState.get(C);A&&(A.isDragging||(this._pointerHold.emit(A.previousEvent,void 0,v.modifiers),A.holdEmitted=!0),A.holdTimeout=null)},this._holdDelay)),this._pointerState.set(C,{startEvent:E,previousEvent:E,startTimestamp:v.timestamp,isDragging:!1,downButton:E.native.button,holdTimeout:w,modifiers:new Set}),this.startCapturingPointer(E.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(v)}_createPointerDragData(v,E,C){return{action:v,startEvent:E.startEvent,previousEvent:E.previousEvent,currentEvent:C}}_handlePointerMove(v){const E=v.data,w=this._pointerState.get(E.native.pointerId);w&&(w.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",w,E),void 0,w.modifiers):function mZ(g,v){const E=v.x-g.x,C=v.y-g.y;return Math.sqrt(E*E+C*C)}(E,w.startEvent)>this._getDragThreshold(E.native.pointerType)&&this._startDragging(v),w.previousEvent=E)}_getDragThreshold(v){switch(v){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(v){const E=v.data,C=E.native.pointerId;this._pointerState.forEach(w=>{null!=w.holdTimeout&&(w.holdTimeout.remove(),w.holdTimeout=null),w.isDragging||(w.modifiers=v.modifiers,w.isDragging=!0,C===w.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",w,E)):this._pointerDrag.emit(this._createPointerDragData("start",w,w.previousEvent),v.timestamp))})}_handlePointerLoss(v,E){const C=v.data,w=C.native.pointerId,I=this._pointerState.get(w);I&&(null!=I.holdTimeout&&(I.holdTimeout.remove(),I.holdTimeout=null),I.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",I,"pointer-up"===E?C:I.previousEvent),void 0,I.modifiers):"pointer-up"===E&&I.downButton===C.native.button&&v.timestamp-I.startTimestamp<=this._maximumClickDelay&&!I.holdEmitted&&this._immediateClick.emit(C),this._pointerState.delete(w),this.stopCapturingPointer(C.native),0===this._pointerState.size&&this._moveHandle.pause())}}const um_pan={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},um_zoom={zoomIn:["=","+"],zoomOut:["-","_"]},um_rotate={clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"};let xu=class extends Hr.Z{constructor(){super(...arguments),this._handles=new wl.Z}initialize(){const g=()=>this.view?.ready;this._handles.add([(0,rn.gx)(()=>!g(),()=>this._disconnect()),(0,rn.gx)(g,()=>this._connect())])}destroy(){this._handles=(0,kt.SC)(this._handles),this._disconnect()}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=(0,kt.SC)(this._inputManager)}_connect(){const v=new pZ(this.view.surface,this.view.input),E=[new bZ,new CZ,new gZ,new vZ(this.view.navigation),new _Z],C=new rd.$({eventSource:v,recognizers:E});C.installHandlers("prevent-context-menu",[new fZ],rd.f.INTERNAL),C.installHandlers("navigation",[new sZ(this.view),new J$(this.view),new rZ(this.view),new Y2(this.view),new Y2(this.view,["Ctrl"]),new Z$(this.view,"primary"),new q$(this.view,um_pan),new tZ(this.view,um_zoom),new eZ(this.view,um_rotate),new K$(this.view,"secondary"),new $$(this.view,"touch")],rd.f.INTERNAL),this.view.viewEvents.connect(C),this._source=v,this._inputManager=C,(0,rn.YP)(()=>this.view?.navigation?.browserTouchPanEnabled,w=>{this._source&&(this._source.browserTouchPanningEnabled=!w)},rn.nn)}get test(){return{inputManager:this._inputManager}}};(0,Ae._)([(0,Fe.Cb)()],xu.prototype,"view",void 0),(0,Ae._)([(0,Fe.Cb)()],xu.prototype,"latestPointerType",null),(0,Ae._)([(0,Fe.Cb)()],xu.prototype,"latestPointerLocation",null),(0,Ae._)([(0,Fe.Cb)()],xu.prototype,"multiTouchActive",null),xu=(0,Ae._)([(0,Pn.j)("esri.views.2d.input.MapViewInputManager")],xu);const MZ=xu;var DZ=M(42666),nA=M(38093),rA=M(33412),cm=M(18605),OZ=M(31637),wZ=M(57596);let Ru=class extends Hr.Z{constructor(){super(...arguments),this.widget=null}destroy(){this.widget&&this.widget.destroy(),this.node=null}get id(){return this.get("widget.id")||this.get("node.id")}set node(g){const v=this._get("node");g!==v&&(g&&g.classList.add("esri-component"),v&&v.classList.remove("esri-component"),this._set("node",g))}castNode(g){return g?"string"==typeof g||function PZ(g){return g&&"nodeType"in g}(g)?(this._set("widget",null),(0,Il.L7)(g)):(function TZ(g){return g&&"function"==typeof g.render}(g)&&!g.domNode&&(g.domNode=document.createElement("div")),this._set("widget",g),g.domNode):(this._set("widget",null),null)}};(0,Ae._)([(0,Fe.Cb)({dependsOn:[]})],Ru.prototype,"id",null),(0,Ae._)([(0,Fe.Cb)()],Ru.prototype,"node",null),(0,Ae._)([(0,Qi.p)("node")],Ru.prototype,"castNode",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Ru.prototype,"widget",void 0),Ru=(0,Ae._)([(0,Pn.j)("esri.views.ui.Component")],Ru);const dm=Ru,AZ={left:0,top:0,bottom:0,right:0},iA={bottom:30,top:15,right:15,left:15},d1="manual",il="esri-ui",Wi={ui:il,corner:`${il}-corner`,innerContainer:`${il}-inner-container`,manualContainer:`${il}-manual-container`,cornerContainer:`${il}-corner-container`,topLeft:`${il}-top-left`,topRight:`${il}-top-right`,bottomLeft:`${il}-bottom-left`,bottomRight:`${il}-bottom-right`};function h1(g){const v=g,E="object"==typeof v&&null!==v&&Object.getPrototypeOf(v);return null!==E&&E!==Object.prototype||!("component"in v||"index"in v||"position"in v)?null:g}function p1(g,{top:v,bottom:E,left:C,right:w}){g.style.top=v,g.style.bottom=E,g.style.left=C,g.style.right=w}let ga=class extends Zh.Z.EventedAccessor{constructor(g){super(g),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentToKey=new Map,this._locale=(0,lE.Kd)(),this.view=null,this._applyViewPadding=()=>{const v=this.container;v&&p1(v,this._toPxPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const v=this._innerContainer;v&&p1(v,this._toPxPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([(0,rn.YP)(()=>[this.view?.padding,this.container],this._applyViewPadding,rn.nn),(0,rn.YP)(()=>this.padding,this._applyUIPadding,rn.nn),(0,rn.YP)(()=>[this.container,this._locale],([g,v])=>{g&&g.setAttribute("lang",v)},rn.nn),(0,lE.qe)(g=>{this._locale=g})])}destroy(){this.container=null;for(const g of this._components)g.destroy();this._components.length=0,this._componentToKey.clear()}set container(g){const v=this._get("container");g!==v&&(g&&(g.classList.add(Wi.ui),function oV(g){(function aV(g){Array.from(g.classList).forEach(v=>{v.startsWith(RT)&&g.classList.remove(v)})})(g),g.classList.add(function iV(){return`${RT}${G0()?"dark":"light"}`}())}(g),this._attachContainers(g)),v&&(v.classList.remove(Wi.ui),p1(v,{top:"",bottom:"",left:"",right:""}),(0,Il.cS)(v)),this._set("container",g))}get height(){const g=this.get("view.height")||0;if(0===g)return g;const v=this._getViewPadding();return Math.max(g-(v.top+v.bottom),0)}get padding(){return this._get("padding")}set padding(g){this._overrideIfSome("padding",g)}castPadding(g){return"number"==typeof g?{bottom:g,top:g,right:g,left:g}:{...iA,...g}}get width(){const g=this.get("view.width")||0;if(0===g)return g;const v=this._getViewPadding();return Math.max(g-(v.left+v.right),0)}add(g,v){let E,C;if(Array.isArray(g))return void g.forEach(I=>this.add(I,v));const w=h1(g);w&&({index:E,position:v,component:g,key:C}=w),v&&"object"==typeof v&&({index:E,key:C,position:v}=v),!g||v&&!this._isValidPosition(v)||this._add(g,v,E,C)}remove(g,v){if(!g)return;if(Array.isArray(g))return g.map(C=>this.remove(C,v));const E=this._find(g);if(E){const C=this._componentToKey;if(C.has(g)&&C.get(g)!==v)return;const w=this._components.indexOf(E);return E.node.parentNode&&E.node.parentNode.removeChild(E.node),this._componentToKey.delete(g),this._components.splice(w,1)[0]}}empty(g){return Array.isArray(g)?g.map(v=>this.empty(v)).reduce((v,E)=>v.concat(E)):(g=g||d1)===d1?Array.prototype.slice.call(this._manualContainer.children).filter(v=>!v.classList.contains(Wi.corner)).map(v=>this.remove(v)):this._isValidPosition(g)?Array.prototype.slice.call(this._cornerNameToContainerLookup[g].children).map(this.remove,this):null}move(g,v){if(Array.isArray(g)&&g.forEach(I=>this.move(I,v)),!g)return;let E;const C=h1(g)||h1(v);if(C&&(E=C.index,v=C.position,g=C.component||g),v&&!this._isValidPosition(v))return;const w=this.remove(g);w&&this.add(w,{position:v,index:E})}find(g){if(!g)return null;const v=this._findById(g);return v&&(v.widget||v.node)}getPosition(g){for(const v in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[v].contains(g))return v;return null}_add(g,v,E,C){g instanceof dm||(g=new dm({node:g})),this._place({component:g,position:v,index:E}),this._components.push(g),C&&this._componentToKey.set(g,C)}_find(g){return g?g instanceof dm?this._findByComponent(g):"string"==typeof g?this._findById(g):this._findByNode(g.domNode||g):null}_getViewPadding(){return this.get("view.padding")||AZ}_attachContainers(g){g.appendChild(this._innerContainer),g.appendChild(this._manualContainer)}_initContainers(){const g=document.createElement("div");g.classList.add(Wi.innerContainer),g.classList.add(Wi.cornerContainer);const v=document.createElement("div");v.classList.add(Wi.innerContainer),v.classList.add(Wi.manualContainer);const E=document.createElement("div");E.classList.add(Wi.topLeft),E.classList.add(Wi.corner),g.appendChild(E);const C=document.createElement("div");C.classList.add(Wi.topRight),C.classList.add(Wi.corner),g.appendChild(C);const w=document.createElement("div");w.classList.add(Wi.bottomLeft),w.classList.add(Wi.corner),g.appendChild(w);const I=document.createElement("div");I.classList.add(Wi.bottomRight),I.classList.add(Wi.corner),g.appendChild(I),this._innerContainer=g,this._manualContainer=v;const A=(0,ai.dZ)();this._cornerNameToContainerLookup={"top-left":E,"top-right":C,"bottom-left":w,"bottom-right":I,"top-leading":A?C:E,"top-trailing":A?E:C,"bottom-leading":A?I:w,"bottom-trailing":A?w:I},this._positionNameToContainerLookup={manual:v,...this._cornerNameToContainerLookup}}_isValidPosition(g){return!!this._positionNameToContainerLookup[g]}_place(g){const v=g.component,C=g.index,w=this._positionNameToContainerLookup[g.position||d1],I=null!=C&&C>-1;if(function xZ(g){return g&&!g._started&&"function"==typeof g.postMixInProperties&&"function"==typeof g.buildRendering&&"function"==typeof g.postCreate&&"function"==typeof g.startup}(v.widget)&&v.widget.startup(),!I)return void w.appendChild(v.node);const A=Array.prototype.slice.call(w.children);0!==C?C>=A.length?w.appendChild(v.node):(0,Il.Vt)(v.node,A[C]):w.firstChild?(0,Il.Vt)(v.node,w.firstChild):w.appendChild(v.node)}_toPxPosition(g){return{top:this._toPxUnit(g.top),left:this._toPxUnit(g.left),right:this._toPxUnit(g.right),bottom:this._toPxUnit(g.bottom)}}_toPxUnit(g){return 0===g?"0":g+"px"}_findByComponent(g){let v,E=null;return this._components.some(C=>(v=C===g,v&&(E=C),v)),E}_findById(g){let v,E=null;return this._components.some(C=>(v=C.id===g,v&&(E=C),v)),E}_findByNode(g){let v,E=null;return this._components.some(C=>(v=C.node===g,v&&(E=C),v)),E}};(0,Ae._)([(0,Fe.Cb)()],ga.prototype,"_locale",void 0),(0,Ae._)([(0,Fe.Cb)()],ga.prototype,"container",null),(0,Ae._)([(0,Fe.Cb)()],ga.prototype,"height",null),(0,Ae._)([(0,Fe.Cb)({value:iA})],ga.prototype,"padding",null),(0,Ae._)([(0,Qi.p)("padding")],ga.prototype,"castPadding",null),(0,Ae._)([(0,Fe.Cb)()],ga.prototype,"view",void 0),(0,Ae._)([(0,Fe.Cb)()],ga.prototype,"width",null),ga=(0,Ae._)([(0,Pn.j)("esri.views.ui.UI")],ga);const RZ=ga;function oA(g,v){return g&&"copyright"in g&&(!v||"function"==typeof g.originOf&&"user"===g.originOf("copyright"))}function hm(g,v,E){!E||!v||g.find(C=>C.layerView===v&&C.text===E)||g.push({text:E,layerView:v})}const Nl=[];let hd=class extends Yc.r{constructor(g){super(g),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new _s.Z,this.view=null,this._allLayerViewsChange=v=>{this.handles.remove("suspension");const E=this.get("view.allLayerViews");E&&this.handles.add(E.map(C=>(0,rn.YP)(()=>[C.suspended,C.layer?.attributionVisible],()=>this._updateAttributionItems())),"suspension"),v&&v.removed&&v.removed.forEach(C=>{this._pendingAttributions.delete(C),this._fetchedAttributionData.delete(C)}),this._updateAttributionItems()},this.handles.add([(0,rn.on)(()=>this.view?.allLayerViews,"change",v=>this._allLayerViewsChange(v),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),(0,rn.gx)(()=>!0===this.view?.stationary,()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const g=this.view,v=g?.allLayerViews;Nl.length=0,g&&v?(v.forEach(E=>{if(E.suspended||!E.layer?.attributionVisible)return;const C=E.layer;if(oA(C,"user"))return void hm(Nl,E,C.copyright);if(C.hasAttributionData){if(this._fetchedAttributionData.has(E)){const I=this._fetchedAttributionData.get(E);return void(I?hm(Nl,E,this._getDynamicAttribution(I,g,C)):oA(C)&&hm(Nl,E,C.copyright))}return void this._fetchAttributionData(E)}const w=C.get("portalItem.accessInformation");hm(Nl,E,w||C.copyright)}),function LZ(g,v){return g.length!==v.length||g.some((E,C)=>E.text!==v[C].text)}(this.items,Nl)&&(this.items.removeAll(),this.items.addMany(Nl)),Nl.length=0,this.notifyChange("state")):this._clear()}_fetchAttributionData(g){var v=this;return(0,Nn.Z)(function*(){if(v._pendingAttributions.has(g))return;v._pendingAttributions.add(g);const E=yield(0,NE.q6)(g.layer.fetchAttributionData());if(v._pendingAttributions.has(g)){const C=E.ok?v._createContributionIndex(E.value,function jZ(g){return"bing-maps"===g.type}(g.layer)):null;v._pendingAttributions.delete(g),v._fetchedAttributionData.set(g,C)}v._updateAttributionItems()})()}_createContributionIndex(g,v){const E=g.contributors,C={};if(!E)return C;for(let w=0;w<E.length;w++){const I=E[w],A=I.coverageAreas;if(!A)return;for(const G of A){const pe=G.bbox,Ee=G.zoomMin-(v&&G.zoomMin?1:0),Ue=G.zoomMax-(v&&G.zoomMax?1:0),lt={extent:(0,rp.$)({xmin:pe[1],ymin:pe[0],xmax:pe[3],ymax:pe[2],spatialReference:id.Z.WGS84}),attribution:I.attribution||"",score:null!=G.score?G.score:100,id:w};for(let ht=Ee;ht<=Ue;ht++)C[ht]=C[ht]||[],C[ht].push(lt)}}return C.maxKey=Math.max.apply(null,Object.keys(C)),C}_getDynamicAttribution(g,v,E){const{extent:C,scale:w}=v;let I=E.tileInfo?.scaleToZoom(w)??0;if(I=Math.min(g.maxKey??0,Math.round(I)),!C||null==I||I<=-1)return"";const A=g[I],G=(0,rp.iV)(C.center.clone().normalize(),v.spatialReference),pe={};return A?A.filter(Ee=>{const Ue=Ee.id,Be=!pe[Ue]&&G&&Ee.extent&&(0,QE.aV)(Ee.extent,G);return Be&&(pe[Ue]=!0),Be}).sort((Ee,Ue)=>Ue.score-Ee.score||Ee.objectId-Ue.objectId).map(Ee=>Ee.attribution).join(", "):""}};(0,Ae._)([(0,Fe.Cb)({readOnly:!0,type:_s.Z})],hd.prototype,"items",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],hd.prototype,"state",null),(0,Ae._)([(0,Fe.Cb)()],hd.prototype,"view",void 0),hd=(0,Ae._)([(0,Pn.j)("esri.widgets.Attribution.AttributionViewModel")],hd);const aA=hd,pd="esri-attribution",Bl={base:`${pd} esri-widget`,poweredBy:`${pd}__powered-by`,sources:`${pd}__sources`,open:`${pd}--open`,sourcesOpen:`${pd}__sources--open`,link:`${pd}__link`,widgetIcon:"esri-icon-description",interactive:"esri-interactive"};let Vi=class extends Si.Z{constructor(g,v){super(g,v),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(E=>E.forEach(({target:C})=>this._checkSourceTextOverflow(C))),this.iconClass=Bl.widgetIcon,this.itemDelimiter=" | ",this.messages=null,this.viewModel=new aA}initialize(){this.addHandles((0,rn.on)(()=>this.viewModel?.items,"change",()=>this.scheduleRender()))}destroy(){this._resizeObserver?.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((g,v)=>(g.includes(v.text)||g.push(v.text),g),[]).join(this.itemDelimiter)}get label(){return this.messages?.widgetLabel??""}set label(g){this._overrideIfSome("label",g)}get view(){return this.viewModel.view}set view(g){this.viewModel.view=g}render(){return(0,Kt.u)("div",{bind:this,class:this.classes(Bl.base,{[Bl.open]:this._isOpen}),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return(0,Kt.u)("div",{class:Bl.poweredBy},"Powered by"," ",(0,Kt.u)("a",{class:Bl.link,href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const g=this._isOpen,v=this._isInteractive,E=v?"0":"",{attributionText:C}=this;return(0,Kt.u)("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(Bl.sources,{[Bl.sourcesOpen]:g,[Bl.interactive]:v}),innerHTML:C,tabindex:E})}_afterSourcesNodeCreate(g){this._prevSourceNodeHeight=g.clientWidth,this._resizeObserver.observe(g)}_checkSourceTextOverflow(g){let v=!1;const{clientHeight:E,clientWidth:C,scrollWidth:w}=g,I=w>C,A=this._attributionTextOverflowed!==I;if(this._attributionTextOverflowed=I,A&&(v=!0),this._isOpen){const G=E<this._prevSourceNodeHeight;this._prevSourceNodeHeight=E,G&&(this._isOpen=!1,v=!0)}v&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};(0,Ae._)([(0,Fe.Cb)()],Vi.prototype,"_isOpen",void 0),(0,Ae._)([(0,Fe.Cb)()],Vi.prototype,"_isInteractive",null),(0,Ae._)([(0,Fe.Cb)()],Vi.prototype,"_attributionTextOverflowed",void 0),(0,Ae._)([(0,Fe.Cb)()],Vi.prototype,"_prevSourceNodeHeight",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Vi.prototype,"attributionText",null),(0,Ae._)([(0,Fe.Cb)()],Vi.prototype,"iconClass",void 0),(0,Ae._)([(0,Fe.Cb)()],Vi.prototype,"itemDelimiter",void 0),(0,Ae._)([(0,Fe.Cb)()],Vi.prototype,"label",null),(0,Ae._)([(0,Fe.Cb)(),(0,Oi.H)("esri/widgets/Attribution/t9n/Attribution")],Vi.prototype,"messages",void 0),(0,Ae._)([(0,Fe.Cb)()],Vi.prototype,"view",null),(0,Ae._)([(0,Fe.Cb)({type:aA})],Vi.prototype,"viewModel",void 0),(0,Ae._)([(0,Io.h)()],Vi.prototype,"_toggleState",null),Vi=(0,Ae._)([(0,Pn.j)("esri.widgets.Attribution")],Vi);const UZ=Vi;let Lu=class extends(i2(Hr.Z)){constructor(g){super(g),this._handles=new wl.Z,this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._handles.add((0,rn.YP)(()=>this.view,this._updateRotationWatcher,rn.nn))}destroy(){(0,kt.hw)(this._handles),this.view=null}get canShowNorth(){const g=this.get("view.spatialReference");return!(!g||!g.isWebMercator&&!g.isGeographic)}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){if(!this.get("view.ready"))return;const g={};"2d"===this.view?.type?g.rotation=0:g.heading=0,this.callGoTo({target:g})}_updateForRotation(g){null!=g&&(this.orientation={z:g})}_updateForCamera(g){g&&(this.orientation={x:0,y:0,z:-g.heading})}_updateRotationWatcher(g){this._handles.removeAll(),g&&this._handles.add("2d"===g.type?(0,rn.YP)(()=>g?.rotation,this._updateForRotation,rn.nn):(0,rn.YP)(()=>g?.camera,this._updateForCamera,rn.nn))}};(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Lu.prototype,"canShowNorth",null),(0,Ae._)([(0,Fe.Cb)()],Lu.prototype,"orientation",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],Lu.prototype,"state",null),(0,Ae._)([(0,Fe.Cb)()],Lu.prototype,"view",void 0),Lu=(0,Ae._)([(0,Pn.j)("esri.widgets.CompassViewModel")],Lu);const lA=Lu;let _a=class extends Si.Z{constructor(g,v){super(g,v),this.iconClass="esri-icon-locate-circled",this.messages=null,this.viewModel=new lA}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(g){this.viewModel.goToOverride=g}get label(){return this.messages?.widgetLabel??""}set label(g){this._overrideIfSome("label",g)}get view(){return this.viewModel.view}set view(g){this.viewModel.view=g}reset(){return this.viewModel.reset()}render(){const{orientation:g,state:v}=this.viewModel,E="disabled"===v,C="compass"==("rotation"===v?"rotation":"compass"),w=E?-1:0,I={"esri-disabled":E,"esri-interactive":!E},A={"esri-icon-compass":C,"esri-icon-dial":!C},{messages:G}=this;return(0,Kt.u)("div",{bind:this,class:this.classes("esri-compass esri-widget--button esri-widget",I),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:w,"aria-label":G.reset,title:G.reset},(0,Kt.u)("span",{"aria-hidden":"true",class:this.classes("esri-compass__icon",A),styles:this._toRotationTransform(g)}),(0,Kt.u)("span",{class:"esri-icon-font-fallback-text"},G.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(g){return{transform:`rotateZ(${g.z}deg)`}}};(0,Ae._)([(0,Fe.Cb)()],_a.prototype,"goToOverride",null),(0,Ae._)([(0,Fe.Cb)()],_a.prototype,"iconClass",void 0),(0,Ae._)([(0,Fe.Cb)()],_a.prototype,"label",null),(0,Ae._)([(0,Fe.Cb)(),(0,Oi.H)("esri/widgets/Compass/t9n/Compass")],_a.prototype,"messages",void 0),(0,Ae._)([(0,Fe.Cb)()],_a.prototype,"view",null),(0,Ae._)([(0,Fe.Cb)({type:lA})],_a.prototype,"viewModel",void 0),(0,Ae._)([(0,Io.h)()],_a.prototype,"_reset",null),_a=(0,Ae._)([(0,Pn.j)("esri.widgets.Compass")],_a);const NZ=_a,fd="esri-navigation-toggle",xo={base:`${fd} esri-widget`,button:`${fd}__button esri-widget--button`,activeButton:`${fd}__button--active`,panButton:`${fd}__button--pan`,rotateButton:`${fd}__button--rotate`,isLayoutHorizontal:`${fd}--horizontal`,rotationIcon:"esri-icon-rotate",panIcon:"esri-icon-pan",widgetIcon:"esri-icon-pan2",disabled:"esri-disabled"};let md=class extends Hr.Z{constructor(g){super(g),this.navigationMode="pan",this.view=null}initialize(){this.own((0,rn.gx)(()=>this.view?.inputManager,()=>this._setNavigationMode()))}destroy(){this.view=null}get state(){return this.get("view.ready")&&"3d"===this.view?.type?"ready":"disabled"}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){this.get("view.inputManager").primaryDragAction="pan"===this.navigationMode?"pan":"rotate"}};(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],md.prototype,"state",null),(0,Ae._)([(0,Fe.Cb)()],md.prototype,"navigationMode",void 0),(0,Ae._)([(0,Fe.Cb)()],md.prototype,"view",void 0),md=(0,Ae._)([(0,Pn.j)("esri.widgets.NavigationToggleViewModel")],md);const uA=md;let va=class extends Si.Z{constructor(g,v){super(g,v),this.iconClass=xo.widgetIcon,this.messages=null,this.viewModel=new uA}get label(){return this.messages?.widgetLabel??""}set label(g){this._overrideIfSome("label",g)}set layout(g){"horizontal"!==g&&(g="vertical"),this._set("layout",g)}get view(){return this.viewModel.view}set view(g){this.viewModel.view=g}toggle(){return this.viewModel.toggle()}render(){const g="disabled"===this.get("viewModel.state"),v="pan"===this.get("viewModel.navigationMode"),C={[xo.activeButton]:v},w={[xo.activeButton]:!v},I=g?-1:0,A=this.messages.toggle;return(0,Kt.u)("div",{bind:this,class:this.classes(xo.base,{[xo.disabled]:g,[xo.isLayoutHorizontal]:"horizontal"===this.layout}),onclick:this._toggle,onkeydown:this._toggle,tabIndex:I,"aria-label":A,title:A},(0,Kt.u)("div",{class:this.classes(xo.button,xo.panButton,C)},(0,Kt.u)("span",{class:xo.panIcon})),(0,Kt.u)("div",{class:this.classes(xo.button,xo.rotateButton,w)},(0,Kt.u)("span",{class:xo.rotationIcon})))}_toggle(){this.toggle()}};(0,Ae._)([(0,Fe.Cb)()],va.prototype,"iconClass",void 0),(0,Ae._)([(0,Fe.Cb)()],va.prototype,"label",null),(0,Ae._)([(0,Fe.Cb)({value:"vertical"})],va.prototype,"layout",null),(0,Ae._)([(0,Fe.Cb)(),(0,Oi.H)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],va.prototype,"messages",void 0),(0,Ae._)([(0,Fe.Cb)()],va.prototype,"view",null),(0,Ae._)([(0,Fe.Cb)({type:uA})],va.prototype,"viewModel",void 0),(0,Ae._)([(0,Io.h)()],va.prototype,"_toggle",null),va=(0,Ae._)([(0,Pn.j)("esri.widgets.NavigationToggle")],va);const BZ=va;let Vl=class extends Si.Z{constructor(){super(...arguments),this.enabled=!0,this.iconClass="",this.title=""}render(){const g=this.enabled?0:-1,E={[this.iconClass]:!!this.iconClass};return(0,Kt.u)("div",{bind:this,class:this.classes("esri-widget--button esri-widget",{"esri-disabled":!this.enabled,"esri-interactive":this.enabled}),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:g,title:this.title},(0,Kt.u)("span",{"aria-hidden":"true",role:"presentation",class:this.classes("esri-icon",E)}),(0,Kt.u)("span",{class:"esri-icon-font-fallback-text"},this.title))}_triggerAction(){this.action.call(this)}};(0,Ae._)([(0,Fe.Cb)()],Vl.prototype,"action",void 0),(0,Ae._)([(0,Fe.Cb)()],Vl.prototype,"enabled",void 0),(0,Ae._)([(0,Fe.Cb)()],Vl.prototype,"iconClass",void 0),(0,Ae._)([(0,Fe.Cb)()],Vl.prototype,"title",void 0),(0,Ae._)([(0,Io.h)()],Vl.prototype,"_triggerAction",null),Vl=(0,Ae._)([(0,Pn.j)("esri.widgets.IconButton")],Vl);const cA=Vl;let yd=class extends Hr.Z{get canZoomIn(){if(!this.get("view.ready"))return!1;const g=this.get("view.animation.target.scale")||this.get("view.scale"),v=this.get("view.constraints.effectiveMaxScale");return 0===v||g>v}get canZoomOut(){if(!this.get("view.ready"))return!1;const g=this.get("view.animation.target.scale")||this.get("view.scale"),v=this.get("view.constraints.effectiveMinScale");return 0===v||g<v}};(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],yd.prototype,"canZoomIn",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],yd.prototype,"canZoomOut",null),(0,Ae._)([(0,Fe.Cb)()],yd.prototype,"view",void 0),yd=(0,Ae._)([(0,Pn.j)("esri.widgets.Zoom.ZoomConditions2D")],yd);const WZ=yd;let gd=class extends Hr.Z{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],gd.prototype,"canZoomIn",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],gd.prototype,"canZoomOut",null),(0,Ae._)([(0,Fe.Cb)()],gd.prototype,"view",void 0),gd=(0,Ae._)([(0,Pn.j)("esri.widgets.Zoom.ZoomConditions3D")],gd);const VZ=gd;let $l=class extends Hr.Z{constructor(g){super(g)}destroy(){this.view=null}get canZoomIn(){return(0,kt.pC)(this._zoomConditions)&&this._zoomConditions.canZoomIn}get canZoomOut(){return(0,kt.pC)(this._zoomConditions)&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(g){g?"2d"===g.type?this._zoomConditions=new WZ({view:g}):"3d"===g.type&&(this._zoomConditions=new VZ({view:g})):this._zoomConditions=null,this._set("view",g)}zoomIn(){if(!this.canZoomIn)return;const g=this.view;"2d"===g.type?g.mapViewNavigation.zoomIn():(0,Lr.R8)(g.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const g=this.view;"2d"===g.type?g.mapViewNavigation.zoomOut():(0,Lr.R8)(g.goTo({zoomFactor:.5}))}};(0,Ae._)([(0,Fe.Cb)()],$l.prototype,"_zoomConditions",void 0),(0,Ae._)([(0,Fe.Cb)()],$l.prototype,"canZoomIn",null),(0,Ae._)([(0,Fe.Cb)()],$l.prototype,"canZoomOut",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],$l.prototype,"state",null),(0,Ae._)([(0,Fe.Cb)()],$l.prototype,"view",null),$l=(0,Ae._)([(0,Pn.j)("esri.widgets.Zoom.ZoomViewModel")],$l);const dA=$l;let ol=class extends Si.Z{constructor(g,v){super(g,v),this.iconClass="esri-icon-zoom-in-magnifying-glass",this.messages=null,this.viewModel=new dA}initialize(){this._zoomInButton=new cA({action:this.zoomIn.bind(this),iconClass:"esri-icon-plus"}),this._zoomOutButton=new cA({action:this.zoomOut.bind(this),iconClass:"esri-icon-minus"})}destroy(){this._zoomInButton=(0,kt.SC)(this._zoomInButton),this._zoomOutButton=(0,kt.SC)(this._zoomOutButton)}get label(){return this.messages?.widgetLabel??""}set label(g){this._overrideIfSome("label",g)}set layout(g){"horizontal"!==g&&(g="vertical"),this._set("layout",g)}set view(g){this.viewModel.view=g}get view(){return this.viewModel.view}render(){const g=this.viewModel,v={"esri-zoom--horizontal":"horizontal"===this.layout},{canZoomIn:E,canZoomOut:C}=g;this._zoomInButton.enabled=E,this._zoomOutButton.enabled=C;const{zoomIn:w,zoomOut:I}=this.messages;return this._zoomInButton.title=w,this._zoomOutButton.title=I,(0,Kt.u)("div",{class:this.classes("esri-zoom esri-widget",v)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};(0,Ae._)([(0,Fe.Cb)()],ol.prototype,"iconClass",void 0),(0,Ae._)([(0,Fe.Cb)()],ol.prototype,"label",null),(0,Ae._)([(0,Fe.Cb)({value:"vertical"})],ol.prototype,"layout",null),(0,Ae._)([(0,Fe.Cb)(),(0,Oi.H)("esri/widgets/Zoom/t9n/Zoom")],ol.prototype,"messages",void 0),(0,Ae._)([(0,Fe.Cb)()],ol.prototype,"view",null),(0,Ae._)([(0,Fe.Cb)({type:dA})],ol.prototype,"viewModel",void 0),ol=(0,Ae._)([(0,Pn.j)("esri.widgets.Zoom")],ol);const $Z=ol;let pm=class extends RZ{constructor(g){super(g),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[]}initialize(){this.addHandles([(0,rn.YP)(()=>this.components,this._componentsWatcher.bind(this),rn.nn),(0,rn.YP)(()=>this.view,this._updateViewAwareWidgets.bind(this),rn.nn)])}_add(g,v,E,C){let w=g;if("string"==typeof g&&this._defaultPositionLookup[g]){if(this._find(g))return;w=this._createComponent(g)}super._add(w,v,E,C)}_removeComponents(g){g.forEach(v=>{const E=this._find(v);E&&(this.remove(E),E.destroy())})}_updateViewAwareWidgets(g){this.components.forEach(v=>{const E=this._find(v),C=E&&E.widget;(function ZZ(g){return g&&void 0!==g.view})(C)&&(C.view=g)})}_componentsWatcher(g,v){this._removeComponents(v),this._addComponents(g),this._adjustPadding(g)}_adjustPadding(g){if(!g.includes("attribution")&&!this._isOverridden("padding")){const{top:v}=this.padding;this.padding=v}}_addComponents(g){this.constructed&&g.forEach(v=>this.add(this._createComponent(v),this._defaultPositionLookup[v]))}_createComponent(g){const v=this._createWidget(g);if(v)return new dm({id:g,node:v})}_createWidget(g){return"attribution"===g?this._createAttribution():"compass"===g?this._createCompass():"navigation-toggle"===g?this._createNavigationToggle():"zoom"===g?this._createZoom():void 0}_createAttribution(){return new UZ({view:this.view})}_createCompass(){return new NZ({view:this.view})}_createNavigationToggle(){return new BZ({view:this.view})}_createZoom(){return new $Z({view:this.view})}};(0,Ae._)([(0,Fe.Cb)()],pm.prototype,"components",void 0),pm=(0,Ae._)([(0,Pn.j)("esri.views.ui.DefaultUI")],pm);const KZ=pm;let fm=class extends KZ{constructor(g){super(g),this.components=["attribution","zoom"]}};(0,Ae._)([(0,Fe.Cb)()],fm.prototype,"components",void 0),fm=(0,Ae._)([(0,Pn.j)("esri.views.ui.2d.DefaultUI2D")],fm);const hA=fm;var f1;let mm=f1=class extends cs.wq{constructor(g){super(g),this.color=new $h.Z([0,0,0,1])}clone(){return new f1((0,Yi.d9)({color:this.color}))}};(0,Ae._)([(0,Fe.Cb)({type:$h.Z,json:{write:!0}})],mm.prototype,"color",void 0),mm=f1=(0,Ae._)([(0,Pn.j)("esri.webmap.background.ColorBackground")],mm);const ym=mm;let pA,fA,mA,yA,gA,_A;function m1(){return m1=(0,Nn.Z)(function*(){const[,{GraphicsView2D:g,GraphicContainer:v,LabelManager:E,MapViewNavigation:C,MagnifierView2D:w,Stage:I}]=yield Promise.all([Promise.all([M.e(5086),M.e(5314),M.e(5506),M.e(4376)]).then(M.bind(M,34376)),Promise.all([M.e(5086),M.e(3536),M.e(6093),M.e(5314),M.e(5506),M.e(9202),M.e(4589),M.e(2815),M.e(3871),M.e(5872),M.e(9391),M.e(1619),M.e(4029),M.e(5662),M.e(2236),M.e(7643),M.e(5918),M.e(6888),M.e(8592),M.e(877)]).then(M.bind(M,10877))]);fA=g,mA=v,yA=E,gA=C,_A=w,pA=I}),m1.apply(this,arguments)}let yr=class extends(hB(i$(o$(w$)))){constructor(g){super(g),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Zc.Z({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.rendering=!1,this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this._stationaryTimer=null,this._gotoTask=null,this.frameTask=new T$(this),this._pePromise=null,this.floors=new _s.Z,this.highlightOptions=new nA.Z,this.inputManager=new MZ({view:this}),this.map=null,this.resizeAlign="center",this.spatialReferenceLocked=!1,this.timeline=new rA.T,this.type="2d",this.ui=new hA,this._pixelFormat={flipY:!0,premultipliedAlpha:!0},this.constraints=new G2,this.padding={top:0,right:0,bottom:0,left:0},this.handles.add([(0,rn.YP)(()=>this.viewpoint,()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(160)},rn.Z_),this.on("resize",v=>this._resizeHandler(v)),(0,rn.YP)(()=>this.animationManager?.animation,v=>{this.animation=v})]),(0,uB.j2)()}destroy(){this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new DZ.Z(this.featuresTilingScheme)}get initialExtentRequired(){const{scale:g,constraints:v,center:E,viewpoint:C,extent:w}=this;let I=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint||w||(v?.effectiveLODs||(I=-1),E&&(0!==g||-1!==I)||C&&(0,kt.pC)(C.targetGeometry)&&("extent"===C.targetGeometry.type||C.scale)))}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get _projectionEngineLoaded(){return!!(0,ha.kR)()||(this._pePromise||(this._pePromise=(0,ha.zD)().finally(()=>{this._pePromise=null})),!1)}get typeSpecificPreconditionsReady(){const g=this._getDefaultViewpoint();if(!g)return!1;const v=this.spatialReference,E=(0,kt.Wg)(g.targetGeometry);return!!(0,ha.Up)(E.spatialReference,v)||this._projectionEngineLoaded}set animation(g){const v=this._get("animation");if(g===v)return;if(v&&v.stop(),!g||g.isFulfilled())return void this._set("animation",null);this._set("animation",g),this.frameTask.animationInProgress=!0;const E=()=>{g===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame()),this.frameTask&&(this.frameTask.animationInProgress=!1)};g.when(E,E)}get background(){return function HZ(g){return"esri.WebMap"===g?.declaredClass}(this.map)?this.map.initialViewProperties.background:null}set background(g){this._override("background",g)}get center(){if(!this.ready)return this._get("center");const{center:g,spatialReference:v}=this.state.paddedViewState;return new Fi.Z({x:g[0],y:g[1],spatialReference:v})}set center(g){if(null==g)return;if(!this.ready)return this._set("center",g),void this.notifyChange("initialExtentRequired");let v;try{v=this._project(g,this.spatialReference)}catch(C){return void Vr.Z.getLogger(this.declaredClass).error(new Jn.Z("mapview:invalid-center","could not project the value in the view's spatial reference",{input:g,error:C}))}const E=this.viewpoint;(0,Ls.o2)(E,E,v),this.viewpoint=E}set constraints(g){const v=this._get("constraints");v&&(this.handles.remove("map-view-constraints"),v.destroy()),this._set("constraints",g),g&&(g.view=this,this.ready&&(this.state.viewpoint=g.fit(this.state.paddedViewState.viewpoint)),this.handles.add((0,rn.YP)(()=>g.version,()=>{this.ready&&this.state&&(this.state.viewpoint=g.fit(this.state.paddedViewState.viewpoint))},rn.Z_),"map-view-constraints"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(g){if(null==g)return;if(!g.width||!g.height)return void Vr.Z.getLogger(this.declaredClass).error(new Jn.Z("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",g),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");let v;try{v=this._project(g,this.spatialReference)}catch(C){return void Vr.Z.getLogger(this.declaredClass).error(new Jn.Z("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:C}))}const E=this.viewpoint;(0,Ls.qf)(E,E,v,this.size,{constraints:this.constraints}),this.viewpoint=E}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(g){this.ready?(this.state.padding=g,this._set("padding",this.state.padding)):this._set("padding",g)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(g){if(isNaN(g))return;if(!this.ready)return void this._set("rotation",g);const v=this.viewpoint;(0,Ls.YQ)(v,v,g),this.viewpoint=v}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(g){if(!g||isNaN(g))return;if(!this.ready){this._set("scale",g),this._set("zoom",-1);const E=this._get("extent");return E&&(this._set("extent",null),this._set("center",E.center)),void this.notifyChange("initialExtentRequired")}const v=this.viewpoint;(0,Ls.Hy)(v,v,g),this.viewpoint=v}get stationary(){return!(this.animation||this.navigating||this.resizing||this._stationaryTimer)}get updating(){const g=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some(v=>!v.destroyed&&!("layerViews"in v)&&!0===v.updating));if((0,Ga.Z)("esri-2d-log-updating")){const v=this.allLayerViews.reduce((E,C)=>({...E,[C.layer.id]:!C.destroyed&&!("layerViews"in C)&&C.updating}),{});console.log(`Updating MapView: ${g}\n-> Null LayerViewManager: ${!this.layerViewManager}\n-> Null LabelManager: ${!this.labelManager}\n-> Null GraphicsView: ${!this.graphicsView}\n-> layerViewManager.updating: ${this.layerViewManager?.updating}\n-> labelManager.updating: ${this.labelManager?.updating}\n-> graphicsView.updating: ${this.graphicsView?.updating}\n-> allLayerViews: ${JSON.stringify(v)}\n`)}return g}get viewpoint(){if(!this.ready)return this._get("viewpoint");const g=this.state.paddedViewState;return g&&g.viewpoint.clone()}set viewpoint(g){if(null==g)return;if(!this.ready)return this._set("viewpoint",g),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");let v,E;try{v=this._project(g,this.spatialReference),!g.scale||isNaN(g.scale)?E=new Jn.Z("mapview:invalid-viewpoint",`invalid scale value of ${g.scale}`):(0,kt.Wi)(g.targetGeometry)&&(E=new Jn.Z("mapview:invalid-viewpoint","geometry not defined"))}catch(w){E=new Jn.Z("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:w})}if(E)return void Vr.Z.getLogger(this.declaredClass).error(E);this._scaleBeforeChangingSpatialReference=null;const C=new Xi.Z({targetGeometry:new Fi.Z,scale:0,rotation:0});(0,Ls.JG)(C,v),this.constraints.constrain(C,this.state.paddedViewState.viewpoint),this.state.viewpoint=C,this.frameTask.requestFrame(),this._set("viewpoint",C)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(g){if(null==g)return;if(!this.ready){this._set("zoom",g),this._set("scale",0);const E=this._get("extent");return E&&(this._set("extent",null),this._set("center",E.center)),void this.notifyChange("initialExtentRequired")}if(!this.constraints.effectiveLODs)return void this._set("zoom",-1);const v=this.viewpoint;(0,Ls.Hy)(v,v,this.constraints.zoomToScale(g)),this.viewpoint=v,this._set("zoom",this.constraints.scaleToZoom(this.scale))}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}goTo(g,v){if(g)return this.animation&&(this.animation=null),this._createAnimation(),(0,rn.N1)(()=>this.ready,v).then(()=>{const E={animate:!0,...v},C=(0,Ls.Ue)(g,this);return this.animation?.update(C),this._gotoTask={},E.animate?this._gotoAnimated(C,E):this._gotoImmediate(C,E)});Vr.Z.getLogger(this.declaredClass).error("#goTo()","target cannot be null or undefined")}hitTest(g,v){var E=this;return(0,Nn.Z)(function*(){const C=I2(g)?w2(E,g):g;if(!E.ready||isNaN(C.x)||isNaN(C.y))return{screenPoint:C,results:[]};let w=new Set,I=!1,A=null,G=null;v?.include?bA(v.include,EA(E,Be=>w.add(Be),Be=>{A||(A=new Set),A.add(Be)},Be=>w.add(Be),()=>I=!0)):(I=!0,w=new Set(E.allLayerViews)),v?.exclude&&bA(v.exclude,EA(E,Be=>w.delete(Be),Be=>{G||(G=new Set),G.add(Be)}));const pe=E.allLayerViews.filter(Be=>!Be.suspended&&w.has(Be)).reverse(),Ee=E.toMap(C);let Ue=[...I?E.graphicsView.hitTest(Ee).map(Be=>({type:"graphic",graphic:Be,layer:null,mapPoint:Ee})):[],...yield Promise.all(pe.map(Be=>Be.hitTest(Ee,C)).toArray())].filter(kt.pC).flat().filter(kt.pC);return A&&(Ue=Ue.filter(Be=>!("graphic"in Be)||!Be.graphic||A?.has(y1(Be.graphic)))),G&&(Ue=Ue.filter(Be=>!("graphic"in Be)||!Be.graphic||G?.has(y1(Be.graphic)))),{screenPoint:C,results:Ue}})()}takeScreenshot(g){var v=this;return(0,Nn.Z)(function*(){const E=v._createScreenshotPlan(g),C=yield v._stage.takeScreenshot(E);return(0,cm.cv)(C,{format:E.format,quality:E.quality,rotation:0,disableDecorations:!1},v._pixelFormat)})()}_takeScreenshot(g){var v=this;return(0,Nn.Z)(function*(){const E=v._createScreenshotPlan(g),C=yield v._stage.takeScreenshot(E);return(0,cm.v8)(C,v._pixelFormat)})()}_createScreenshotPlan(g){g=g??{};const v=this.supersampleScreenshotsEnabled?Math.min(4,(0,cm.RZ)(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let E;g.layers?(E=[],g.layers.forEach(I=>{const A=this.allLayerViews.find(G=>G.layer.id===I.id);A&&"container"in A&&A.container&&E.push(A.container)})):E=this._stage.children;const{format:C,quality:w}=(0,cm.LI)(g.format,g.quality);return function SZ(g,v,E,C,w,I,A,G){g.ignorePadding&&(C={left:0,right:0,top:0,bottom:0});let pe=null;null!=g.width&&null!=g.height?pe=[g.width,g.height]:null==g.width&&null!=g.height?pe=[g.height,g.height]:null!=g.width&&null==g.height?pe=[g.width,g.width]:null==g.width&&null==g.height&&(pe=null);const Ee=E[0]-(C.left+C.right),Ue=E[1]-(C.top+C.bottom);let Be,lt,ht=g.area||{x:0,y:0,width:Ee,height:Ue};if(pe){const Gt=pe[0]/pe[1];if(Gt>Ee/Ue){const qt=ht.width/Gt;ht={x:ht.x,y:Math.round(ht.y+(ht.height-qt)/2),width:ht.width,height:Math.round(qt)}}else{const qt=ht.height*Gt;ht={x:Math.round(ht.x+(ht.width-qt)/2),y:ht.y,width:Math.round(qt),height:ht.height}}}else pe=[ht.width,ht.height];return pe[0]>ht.width?(Be=Math.min(pe[0]/ht.width,v),lt=pe[0]/ht.width/Be):(Be=1,lt=pe[0]/ht.width),{resolutionScale:Be,cropArea:{x:Math.round((ht.x+C.left)*Be),y:Math.round((ht.y+C.top)*Be),width:Math.round(ht.width*Be),height:Math.round(ht.height*Be)},outputScale:lt,format:w,quality:I,children:A,rotation:G}}(g,v,this.size,this.padding,C,w,E,g.rotation)}get test(){return{takeScreenshot:g=>this._takeScreenshot(g)}}toMap(g){if(!this.ready)return null;const v=I2(g)?w2(this,g):g,[C,w]=this.state.toMap([0,0],[v.x,v.y]);return new Fi.Z({x:C,y:w,spatialReference:this.spatialReference})}toScreen(g){if(!this.ready)return null;const v=this._project(g,this.spatialReference),E=[v.x,v.y];return this.state.toScreen(E,E),(0,Ui.vW)(E[0],E[1])}on(g,v,E,C){return this.inputManager&&this.viewEvents.on(g,v,E,C)||super.on(g,v)}hasEventListener(g){return super.hasEventListener(g)||this.viewEvents.hasHandler(g)}whenLayerView(g){return super.whenLayerView(g)}graphicChanged(g){this.graphicsView&&this.graphicsView.graphicUpdateHandler(g)}whenReady(){return new Promise(g=>{this.ready?g(this):this._resolveWhenReady.push(g)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map?.initialViewProperties?.spatialReference||this.defaultsFromMap?.spatialReference||null}hasLayerViewModule(g){return(g=>(0,kt.pC)($2[g.type]))(g)}importLayerView(g){return(g=>{const v=$2[g.type];if((0,kt.Wi)(v))throw function A$(g){const v=g.declaredClass?g.declaredClass.slice(g.declaredClass.lastIndexOf(".")+1):"Unknown",E=v.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new Jn.Z(`${E}:view-not-supported`,`${v} is not supported in 2D`)}(g);return v(g)})(g)}pixelSizeAt(){return this.ready?this.state.resolution:(Vr.Z.getLogger(this.declaredClass).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(g){return this.hitTest(g).then(v=>({...v,mapPoint:this.toMap(g)}))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){let g=function IZ(g){const v=(0,OZ.hc)(g);if(!v.available)return new Jn.Z("webgl:required","WebGL is required but not supported.");if("3d"===g&&v.majorPerformanceCaveat)return new Jn.Z("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!v.supportsHighPrecisionFragment)return new Jn.Z("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!v.supportsVertexShaderSamplers)return new Jn.Z("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(v.type===wZ.zO.WEBGL1){if(!v.supportsElementIndexUint)return new Jn.Z("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!v.supportsStandardDerivatives)return new Jn.Z("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!v.supportsInstancedArrays)return new Jn.Z("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}(this.type);return(0,Ga.Z)("safari")&&(0,Ga.Z)("safari")<9&&(g=new Jn.Z("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:(0,Ga.Z)("safari")})),(0,kt.pC)(g)?(Vr.Z.getLogger(this.declaredClass).warn("#validate()",g.message),Promise.reject(g)):function zZ(){return m1.apply(this,arguments)}()}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new YE),this.animation}_cancellableGoTo(g,v,E){const C=()=>g===this._gotoTask,w=E.then(()=>{C()&&(this.animation=null)}).catch(A=>{throw C()&&(v&&!v.done&&(v.stop(),this.frameTask.animationInProgress=!1),this.animation=null),A}),I=new Promise(A=>A(w));return v.when().catch(()=>{C()&&I.cancel&&I.cancel()}),I}_gotoImmediate(g,v){const E=this._gotoTask,C=this.animation,w=g.then(I=>{if((0,Lr.k_)(v),E!==this._gotoTask)throw new Jn.Z("view:goto-interrupted","Goto was interrupted");this.viewpoint=C.target=I,C.finish()});return this._cancellableGoTo(E,C,w)}_flipStationary(g){return null!==this._stationaryTimer||(this._stationaryTimer=setTimeout(()=>{this._stationaryTimer=null;const v=performance.now()-this._lastStationaryEventTimestamp;v<160&&(this._stationaryTimer=this._flipStationary(v))},g)),this._stationaryTimer}_getDefaultViewpoint(){const{constraints:g,initialExtent:v,map:E,padding:C,size:w}=this;if(!g)return null;const I=E&&"initialViewProperties"in E?E.initialViewProperties:void 0,A={zoom:this._get("zoom"),scale:this._get("scale"),center:this._get("center"),extent:this._get("extent"),rotation:this._get("rotation"),viewpoint:this._get("viewpoint"),spatialReference:this._userSpatialReference};g.effectiveLODs?-1!==A.zoom&&(A.scale=g.zoomToScale(A.zoom)):A.zoom=-1;let G=null,pe=null,Ee=0;const Ue=A.viewpoint&&A.viewpoint.rotation,Be=A.viewpoint&&A.viewpoint.targetGeometry;(0,kt.pC)(Be)&&("extent"===Be.type?G=Be:"point"===Be.type&&(pe=Be,Ee=A.viewpoint.scale));const lt=A.extent||G||(0,kt.Wg)(I?.viewpoint?.targetGeometry)?.extent||v,ht=A.center||pe||lt?.center,wt=A.scale||Ee||I?.viewpoint?.scale||lt&&(0,Ls.EK)(lt,[w[0]-C.left-C.right,w[1]-C.top-C.bottom]);return ht&&wt?new Xi.Z({targetGeometry:ht,scale:wt,rotation:A.rotation||Ue||I?.viewpoint?.rotation||0}):null}_gotoAnimated(g,v){const E=this._gotoTask,C=this.animation;if(!C)return Promise.resolve();const w=g.then(I=>{if((0,Lr.k_)(v),E!==this._gotoTask)throw new Jn.Z("view:goto-interrupted","Goto was interrupted");return C.update(I),this.animationManager.animate(C,this.viewpoint,v),C.when().then(()=>{},()=>{})});return this._cancellableGoTo(E,C,w)}_project(g,v){const E=g&&g.targetGeometry||g;if(!v)return g;if(!E)return null;if(v.imageCoordinateSystem||E.spatialReference?.imageCoordinateSystem||(0,Iv.fS)(v,E.spatialReference))return g;const C=(0,ha.iV)(E,v);if(!C)throw new Jn.Z("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:E,spatialReference:v});return function GZ(g){return g&&"esri.Viewpoint"===g.declaredClass}(g)?(g.targetGeometry=C,g):C}_resizeHandler(g){if(!this.ready)return;const v=this.state;let E=this.state.paddedViewState.viewpoint;const C=this.state.paddedViewState.size.concat();v.size=[g.width,g.height],(0,Ls.SI)(E,E,C,this.state.paddedViewState.size,this.resizeAlign),E=this.constraints.constrain(E,void 0),this.state.viewpoint=E}_startup(){this.timeline.begin("MapView Startup");const g=this._getDefaultViewpoint(),v=g.targetGeometry;try{this._project(g,this.spatialReference)}catch(G){Vr.Z.getLogger(this.declaredClass).warn(new KP.Z("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:v.toJSON(),spatialReference:this.spatialReference,error:G})),g.targetGeometry=this.defaultsFromMap.extent?.center||new Fi.Z({x:0,y:0,spatialReference:this.spatialReference})}this.constraints?.fit(g),this._set("state",new W$({padding:this._get("padding"),size:this.size,viewpoint:g})),this.graphics.owner=this;const E=new pA(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this._stage=E,this._magnifierView=new _A,this._magnifierView.magnifier=this.magnifier;const C=new yA({view:this});this._set("labelManager",C);const w=new P$({view:this});this._set("animationManager",w);const I=new gA({view:this,animationManager:w});this._set("mapViewNavigation",I),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on("change",()=>this._updateStageChildren()),E.on("post-render",()=>this._set("rendering",E.renderRequested)),E.on("will-render",()=>this._set("rendering",E.renderRequested)),E.on("webgl-error",G=>this.fatalError=G.error),(0,rn.YP)(()=>this.stationary,G=>E.stationary=G,rn.tX),(0,rn.YP)(()=>this.background,G=>{E.background=G,this._magnifierView.background=G},rn.tX),(0,rn.YP)(()=>this.magnifier,G=>this._magnifierView.magnifier=G,rn.tX),(0,rn.YP)(()=>this.renderingOptions,G=>E.renderingOptions=G,rn.tX),(0,rn.YP)(()=>this.highlightOptions,G=>E.highlightOptions=G,rn.tX),(0,rn.YP)(()=>this.state.id,()=>E.state=this.state,rn.tX)],"map-view"),this._updateStageChildren();const A=this._resolveWhenReady;this._resolveWhenReady=[],A.forEach(G=>G(this)),this.timeline.end("MapView Startup"),this.frameTask&&this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.handles.remove("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask&&this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set("ready",!1);const{center:[g,v],spatialReference:E,rotation:C,scale:w}=this.state.paddedViewState,I=new Fi.Z({x:g,y:v,spatialReference:E});this._set("viewpoint",null),this._set("extent",null),this._set("center",I),this._set("zoom",-1),this._set("rotation",C),this._set("scale",w),this._set("spatialReference",E),this._set("state",null),this.animation=null}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach(v=>{this._stage.addChild(v.container)}),this._stage.addChild(this.graphicsView.container),this._stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const g=new V$.Z(cB.Z.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",g);const v=new fA({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new mA(g)});this.frameTask.graphicsView=v,this._set("graphicsView",v)}_destroySpatialReferenceDependentProperties(){const g=this.graphicsView;this._set("graphicsView",null),this.frameTask.graphicsView=null,g.destroy(),this._set("featuresTilingScheme",null)}_spatialReferenceChanged(g){if(!this.ready)return;this.frameTask.stop();for(const G of this.allLayerViews)G.processDetach();this._destroySpatialReferenceDependentProperties();const v=this.state.paddedViewState.clone();if((0,kt.Wi)(this._scaleBeforeChangingSpatialReference))this._scaleBeforeChangingSpatialReference=v.scale;else{const G=v.viewpoint.clone();G.scale=this._scaleBeforeChangingSpatialReference,v.viewpoint=G}const E=v.clone(),[C,w]=v.center;let I=null;try{I=this._project(new Fi.Z({x:C,y:w,spatialReference:v.spatialReference}),g)}catch(G){(0,ha.kR)()||Vr.Z.getLogger(this.declaredClass).warn(new KP.Z("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:I?.toJSON(),spatialReference:g,error:G}))}I||(I=new Fi.Z({x:0,y:0,spatialReference:g}));const A=(0,Ls.o2)(new Xi.Z({targetGeometry:new Fi.Z,scale:0,rotation:0}),v.viewpoint,I);E.viewpoint=A;try{const pe=[v.size[0]/2,v.size[1]/2],Ee=[pe[0]+20,pe[1]],Ue=v.toMap([0,0],Ee),{x:Be,y:lt}=this._project(new Fi.Z({x:Ue[0],y:Ue[1],spatialReference:v.spatialReference}),g);Ue[0]=Be,Ue[1]=lt,E.toScreen(Ue,Ue);const ht=(0,Ls.dI)(pe,Ue,Ee),wt=Math.hypot(Ue[0]-pe[0],Ue[1]-pe[1])/20;!Number.isFinite(wt)||Math.abs(wt)>4?(A.rotation=0,A.targetGeometry=new Fi.Z({x:0,y:0,spatialReference:g})):(A.scale*=wt,A.scale>(0,Ga.Z)("mapview-srswitch-adjust-rotation-scale-threshold")?A.rotation=0:A.rotation+=Number.isFinite(ht)?ht:0)}catch{}this._get("constraints").constrain(A,void 0),this._get("state").viewpoint=A,this._stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const G of this.allLayerViews)G.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}};yr.type="2d",(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],yr.prototype,"animationManager",void 0),(0,Ae._)([(0,Fe.Cb)({constructOnly:!0})],yr.prototype,"deactivatedWebGLExtensions",void 0),(0,Ae._)([(0,Fe.Cb)({constructOnly:!0})],yr.prototype,"debugWebGLExtensions",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],yr.prototype,"featuresTilingScheme",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],yr.prototype,"fullOpacity",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],yr.prototype,"graphicsTileStore",null),(0,Ae._)([(0,Fe.Cb)()],yr.prototype,"graphicsView",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],yr.prototype,"state",void 0),(0,Ae._)([(0,Fe.Cb)()],yr.prototype,"initialExtentRequired",null),(0,Ae._)([(0,Fe.Cb)()],yr.prototype,"labelManager",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],yr.prototype,"resourceManager",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],yr.prototype,"textureManager",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],yr.prototype,"mapViewNavigation",void 0),(0,Ae._)([(0,Fe.Cb)({constructOnly:!0})],yr.prototype,"renderCanvas",void 0),(0,Ae._)([(0,Fe.Cb)()],yr.prototype,"renderingOptions",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],yr.prototype,"rendering",void 0),(0,Ae._)([(0,Fe.Cb)({constructOnly:!0})],yr.prototype,"supersampleScreenshotsEnabled",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],yr.prototype,"supportsGround",void 0),(0,Ae._)([(0,Fe.Cb)()],yr.prototype,"_stationaryTimer",void 0),(0,Ae._)([(0,Fe.Cb)()],yr.prototype,"_defaultsFromMapSettings",null),(0,Ae._)([(0,Fe.Cb)()],yr.prototype,"_pePromise",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],yr.prototype,"typeSpecificPreconditionsReady",null),(0,Ae._)([(0,Fe.Cb)()],yr.prototype,"animation",null),(0,Ae._)([(0,Fe.Cb)({type:ym})],yr.prototype,"background",null),(0,Ae._)([(0,Fe.Cb)({value:null,type:Fi.Z,dependsOn:["state.id","ready"]})],yr.prototype,"center",null),(0,Ae._)([(0,Fe.Cb)({type:G2})],yr.prototype,"constraints",null),(0,Ae._)([(0,Fe.Cb)({value:null,type:L0.Z,dependsOn:["state.id","ready"]})],yr.prototype,"extent",null),(0,Ae._)([(0,Fe.Cb)()],yr.prototype,"floors",void 0),(0,Ae._)([(0,Fe.Cb)({type:nA.Z})],yr.prototype,"highlightOptions",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],yr.prototype,"inputManager",void 0),(0,Ae._)([(0,Fe.Cb)()],yr.prototype,"map",void 0),(0,Ae._)([(0,Fe.Cb)({value:{top:0,right:0,bottom:0,left:0},cast:g=>({top:0,right:0,bottom:0,left:0,...g})})],yr.prototype,"padding",null),(0,Ae._)([(0,Fe.Cb)()],yr.prototype,"resizeAlign",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0,dependsOn:["state.id"]})],yr.prototype,"resolution",null),(0,Ae._)([(0,Fe.Cb)({value:0,type:Number,dependsOn:["state.id","ready"]})],yr.prototype,"rotation",null),(0,Ae._)([(0,Fe.Cb)({value:0,type:Number,dependsOn:["state.id","ready"]})],yr.prototype,"scale",null),(0,Ae._)([(0,Fe.Cb)({constructOnly:!0})],yr.prototype,"spatialReferenceLocked",void 0),(0,Ae._)([(0,Fe.Cb)()],yr.prototype,"stationary",null),(0,Ae._)([(0,Fe.Cb)({type:rA.T,readOnly:!0})],yr.prototype,"timeline",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],yr.prototype,"type",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],yr.prototype,"updating",null),(0,Ae._)([(0,Fe.Cb)({value:null,type:Xi.Z,dependsOn:["state.id","ready"]})],yr.prototype,"viewpoint",null),(0,Ae._)([(0,Fe.Cb)({value:-1,dependsOn:["state.id","ready"]})],yr.prototype,"zoom",null),(0,Ae._)([(0,Fe.Cb)({readOnly:!0})],yr.prototype,"navigating",null),(0,Ae._)([(0,Fe.Cb)({type:hA})],yr.prototype,"ui",void 0),yr=(0,Ae._)([(0,Pn.j)("esri.views.MapView")],yr);const kZ=yr;function y1(g){const v=g.getObjectId();return v?`${g.layer?.uid??g.sourceLayer?.uid??"MapView"}/${v}`:`"MapView/${g.uid}`}function EA(g,v,E,C,w){return I=>{if(I instanceof gu.Z){if(I.layer===g)w?.();else{const A=g.allLayerViews.find(G=>G.layer===I.layer);A&&C?.(A)}E(y1(I))}else{const A=g.allLayerViews.find(G=>G.layer===I);A&&v(A)}}}function bA(g,v){if(g)if((0,wv.TW)(g))for(const E of g)if((0,wv.TW)(E))for(const C of E)v(C);else v(E);else v(g)}var CA=M(99959),Zl=M(68653),JZ=M(52489),YZ=M(29338),QZ=M(20761),gm=M(84687),MA=M(55463),vs=M(37281),DA=M(39636),SA=M(77294);let Kl=class extends cs.wq{constructor(g){super(g),this.facilityIdField=null,this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],Kl.prototype,"facilityIdField",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],Kl.prototype,"layerId",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],Kl.prototype,"nameField",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],Kl.prototype,"siteIdField",void 0),(0,Ae._)([(0,Fe.Cb)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Kl.prototype,"sublayerId",void 0),Kl=(0,Ae._)([(0,Pn.j)("esri.layers.support.FacilityLayerInfo")],Kl);const XZ=Kl;let Go=class extends cs.wq{constructor(g){super(g),this.facilityIdField=null,this.layerId=null,this.levelIdField=null,this.levelNumberField=null,this.longNameField=null,this.shortNameField=null,this.sublayerId=null,this.verticalOrderField=null}};(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],Go.prototype,"facilityIdField",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],Go.prototype,"layerId",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],Go.prototype,"levelIdField",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],Go.prototype,"levelNumberField",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],Go.prototype,"longNameField",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],Go.prototype,"shortNameField",void 0),(0,Ae._)([(0,Fe.Cb)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Go.prototype,"sublayerId",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],Go.prototype,"verticalOrderField",void 0),Go=(0,Ae._)([(0,Pn.j)("esri.layers.support.LevelLayerInfo")],Go);const qZ=Go;let ju=class extends cs.wq{constructor(g){super(g),this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],ju.prototype,"layerId",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],ju.prototype,"nameField",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],ju.prototype,"siteIdField",void 0),(0,Ae._)([(0,Fe.Cb)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],ju.prototype,"sublayerId",void 0),ju=(0,Ae._)([(0,Pn.j)("esri.layers.support.SiteLayerInfo")],ju);const eK=ju;let _d=class extends cs.wq{constructor(g){super(g),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};(0,Ae._)([(0,Fe.Cb)({type:qZ,json:{write:!0}})],_d.prototype,"levelLayer",void 0),(0,Ae._)([(0,Fe.Cb)({type:XZ,json:{write:!0}})],_d.prototype,"facilityLayer",void 0),(0,Ae._)([(0,Fe.Cb)({type:eK,json:{write:!0}})],_d.prototype,"siteLayer",void 0),_d=(0,Ae._)([(0,Pn.j)("esri.support.MapFloorInfo")],_d);const tK=_d;var fp=M(2076);let vd=class extends((0,Xa.J)(cs.wq)){constructor(g){super(g),this.expression=null,this.returnType="string",this.title=null}};(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:{isRequired:!0}}})],vd.prototype,"expression",void 0),(0,Ae._)([(0,Fe.Cb)({type:["number","string"],json:{write:!0}})],vd.prototype,"returnType",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],vd.prototype,"title",void 0),vd=(0,Ae._)([(0,Pn.j)("esri.webdoc.geotriggersInfo.ExpressionInfo")],vd);const OA=vd,_m=new fp.X({deviceLocation:"device-location"});let mp=class extends((0,Xa.J)(cs.wq)){constructor(g){super(g),this.filterExpression=null,this.type="device-location"}};(0,Ae._)([(0,Fe.Cb)({type:OA,json:{write:!0}})],mp.prototype,"filterExpression",void 0),(0,Ae._)([(0,Fe.Cb)({type:_m.apiValues,readOnly:!0,json:{type:_m.jsonValues,read:_m.read,write:_m.write}})],mp.prototype,"type",void 0),mp=(0,Ae._)([(0,Pn.j)("esri.webdoc.geotriggersInfo.DeviceLocationFeed")],mp);const nK=mp;var rK=M(91179);let yp=class extends((0,Xa.J)(cs.wq)){constructor(g){super(g),this.geometry=null,this.where=null}};(0,Ae._)([(0,Fe.Cb)({types:UW.qM,json:{read:rK.im,write:!0}})],yp.prototype,"geometry",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],yp.prototype,"where",void 0),yp=(0,Ae._)([(0,Pn.j)("esri.webdoc.geotriggersInfo.FeatureFilter")],yp);const sK=yp;let Ed=class extends((0,Xa.J)(cs.wq)){constructor(g){super(g),this.layerId=null,this.layerUrl=null,this.type="feature-layer"}};(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:{overridePolicy(){return{isRequired:null===this.layerUrl}}}}})],Ed.prototype,"layerId",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:{overridePolicy(){return{isRequired:null===this.layerId}}}}})],Ed.prototype,"layerUrl",void 0),(0,Ae._)([(0,ka.J)({featureLayer:"feature-layer"},{readOnly:!0})],Ed.prototype,"type",void 0),Ed=(0,Ae._)([(0,Pn.j)("esri.webdoc.geotriggersInfo.FeatureLayerSource")],Ed);const iK=Ed;let Uu=class extends((0,Xa.J)(cs.wq)){constructor(g){super(g),this.fenceSource=null,this.filter=null,this.bufferDistance=null,this.type="features"}};(0,Ae._)([(0,Fe.Cb)({type:iK,json:{write:{isRequired:!0}}})],Uu.prototype,"fenceSource",void 0),(0,Ae._)([(0,Fe.Cb)({type:sK,json:{write:!0}})],Uu.prototype,"filter",void 0),(0,Ae._)([(0,Fe.Cb)({type:Number,json:{write:!0}})],Uu.prototype,"bufferDistance",void 0),(0,Ae._)([(0,ka.J)({features:"features"},{readOnly:!0})],Uu.prototype,"type",void 0),Uu=(0,Ae._)([(0,Pn.j)("esri.webdoc.geotriggersInfo.FeatureFenceParameters")],Uu);const oK=Uu;let vm=class extends((0,Xa.J)(cs.wq)){constructor(g){super(g),this.type="fence"}};(0,Ae._)([(0,ka.J)({fence:"fence"},{readOnly:!0})],vm.prototype,"type",void 0),vm=(0,Ae._)([(0,Pn.j)("esri.webdoc.geotriggersInfo.Geotrigger")],vm);const wA=vm;let gp=class extends((0,Xa.J)(cs.wq)){constructor(g){super(g),this.expressionInfo=null,this.requestedActions=null}};(0,Ae._)([(0,Fe.Cb)({type:OA,json:{write:!0}})],gp.prototype,"expressionInfo",void 0),(0,Ae._)([(0,Fe.Cb)({type:[String],json:{write:!0}})],gp.prototype,"requestedActions",void 0),gp=(0,Ae._)([(0,Pn.j)("esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions")],gp);const aK=gp,lK=new fp.X({enterContainsAndExitDoesNotContain:"enter-contains-and-exit-does-not-contain",enterContainsAndExitDoesNotIntersect:"enter-contains-and-exit-does-not-intersect",enterIntersectsAndExitDoesNotIntersect:"enter-intersects-and-exit-does-not-intersect"}),uK=new fp.X({useGeometry:"use-geometry",useGeometryWithAccuracy:"use-geometry-with-accuracy"}),Em=new fp.X({enter:"enter",enterOrExit:"enter-or-exit",exit:"exit"});let ko=class extends wA{constructor(g){super(g),this.enterExitRule="enter-contains-and-exit-does-not-intersect",this.feed=null,this.feedAccuracyMode="use-geometry",this.fenceNotificationRule=null,this.fenceParameters=null,this.name=null,this.notificationOptions=null,this.type="fence"}};(0,Ae._)([(0,ka.J)(lK)],ko.prototype,"enterExitRule",void 0),(0,Ae._)([(0,Fe.Cb)({type:nK,json:{write:{isRequired:!0}}})],ko.prototype,"feed",void 0),(0,Ae._)([(0,ka.J)(uK)],ko.prototype,"feedAccuracyMode",void 0),(0,Ae._)([(0,Fe.Cb)({type:Em.apiValues,json:{type:Em.jsonValues,read:Em.read,write:{writer:Em.write,isRequired:!0}}})],ko.prototype,"fenceNotificationRule",void 0),(0,Ae._)([(0,Fe.Cb)({type:oK,json:{write:{isRequired:!0}}})],ko.prototype,"fenceParameters",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],ko.prototype,"name",void 0),(0,Ae._)([(0,Fe.Cb)({type:aK,json:{write:!0}})],ko.prototype,"notificationOptions",void 0),(0,Ae._)([(0,ka.J)({fence:"fence"},{readOnly:!0})],ko.prototype,"type",void 0),ko=(0,Ae._)([(0,Pn.j)("esri.webdoc.geotriggersInfo.FenceGeotrigger")],ko);const cK={base:wA,key:"type",typeMap:{fence:ko}};let bm=class extends((0,Xa.J)(cs.wq)){constructor(g){super(g),this.geotriggers=null}};(0,Ae._)([(0,Fe.Cb)({types:[cK],json:{write:{isRequired:!0}}})],bm.prototype,"geotriggers",void 0),bm=(0,Ae._)([(0,Pn.j)("esri.webdoc.GeotriggersInfo")],bm);const dK=bm;var g1;let bd=g1=class extends cs.wq{constructor(g){super(g),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new g1((0,Yi.d9)({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};(0,Ae._)([(0,Fe.Cb)({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],bd.prototype,"activeRange",void 0),(0,Ae._)([(0,Fe.Cb)({type:[Number],json:{write:!0}})],bd.prototype,"currentRangeExtent",void 0),(0,Ae._)([(0,Fe.Cb)({type:[Number],json:{write:!0}})],bd.prototype,"fullRangeExtent",void 0),bd=g1=(0,Ae._)([(0,Pn.j)("esri.webdoc.RangeInfo")],bd);const _1=bd;var v1;let Ea=v1=class extends cs.wq{constructor(g){super(g),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new v1((0,Yi.d9)({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};(0,Ae._)([(0,Fe.Cb)({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],Ea.prototype,"enabled",void 0),(0,Ae._)([(0,Fe.Cb)({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],Ea.prototype,"longNames",void 0),(0,Ae._)([(0,Fe.Cb)({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],Ea.prototype,"minimized",void 0),(0,Ae._)([(0,Fe.Cb)({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],Ea.prototype,"pinnedLevels",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{read:{source:"site"},write:{target:"site"}}})],Ea.prototype,"site",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],Ea.prototype,"facility",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{read:{source:"level"},write:{target:"level"}}})],Ea.prototype,"level",void 0),Ea=v1=(0,Ae._)([(0,Pn.j)("esri.webdoc.widgets.FloorFilter")],Ea);const hK=Ea;var E1;const Cm=new fp.X({slider:"slider",picker:"picker"});let Cd=E1=class extends cs.wq{constructor(g){super(g),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new E1({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};(0,Ae._)([(0,Fe.Cb)({type:Cm.apiValues,nonNullable:!0,json:{type:Cm.jsonValues,default:null,read:{reader:Cm.read},write:{isRequired:!0,writer:Cm.write}}})],Cd.prototype,"interactionMode",void 0),(0,Ae._)([(0,Fe.Cb)({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const g=null!=this.stopInterval;return{enabled:!g,isRequired:!g}}}}})],Cd.prototype,"numStops",void 0),(0,Ae._)([(0,Fe.Cb)({type:Number,json:{write:{overridePolicy(){return{isRequired:null==this.numStops}}}}})],Cd.prototype,"stopInterval",void 0),Cd=E1=(0,Ae._)([(0,Pn.j)("esri.webdoc.widgets.Range")],Cd);const pK=Cd;var C1,IA=M(20849),b1=M(94113);let ei=C1=class extends cs.wq{constructor(g){super(g),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(g){if(!g)return;const v=null!=g[0]?new Date(g[0]):null,E=null!=g[1]?new Date(g[1]):null;return new sd.Z({start:v,end:E})}writeCurrentTimeExtent(g,v,E){g&&(0,b1.RB)(E,[(0,kt.pC)(g.start)?g.start.getTime():null,(0,kt.pC)(g.end)?g.end.getTime():null],v)}readFullTimeExtent(g,v){const E=v.properties;if(!E)return;const C=null!=E.endTime?new Date(E.endTime):null,w=null!=E.startTime?new Date(E.startTime):null;return new sd.Z({start:w,end:C})}writeFullTimeExtent(g,v){if(!g)return;const E=v.properties=v.properties||{},C=g.end,w=g.start;C&&(E.endTime=(0,kt.pC)(C)?C.getTime():null),w&&(E.startTime=(0,kt.pC)(w)?w.getTime():null)}readStopInterval(g,v,E){return g?IA.Z.fromJSON({value:g.interval,unit:g.units},E):null}writeStopInterval(g,v,E,C){if(!g)return;const w=g.toJSON(C);(0,b1.RB)(E,{interval:w.value,units:w.unit},v)}readStops(g){return g&&g.length?g.map(v=>new Date(v)):null}writeStops(g,v,E){g&&g.length&&(0,b1.RB)(E,g.map(C=>C.getTime()),v)}clone(){return new C1((0,Yi.d9)({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};(0,Ae._)([(0,Fe.Cb)({type:sd.Z,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],ei.prototype,"currentTimeExtent",void 0),(0,Ae._)([(0,Zl.r)("currentTimeExtent")],ei.prototype,"readCurrentTimeExtent",null),(0,Ae._)([(0,mo.c)("currentTimeExtent")],ei.prototype,"writeCurrentTimeExtent",null),(0,Ae._)([(0,Fe.Cb)({type:sd.Z,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],ei.prototype,"fullTimeExtent",void 0),(0,Ae._)([(0,Zl.r)("fullTimeExtent")],ei.prototype,"readFullTimeExtent",null),(0,Ae._)([(0,mo.c)("fullTimeExtent")],ei.prototype,"writeFullTimeExtent",null),(0,Ae._)([(0,Fe.Cb)({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],ei.prototype,"loop",void 0),(0,Ae._)([(0,Fe.Cb)({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){const E=!(this.stopInterval||this.stops?.length);return{enabled:E,isRequired:E}}}}})],ei.prototype,"numStops",void 0),(0,Ae._)([(0,Fe.Cb)({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],ei.prototype,"numThumbs",void 0),(0,Ae._)([(0,Fe.Cb)({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],ei.prototype,"stopDelay",void 0),(0,Ae._)([(0,Fe.Cb)({type:IA.Z,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy(){const v=!!this.stops?.length;return{enabled:!v,isRequired:!(null!=this.numStops||v)}}}}})],ei.prototype,"stopInterval",void 0),(0,Ae._)([(0,Zl.r)("stopInterval")],ei.prototype,"readStopInterval",null),(0,Ae._)([(0,mo.c)("stopInterval")],ei.prototype,"writeStopInterval",null),(0,Ae._)([(0,Fe.Cb)({type:[Date],json:{read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:null==this.numStops&&!this.stopInterval}}}}})],ei.prototype,"stops",void 0),(0,Ae._)([(0,Zl.r)("stops")],ei.prototype,"readStops",null),(0,Ae._)([(0,mo.c)("stops")],ei.prototype,"writeStops",null),ei=C1=(0,Ae._)([(0,Pn.j)("esri.webdoc.widgets.TimeSlider")],ei);const fK=ei;var M1;let Md=M1=class extends cs.wq{constructor(g){super(g),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new M1((0,Yi.d9)({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};(0,Ae._)([(0,Fe.Cb)({type:pK,json:{write:!0}})],Md.prototype,"range",void 0),(0,Ae._)([(0,Fe.Cb)({type:fK,json:{write:!0}})],Md.prototype,"timeSlider",void 0),(0,Ae._)([(0,Fe.Cb)({type:hK,json:{write:!0}})],Md.prototype,"floorFilter",void 0),Md=M1=(0,Ae._)([(0,Pn.j)("esri.webdoc.Widgets")],Md);const mK=Md,yK={width:600,height:400};var _K=M(32584);function PA(g){return{enabled:!!g?.length}}var D1,TA=M(85);let Dd=D1=class extends cs.wq{constructor(g){super(g),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new D1({exactMatch:this.exactMatch,type:this.type,name:this.name})}};(0,Ae._)([(0,Fe.Cb)({type:Boolean,json:{write:!0}})],Dd.prototype,"exactMatch",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],Dd.prototype,"name",void 0),(0,Ae._)([(0,ka.J)(TA.v)],Dd.prototype,"type",void 0),Dd=D1=(0,Ae._)([(0,Pn.j)("esri.webdoc.applicationProperties.SearchLayerField")],Dd);const vK=Dd;var S1;let Sd=S1=class extends cs.wq{constructor(g){super(g),this.field=null,this.id=null,this.subLayer=null}clone(){return new S1((0,Yi.d9)({field:this.field,id:this.id,subLayer:this.subLayer}))}};(0,Ae._)([(0,Fe.Cb)({type:vK,json:{write:{isRequired:!0}}})],Sd.prototype,"field",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:{isRequired:!0}}})],Sd.prototype,"id",void 0),(0,Ae._)([(0,Fe.Cb)({type:Vc.z8,json:{write:!0}})],Sd.prototype,"subLayer",void 0),Sd=S1=(0,Ae._)([(0,Pn.j)("esri.webdoc.applicationProperties.SearchLayer")],Sd);const EK=Sd;var O1;let Od=O1=class extends cs.wq{constructor(g){super(g),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new O1({exactMatch:this.exactMatch,type:this.type,name:this.name})}};(0,Ae._)([(0,Fe.Cb)({type:Boolean,json:{write:!0}})],Od.prototype,"exactMatch",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],Od.prototype,"name",void 0),(0,Ae._)([(0,ka.J)(TA.v)],Od.prototype,"type",void 0),Od=O1=(0,Ae._)([(0,Pn.j)("esri.webdoc.applicationProperties.SearchTableField")],Od);const bK=Od;var w1;let _p=w1=class extends cs.wq{constructor(g){super(g),this.field=null,this.id=null}clone(){return new w1((0,Yi.d9)({field:this.field,id:this.id}))}};(0,Ae._)([(0,Fe.Cb)({type:bK,json:{write:{isRequired:!0}}})],_p.prototype,"field",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:{isRequired:!0}}})],_p.prototype,"id",void 0),_p=w1=(0,Ae._)([(0,Pn.j)("esri.webdoc.applicationProperties.SearchTable")],_p);const CK=_p;var I1;const AA=_s.Z.ofType(EK),xA=_s.Z.ofType(CK);let ba=I1=class extends cs.wq{constructor(g){super(g),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new AA,this.tables=new xA}readAddressSearchEnabled(g){return!g}writeAddressSearchEnabled(g,v,E){v[E]=!g}clone(){return new I1((0,Yi.d9)({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};(0,Ae._)([(0,Fe.Cb)({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],ba.prototype,"addressSearchEnabled",void 0),(0,Ae._)([(0,Zl.r)("addressSearchEnabled")],ba.prototype,"readAddressSearchEnabled",null),(0,Ae._)([(0,mo.c)("addressSearchEnabled")],ba.prototype,"writeAddressSearchEnabled",null),(0,Ae._)([(0,Fe.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],ba.prototype,"enabled",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:!0}})],ba.prototype,"hintText",void 0),(0,Ae._)([(0,Fe.Cb)({type:AA,json:{write:{overridePolicy:PA},origins:{"web-scene":{write:{isRequired:!0}}}}})],ba.prototype,"layers",void 0),(0,Ae._)([(0,Fe.Cb)({type:xA,json:{read:!0,write:{overridePolicy:PA}}})],ba.prototype,"tables",void 0),ba=I1=(0,Ae._)([(0,Pn.j)("esri.webdoc.applicationProperties.Search")],ba);const MK=ba;var P1;let Dm=P1=class extends cs.wq{constructor(g){super(g),this.search=null}clone(){return new P1((0,Yi.d9)({search:this.search}))}};(0,Ae._)([(0,Fe.Cb)({type:MK,json:{write:!0}})],Dm.prototype,"search",void 0),Dm=P1=(0,Ae._)([(0,Pn.j)("esri.webdoc.applicationProperties.Viewing")],Dm);const DK=Dm;var T1;let wd=T1=class extends cs.wq{constructor(g){super(g),this.editing=null,this.offline=null,this.viewing=null}clone(){return new T1((0,Yi.d9)({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};(0,Ae._)([(0,Fe.Cb)({json:{write:!0}})],wd.prototype,"editing",void 0),(0,Ae._)([(0,Fe.Cb)({json:{write:!0}})],wd.prototype,"offline",void 0),(0,Ae._)([(0,Fe.Cb)({type:DK,json:{write:!0}})],wd.prototype,"viewing",void 0),wd=T1=(0,Ae._)([(0,Pn.j)("esri.webmap.ApplicationProperties")],wd);const SK=wd;var A1;let Fu=A1=class extends cs.wq{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}clone(){return new A1({url:this.url})}};var x1;(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:{isRequired:!0}}})],Fu.prototype,"url",void 0),Fu=A1=(0,Ae._)([(0,Pn.j)("esri.webdoc.support.SlideThumbnail")],Fu);let Ca=x1=class extends((0,ed.IG)(cs.wq)){constructor(g){super(g),this.name=null,this.thumbnail=new Fu,this.timeExtent=null}castThumbnail(g){return"string"==typeof g?new Fu({url:g}):(0,Vc.se)(Fu,g)}set viewpoint(g){const{targetGeometry:v,scale:E}=g;(0,kt.pC)(v)&&"point"===v.type&&(0,kt.Wi)(E)&&Vr.Z.getLogger(this.declaredClass).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",g),this._set("viewpoint",g)}readViewpoint(g,v){const{extent:E,viewpoint:C}=v;return Xi.Z.fromJSON(C||{targetGeometry:E})}writeViewpoint(g,v,E,C){if(!g)return;const{targetGeometry:w}=g;if((0,kt.pC)(w)&&"extent"!==w.type){const I="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";C?.messages?C.messages.push(new Jn.Z("property:unsupported",I)):Vr.Z.getLogger(this.declaredClass).error(I)}else(0,kt.pC)(w)&&(v.extent=w.toJSON()),v[E]=g.toJSON()}clone(){return new x1((0,Yi.d9)({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};(0,Ae._)([(0,Fe.Cb)({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],Ca.prototype,"name",void 0),(0,Ae._)([(0,Fe.Cb)({type:Fu,json:{write:{overridePolicy:g=>({enabled:!(!g||!g.url)})}}})],Ca.prototype,"thumbnail",void 0),(0,Ae._)([(0,Qi.p)("thumbnail")],Ca.prototype,"castThumbnail",null),(0,Ae._)([(0,Fe.Cb)({type:sd.Z,json:{write:!0}})],Ca.prototype,"timeExtent",void 0),(0,Ae._)([(0,Fe.Cb)({type:Xi.Z,nonNullable:!0,json:{write:!0}})],Ca.prototype,"viewpoint",null),(0,Ae._)([(0,Zl.r)("viewpoint",["extent","viewpoint"])],Ca.prototype,"readViewpoint",null),(0,Ae._)([(0,mo.c)("viewpoint")],Ca.prototype,"writeViewpoint",null),Ca=x1=(0,Ae._)([(0,Pn.j)("esri.webmap.Bookmark")],Ca);const OK=Ca;var R1;let Nu=R1=class extends Hr.Z{constructor(g){super(g),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.viewpoint=null}clone(){return new R1((0,Yi.d9)({background:this.background,rangeInfo:this.rangeInfo,spatialReference:this.spatialReference,viewpoint:this.viewpoint}))}};(0,Ae._)([(0,Fe.Cb)({type:ym})],Nu.prototype,"background",void 0),(0,Ae._)([(0,Fe.Cb)({type:_1})],Nu.prototype,"rangeInfo",void 0),(0,Ae._)([(0,Fe.Cb)({type:id.Z})],Nu.prototype,"spatialReference",void 0),(0,Ae._)([(0,Fe.Cb)({type:Xi.Z})],Nu.prototype,"viewpoint",void 0),Nu=R1=(0,Ae._)([(0,Pn.j)("esri.webmap.InitialViewProperties")],Nu);const Sm=Nu;var wK=M(10349);class vp extends wK.G{constructor(v,E){super(v,E,"webmap")}}const Om=new vp(2,27),L1="Web Map",RA=_s.Z.ofType(OK),IK=_s.Z.ofType(QZ.default),Ep=new Map;Ep.set("image/jpeg","jpeg"),Ep.set("image/jpg","jpg"),Ep.set("image/png","png"),Ep.set("image/gif","gif");const LA=vs.Kz.JSAPI,jA="CollectorDisabled",UA="Collector",FA="Data Editing",NA="OfflineDisabled",BA="Offline",WA="Workforce Project",VA="Workforce Worker",$A="Workforce Dispatcher",ZA=vs.Kz.DEVELOPER_BASEMAP,KA="UtilityNetwork",xK=["NatGeo_World_Map","Ocean_Basemap","USA_Topo_Maps","World_Imagery","World_Street_Map","World_Terrain_Base","World_Topo_Map","World_Hillshade","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Reference/World_Boundaries_and_Places","Reference/World_Reference_Overlay","Reference/World_Transportation"].map(g=>g.toLowerCase());let ms=class extends((0,CA.R)(x0.Z.LoadableMixin((0,BE.v)(f2)))){constructor(g){super(g),this._isAuthoringAppSetByUser=!1,this._isAuthoringAppVersionSetByUser=!1,this._thumbnailFilename=null,this._updateFromPromise=null,this._resourceReferences={portalItem:null,paths:[]},this.applicationProperties=null,this.bookmarks=new RA,this.floorInfo=null,this.geotriggersInfo=null,this.initialViewProperties=new Sm,this.portalItem=null,this.presentation=null,this.sourceVersion=null,this.widgets=null,this.utilityNetworks=null,this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){const g=this.portalItem;this.portalItem=null,g?.destroy()}initialize(){if(this.when().catch(g=>{Vr.Z.getLogger(this.declaredClass).error("#load()","Failed to load web map",g)}),this.resourceInfo){let g;try{g=this._validateJSON(this.resourceInfo)}catch(v){return void this.addResolvingPromise(Promise.reject(v))}this.read(g)}}set authoringApp(g){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",g)}writeAuthoringApp(g,v){v.authoringApp=g&&this._isAuthoringAppSetByUser?g:LA}set authoringAppVersion(g){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",g)}writeAuthoringAppVersion(g,v){v.authoringAppVersion=g&&this._isAuthoringAppVersionSetByUser?g:LW.i8}readInitialViewProperties(g,v){const E=new Sm;v.background&&(E.background=ym.fromJSON(v.background));const C=v.initialState?.viewpoint;return C&&(C.rotation&&vp.parse(v.version||"","webmap").lessThan(2,20)&&"ArcGIS Pro"===v.authoringApp&&(C.rotation*=-1),E.viewpoint=Xi.Z.fromJSON(C)),v.mapRangeInfo&&(E.rangeInfo=_1.fromJSON(v.mapRangeInfo)),v.spatialReference&&(E.spatialReference=id.Z.fromJSON(v.spatialReference)),E}writeInitialViewProperties(g,v,E,C){if(!g)return;const w=g.background;w&&w.color&&(v.background=w.write({},C)),g.viewpoint&&(v.initialState={viewpoint:g.viewpoint.write({},C)}),g.rangeInfo&&(v.mapRangeInfo=g.rangeInfo.toJSON(C)),g.spatialReference&&(v.spatialReference=g.spatialReference.write({},C))}writeLayers(g,v,E,C){v[E]=this._writeLayers(g,C,"operational-layers")}readSourceVersion(g,v){const[E,C]=v.version.split(".");return new vp(parseInt(E,10),parseInt(C,10))}writeSourceVersion(g,v,E){v[E]=`${Om.major}.${Om.minor}`}writeTables(g,v,E,C){const w=this._writeLayers(g,C,"tables");w.length&&(v[E]=w)}get thumbnailUrl(){return this.portalItem&&this.portalItem.thumbnailUrl||null}set thumbnailUrl(g){g?(this._override("thumbnailUrl",g),this._thumbnailFilename=this._generateCustomThumbnailFilename(g)):this._clearThumbnailOverride()}load(g){return this.addResolvingPromise(this._loadFromSource()),Promise.resolve(this)}loadAll(){return(0,EP.G)(this,g=>{g(this.ground,this.basemap,this.layers,this.tables)})}read(g,v){v={...v,origin:"web-map"};const E=this._getAuthoringPropsState();(0,YZ.$)(this,g,C=>super.read(g,C),v),this._restoreAuthoringPropsFromState(E)}write(g,v){if("loaded"!==this.loadStatus){const E=new Jn.Z("webmap:not-loaded","Web map must be loaded before it can be serialized");throw Vr.Z.getLogger(this.declaredClass).error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),E}return this._removeDanglingLayerRefs(),v={...v,origin:"web-map",restrictedWebMapWriting:!0,webmap:this},super.write(g,v)}save(g){var v=this;return(0,Nn.Z)(function*(){g=g||{},v._validateItem();const E=M.e(1404).then(M.bind(M,71404));yield v._updateFromPromise,yield v.load(),yield v._loadLayerContainers(),yield v._beforeSave(),yield v._validateMap();const C=v.portalItem,w=(0,Ha.mN)(C.itemUrl),I={origin:"web-map",messages:[],writtenProperties:[],url:w,portal:C.portal||gm.Z.getDefault(),portalItem:C,verifyItemRelativeUrls:w?{rootPath:w.path,writtenUrls:[]}:null,blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},A=v.write({},I);return yield Promise.all(I.resources.pendingOperations),v._validateJSONForWriting(I,g),yield v._updateItemProperties(C),yield v._updateItem(C,A,I),yield Promise.all([v._updateItemThumbnail(),E.then(({saveResources:G})=>G(v._resourceReferences,I,null))]),C})()}saveAs(g,v){var E=this;return(0,Nn.Z)(function*(){v=v||{};const C=E._getPortalItem(g),w=M.e(1404).then(M.bind(M,71404));yield E._updateFromPromise,yield E.load(),yield E._loadLayerContainers(),yield E._beforeSave(),yield E._validateMap();const I={origin:"web-map",messages:[],writtenProperties:[],url:null,portal:C.portal,portalItem:C,blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},A=E.write({},I);yield Promise.all(I.resources.pendingOperations),E._validateJSONForWriting(I,v),yield E._updateItemPropertiesForSaveAs(C);const G=E._getThumbnailState();return(yield E._createItem(C,A,I,v))&&(E._resourceReferences.portalItem=C),E._restoreThumbnailFromState(G),yield Promise.all([E._updateItemThumbnail(),w.then(({saveResources:pe})=>pe(E._resourceReferences,I,null))]),C})()}updateFrom(g,v){var E=this;return(0,Nn.Z)(function*(){const C=E._updateFromInternal(g,v);E._updateFromPromise=C,yield C,C===E._updateFromPromise&&(E._updateFromPromise=null)})()}getLayerJSONFromResourceInfo(g){const v=this.resourceInfo;return this._collectAllLayersJSON([...v?.baseMap?.baseMapLayers||[],...v?.operationalLayers||[],...this.basemap?.resourceInfo?.data?.baseMapLayers||[]]).find(E=>E.id===g.id)}_collectAllLayersJSON(g){return g.reduce((v,E)=>(v.push(E),"GroupLayer"===E.layerType&&(v=v.concat(this._collectAllLayersJSON(E.layers||[]))),v),[])}_writeLayers(g,v,E){return v={...v,layerContainerType:E},g.map(C=>(0,kt.Wg)((0,_K.Nw)(C,"tables"===E?null:this.getLayerJSONFromResourceInfo(C),v))).filter(Boolean).toArray()}_loadFromSource(){return this.resourceInfo?this._loadFromJSON(this.resourceInfo,{origin:"web-map"}):this.portalItem&&this.portalItem.id?this._loadFromItem(this.portalItem):Promise.resolve()}_loadFromItem(g){var v=this;return(0,Nn.Z)(function*(){if(yield g.load().catch(w=>{throw new Jn.Z("webmap:load-portal-item","Failed to load portal item",{error:w})}),"Web Map"!==g.type)throw new Jn.Z("webmap:invalid-portal-item",`Invalid portal item type '${g.type}', expected 'Web Map'`,{type:g.type});const E=yield g.fetchData();v.resourceInfo=E;const C={origin:"web-map",url:(0,Ha.mN)(g.itemUrl),portal:g.portal||gm.Z.getDefault(),portalItem:g,readResourcePaths:[]};return yield v._readAndLoadFromJSON(E,C),v._resourceReferences={portalItem:g,paths:C.readResourcePaths??[]},v._computeInitialViewpoint()})()}_readAndLoadFromJSON(g,v){const E=this._validateJSON(g);return this.read(E,v),this._loadFromJSON(E,v)}_validateJSON(g){const v=vp.parse(g.version||"","webmap");return Om.validate(v),g.version=`${v.major}.${v.minor}`,g}_loadFromJSON(g,v){const E={context:{...v,layerContainerType:"operational-layers"}};return this.portalItem&&(E.context.portal=this.portalItem.portal||gm.Z.getDefault()),Promise.all([M.e(7534),M.e(1074)]).then(M.bind(M,71074)).then(({populateOperationalLayers:C})=>{const w=[],I=g.operationalLayers;I&&I.length&&w.push(C(this.layers,I,E));const A={...E,context:{...E.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"},G=g.tables;return G&&G.length&&w.push(C(this.tables,G,A)),(0,Lr.as)(w).then(()=>{})})}_computeInitialViewpoint(){var g=this;return(0,Nn.Z)(function*(){let v=g.initialViewProperties;if(v?.viewpoint?.targetGeometry)return;const C=yield g._getExtentFromItem();C&&(v=v?v.clone():new Sm,v.viewpoint=new Xi.Z,v.viewpoint.targetGeometry=C,g.initialViewProperties=v)})()}_getExtentFromItem(){var g=this;return(0,Nn.Z)(function*(){const v=g.initialViewProperties?.spatialReference,E=g.portalItem?.extent;return v&&E?v.isWGS84?E.clone():v.isWebMercator?(0,rp.$)(E):(yield M.e(5082).then(M.bind(M,35082))).getGeometryServiceURL(g.portalItem).then(C=>{const w=new SA.Z;return w.geometries=[E],w.outSpatialReference=v,(0,DA.i)(C,w)}).then(C=>C[0]).catch(C=>(Vr.Z.getLogger(g.declaredClass).error("Error projecting item's extent:",C),null)):null})()}_removeDanglingLayerRefs(){const g=this.applicationProperties,v=g&&g.viewing&&g.viewing.search,E=I=>this.allLayers.some(A=>A.id===I);v&&v.layers&&(v.layers=v.layers.filter(I=>E(I.id))),v&&v.tables&&(v.tables=v.tables.filter(I=>this.tables.some(A=>A.id===I.id)));const C=g&&g.editing&&g.editing.locationTracking;C&&C.info&&!E(C.info.layerId)&&(g.editing=null);const w=this.presentation&&this.presentation.slides;w&&w.forEach(I=>{I.visibleLayers&&(I.visibleLayers=I.visibleLayers.filter(A=>E(A.id)))})}_validateMap(){var g=this;return(0,Nn.Z)(function*(){if(!g.basemap?.baseLayers.length)throw new Jn.Z("webmap:save","Map does not have a valid basemap with a base layer.");let v=null;if(yield(0,rn.N1)(()=>{const E=function iB(g,v){if((0,kt.Wi)(v)||(0,kt.Wi)(g))return{spatialReference:null,updating:!1};if("not-loaded"===v.loadStatus)return v.load(),{spatialReference:null,updating:!0};if(v.spatialReference)return{spatialReference:v.spatialReference,updating:!1};if(0===v.baseLayers.length)return{spatialReference:null,updating:!1};const E=v.baseLayers.getItemAt(0);switch(E.loadStatus){case"not-loaded":E.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const C=(("supportedSpatialReferences"in E?E.supportedSpatialReferences:null)||["tileInfo"in E?E.tileInfo?.spatialReference:E.spatialReference]).filter(Boolean),w=g.spatialReference;return w?{spatialReference:C.find(I=>w.equals(I))??C[0]??null,updating:!1}:{spatialReference:C[0],updating:!1}}(g.initialViewProperties,g.basemap);return v=E.spatialReference,!E.updating}),!(0,Iv.fS)(v,g.initialViewProperties.spatialReference))throw new Jn.Z("webmap:save","The spatial reference of the basemap is not compatible with the one from the map.",{expected:g.initialViewProperties.spatialReference,actual:v})})()}_validateItem(){if(!this.portalItem)throw Vr.Z.getLogger(this.declaredClass).error("save: requires the portalItem property to be set"),new Jn.Z("webmap:portal-item-not-set","Portal item to save to has not been set on the WebMap");this._validateItemType(this.portalItem)}_validateItemType(g){if(g.type!==L1)throw new Jn.Z("webmap:portal-item-wrong-type",`Portal item needs to have type "${L1}"`)}_loadLayerContainers(){const g=[];return this.basemap&&g.push(this.basemap.load()),this.ground&&g.push(this.ground.load()),(0,Lr.as)(g).then(()=>{})}_beforeSave(){var g=this;return(0,Nn.Z)(function*(){const v=[];for(const E of g.allLayers)if("beforeSave"in E&&"function"==typeof E.beforeSave){const C=E.beforeSave();C&&v.push(C)}yield(0,Lr.as)(v)})()}_loadAllLayers(){const g=this._getAllLayersAndTables().map(v=>v.load());return(0,Lr.as)(g).then(()=>{})}_getAllLayersAndTables(){return this.allLayers.concat(this.allTables)}_validateJSONForWriting(g,v){let E=(g.messages?g.messages:[]).filter(C=>"error"===C.type).map(C=>new Jn.Z(C.name,C.message,C.details));if(g.blockedRelativeUrls&&(E=E.concat(g.blockedRelativeUrls.map(C=>new Jn.Z("url:unsupported",`Relative url '${C}' is not supported in Web Map`)))),v.ignoreUnsupported&&(E=E.filter(C=>"layer:unsupported"!==C.name&&"symbol:unsupported"!==C.name&&"symbol-layer:unsupported"!==C.name&&"property:unsupported"!==C.name&&"url:unsupported"!==C.name)),E.length>0)throw new Jn.Z("webmap:save","Failed to save webmap due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:E})}_updateItemProperties(g){var v=this;return(0,Nn.Z)(function*(){g.extent=yield v._getWGS84Extent(v.initialViewProperties.viewpoint.targetGeometry),yield v._updateTypeKeywords(g)})()}_updateItemPropertiesForSaveAs(g){var v=this;return(0,Nn.Z)(function*(){(0,vs.ck)(g,jA),(0,vs.ck)(g,"FieldMapsDisabled"),(0,vs.ck)(g,vs.Kz.METADATA),(0,vs.ck)(g,NA),(0,vs.ck)(g,"Offline Map Areas"),(0,vs.ck)(g,$A),(0,vs.ck)(g,WA),(0,vs.ck)(g,VA),yield v._updateItemProperties(g)})()}_getWGS84Extent(g){var v=this;return(0,Nn.Z)(function*(){const E=g.clone().normalize();let C;if(E.length>1)for(const w of E)C?w.width>C.width&&(C=w):C=w;else C=E[0];return v._projectToWGS84(C)})()}_projectToWGS84(g){var v=this;return(0,Nn.Z)(function*(){const E=g.spatialReference;if(E.isWGS84)return g.clone();if(E.isWebMercator)return(0,rp.Sx)(g);const C=yield M.e(5082).then(M.bind(M,35082)),w=yield C.getGeometryServiceURL(v.portalItem),I=new SA.Z;return I.geometries=[g],I.outSpatialReference=id.Z.WGS84,(yield(0,DA.i)(w,I))[0]})()}_updateTypeKeywords(g){var v=this;return(0,Nn.Z)(function*(){(0,vs.qj)(g,LA),yield v._loadAllLayers(),v._evalCollectorKeyword(g),v._evalDataEditingKeyword(g),v._evalOfflineKeyword(g),v._evalDeveloperBasemapKeyword(g),v._evalUtilityNetworkKeyword(g),g.typeKeywords&&(g.typeKeywords=g.typeKeywords.filter((E,C,w)=>w.indexOf(E)===C))})()}_evalCollectorKeyword(g){(0,vs._$)(g,jA)||(0,vs._$)(g,WA)||(0,vs._$)(g,VA)||(0,vs._$)(g,$A)||!this._hasEditableFeatureLayer()?(0,vs.ck)(g,UA):(0,vs.qj)(g,UA)}_evalDataEditingKeyword(g){this._hasEditableFeatureLayer()?(0,vs.qj)(g,FA):(0,vs.ck)(g,FA)}_evalOfflineKeyword(g){!(0,vs._$)(g,NA)&&this._isOfflineCapableMap()?(0,vs.qj)(g,BA):(0,vs.ck)(g,BA)}_evalDeveloperBasemapKeyword(g){!function sB(g){return!!g?.baseLayers.concat(g.referenceLayers).some(TP)}(this.basemap)?(0,vs.ck)(g,ZA):(0,vs.qj)(g,ZA)}_evalUtilityNetworkKeyword(g){this.utilityNetworks?.length?(0,vs.qj)(g,KA):(0,vs.ck)(g,KA)}_hasEditableFeatureLayer(){return this._getAllLayersAndTables().some(g=>g.loaded&&(0,Kc.y2)(g)&&g.capabilities.operations.supportsEditing&&g.editingEnabled)}_isOfflineCapableMap(){return this._getAllLayersAndTables().filter(g=>"group"!==g.type).every(g=>g.loaded&&this._isOfflineCapableLayer(g))}_isFeatureCollectionLike(g){return(0,Kc.rQ)(g)||"map-notes"===g.type||"route"===g.type}_isOfflineCapableLayer(g){return(0,Kc.y2)(g)&&g.capabilities.operations.supportsSync||this._isFeatureCollectionLike(g)&&!g.portalItem||("tile"===g.type||"vector-tile"===g.type)&&(g.capabilities.operations.supportsExportTiles||this._isExportableAGOLTileLayer(g)||TP(g))&&g.spatialReference.equals(this.initialViewProperties.spatialReference)}_isExportableAGOLTileLayer(g){return"tile"===g.type&&(0,L2.h3)(g.url)&&xK.some(v=>g.url?.toLowerCase().includes("/"+v+"/"))}_updateItem(g,v,E){var C=this;return(0,Nn.Z)(function*(){yield g.update({data:v}),C._syncUpInstanceWithItem(g,v,E)})()}_createItem(g,v,E,C){var w=this;return(0,Nn.Z)(function*(){const I=w.portalItem,A={item:I,authenticated:!(!I?.id||!I.portal.user)},G=g.portal;yield G.signIn();const{copyAllowed:pe,itemReloaded:Ee}=yield w._isCopyAllowed(A,G);if(A.authenticated||(A.authenticated=Ee),!pe)throw new Jn.Z("webmap:save-as-copy-not-allowed","Owner of this map does not allow others to save a copy");const Ue=yield w._initializeNewItem(g,A,v,C);return w.portalItem=g,w._syncUpInstanceWithItem(g,v,E),Ue})()}_isCopyAllowed(g,v){return(0,Nn.Z)(function*(){const{item:E,authenticated:C}=g;return E?.id&&E.typeKeywords?.includes("useOnly")?E.portal.portalHostname!==v.portalHostname?{copyAllowed:!1,itemReloaded:!1}:(C||(yield E.reload()),{copyAllowed:"admin"===E.itemControl||"update"===E.itemControl,itemReloaded:!0}):{copyAllowed:!0,itemReloaded:!1}})()}_initializeNewItem(g,v,E,C){return(0,Nn.Z)(function*(){const w=g.portal,{item:I,authenticated:A}=v,{folder:G,copyAllResources:pe}=C;let Ee=!1;if(pe&&I?.id&&(0,Ha.Am)(I.portal.url,w.url)&&(A||(yield I.reload()),I.isOrgItem)){const{total:Ue}=yield I.fetchResources();Ee=!!Ue}if(Ee){const Ue=yield I.copy({copyResources:"all",folder:G});g.id=Ue.id,g.portal=Ue.portal;const Be=g.toJSON();yield g.load(),g.read(Be),yield g.update({data:E})}else yield w.user?.addItem({item:g,folder:G,data:E});return Ee})()}_syncUpInstanceWithItem(g,v,E){CA.w.prototype.read.call(this,{version:v.version,authoringApp:v.authoringApp,authoringAppVersion:v.authoringAppVersion},{origin:"web-map",ignoreDefaults:!0,url:g.itemUrl&&(0,Ha.mN)(g.itemUrl)}),(0,JZ.D)(E),this.resourceInfo=v}_updateItemThumbnail(){var g=this;return(0,Nn.Z)(function*(){g.thumbnailUrl&&g._isOverridden("thumbnailUrl")&&(yield g.portalItem?.updateThumbnail({thumbnail:g.thumbnailUrl,filename:g._thumbnailFilename}),g._clearThumbnailOverride())})()}_getPortalItem(g){let v=MA.default.from(g);return v.id&&(v=v.clone(),v.id=null),v.type||(v.type=L1),v.portal||(v.portal=gm.Z.getDefault()),this._validateItemType(v),v}_updateFromInternal(g,v){var E=this;return(0,Nn.Z)(function*(){if(v=v||{},yield(0,rn.N1)(()=>g.ready),E._updateInitialViewProperties(g,v),g.map===E)for(const C of g.allLayerViews)for(const w of["visible","featureEffect"])w in C&&w in C.layer&&C._isOverridden(w)&&(C.layer[w]=C[w]);yield E._updateThumbnailUrl(g,v)})()}_updateInitialViewProperties(g,v){if(v.backgroundExcluded||(this.initialViewProperties.background=g.background?.clone()),this.initialViewProperties.spatialReference=g.spatialReference?.clone(),v.viewpointExcluded||(this.initialViewProperties.viewpoint=new Xi.Z({rotation:g.rotation,scale:v.scalePreserved?g.scale:null,targetGeometry:this._getViewExtent(g)})),!v.widgetsExcluded)for(const E of g.persistableViewModels)E.updateWebDocument(this)}_getViewExtent(g){const v=g.center.clone().normalize(),E=g.extent.clone(),C=E.width/2;return E.xmin=v.x-C,E.xmax=v.x+C,E}_updateThumbnailUrl(g,v){var E=this;return(0,Nn.Z)(function*(){if(v.thumbnailExcluded)return;const C=function gK(g,v){v=v||yK;let{width:E,height:C}=v;const w=E/C;return w<1.5?C=E/1.5:w>1.5&&(E=1.5*C),E>g.width&&(C*=g.width/E,E=g.width),C>g.height&&(E*=g.height/C,C=g.height),{width:Math.round(E),height:Math.round(C)}}(g,v.thumbnailSize),w=yield g.takeScreenshot({format:"png",width:C.width,height:C.height});E._setAutoGeneratedThumbnail(w.dataUrl)})()}_setAutoGeneratedThumbnail(g){this.thumbnailUrl=g,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(g){if((0,Ha.HK)(g)){const v=(0,Ha.sJ)(g),E=v&&v.mediaType,C=E&&Ep.get(E.toLowerCase())||null,w=`thumbnail${Date.now()}`;return C?`${w}.${C}`:w}return null}_getThumbnailState(){let g=this.thumbnailUrl;return g&&(g=this._isOverridden("thumbnailUrl")?g:(0,Ha.ZN)(g,"w","8192")),{thumbnailUrl:g,filename:this._thumbnailFilename}}_restoreThumbnailFromState(g){this.thumbnailUrl=g.thumbnailUrl,this._thumbnailFilename=g.filename}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(g){g.isAuthoringAppSetByUser?this.authoringApp=g.authoringApp:this._isAuthoringAppSetByUser=!1,g.isAuthoringAppVersionSetByUser?this.authoringAppVersion=g.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}static fromJSON(g){const v=g;if(!v)throw new Jn.Z("webmap:empty-resource","Expected a JSON resource but got nothing");return new this({resourceInfo:v})}};ms.VERSION=Om,(0,Ae._)([(0,Fe.Cb)({type:SK,json:{write:!0}})],ms.prototype,"applicationProperties",void 0),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],ms.prototype,"authoringApp",null),(0,Ae._)([(0,mo.c)("authoringApp")],ms.prototype,"writeAuthoringApp",null),(0,Ae._)([(0,Fe.Cb)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],ms.prototype,"authoringAppVersion",null),(0,Ae._)([(0,mo.c)("authoringAppVersion")],ms.prototype,"writeAuthoringAppVersion",null),(0,Ae._)([(0,Fe.Cb)({json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],ms.prototype,"basemap",void 0),(0,Ae._)([(0,Fe.Cb)({type:RA,json:{write:{overridePolicy:g=>({enabled:!!(g&&g.length>0),ignoreOrigin:!0})}}})],ms.prototype,"bookmarks",void 0),(0,Ae._)([(0,Fe.Cb)({type:tK,json:{read:{source:"mapFloorInfo"},write:{target:"mapFloorInfo"}}})],ms.prototype,"floorInfo",void 0),(0,Ae._)([(0,Fe.Cb)({type:dK,json:{write:!0}})],ms.prototype,"geotriggersInfo",void 0),(0,Ae._)([(0,Fe.Cb)({type:Sm,nonNullable:!0,json:{read:{source:["background","initialState.viewpoint","mapRangeInfo","spatialReference"]},write:{ignoreOrigin:!0,target:{background:{type:ym},"initialState.viewpoint":{type:Xi.Z},mapRangeInfo:{type:_1},spatialReference:{type:id.Z}}}}})],ms.prototype,"initialViewProperties",void 0),(0,Ae._)([(0,Zl.r)("initialViewProperties")],ms.prototype,"readInitialViewProperties",null),(0,Ae._)([(0,mo.c)("initialViewProperties")],ms.prototype,"writeInitialViewProperties",null),(0,Ae._)([(0,Fe.Cb)({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],ms.prototype,"layers",void 0),(0,Ae._)([(0,mo.c)("layers")],ms.prototype,"writeLayers",null),(0,Ae._)([(0,Fe.Cb)({type:MA.default})],ms.prototype,"portalItem",void 0),(0,Ae._)([(0,Fe.Cb)({json:{write:!0}})],ms.prototype,"presentation",void 0),(0,Ae._)([(0,Fe.Cb)()],ms.prototype,"resourceInfo",void 0),(0,Ae._)([(0,Fe.Cb)({readOnly:!0,type:vp,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],ms.prototype,"sourceVersion",void 0),(0,Ae._)([(0,Zl.r)("sourceVersion")],ms.prototype,"readSourceVersion",null),(0,Ae._)([(0,mo.c)("sourceVersion")],ms.prototype,"writeSourceVersion",null),(0,Ae._)([(0,Fe.Cb)({json:{read:!1,write:{ignoreOrigin:!0}}})],ms.prototype,"tables",void 0),(0,Ae._)([(0,mo.c)("tables")],ms.prototype,"writeTables",null),(0,Ae._)([(0,Fe.Cb)()],ms.prototype,"thumbnailUrl",null),(0,Ae._)([(0,Fe.Cb)({type:mK,json:{write:!0}})],ms.prototype,"widgets",void 0),(0,Ae._)([(0,Fe.Cb)({type:IK,json:{read:!0,write:!0}})],ms.prototype,"utilityNetworks",void 0),ms=(0,Ae._)([(0,Pn.j)("esri.WebMap")],ms);const RK=ms;var LK=M(48887);const jK=["mapViewNode"];let UK=(()=>{class g{constructor(){this.city={name:"Pocatello",coord:[-112.4455,42.8713]}}ngOnInit(){new RK({portalItem:{id:"your-webmap-item-id"}});var C=new lB({basemap:"streets-navigation-vector"});const I=new LK.default({url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/OilSandsProjectBoundaries/MapServer",sublayers:[{id:1}]});C.add(I),this.view=new kZ({container:this.mapViewEl.nativeElement,map:C,center:this.city.coord,zoom:11})}ngOnChanges(E){const{currentValue:C}=E.city;console.log("View"),this.view.center=C.coord}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275cmp=Gr({type:g,selectors:[["app-map"]],viewQuery:function(E,C){if(1&E&&iS(jK,7),2&E){let w;Tg(w=function Ag(){return function j8(g,v){return g[io].queries[v].queryList}(On(),G1())}())&&(C.mapViewEl=w.first)}},inputs:{city:"city"},features:[rs],decls:2,vars:0,consts:[[2,"height","100vh"],["mapViewNode",""]],template:function(E,C){1&E&&nh(0,"div",0,1)}}),g})();function FK(g,v){if(1&g&&(Na(0,"div")(1,"h3"),ih(2),ra()()),2&g){const E=MM();cc(2),vf("City: ",E.city.name,"")}}function NK(g,v){if(1&g&&(Na(0,"option",4),ih(1),ra()),2&g){const E=v.$implicit;ou("ngValue",E),cc(1),pg(E.name)}}let BK=(()=>{class g{constructor(){this.valueEmitter=new Ts,this.city={name:"Pocatello",coord:[-112.4455,42.8713]},this.cities=[{name:"Pocatello",coord:[-112.4455,42.8713]},{name:"Boise",coord:[-116.2146,43.6187]},{name:"Idaho Falls",coord:[-112.0333,43.4917]}]}updateCity(){this.valueEmitter.emit(this.city)}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275cmp=Gr({type:g,selectors:[["app-option-column"]],outputs:{valueEmitter:"valueEmitter"},decls:7,vars:3,consts:[[4,"ngIf"],["for","city-select"],["id","city-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(E,C){1&E&&(rg(0,FK,3,1,"div",0),Na(1,"p"),ih(2,"Select a city from the dropdown below."),ra(),Na(3,"label",1),ih(4,"Select a city: "),ra(),Na(5,"select",2),ki("ngModelChange",function(I){return C.city=I})("ngModelChange",function(){return C.updateCity()}),rg(6,NK,2,2,"option",3),ra()),2&E&&(ou("ngIf",C.city),cc(5),ou("ngModel",C.city),cc(1),ou("ngForOf",C.cities))},dependencies:[EO,CO,Jw,Qw,l0,Ow,B_]}),g})(),WK=(()=>{class g{constructor(){this.title="arcgis",this.city={name:"Pocatello",coord:[-112.4455,42.8713]}}onCityChange(E){this.city=E,console.log(E)}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275cmp=Gr({type:g,selectors:[["app-root"]],decls:3,vars:1,consts:[[1,"main"],[1,"left-column",3,"valueEmitter"],[1,"right-column",3,"city"]],template:function(E,C){1&E&&(Na(0,"div",0)(1,"app-option-column",1),ki("valueEmitter",function(I){return C.onCityChange(I)}),ra(),nh(2,"app-map",2),ra()),2&E&&(cc(2),ou("city",C.city))},dependencies:[UK,BK],styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}p[_ngcontent-%COMP%]{margin:0}.spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]{height:40px;margin:0 8px}.toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]{height:40px;margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover{opacity:.8}.content[_ngcontent-%COMP%]{display:flex;margin:82px auto 32px;padding:0 16px;max-width:960px;flex-direction:column;align-items:center}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#888}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:16px}.card[_ngcontent-%COMP%]{all:unset;border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:40px;width:200px;margin:0 8px 16px;padding:16px;display:flex;flex-direction:row;justify-content:center;align-items:center;transition:all .2s ease-in-out;line-height:24px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child){margin-right:0}.card.card-small[_ngcontent-%COMP%]{height:16px;width:168px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card){cursor:pointer}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover{transform:translateY(-3px);box-shadow:0 4px 17px #00000059}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#696767}.card.highlight-card[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:600;border:none;width:auto;min-width:30%;position:relative}.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:60px}svg#rocket[_ngcontent-%COMP%]{width:80px;position:absolute;left:-10px;top:-24px}svg#rocket-smoke[_ngcontent-%COMP%]{height:calc(100vh - 95px);position:absolute;top:10px;right:180px;z-index:-10}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#125699}.terminal[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;border-radius:6px;padding-top:45px;margin-top:8px;overflow:hidden;background-color:#0f0f10}.terminal[_ngcontent-%COMP%]:before{content:"\\2022\\2022\\2022";position:absolute;top:0;left:0;height:4px;background:rgb(58,58,58);color:#c2c3c4;width:100%;font-size:2rem;line-height:0;padding:14px 0;text-indent:4px}.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;color:#fff;padding:0 1rem 1rem;margin:0}.circle-link[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:40px;margin:8px;background-color:#fff;border:1px solid #eeeeee;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:1s ease-out}.circle-link[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 3px 15px #0003}footer[_ngcontent-%COMP%]{margin-top:8px;display:flex;align-items:center;line-height:20px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.github-star-badge[_ngcontent-%COMP%]{color:#24292e;display:flex;align-items:center;font-size:12px;padding:3px 10px;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%);margin-left:4px;font-weight:600}.github-star-badge[_ngcontent-%COMP%]:hover{background-image:linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);border-color:#1b1f2359;background-position:-.5em}.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:4px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}.esri-view[_ngcontent-%COMP%]{height:100%;width:100%;outline:none}.main[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row}.left-column[_ngcontent-%COMP%]{flex-basis:25%;padding:10px;box-sizing:border-box;background-color:#d5ead5}.right-column[_ngcontent-%COMP%]{flex-basis:75%;padding:10px;box-sizing:border-box;background-color:#696969}@media screen and (max-width: 767px){.card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]:not(.highlight-card){height:16px;margin:8px 0}.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:72px}svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}']}),g})(),VK=(()=>{class g{}return g.\u0275fac=function(E){return new(E||g)},g.\u0275mod=bo({type:g,bootstrap:[WK]}),g.\u0275inj=ln({imports:[l4,X7,MN]}),g})();a4().bootstrapModule(VK).catch(g=>console.error(g))},76210:(nt,Te,M)=>{"use strict";M.d(Te,{Z5:()=>F,HY:()=>ds,mv:()=>li,AA:()=>Re,yM:()=>Ke,xE:()=>Et,K3:()=>$,h:()=>xe,GH:()=>ot,YY:()=>N});var D=M(15861);let U,ie,k,W=!1,V=!1,Q=!1,ne=!1,J=null,Y=!1;const F={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},$=Qe=>{const it=new URL(Qe,qn.$resourcesUrl$);return it.origin!==Er.location.origin?it.href:it.pathname},N=Qe=>qn.$resourcesUrl$=Qe,me="http://www.w3.org/1999/xlink",Oe={},De=Qe=>"object"==(Qe=typeof Qe)||"function"===Qe,xe=(Qe,it,...gt)=>{let St=null,Ct=null,jt=null,Qt=!1,on=!1;const cn=[],yn=Xn=>{for(let Mr=0;Mr<Xn.length;Mr++)St=Xn[Mr],Array.isArray(St)?yn(St):null!=St&&"boolean"!=typeof St&&((Qt="function"!=typeof Qe&&!De(St))&&(St=String(St)),Qt&&on?cn[cn.length-1].$text$+=St:cn.push(Qt?Ce(null,St):St),on=Qt)};if(yn(gt),it&&(it.key&&(Ct=it.key),it.name&&(jt=it.name),true)){const Xn=it.className||it.class;Xn&&(it.class="object"!=typeof Xn?Xn:Object.keys(Xn).filter(Mr=>Xn[Mr]).join(" "))}if("function"==typeof Qe)return Qe(null===it?{}:it,cn,Me);const In=Ce(Qe,null);return In.$attrs$=it,cn.length>0&&(In.$children$=cn),In.$key$=Ct,In.$name$=jt,In},Ce=(Qe,it)=>{const gt={$flags$:0,$tag$:Qe,$text$:it,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return gt},Re={},we=Qe=>Qe&&Qe.$tag$===Re,Me={forEach:(Qe,it)=>Qe.map(fe).forEach(it),map:(Qe,it)=>Qe.map(fe).map(it).map(ye)},fe=Qe=>({vattrs:Qe.$attrs$,vchildren:Qe.$children$,vkey:Qe.$key$,vname:Qe.$name$,vtag:Qe.$tag$,vtext:Qe.$text$}),ye=Qe=>{if("function"==typeof Qe.vtag){const gt=Object.assign({},Qe.vattrs);return Qe.vkey&&(gt.key=Qe.vkey),Qe.vname&&(gt.name=Qe.vname),xe(Qe.vtag,gt,...Qe.vchildren||[])}const it=Ce(Qe.vtag,Qe.vtext);return it.$attrs$=Qe.vattrs,it.$children$=Qe.vchildren,it.$key$=Qe.vkey,it.$name$=Qe.vname,it},Ke=(Qe,it,gt)=>{const St=Qe;return{emit:Ct=>Xe(St,it,{bubbles:!!(4&gt),composed:!!(2&gt),cancelable:!!(1&gt),detail:Ct})}},Xe=(Qe,it,gt)=>{const St=qn.ce(it,gt);return Qe.dispatchEvent(St),St},et=new WeakMap,ft=(Qe,it,gt,St)=>{let Ct=ut(it,gt);const jt=ur.get(Ct);if(Qe=11===Qe.nodeType?Qe:Cr,jt)if("string"==typeof jt){let on,Qt=et.get(Qe=Qe.head||Qe);Qt||et.set(Qe,Qt=new Set),Qt.has(Ct)||(on=Cr.createElement("style"),on.innerHTML=jt,Qe.insertBefore(on,Qe.querySelector("link")),Qt&&Qt.add(Ct))}else!Qe.adoptedStyleSheets.includes(jt)&&(Qe.adoptedStyleSheets=[...Qe.adoptedStyleSheets,jt]);return Ct},ut=(Qe,it)=>"sc-"+(it&&32&Qe.$flags$?Qe.$tagName$+"-"+it:Qe.$tagName$),ke=(Qe,it,gt,St,Ct,jt)=>{if(gt!==St){let Qt=_t(Qe,it),on=it.toLowerCase();if("class"===it){const cn=Qe.classList,yn=We(gt),In=We(St);cn.remove(...yn.filter(Xn=>Xn&&!In.includes(Xn))),cn.add(...In.filter(Xn=>Xn&&!yn.includes(Xn)))}else if("style"===it){for(const cn in gt)(!St||null==St[cn])&&(cn.includes("-")?Qe.style.removeProperty(cn):Qe.style[cn]="");for(const cn in St)(!gt||St[cn]!==gt[cn])&&(cn.includes("-")?Qe.style.setProperty(cn,St[cn]):Qe.style[cn]=St[cn])}else if("key"!==it)if("ref"===it)St&&St(Qe);else if(Qe.__lookupSetter__(it)||"o"!==it[0]||"n"!==it[1]){{const cn=De(St);if((Qt||cn&&null!==St)&&!Ct)try{if(Qe.tagName.includes("-"))Qe[it]=St;else{const In=St??"";"list"===it?Qt=!1:(null==gt||Qe[it]!=In)&&(Qe[it]=In)}}catch{}let yn=!1;on!==(on=on.replace(/^xlink\:?/,""))&&(it=on,yn=!0),null==St||!1===St?(!1!==St||""===Qe.getAttribute(it))&&(yn?Qe.removeAttributeNS(me,it):Qe.removeAttribute(it)):(!Qt||4&jt||Ct)&&!cn&&(St=!0===St?"":St,yn?Qe.setAttributeNS(me,it,St):Qe.setAttribute(it,St))}}else it="-"===it[2]?it.slice(3):_t(Er,on)?on.slice(2):on[2]+it.slice(3),gt&&qn.rel(Qe,it,gt,!1),St&&qn.ael(Qe,it,St,!1)}},Ge=/\s/,We=Qe=>Qe?Qe.split(Ge):[],tt=(Qe,it,gt,St)=>{const Ct=11===it.$elm$.nodeType&&it.$elm$.host?it.$elm$.host:it.$elm$,jt=Qe&&Qe.$attrs$||Oe,Qt=it.$attrs$||Oe;for(St in jt)St in Qt||ke(Ct,St,jt[St],void 0,gt,it.$flags$);for(St in Qt)ke(Ct,St,jt[St],Qt[St],gt,it.$flags$)},at=(Qe,it,gt,St)=>{const Ct=it.$children$[gt];let Qt,on,cn,jt=0;if(!W&&(Q=!0,"slot"===Ct.$tag$&&(U&&St.classList.add(U+"-s"),Ct.$flags$|=Ct.$children$?2:1)),null!==Ct.$text$)Qt=Ct.$elm$=Cr.createTextNode(Ct.$text$);else if(1&Ct.$flags$)Qt=Ct.$elm$=Cr.createTextNode("");else{if(!ne&&(ne="svg"===Ct.$tag$),Qt=Ct.$elm$=Cr.createElementNS(ne?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Ct.$flags$?"slot-fb":Ct.$tag$),ne&&"foreignObject"===Ct.$tag$&&(ne=!1),tt(null,Ct,ne),(Qe=>null!=Qe)(U)&&Qt["s-si"]!==U&&Qt.classList.add(Qt["s-si"]=U),Ct.$children$)for(jt=0;jt<Ct.$children$.length;++jt)on=at(Qe,Ct,jt,Qt),on&&Qt.appendChild(on);"svg"===Ct.$tag$?ne=!1:"foreignObject"===Qt.tagName&&(ne=!0)}return Qt["s-hn"]=k,3&Ct.$flags$&&(Qt["s-sr"]=!0,Qt["s-cr"]=ie,Qt["s-sn"]=Ct.$name$||"",cn=Qe&&Qe.$children$&&Qe.$children$[gt],cn&&cn.$tag$===Ct.$tag$&&Qe.$elm$&&yt(Qe.$elm$,!1)),Qt},yt=(Qe,it)=>{qn.$flags$|=1;const gt=Qe.childNodes;for(let St=gt.length-1;St>=0;St--){const Ct=gt[St];Ct["s-hn"]!==k&&Ct["s-ol"]&&(zt(Ct).insertBefore(Ct,Sn(Ct)),Ct["s-ol"].remove(),Ct["s-ol"]=void 0,Q=!0),it&&yt(Ct,it)}qn.$flags$&=-2},Mt=(Qe,it,gt,St,Ct,jt)=>{let on,Qt=Qe["s-cr"]&&Qe["s-cr"].parentNode||Qe;for(Qt.shadowRoot&&Qt.tagName===k&&(Qt=Qt.shadowRoot);Ct<=jt;++Ct)St[Ct]&&(on=at(null,gt,Ct,Qe),on&&(St[Ct].$elm$=on,Qt.insertBefore(on,Sn(it))))},Yt=(Qe,it,gt,St,Ct)=>{for(;it<=gt;++it)(St=Qe[it])&&(Ct=St.$elm$,bt(St),V=!0,Ct["s-ol"]?Ct["s-ol"].remove():yt(Ct,!0),Ct.remove())},un=(Qe,it)=>Qe.$tag$===it.$tag$&&("slot"===Qe.$tag$?Qe.$name$===it.$name$:Qe.$key$===it.$key$),Sn=Qe=>Qe&&Qe["s-ol"]||Qe,zt=Qe=>(Qe["s-ol"]?Qe["s-ol"]:Qe).parentNode,hn=(Qe,it)=>{const gt=it.$elm$=Qe.$elm$,St=Qe.$children$,Ct=it.$children$,jt=it.$tag$,Qt=it.$text$;let on;null!==Qt?(on=gt["s-cr"])?on.parentNode.textContent=Qt:Qe.$text$!==Qt&&(gt.data=Qt):(ne="svg"===jt||"foreignObject"!==jt&&ne,"slot"===jt||tt(Qe,it,ne),null!==St&&null!==Ct?((Qe,it,gt,St)=>{let Hs,ui,Ct=0,jt=0,Qt=0,on=0,cn=it.length-1,yn=it[0],In=it[cn],Xn=St.length-1,Mr=St[0],Es=St[Xn];for(;Ct<=cn&&jt<=Xn;)if(null==yn)yn=it[++Ct];else if(null==In)In=it[--cn];else if(null==Mr)Mr=St[++jt];else if(null==Es)Es=St[--Xn];else if(un(yn,Mr))hn(yn,Mr),yn=it[++Ct],Mr=St[++jt];else if(un(In,Es))hn(In,Es),In=it[--cn],Es=St[--Xn];else if(un(yn,Es))("slot"===yn.$tag$||"slot"===Es.$tag$)&&yt(yn.$elm$.parentNode,!1),hn(yn,Es),Qe.insertBefore(yn.$elm$,In.$elm$.nextSibling),yn=it[++Ct],Es=St[--Xn];else if(un(In,Mr))("slot"===yn.$tag$||"slot"===Es.$tag$)&&yt(In.$elm$.parentNode,!1),hn(In,Mr),Qe.insertBefore(In.$elm$,yn.$elm$),In=it[--cn],Mr=St[++jt];else{for(Qt=-1,on=Ct;on<=cn;++on)if(it[on]&&null!==it[on].$key$&&it[on].$key$===Mr.$key$){Qt=on;break}Qt>=0?(ui=it[Qt],ui.$tag$!==Mr.$tag$?Hs=at(it&&it[jt],gt,Qt,Qe):(hn(ui,Mr),it[Qt]=void 0,Hs=ui.$elm$),Mr=St[++jt]):(Hs=at(it&&it[jt],gt,jt,Qe),Mr=St[++jt]),Hs&&zt(yn.$elm$).insertBefore(Hs,Sn(yn.$elm$))}Ct>cn?Mt(Qe,null==St[Xn+1]?null:St[Xn+1].$elm$,gt,St,jt,Xn):jt>Xn&&Yt(it,Ct,cn)})(gt,St,it,Ct):null!==Ct?(null!==Qe.$text$&&(gt.textContent=""),Mt(gt,null,it,Ct,0,Ct.length-1)):null!==St&&Yt(St,0,St.length-1),ne&&"svg"===jt&&(ne=!1))},bn=Qe=>{const it=Qe.childNodes;let gt,St,Ct,jt,Qt,on;for(St=0,Ct=it.length;St<Ct;St++)if(gt=it[St],1===gt.nodeType){if(gt["s-sr"])for(Qt=gt["s-sn"],gt.hidden=!1,jt=0;jt<Ct;jt++)if(on=it[jt].nodeType,it[jt]["s-hn"]!==gt["s-hn"]||""!==Qt){if(1===on&&Qt===it[jt].getAttribute("slot")){gt.hidden=!0;break}}else if(1===on||3===on&&""!==it[jt].textContent.trim()){gt.hidden=!0;break}bn(gt)}},jn=[],zn=Qe=>{let it,gt,St,Ct,jt,Qt,on=0;const cn=Qe.childNodes,yn=cn.length;for(;on<yn;on++){if(it=cn[on],it["s-sr"]&&(gt=it["s-cr"])&&gt.parentNode)for(St=gt.parentNode.childNodes,Ct=it["s-sn"],Qt=St.length-1;Qt>=0;Qt--)gt=St[Qt],!gt["s-cn"]&&!gt["s-nr"]&&gt["s-hn"]!==it["s-hn"]&&(pt(gt,Ct)?(jt=jn.find(In=>In.$nodeToRelocate$===gt),V=!0,gt["s-sn"]=gt["s-sn"]||Ct,jt?jt.$slotRefNode$=it:jn.push({$slotRefNode$:it,$nodeToRelocate$:gt}),gt["s-sr"]&&jn.map(In=>{pt(In.$nodeToRelocate$,gt["s-sn"])&&(jt=jn.find(Xn=>Xn.$nodeToRelocate$===gt),jt&&!In.$slotRefNode$&&(In.$slotRefNode$=jt.$slotRefNode$))})):jn.some(In=>In.$nodeToRelocate$===gt)||jn.push({$nodeToRelocate$:gt}));1===it.nodeType&&zn(it)}},pt=(Qe,it)=>1===Qe.nodeType?null===Qe.getAttribute("slot")&&""===it||Qe.getAttribute("slot")===it:Qe["s-sn"]===it||""===it,bt=Qe=>{Qe.$attrs$&&Qe.$attrs$.ref&&Qe.$attrs$.ref(null),Qe.$children$&&Qe.$children$.map(bt)},Lt=(Qe,it)=>{const gt=Qe.$hostElement$,St=Qe.$cmpMeta$,Ct=Qe.$vnode$||Ce(null,null),jt=we(it)?it:xe(null,null,it);if(k=gt.tagName,St.$attrsToReflect$&&(jt.$attrs$=jt.$attrs$||{},St.$attrsToReflect$.map(([Qt,on])=>jt.$attrs$[on]=gt[Qt])),jt.$tag$=null,jt.$flags$|=4,Qe.$vnode$=jt,jt.$elm$=Ct.$elm$=gt.shadowRoot||gt,U=gt["s-sc"],ie=gt["s-cr"],W=Yr&&0!=(1&St.$flags$),V=!1,hn(Ct,jt),qn.$flags$|=1,Q){zn(jt.$elm$);let Qt,on,cn,yn,In,Xn,Mr=0;for(;Mr<jn.length;Mr++)Qt=jn[Mr],on=Qt.$nodeToRelocate$,on["s-ol"]||(cn=Cr.createTextNode(""),cn["s-nr"]=on,on.parentNode.insertBefore(on["s-ol"]=cn,on));for(Mr=0;Mr<jn.length;Mr++)if(Qt=jn[Mr],on=Qt.$nodeToRelocate$,Qt.$slotRefNode$){for(yn=Qt.$slotRefNode$.parentNode,In=Qt.$slotRefNode$.nextSibling,cn=on["s-ol"];cn=cn.previousSibling;)if(Xn=cn["s-nr"],Xn&&Xn["s-sn"]===on["s-sn"]&&yn===Xn.parentNode&&(Xn=Xn.nextSibling,!Xn||!Xn["s-nr"])){In=Xn;break}(!In&&yn!==on.parentNode||on.nextSibling!==In)&&on!==In&&(!on["s-hn"]&&on["s-ol"]&&(on["s-hn"]=on["s-ol"].parentNode.nodeName),yn.insertBefore(on,In))}else 1===on.nodeType&&(on.hidden=!0)}V&&bn(jt.$elm$),qn.$flags$&=-2,jn.length=0},Wt=(Qe,it)=>{Qe.$flags$|=16;const gt=()=>Zt(Qe,it);return vo(gt)},Zt=(Qe,it)=>{const gt=Qe.$hostElement$,St=()=>{},Ct=gt;let jt;return it?(dt(gt,"componentWillLoad"),jt=Bt(Ct,"componentWillLoad")):(dt(gt,"componentWillUpdate"),jt=Bt(Ct,"componentWillUpdate")),dt(gt,"componentWillRender"),jt=fn(jt,()=>Bt(Ct,"componentWillRender")),St(),fn(jt,()=>gn(Qe,Ct,it))},gn=function(){var Qe=(0,D.Z)(function*(it,gt,St){const Ct=it.$hostElement$,jt=()=>{};St&&(Qe=>{const it=Qe.$cmpMeta$,gt=Qe.$hostElement$,St=it.$flags$,Ct=()=>{},jt=ft(Yr&&gt.shadowRoot?gt.shadowRoot:gt.getRootNode(),it,Qe.$modeName$);10&St&&(gt["s-sc"]=jt,gt.classList.add(jt+"-h"),2&St&&gt.classList.add(jt+"-s")),Ct()})(it);const on=()=>{};dn(it,gt,Ct),on(),jt(),Wn(it)});return function(gt,St,Ct){return Qe.apply(this,arguments)}}(),dn=(Qe,it,gt)=>{try{J=it,it=it.render&&it.render(),Qe.$flags$&=-17,Qe.$flags$|=2,Lt(Qe,it)}catch(on){It(on,Qe.$hostElement$)}return J=null,null},Wn=Qe=>{const gt=Qe.$hostElement$,St=()=>{},Ct=gt;Bt(Ct,"componentDidRender"),dt(gt,"componentDidRender"),64&Qe.$flags$?(Bt(Ct,"componentDidUpdate"),dt(gt,"componentDidUpdate"),St()):(Qe.$flags$|=64,Bt(Ct,"componentDidLoad"),dt(gt,"componentDidLoad"),St())},Et=Qe=>{{const it=jr(Qe),gt=it.$hostElement$.isConnected;return gt&&2==(18&it.$flags$)&&Wt(it,!1),gt}},Bt=(Qe,it,gt)=>{if(Qe&&Qe[it])try{return Qe[it](gt)}catch(St){It(St)}},fn=(Qe,it)=>Qe&&Qe.then?Qe.then(it):it(),dt=(Qe,it)=>{},Yn=(Qe,it,gt)=>{if(it.$members$){Qe.watchers&&(it.$watchers$=Qe.watchers);const St=Object.entries(it.$members$),Ct=Qe.prototype;St.map(([jt,[Qt]])=>{(31&Qt||32&Qt)&&Object.defineProperty(Ct,jt,{get(){return((Qe,it)=>jr(this).$instanceValues$.get(it))(0,jt)},set(on){((Qe,it,gt,St)=>{const Ct=jr(Qe),jt=Qe,Qt=Ct.$instanceValues$.get(it),on=Ct.$flags$,cn=jt;gt=((Qe,it)=>null==Qe||De(Qe)?Qe:4&it?"false"!==Qe&&(""===Qe||!!Qe):2&it?parseFloat(Qe):1&it?String(Qe):Qe)(gt,St.$members$[it][0]);const yn=Number.isNaN(Qt)&&Number.isNaN(gt);if(gt!==Qt&&!yn&&(Ct.$instanceValues$.set(it,gt),1)){if(St.$watchers$&&128&on){const Xn=St.$watchers$[it];Xn&&Xn.map(Mr=>{try{cn[Mr](gt,Qt,it)}catch(Es){It(Es,jt)}})}if(2==(18&on)){if(cn.componentShouldUpdate&&!1===cn.componentShouldUpdate(gt,Qt,it))return;Wt(Ct,!1)}}})(this,jt,on,it)},configurable:!0,enumerable:!0})});{const jt=new Map;Ct.attributeChangedCallback=function(Qt,on,cn){qn.jmp(()=>{const yn=jt.get(Qt);if(this.hasOwnProperty(yn))cn=this[yn],delete this[yn];else if(Ct.hasOwnProperty(yn)&&"number"==typeof this[yn]&&this[yn]==cn)return;this[yn]=(null!==cn||"boolean"!=typeof this[yn])&&cn})},Qe.observedAttributes=St.filter(([Qt,on])=>15&on[0]).map(([Qt,on])=>{const cn=on[1]||Qt;return jt.set(cn,Qt),512&on[0]&&it.$attrsToReflect$.push([Qt,cn]),cn})}}return Qe},dr=function(){var Qe=(0,D.Z)(function*(it,gt,St,Ct,jt){if(!(32&gt.$flags$)&&(jt=it.constructor,gt.$flags$|=32,customElements.whenDefined(St.$tagName$).then(()=>gt.$flags$|=128),jt.style)){let cn=jt.style;"string"!=typeof cn&&(cn=cn[gt.$modeName$=(Qe=>gr.map(it=>it(Qe)).find(it=>!!it))(it)]);const yn=ut(St,gt.$modeName$);if(!ur.has(yn)){const In=()=>{};((Qe,it,gt)=>{let St=ur.get(Qe);Fs&&gt?(St=St||new CSSStyleSheet,"string"==typeof St?St=it:St.replaceSync(it)):St=it,ur.set(Qe,St)})(yn,cn,!!(1&St.$flags$)),In()}}const on=()=>Wt(gt,!0);on()});return function(gt,St,Ct,jt,Qt){return Qe.apply(this,arguments)}}(),ts=Qe=>{},Ne=Qe=>{const it=Qe["s-cr"]=Cr.createComment("");it["s-cn"]=!0,Qe.insertBefore(it,Qe.firstChild)},ot=(Qe,it)=>{const gt={$flags$:it[0],$tagName$:it[1]};gt.$members$=it[2],gt.$listeners$=it[3],gt.$watchers$=Qe.$watchers$,gt.$attrsToReflect$=[],!Yr&&1&gt.$flags$&&(gt.$flags$|=8);const St=Qe.prototype.connectedCallback,Ct=Qe.prototype.disconnectedCallback;return Object.assign(Qe.prototype,{__registerHost(){vr(this,gt)},connectedCallback(){(Qe=>{if(!(1&qn.$flags$)){const it=jr(Qe),gt=it.$cmpMeta$,St=()=>{};if(1&it.$flags$)Br(Qe,it,gt.$listeners$,!1),ts(it.$lazyInstance$);else{let Ct;it.$flags$|=1,!Ct&&12&gt.$flags$&&Ne(Qe),gt.$members$&&Object.entries(gt.$members$).map(([jt,[Qt]])=>{if(31&Qt&&Qe.hasOwnProperty(jt)){const on=Qe[jt];delete Qe[jt],Qe[jt]=on}}),dr(Qe,it,gt)}St()}})(this),St&&St.call(this)},disconnectedCallback(){(Qe=>{if(!(1&qn.$flags$)){const it=jr(Qe);it.$rmListeners$&&(it.$rmListeners$.map(St=>St()),it.$rmListeners$=void 0)}})(this),Ct&&Ct.call(this)},__attachShadow(){Yr?this.attachShadow({mode:"open",delegatesFocus:!!(16&gt.$flags$)}):this.shadowRoot=this}}),Qe.is=gt.$tagName$,Yn(Qe,gt)},ds=(Qe,it)=>it,Br=(Qe,it,gt,St)=>{gt&&gt.map(([Ct,jt,Qt])=>{const on=$s(Qe,Ct),cn=ti(it,Qt),yn=zr(Ct);qn.ael(on,jt,cn,yn),(it.$rmListeners$=it.$rmListeners$||[]).push(()=>qn.rel(on,jt,cn,yn))})},ti=(Qe,it)=>gt=>{try{Qe.$hostElement$[it](gt)}catch(St){It(St)}},$s=(Qe,it)=>4&it?Cr:8&it?Er:16&it?Cr.body:Qe,zr=Qe=>Nr?{passive:0!=(1&Qe),capture:0!=(2&Qe)}:0!=(2&Qe),Ht=new WeakMap,jr=Qe=>Ht.get(Qe),vr=(Qe,it)=>{const gt={$flags$:0,$hostElement$:Qe,$cmpMeta$:it,$instanceValues$:new Map};return Br(Qe,gt,it.$listeners$,!1),Ht.set(Qe,gt)},_t=(Qe,it)=>it in Qe,It=(Qe,it)=>(0,console.error)(Qe,it),ur=new Map,gr=[],Er=typeof window<"u"?window:{},Cr=Er.document||{head:{}},li=Er.HTMLElement||class{},qn={$flags$:0,$resourcesUrl$:"",jmp:Qe=>Qe(),raf:Qe=>requestAnimationFrame(Qe),ael:(Qe,it,gt,St)=>Qe.addEventListener(it,gt,St),rel:(Qe,it,gt,St)=>Qe.removeEventListener(it,gt,St),ce:(Qe,it)=>new CustomEvent(Qe,it)},Yr=!0,Nr=(()=>{let Qe=!1;try{Cr.addEventListener("e",null,Object.defineProperty({},"passive",{get(){Qe=!0}}))}catch{}return Qe})(),Fs=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ii=[],kn=[],ln=(Qe,it)=>gt=>{Qe.push(gt),Y||(Y=!0,it&&4&qn.$flags$?Qr(ls):qn.raf(ls))},vn=Qe=>{for(let it=0;it<Qe.length;it++)try{Qe[it](performance.now())}catch(gt){It(gt)}Qe.length=0},ls=()=>{vn(Ii),vn(kn),(Y=Ii.length>0)&&qn.raf(ls)},Qr=Qe=>Promise.resolve(void 0).then(Qe),vo=ln(kn,!0)},41993:nt=>{function Te(M){return Promise.resolve().then(()=>{var D=new Error("Cannot find module '"+M+"'");throw D.code="MODULE_NOT_FOUND",D})}Te.keys=()=>[],Te.resolve=Te,Te.id=41993,nt.exports=Te},73386:(nt,Te,M)=>{"use strict";M.r(Te),M.d(Te,{default:()=>ae});var ee,D=M(15861),T=M(17626),te=M(74333),Z=M(89726),U=M(55538),ie=M(86810),k=M(58817),B=M(47996),R=M(47877),W=M(63290),V=M(62208),Q=M(10699),ne=M(21726),J=M(77712),Y=(M(90912),M(76898)),F=M(99433),x=M(65234),$=M(84687),N=M(55463),z=M(33954),q=M(32584);let re=0;const le="esri.Basemap";let _e=ee=class extends((0,ie.eC)(B.Z)){constructor(he){super(he),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+re++,this.baseLayers=new te.Z,this.referenceLayers=new te.Z;const se=ge=>{ge.parent&&ge.parent!==this&&"remove"in ge.parent&&ge.parent.remove(ge),ge.parent=this,"elevation"===ge.type&&W.Z.getLogger(this.declaredClass).error(`Layer '${ge.title}, id:${ge.id}' of type '${ge.type}' is not supported as a basemap layer and will therefore be ignored.`)},ue=ge=>{ge.parent=null};this.baseLayers.on("after-add",ge=>se(ge.item)),this.referenceLayers.on("after-add",ge=>se(ge.item)),this.baseLayers.on("after-remove",ge=>ue(ge.item)),this.referenceLayers.on("after-remove",ge=>ue(ge.item))}initialize(){this.when().catch(he=>{W.Z.getLogger(this.declaredClass).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,he)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const he=this.baseLayers.removeAll();for(const ue of he)ue.destroy();const se=this.referenceLayers.removeAll();for(const ue of se)ue.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem?.destroy(),this.portalItem=null}normalizeCtorArgs(he){return he&&"resourceInfo"in he&&(this._set("resourceInfo",he.resourceInfo),delete(he={...he}).resourceInfo),he}set baseLayers(he){this._set("baseLayers",(0,Z.Z)(he,this._get("baseLayers")))}_writeBaseLayers(he,se,ue){const ge=[];he&&(ue={...ue,layerContainerType:"basemap"},this.baseLayers.forEach(be=>{const me=(0,q.Nw)(be,ue.webmap?ue.webmap.getLayerJSONFromResourceInfo(be):null,ue);(0,V.pC)(me)&&ge.push(me)}),this.referenceLayers.forEach(be=>{const me=(0,q.Nw)(be,ue.webmap?ue.webmap.getLayerJSONFromResourceInfo(be):null,ue);(0,V.pC)(me)&&("scene"!==be.type&&(me.isReference=!0),ge.push(me))})),se.baseMapLayers=ge}set referenceLayers(he){this._set("referenceLayers",(0,Z.Z)(he,this._get("referenceLayers")))}writeTitle(he,se){se.title=he||"Basemap"}load(he){return this.addResolvingPromise(this._loadFromSource(he)),Promise.resolve(this)}loadAll(){return(0,R.G)(this,he=>{he(this.baseLayers,this.referenceLayers)})}clone(){const he={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(he.loadStatus="loaded"),new ee({resourceInfo:this.resourceInfo}).set(he)}read(he,se){this.resourceInfo||this._set("resourceInfo",{data:he,context:se}),super.read(he,se)}write(he,se){return he=he||{},se&&se.origin||(se={origin:"web-map",...se}),super.write(he,se),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(he.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(ue=>{const ge=(0,k.d9)(ue);return ge.url&&(0,ne.oC)(ge.url)&&(ge.url=`https:${ge.url}`),ge.templateUrl&&(0,ne.oC)(ge.templateUrl)&&(ge.templateUrl=`https:${ge.templateUrl}`),ge})),he}_loadFromSource(he){var se=this;return(0,D.Z)(function*(){const{resourceInfo:ue,portalItem:ge}=se;(0,Q.k_)(he);const be=[];ue?(be.push(se._loadLayersFromJSON(ue.data,ue.context?ue.context.url:null,he)),ue.data.id&&!ue.data.title&&be.push((0,z.g)(ue.data.id).then(oe=>{oe&&se.read({title:oe},ue.context)}))):ge&&be.push(se._loadFromItem(ge,he)),yield Promise.all(be)})()}_loadLayersFromJSON(he,se,ue){var ge=this;return(0,D.Z)(function*(){const be=ge.resourceInfo&&ge.resourceInfo.context,me=ge.portalItem&&ge.portalItem.portal||be&&be.portal||null,Oe=be&&"web-scene"===be.origin?"web-scene":"web-map",{populateOperationalLayers:oe}=yield Promise.all([M.e(7534),M.e(1074)]).then(M.bind(M,71074)),de=[];if((0,Q.k_)(ue),he.baseMapLayers&&Array.isArray(he.baseMapLayers)){const ve={context:{origin:Oe,url:se,portal:me,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},De=Re=>"web-scene"===Oe&&"ArcGISSceneServiceLayer"===Re.layerType||Re.isReference,xe=oe(ge.baseLayers,he.baseMapLayers.filter(Re=>!De(Re)),ve);de.push(xe);const Ce=oe(ge.referenceLayers,he.baseMapLayers.filter(De),ve);de.push(Ce)}yield(0,Q.as)(de)})()}_loadFromItem(he,se){var ue=this;return(0,D.Z)(function*(){const ge=yield he.load(se),be=yield ge.fetchData("json",se),me=(0,ne.mN)(he.itemUrl??"");return ue._set("resourceInfo",{data:be.baseMap??{},context:{origin:"Web Scene"===he.type?"web-scene":"web-map",portal:he.portal||$.Z.getDefault(),url:me}}),ue.read(ue.resourceInfo.data,ue.resourceInfo.context),ue.read({spatialReference:be.spatialReference},ue.resourceInfo.context),ue.read({title:he.title,thumbnailUrl:he.thumbnailUrl},{origin:"portal-item",portal:he.portal||$.Z.getDefault(),url:me}),ue._loadLayersFromJSON(ue.resourceInfo.data,me,se)})()}static fromId(he){const se=z.s[he];if(se){if(se.deprecated){let ue=null;"dark-gray"===he?ue="dark-gray-vector":"gray"===he?ue="gray-vector":"streets"===he?ue="streets-vector":"topo"===he&&(ue="topo-vector"),(0,U.x9)(W.Z.getLogger(le),`The ${he} basemap has entered mature support and is no longer being updated.`,{replacement:ue,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return ee.fromJSON(se)}return null}};(0,T._)([(0,J.Cb)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(he,se,ue,ge){this._writeBaseLayers(he,se,ge)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:te.Z}},writer(he,se,ue,ge){this._writeBaseLayers(he,se,ge)}}}}}})],_e.prototype,"baseLayers",null),(0,T._)([(0,J.Cb)({type:String,json:{origins:{"web-scene":{write:!0}}}})],_e.prototype,"id",void 0),(0,T._)([(0,J.Cb)({type:N.default})],_e.prototype,"portalItem",void 0),(0,T._)([(0,J.Cb)()],_e.prototype,"referenceLayers",null),(0,T._)([(0,J.Cb)({readOnly:!0})],_e.prototype,"resourceInfo",void 0),(0,T._)([(0,J.Cb)({type:x.Z})],_e.prototype,"spatialReference",void 0),(0,T._)([(0,J.Cb)()],_e.prototype,"thumbnailUrl",void 0),(0,T._)([(0,J.Cb)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],_e.prototype,"title",void 0),(0,T._)([(0,F.c)("title")],_e.prototype,"writeTitle",null),_e=ee=(0,T._)([(0,Y.j)(le)],_e);const ae=_e},91558:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>B});var R,W,D=M(20414),T=M(21286),te=M(62208),Z=M(90912);function U(R){return(0,T.uZ)((0,Z.vU)(R),0,255)}function ie(R,W,V){return R=Number(R),isNaN(R)?V:R<W?W:R>V?V:R}class k{static blendColors(W,V,Q,ne=new k){return ne.r=Math.round(W.r+(V.r-W.r)*Q),ne.g=Math.round(W.g+(V.g-W.g)*Q),ne.b=Math.round(W.b+(V.b-W.b)*Q),ne.a=W.a+(V.a-W.a)*Q,ne._sanitize()}static fromRgb(W,V){const Q=W.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(Q){const ne=Q[2].split(/\s*,\s*/),J=Q[1];if("rgb"===J&&3===ne.length||"rgba"===J&&4===ne.length){const X=ne[0];if("%"===X.charAt(X.length-1)){const Y=ne.map(F=>2.56*parseFloat(F));return 4===ne.length&&(Y[3]=parseFloat(ne[3])),k.fromArray(Y,V)}return k.fromArray(ne.map(Y=>parseFloat(Y)),V)}if("hsl"===J&&3===ne.length||"hsla"===J&&4===ne.length)return k.fromArray((0,D.B7)(parseFloat(ne[0]),parseFloat(ne[1])/100,parseFloat(ne[2])/100,parseFloat(ne[3])),V)}return null}static fromHex(W,V=new k){if(4!==W.length&&7!==W.length||"#"!==W[0])return null;const Q=4===W.length?4:8,ne=(1<<Q)-1;let J=Number("0x"+W.substr(1));return isNaN(J)?null:(["b","g","r"].forEach(X=>{const Y=J&ne;J>>=Q,V[X]=4===Q?17*Y:Y}),V.a=1,V)}static fromArray(W,V=new k){return V._set(Number(W[0]),Number(W[1]),Number(W[2]),Number(W[3])),isNaN(V.a)&&(V.a=1),V._sanitize()}static fromString(W,V){const Q=(0,D.St)(W)?(0,D.h$)(W):null;return Q&&k.fromArray(Q,V)||k.fromRgb(W,V)||k.fromHex(W,V)}static fromJSON(W){return W&&new k([W[0],W[1],W[2],W[3]/255])}static toUnitRGB(W){return(0,te.pC)(W)?[W.r/255,W.g/255,W.b/255]:null}static toUnitRGBA(W){return(0,te.pC)(W)?[W.r/255,W.g/255,W.b/255,null!=W.a?W.a:1]:null}constructor(W){this.r=255,this.g=255,this.b=255,this.a=1,W&&this.setColor(W)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(W){return"string"==typeof W?k.fromString(W,this):Array.isArray(W)?k.fromArray(W,this):(this._set(W.r??0,W.g??0,W.b??0,W.a??1),W instanceof k||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const W=this.r.toString(16),V=this.g.toString(16),Q=this.b.toString(16);return`#${W.length<2?"0"+W:W}${V.length<2?"0"+V:V}${Q.length<2?"0"+Q:Q}`}toCss(W=!1){const V=this.r+", "+this.g+", "+this.b;return W?`rgba(${V}, ${this.a})`:`rgb(${V})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(W=k.AlphaMode.ALWAYS){const V=U(this.r),Q=U(this.g),ne=U(this.b);return W===k.AlphaMode.ALWAYS||1!==this.a?[V,Q,ne,U(255*this.a)]:[V,Q,ne]}clone(){return new k(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(W){return(0,te.pC)(W)&&W.r===this.r&&W.g===this.g&&W.b===this.b&&W.a===this.a}_sanitize(){return this.r=Math.round(ie(this.r,0,255)),this.g=Math.round(ie(this.g,0,255)),this.b=Math.round(ie(this.b,0,255)),this.a=ie(this.a,0,1),this}_set(W,V,Q,ne){this.r=W,this.g=V,this.b=Q,this.a=ne}}k.prototype.declaredClass="esri.Color",(W=(R=k||(k={})).AlphaMode||(R.AlphaMode={}))[W.ALWAYS=0]="ALWAYS",W[W.UNLESS_OPAQUE=1]="UNLESS_OPAQUE";const B=k},88879:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>F});var D=M(17626),T=M(29132),te=M(73281),Z=M(20383),U=M(79608),ie=M(86810),k=M(62208),B=M(86236),R=M(77712),Q=(M(90912),M(85931),M(76898)),ne=M(91179);function X(x){if(!(0,k.pC)(x))return null;const $={};for(const N in x){const z=x[N];z&&($[N]=z.toJSON())}return 0!==Object.keys($).length?$:null}let Y=class extends((0,U.J)(ie.wq)){constructor(...x){super(...x),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:(0,B.D)(),configurable:!0})}normalizeCtorArgs(x,$,N,z){return x&&!x.declaredClass?x:{geometry:x,symbol:$,attributes:N,popupTemplate:z}}set aggregateGeometries(x){const $=this._get("aggregateGeometries");JSON.stringify($)!==JSON.stringify(x)&&this._set("aggregateGeometries",x)}set attributes(x){const $=this._get("attributes");$!==x&&(this._set("attributes",x),this._notifyLayer("attributes",$,x))}set geometry(x){const $=this._get("geometry");$!==x&&(this._set("geometry",x),this._notifyLayer("geometry",$,x))}set symbol(x){const $=this._get("symbol");$!==x&&(this._set("symbol",x),this._notifyLayer("symbol",$,x))}set visible(x){const $=this._get("visible");$!==x&&(this._set("visible",x),this._notifyLayer("visible",$,x))}getEffectivePopupTemplate(x=!1){if(this.popupTemplate)return this.popupTemplate;for(const $ of[this.sourceLayer,this.layer])if($){if("popupTemplate"in $&&$.popupTemplate)return $.popupTemplate;if(x&&"defaultPopupTemplate"in $&&(0,k.pC)($.defaultPopupTemplate))return $.defaultPopupTemplate}return null}getAttribute(x){return this.attributes?.[x]}setAttribute(x,$){if(this.attributes){const N=this.getAttribute(x);this.attributes[x]=$,this._notifyLayer("attributes",N,$,x)}else this.attributes={[x]:$},this._notifyLayer("attributes",void 0,$,x)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:X(this.aggregateGeometries),geometry:(0,k.pC)(this.geometry)?this.geometry.toJSON():null,symbol:(0,k.pC)(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){(0,k.pC)(this.geometry)&&"mesh"===this.geometry.type&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(x,$,N,z){if(!this.layer||!("graphicChanged"in this.layer))return;const q={graphic:this,property:x,oldValue:$,newValue:N};"attributes"===x&&(q.attributeName=z),this.layer.graphicChanged(q)}};(0,D._)([(0,R.Cb)({value:null,json:{read:function J(x){if(!x)return null;const $={};for(const N in x){const z=(0,ne.im)(x[N]);z&&($[N]=z)}return 0!==Object.keys($).length?$:null}}})],Y.prototype,"aggregateGeometries",null),(0,D._)([(0,R.Cb)({value:null})],Y.prototype,"attributes",null),(0,D._)([(0,R.Cb)({value:null,types:T.qM,json:{read:ne.im}})],Y.prototype,"geometry",null),(0,D._)([(0,R.Cb)({type:Boolean})],Y.prototype,"isAggregate",void 0),(0,D._)([(0,R.Cb)({clonable:"reference"})],Y.prototype,"layer",void 0),(0,D._)([(0,R.Cb)({type:te.Z})],Y.prototype,"popupTemplate",void 0),(0,D._)([(0,R.Cb)({clonable:"reference"})],Y.prototype,"sourceLayer",void 0),(0,D._)([(0,R.Cb)({value:null,types:Z.LB})],Y.prototype,"symbol",null),(0,D._)([(0,R.Cb)({type:Boolean,value:!0})],Y.prototype,"visible",null),Y=(0,D._)([(0,Q.j)("esri.Graphic")],Y),(Y||(Y={})).generateUID=B.D;const F=Y},73281:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Ie});var D=M(15861),T=M(17626),te=M(79608),Z=M(74333),U=M(86810),ie=M(58817),k=M(63290),B=M(10699),R=M(77712),W=M(66656),V=M(68653),Q=M(76898),ne=M(99433),J=M(90912),X=M(36630),Y=M(55664),F=M(55013),x=M(16615),$=M(82561),N=M(75484),z=M(64531),q=M(6785),ee=M(501);const le={base:null,key:"type",typeMap:{attachment:Y.Z,media:z.Z,text:ee.Z,expression:$.Z,field:N.Z,relationship:q.Z}};var se,_e=M(38439),ae=M(25621);M(85931);let ue=se=class extends U.wq{constructor(Le){super(Le),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new se({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};(0,T._)([(0,R.Cb)({type:Boolean,json:{write:!0}})],ue.prototype,"returnTopmostRaster",void 0),(0,T._)([(0,R.Cb)({type:Boolean,json:{write:!0}})],ue.prototype,"showNoDataRecords",void 0),ue=se=(0,T._)([(0,Q.j)("esri.popup.LayerOptions")],ue);const ge=ue;var me,be=M(51686);let Oe=me=class extends U.wq{constructor(Le){super(Le),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new me({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,ie.d9)(this.orderByFields):null})}};(0,T._)([(0,R.Cb)({type:Boolean,json:{write:!0}})],Oe.prototype,"showRelatedRecords",void 0),(0,T._)([(0,R.Cb)({type:[be.Z],json:{write:!0}})],Oe.prototype,"orderByFields",void 0),Oe=me=(0,T._)([(0,Q.j)("esri.popup.RelatedRecordsInfo")],Oe);const oe=Oe;var de=M(65560),ve=M(59397),De=M(48753),xe=M(10671);const Re=k.Z.getLogger("esri.PopupTemplate"),we="relationships/",Me="expression/",fe=Z.Z.ofType({key:"type",defaultKeyValue:"button",base:ve.Z,typeMap:{button:De.Z,toggle:xe.Z}}),ye={base:F.Z,key:"type",typeMap:{media:z.Z,custom:x.Z,text:ee.Z,attachments:Y.Z,fields:N.Z,expression:$.Z,relationship:q.Z}},je=["attachments","fields","media","text","expression","relationship"];let Je=class extends((0,te.J)(U.wq)){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(Le){return Array.isArray(Le)?Le.map(Ve=>(0,J.N7)(ye,Ve)):"string"==typeof Le||"function"==typeof Le||Le instanceof HTMLElement||(0,B.y8)(Le)?Le:(Re.error("content error","unsupported content value",{value:Le}),null)}readContent(Le,Ve){const{popupElements:st}=Ve;return Array.isArray(st)&&st.length>0?this._readPopupInfoElements(Ve.description,Ve.mediaInfos,st):this._readPopupInfo(Ve)}writeContent(Le,Ve,st,ce){"string"!=typeof Le?Array.isArray(Le)&&(Ve.popupElements=Le.filter(Se=>je.includes(Se.type)).map(Se=>Se&&Se.toJSON(ce)),Ve.popupElements.forEach(Se=>{"attachments"===Se.type?this._writeAttachmentContent(Ve):"media"===Se.type?this._writeMediaContent(Se,Ve):"text"===Se.type?this._writeTextContent(Se,Ve):"relationship"===Se.type&&this._writeRelationshipContent(Se,Ve)})):Ve.description=Le}writeFieldInfos(Le,Ve,st,ce){const{content:Se}=this,ze=Array.isArray(Se)?Se:null;if(Le){const Ke=ze?ze.filter(et=>"fields"===et.type):[],Xe=Ke.length&&Ke.every(et=>et.fieldInfos?.length);Ve.fieldInfos=Le.filter(Boolean).map(et=>{const ct=et.toJSON(ce);return Xe&&(ct.visible=!1),ct})}if(ze)for(const Ke of ze)"fields"===Ke.type&&this._writeFieldsContent(Ke,Ve)}writeLayerOptions(Le,Ve,st,ce){Ve[st]=!Le||null===Le.showNoDataRecords&&null===Le.returnTopmostRaster?null:Le.toJSON(ce)}writeTitle(Le,Ve){Ve.title=Le||""}collectRequiredFields(Le,Ve){var st=this;return(0,D.Z)(function*(){const ce=st.expressionInfos||[];yield st._collectExpressionInfoFields(Le,Ve,[...ce,...st._getContentExpressionInfos(st.content,ce)]),(0,X.gd)(Le,Ve,[...st.outFields||[],...st._getActionsFields(st.actions),...st._getTitleFields(st.title),...st._getContentFields(st.content)])})()}getRequiredFields(Le){var Ve=this;return(0,D.Z)(function*(){const st=new Set;return yield Ve.collectRequiredFields(st,Le),[...st].sort()})()}_writeFieldsContent(Le,Ve){if(!Array.isArray(Le.fieldInfos)||!Le.fieldInfos.length)return;const st=(0,ie.d9)(Le.fieldInfos);Array.isArray(Ve.fieldInfos)?st.forEach(ce=>{const Se=Ve.fieldInfos.find(ze=>ze.fieldName.toLowerCase()===ce.fieldName.toLowerCase());Se?Se.visible=!0:Ve.fieldInfos.push(ce)}):Ve.fieldInfos=st}_writeAttachmentContent(Le){Le.showAttachments||(Le.showAttachments=!0)}_writeRelationshipContent(Le,Ve){const st=Le.orderByFields?.map(Se=>this._toFieldOrderJSON(Se,Le.relationshipId))||[],ce=[...Ve.relatedRecordsInfo?.orderByFields||[],...st];Ve.relatedRecordsInfo={showRelatedRecords:!0,...ce?.length&&{orderByFields:ce}}}_writeTextContent(Le,Ve){!Ve.description&&Le.text&&(Ve.description=Le.text)}_writeMediaContent(Le,Ve){if(!Array.isArray(Le.mediaInfos)||!Le.mediaInfos.length)return;const st=(0,ie.d9)(Le.mediaInfos);Ve.mediaInfos=Array.isArray(Ve.mediaInfos)?[...Ve.mediaInfos,...st]:st}_readPopupInfoElements(Le,Ve,st){const ce={description:!1,mediaInfos:!1};return st.map(Se=>"media"===Se.type?(Se.mediaInfos||!Ve||ce.mediaInfos||(Se.mediaInfos=Ve,ce.mediaInfos=!0),z.Z.fromJSON(Se)):"text"===Se.type?(Se.text||!Le||ce.description||(Se.text=Le,ce.description=!0),ee.Z.fromJSON(Se)):"attachments"===Se.type?Y.Z.fromJSON(Se):"fields"===Se.type?N.Z.fromJSON(Se):"expression"===Se.type?$.Z.fromJSON(Se):"relationship"===Se.type?q.Z.fromJSON(Se):void 0).filter(Boolean)}_toRelationshipContent(Le){const{field:Ve,order:st}=Le;if(!Ve?.startsWith(we))return null;const ce=Ve.replace(we,"").split("/");if(2!==ce.length)return null;const Se=parseInt(ce[0],10),ze=ce[1];return"number"==typeof Se&&ze?q.Z.fromJSON({relationshipId:Se,orderByFields:[{field:ze,order:st}]}):null}_toFieldOrderJSON(Le,Ve){const{order:st,field:ce}=Le;return{field:`${we}${Ve}/${ce}`,order:st}}_readPopupInfo({description:Le,mediaInfos:Ve,showAttachments:st,relatedRecordsInfo:ce={showRelatedRecords:!1}}){const Se=[];Se.push(Le?new ee.Z({text:Le}):new N.Z),Array.isArray(Ve)&&Ve.length&&Se.push(z.Z.fromJSON({mediaInfos:Ve})),st&&Se.push(Y.Z.fromJSON({displayType:"auto"}));const{showRelatedRecords:ze,orderByFields:Ke}=ce;return ze&&Ke?.length&&Ke.forEach(Xe=>{const et=this._toRelationshipContent(Xe);et&&Se.push(et)}),Se.length?Se:Le}_getContentElementFields(Le){const Ve=Le?.type;if("attachments"===Ve)return[...this._extractFieldNames(Le.title),...this._extractFieldNames(Le.description)];if("custom"===Ve)return Le.outFields||[];if("fields"===Ve)return[...this._extractFieldNames(Le.title),...this._extractFieldNames(Le.description),...this._getFieldInfoFields(Le.fieldInfos??this.fieldInfos)];if("media"===Ve){const st=Le.mediaInfos||[];return[...this._extractFieldNames(Le.title),...this._extractFieldNames(Le.description),...st.reduce((ce,Se)=>[...ce,...this._getMediaInfoFields(Se)],[])]}return"text"===Ve?this._extractFieldNames(Le.text):[]}_getMediaInfoFields(Le){const{caption:Ve,title:st,value:ce}=Le,Se=ce||{},{fields:ze,normalizeField:Ke,tooltipField:Xe,sourceURL:et,linkURL:ct}=Se,ft=[...this._extractFieldNames(st),...this._extractFieldNames(Ve),...this._extractFieldNames(et),...this._extractFieldNames(ct),...ze??[]];return Ke&&ft.push(Ke),Xe&&ft.push(Xe),ft}_getContentExpressionInfos(Le,Ve){return Array.isArray(Le)?Le.reduce((st,ce)=>[...st,..."expression"===ce.type&&ce.expressionInfo?[ce.expressionInfo]:[]],Ve):[]}_getContentFields(Le){return"string"==typeof Le?this._extractFieldNames(Le):Array.isArray(Le)?Le.reduce((Ve,st)=>[...Ve,...this._getContentElementFields(st)],[]):[]}_collectExpressionInfoFields(Le,Ve,st){return(0,D.Z)(function*(){st&&(yield Promise.all(st.map(ce=>(0,X.io)(Le,Ve,ce.expression))))})()}_getFieldInfoFields(Le){return Le?Le.filter(Ve=>void 0===Ve.visible||!!Ve.visible).map(Ve=>Ve.fieldName).filter(Ve=>!Ve.startsWith(we)&&!Ve.startsWith(Me)):[]}_getActionsFields(Le){return Le?Le.toArray().reduce((Ve,st)=>[...Ve,...this._getActionFields(st)],[]):[]}_getActionFields(Le){const{className:Ve,title:st,type:ce}=Le,Se="button"===ce||"toggle"===ce?Le.image:"";return[...this._extractFieldNames(st),...this._extractFieldNames(Ve),...this._extractFieldNames(Se)]}_getTitleFields(Le){return"string"==typeof Le?this._extractFieldNames(Le):[]}_extractFieldNames(Le){if(!Le||"string"!=typeof Le)return[];const st=Le.match(/{[^}]*}/g);if(!st)return[];const ce=/\{(\w+):.+\}/,Se=st.filter(ze=>!(0===ze.indexOf(`{${we}`)||0===ze.indexOf(`{${Me}`))).map(ze=>ze.replace(ce,"{$1}"));return Se?Se.map(ze=>ze.slice(1,-1)):[]}};(0,T._)([(0,R.Cb)({type:fe})],Je.prototype,"actions",void 0),(0,T._)([(0,R.Cb)()],Je.prototype,"content",void 0),(0,T._)([(0,W.p)("content")],Je.prototype,"castContent",null),(0,T._)([(0,V.r)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Je.prototype,"readContent",null),(0,T._)([(0,ne.c)("content",{popupElements:{type:Z.Z.ofType(le)},showAttachments:{type:Boolean},mediaInfos:{type:Z.Z.ofType(de.V)},description:{type:String},relatedRecordsInfo:{type:oe}})],Je.prototype,"writeContent",null),(0,T._)([(0,R.Cb)({type:[_e.Z],json:{write:!0}})],Je.prototype,"expressionInfos",void 0),(0,T._)([(0,R.Cb)({type:[ae.Z]})],Je.prototype,"fieldInfos",void 0),(0,T._)([(0,ne.c)("fieldInfos")],Je.prototype,"writeFieldInfos",null),(0,T._)([(0,R.Cb)({type:ge})],Je.prototype,"layerOptions",void 0),(0,T._)([(0,ne.c)("layerOptions")],Je.prototype,"writeLayerOptions",null),(0,T._)([(0,R.Cb)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Je.prototype,"lastEditInfoEnabled",void 0),(0,T._)([(0,R.Cb)()],Je.prototype,"outFields",void 0),(0,T._)([(0,R.Cb)()],Je.prototype,"overwriteActions",void 0),(0,T._)([(0,R.Cb)()],Je.prototype,"returnGeometry",void 0),(0,T._)([(0,R.Cb)({json:{type:String}})],Je.prototype,"title",void 0),(0,T._)([(0,ne.c)("title")],Je.prototype,"writeTitle",null),Je=(0,T._)([(0,Q.j)("esri.PopupTemplate")],Je);const Ie=Je},97478:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>X});var V,D=M(17626),T=M(86810),te=M(62208),Z=M(28170),U=M(77712),B=(M(90912),M(85931),M(68653)),R=M(76898),W=M(99433);let Q=V=class extends T.wq{static get allTime(){return ne}static get empty(){return J}constructor(Y){super(Y),this.end=null,this.start=null}readEnd(Y,F){return null!=F.end?new Date(F.end):null}writeEnd(Y,F){F.end=Y?Y.getTime():null}get isAllTime(){return this.equals(V.allTime)}get isEmpty(){return this.equals(V.empty)}readStart(Y,F){return null!=F.start?new Date(F.start):null}writeStart(Y,F){F.start=Y?Y.getTime():null}clone(){return new V({end:this.end,start:this.start})}equals(Y){if(!Y)return!1;const F=(0,te.pC)(this.start)?this.start.getTime():this.start,x=(0,te.pC)(this.end)?this.end.getTime():this.end,$=(0,te.pC)(Y.start)?Y.start.getTime():Y.start,N=(0,te.pC)(Y.end)?Y.end.getTime():Y.end;return F===$&&x===N}expandTo(Y){if(this.isEmpty||this.isAllTime)return this.clone();const F=(0,te.yw)(this.start,$=>(0,Z.JE)($,Y)),x=(0,te.yw)(this.end,$=>{const N=(0,Z.JE)($,Y);return $.getTime()===N.getTime()?N:(0,Z.Nm)(N,1,Y)});return new V({start:F,end:x})}intersection(Y){if(!Y)return this.clone();if(this.isEmpty||Y.isEmpty)return V.empty;if(this.isAllTime)return Y.clone();if(Y.isAllTime)return this.clone();const F=(0,te.R2)(this.start,-1/0,ee=>ee.getTime()),x=(0,te.R2)(this.end,1/0,ee=>ee.getTime()),$=(0,te.R2)(Y.start,-1/0,ee=>ee.getTime()),N=(0,te.R2)(Y.end,1/0,ee=>ee.getTime());let z,q;if($>=F&&$<=x?z=$:F>=$&&F<=N&&(z=F),x>=$&&x<=N?q=x:N>=F&&N<=x&&(q=N),null!=z&&null!=q&&!isNaN(z)&&!isNaN(q)){const ee=new V;return ee.start=z===-1/0?null:new Date(z),ee.end=q===1/0?null:new Date(q),ee}return V.empty}offset(Y,F){if(this.isEmpty||this.isAllTime)return this.clone();const x=new V,{start:$,end:N}=this;return(0,te.pC)($)&&(x.start=(0,Z.Nm)($,Y,F)),(0,te.pC)(N)&&(x.end=(0,Z.Nm)(N,Y,F)),x}union(Y){if(!Y||Y.isEmpty)return this.clone();if(this.isEmpty)return Y.clone();if(this.isAllTime||Y.isAllTime)return ne.clone();const F=(0,te.pC)(this.start)&&(0,te.pC)(Y.start)?new Date(Math.min(this.start.getTime(),Y.start.getTime())):null,x=(0,te.pC)(this.end)&&(0,te.pC)(Y.end)?new Date(Math.max(this.end.getTime(),Y.end.getTime())):null;return new V({start:F,end:x})}};(0,D._)([(0,U.Cb)({type:Date,json:{write:{allowNull:!0}}})],Q.prototype,"end",void 0),(0,D._)([(0,B.r)("end")],Q.prototype,"readEnd",null),(0,D._)([(0,W.c)("end")],Q.prototype,"writeEnd",null),(0,D._)([(0,U.Cb)({readOnly:!0,json:{read:!1}})],Q.prototype,"isAllTime",null),(0,D._)([(0,U.Cb)({readOnly:!0,json:{read:!1}})],Q.prototype,"isEmpty",null),(0,D._)([(0,U.Cb)({type:Date,json:{write:{allowNull:!0}}})],Q.prototype,"start",void 0),(0,D._)([(0,B.r)("start")],Q.prototype,"readStart",null),(0,D._)([(0,W.c)("start")],Q.prototype,"writeStart",null),Q=V=(0,D._)([(0,R.j)("esri.TimeExtent")],Q);const ne=new Q,J=new Q({start:void 0,end:void 0}),X=Q},20849:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Q});var D=M(17626),T=M(79608),te=M(86810),Z=M(28170),U=M(77712),B=(M(90912),M(85931),M(55342)),R=M(76898),W=M(58926);let V=class extends((0,T.J)(te.wq)){constructor(ne){super(ne),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,Z.rJ)(this.value,this.unit,"milliseconds")}};(0,D._)([(0,B.J)(W.v,{nonNullable:!0})],V.prototype,"unit",void 0),(0,D._)([(0,U.Cb)({type:Number,json:{write:!0},nonNullable:!0})],V.prototype,"value",void 0),V=(0,D._)([(0,R.j)("esri.TimeInterval")],V);const Q=V},85807:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>q});var D=M(17626),T=M(79608),te=M(23719),Z=M(86810),U=M(21286),ie=M(62208),k=M(77712),B=M(66656),W=(M(85931),M(68653)),V=M(76898),Q=M(99433),ne=M(90912),J=M(72642);let X=class extends((0,T.J)(Z.wq)){constructor(...ee){super(...ee),this.position=new J.Z([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(ee,re,le,_e){if(ee&&"object"==typeof ee&&("x"in ee||Array.isArray(ee))){const ae={position:ee};return null!=re&&(ae.heading=re),null!=le&&(ae.tilt=le),null!=_e&&(ae.fov=_e),ae}return ee}writePosition(ee,re,le,_e){const ae=ee.clone();ae.x=(0,ne.q9)(ee.x||0),ae.y=(0,ne.q9)(ee.y||0),ae.z=ee.hasZ?(0,ne.q9)(ee.z||0):ee.z,re[le]=ae.write({},_e)}readPosition(ee,re){const le=new J.Z;return le.read(ee,re),le.x=(0,ne.q9)(le.x||0),le.y=(0,ne.q9)(le.y||0),le.z=le.hasZ?(0,ne.q9)(le.z||0):le.z,le}equals(ee){return!(0,ie.Wi)(ee)&&this.tilt===ee.tilt&&this.heading===ee.heading&&this.fov===ee.fov&&this.position.equals(ee.position)}};(0,D._)([(0,k.Cb)({type:J.Z,json:{write:{isRequired:!0}}})],X.prototype,"position",void 0),(0,D._)([(0,Q.c)("position")],X.prototype,"writePosition",null),(0,D._)([(0,W.r)("position")],X.prototype,"readPosition",null),(0,D._)([(0,k.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,B.p)(ee=>te.BV.normalize((0,ne.q9)(ee)))],X.prototype,"heading",void 0),(0,D._)([(0,k.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,B.p)(ee=>(0,U.uZ)((0,ne.q9)(ee),-180,180))],X.prototype,"tilt",void 0),(0,D._)([(0,k.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],X.prototype,"fov",void 0),X=(0,D._)([(0,V.j)("esri.Camera")],X);const Y=X;var $,F=M(29132),x=M(91179);let N=$=class extends Z.wq{constructor(ee){super(ee),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(ee){return(ee%=360)<0&&(ee+=360),ee}clone(){return new $({rotation:this.rotation,scale:this.scale,targetGeometry:(0,ie.pC)(this.targetGeometry)?this.targetGeometry.clone():null,camera:(0,ie.pC)(this.camera)?this.camera.clone():null})}};function z(){return{enabled:!this.camera}}(0,D._)([(0,k.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:z}}}}})],N.prototype,"rotation",void 0),(0,D._)([(0,B.p)("rotation")],N.prototype,"castRotation",null),(0,D._)([(0,k.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:z}}}}})],N.prototype,"scale",void 0),(0,D._)([(0,k.Cb)({types:F.qM,json:{read:x.im,write:!0,origins:{"web-scene":{read:x.im,write:{overridePolicy:z}}}}})],N.prototype,"targetGeometry",void 0),(0,D._)([(0,k.Cb)({type:Y,json:{write:!0}})],N.prototype,"camera",void 0),N=$=(0,D._)([(0,V.j)("esri.Viewpoint")],N);const q=N},54346:(nt,Te,M)=>{"use strict";M.d(Te,{V:()=>B});var D=M(59318),te=(M(84792),M(26584)),Z=M(63290),U=M(21726);const ie=Z.Z.getLogger("esri.assets");function B(R){if(!D.Z.assetsPath)throw ie.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new te.Z("assets:path-not-set","config.assetsPath is not set");return(0,U.v_)(D.Z.assetsPath,R)}},71530:(nt,Te,M)=>{"use strict";M.d(Te,{a:()=>V});var R,D=M(17626),T=M(91558),te=M(86810),Z=M(58817),U=M(77712),k=(M(90912),M(76898)),B=M(60958);let W=R=class extends te.wq{constructor(){super(...arguments),this.color=new T.Z("white")}clone(){return new R({color:(0,Z.d9)(this.color)})}};(0,D._)([(0,U.Cb)(B.a)],W.prototype,"color",void 0),W=R=(0,D._)([(0,k.j)("esri.symbols.callouts.LineCallout3DBorder")],W);const V=W;Object.freeze(Object.defineProperty({__proto__:null,default:V},Symbol.toStringTag,{value:"Module"}))},1719:(nt,Te,M)=>{"use strict";M.d(Te,{c:()=>D,g:()=>T});var D=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function T(te){return te&&te.__esModule&&Object.prototype.hasOwnProperty.call(te,"default")?te.default:te}},39863:(nt,Te,M)=>{"use strict";M.d(Te,{R:()=>Z,a:()=>B,g:()=>T,t:()=>k});let D=1e-6;function T(){return D}const Z=Math.random,U=Math.PI/180,ie=180/Math.PI;function k(V){return V*U}function B(V){return V*ie}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:Z,equals:function R(V,Q){return Math.abs(V-Q)<=D*Math.max(1,Math.abs(V),Math.abs(Q))},getEpsilon:T,setEpsilon:function te(V){D=V},toDegree:B,toRadian:k},Symbol.toStringTag,{value:"Module"}))},31478:(nt,Te,M)=>{"use strict";M.d(Te,{a:()=>ne,b:()=>V,c:()=>U,d:()=>Z,f:()=>Q,i:()=>te,m:()=>k,r:()=>B,s:()=>R,t:()=>W});var D=M(39863);function te(le){return le[0]=1,le[1]=0,le[2]=0,le[3]=1,le[4]=0,le[5]=0,le}function Z(le,_e,ae,he,se,ue,ge){return le[0]=_e,le[1]=ae,le[2]=he,le[3]=se,le[4]=ue,le[5]=ge,le}function U(le,_e){const ae=_e[0],he=_e[1],se=_e[2],ue=_e[3],ge=_e[4],be=_e[5];let me=ae*ue-he*se;return me?(me=1/me,le[0]=ue*me,le[1]=-he*me,le[2]=-se*me,le[3]=ae*me,le[4]=(se*be-ue*ge)*me,le[5]=(he*ge-ae*be)*me,le):null}function k(le,_e,ae){const he=_e[0],se=_e[1],ue=_e[2],ge=_e[3],be=_e[4],me=_e[5],Oe=ae[0],oe=ae[1],de=ae[2],ve=ae[3],De=ae[4],xe=ae[5];return le[0]=he*Oe+ue*oe,le[1]=se*Oe+ge*oe,le[2]=he*de+ue*ve,le[3]=se*de+ge*ve,le[4]=he*De+ue*xe+be,le[5]=se*De+ge*xe+me,le}function B(le,_e,ae){const he=_e[0],se=_e[1],ue=_e[2],ge=_e[3],be=_e[4],me=_e[5],Oe=Math.sin(ae),oe=Math.cos(ae);return le[0]=he*oe+ue*Oe,le[1]=se*oe+ge*Oe,le[2]=he*-Oe+ue*oe,le[3]=se*-Oe+ge*oe,le[4]=be,le[5]=me,le}function R(le,_e,ae){const se=_e[1],ue=_e[2],ge=_e[3],be=_e[4],me=_e[5],Oe=ae[0],oe=ae[1];return le[0]=_e[0]*Oe,le[1]=se*Oe,le[2]=ue*oe,le[3]=ge*oe,le[4]=be,le[5]=me,le}function W(le,_e,ae){const he=_e[0],se=_e[1],ue=_e[2],ge=_e[3],be=_e[4],me=_e[5],Oe=ae[0],oe=ae[1];return le[0]=he,le[1]=se,le[2]=ue,le[3]=ge,le[4]=he*Oe+ue*oe+be,le[5]=se*Oe+ge*oe+me,le}function V(le,_e){const ae=Math.sin(_e),he=Math.cos(_e);return le[0]=he,le[1]=ae,le[2]=-ae,le[3]=he,le[4]=0,le[5]=0,le}function Q(le,_e){return le[0]=_e[0],le[1]=0,le[2]=0,le[3]=_e[1],le[4]=0,le[5]=0,le}function ne(le,_e){return le[0]=1,le[1]=0,le[2]=0,le[3]=1,le[4]=_e[0],le[5]=_e[1],le}function F(le,_e,ae){return le[0]=_e[0]-ae[0],le[1]=_e[1]-ae[1],le[2]=_e[2]-ae[2],le[3]=_e[3]-ae[3],le[4]=_e[4]-ae[4],le[5]=_e[5]-ae[5],le}Object.freeze(Object.defineProperty({__proto__:null,add:function Y(le,_e,ae){return le[0]=_e[0]+ae[0],le[1]=_e[1]+ae[1],le[2]=_e[2]+ae[2],le[3]=_e[3]+ae[3],le[4]=_e[4]+ae[4],le[5]=_e[5]+ae[5],le},copy:function T(le,_e){return le[0]=_e[0],le[1]=_e[1],le[2]=_e[2],le[3]=_e[3],le[4]=_e[4],le[5]=_e[5],le},determinant:function ie(le){return le[0]*le[3]-le[1]*le[2]},equals:function z(le,_e){const ae=le[0],he=le[1],se=le[2],ue=le[3],ge=le[4],be=le[5],me=_e[0],Oe=_e[1],oe=_e[2],de=_e[3],ve=_e[4],De=_e[5],xe=(0,D.g)();return Math.abs(ae-me)<=xe*Math.max(1,Math.abs(ae),Math.abs(me))&&Math.abs(he-Oe)<=xe*Math.max(1,Math.abs(he),Math.abs(Oe))&&Math.abs(se-oe)<=xe*Math.max(1,Math.abs(se),Math.abs(oe))&&Math.abs(ue-de)<=xe*Math.max(1,Math.abs(ue),Math.abs(de))&&Math.abs(ge-ve)<=xe*Math.max(1,Math.abs(ge),Math.abs(ve))&&Math.abs(be-De)<=xe*Math.max(1,Math.abs(be),Math.abs(De))},exactEquals:function N(le,_e){return le[0]===_e[0]&&le[1]===_e[1]&&le[2]===_e[2]&&le[3]===_e[3]&&le[4]===_e[4]&&le[5]===_e[5]},frob:function X(le){return Math.sqrt(le[0]**2+le[1]**2+le[2]**2+le[3]**2+le[4]**2+le[5]**2+1)},fromRotation:V,fromScaling:Q,fromTranslation:ne,identity:te,invert:U,mul:k,multiply:k,multiplyScalar:function x(le,_e,ae){return le[0]=_e[0]*ae,le[1]=_e[1]*ae,le[2]=_e[2]*ae,le[3]=_e[3]*ae,le[4]=_e[4]*ae,le[5]=_e[5]*ae,le},multiplyScalarAndAdd:function $(le,_e,ae,he){return le[0]=_e[0]+ae[0]*he,le[1]=_e[1]+ae[1]*he,le[2]=_e[2]+ae[2]*he,le[3]=_e[3]+ae[3]*he,le[4]=_e[4]+ae[4]*he,le[5]=_e[5]+ae[5]*he,le},rotate:B,scale:R,set:Z,str:function J(le){return"mat2d("+le[0]+", "+le[1]+", "+le[2]+", "+le[3]+", "+le[4]+", "+le[5]+")"},sub:F,subtract:F,translate:W},Symbol.toStringTag,{value:"Module"}))},12225:(nt,Te,M)=>{"use strict";function D(){const B=new Float32Array(6);return B[0]=1,B[3]=1,B}function U(B,R,W,V){const Q=R[V],ne=R[V+1];B[V]=W[0]*Q+W[2]*ne+W[4],B[V+1]=W[1]*Q+W[3]*ne+W[5]}function ie(B,R,W,V=0,Q=0,ne=2){const J=Q||R.length/ne;for(let X=V;X<J;X++)U(B,R,W,X*ne)}M.d(Te,{c:()=>D,t:()=>ie}),Object.freeze(Object.defineProperty({__proto__:null,clone:function T(B){const R=new Float32Array(6);return R[0]=B[0],R[1]=B[1],R[2]=B[2],R[3]=B[3],R[4]=B[4],R[5]=B[5],R},create:D,createView:function Z(B,R){return new Float32Array(B,R,6)},fromValues:function te(B,R,W,V,Q,ne){const J=new Float32Array(6);return J[0]=B,J[1]=R,J[2]=W,J[3]=V,J[4]=Q,J[5]=ne,J},transform:U,transformMany:ie},Symbol.toStringTag,{value:"Module"}))},46342:(nt,Te,M)=>{"use strict";function D(){return[1,0,0,1,0,0]}M.d(Te,{c:()=>D}),Object.freeze(Object.defineProperty({__proto__:null,clone:function T(ie){return[ie[0],ie[1],ie[2],ie[3],ie[4],ie[5]]},create:D,createView:function Z(ie,k){return new Float64Array(ie,k,6)},fromValues:function te(ie,k,B,R,W,V){return[ie,k,B,R,W,V]}},Symbol.toStringTag,{value:"Module"}))},30217:(nt,Te,M)=>{"use strict";M.d(Te,{a:()=>B,b:()=>z,d:()=>ne,e:()=>k,f:()=>T,g:()=>U,h:()=>V,i:()=>ge,j:()=>X,k:()=>J,m:()=>W,r:()=>Q,s:()=>Z,t:()=>ie});var D=M(39863);function T(oe,de){return oe[0]=de[0],oe[1]=de[1],oe[2]=de[2],oe[3]=de[4],oe[4]=de[5],oe[5]=de[6],oe[6]=de[8],oe[7]=de[9],oe[8]=de[10],oe}function Z(oe,de,ve,De,xe,Ce,Re,we,Me,fe){return oe[0]=de,oe[1]=ve,oe[2]=De,oe[3]=xe,oe[4]=Ce,oe[5]=Re,oe[6]=we,oe[7]=Me,oe[8]=fe,oe}function U(oe){return oe[0]=1,oe[1]=0,oe[2]=0,oe[3]=0,oe[4]=1,oe[5]=0,oe[6]=0,oe[7]=0,oe[8]=1,oe}function ie(oe,de){if(oe===de){const ve=de[1],De=de[2],xe=de[5];oe[1]=de[3],oe[2]=de[6],oe[3]=ve,oe[5]=de[7],oe[6]=De,oe[7]=xe}else oe[0]=de[0],oe[1]=de[3],oe[2]=de[6],oe[3]=de[1],oe[4]=de[4],oe[5]=de[7],oe[6]=de[2],oe[7]=de[5],oe[8]=de[8];return oe}function k(oe,de){const ve=de[0],De=de[1],xe=de[2],Ce=de[3],Re=de[4],we=de[5],Me=de[6],fe=de[7],ye=de[8],je=ye*Re-we*fe,Je=-ye*Ce+we*Me,Ie=fe*Ce-Re*Me;let Le=ve*je+De*Je+xe*Ie;return Le?(Le=1/Le,oe[0]=je*Le,oe[1]=(-ye*De+xe*fe)*Le,oe[2]=(we*De-xe*Re)*Le,oe[3]=Je*Le,oe[4]=(ye*ve-xe*Me)*Le,oe[5]=(-we*ve+xe*Ce)*Le,oe[6]=Ie*Le,oe[7]=(-fe*ve+De*Me)*Le,oe[8]=(Re*ve-De*Ce)*Le,oe):null}function B(oe,de){const ve=de[0],De=de[1],xe=de[2],Ce=de[3],Re=de[4],we=de[5],Me=de[6],fe=de[7],ye=de[8];return oe[0]=Re*ye-we*fe,oe[1]=xe*fe-De*ye,oe[2]=De*we-xe*Re,oe[3]=we*Me-Ce*ye,oe[4]=ve*ye-xe*Me,oe[5]=xe*Ce-ve*we,oe[6]=Ce*fe-Re*Me,oe[7]=De*Me-ve*fe,oe[8]=ve*Re-De*Ce,oe}function W(oe,de,ve){const De=de[0],xe=de[1],Ce=de[2],Re=de[3],we=de[4],Me=de[5],fe=de[6],ye=de[7],je=de[8],Je=ve[0],Ie=ve[1],Le=ve[2],Ve=ve[3],st=ve[4],ce=ve[5],Se=ve[6],ze=ve[7],Ke=ve[8];return oe[0]=Je*De+Ie*Re+Le*fe,oe[1]=Je*xe+Ie*we+Le*ye,oe[2]=Je*Ce+Ie*Me+Le*je,oe[3]=Ve*De+st*Re+ce*fe,oe[4]=Ve*xe+st*we+ce*ye,oe[5]=Ve*Ce+st*Me+ce*je,oe[6]=Se*De+ze*Re+Ke*fe,oe[7]=Se*xe+ze*we+Ke*ye,oe[8]=Se*Ce+ze*Me+Ke*je,oe}function V(oe,de,ve){const De=de[0],xe=de[1],Ce=de[2],Re=de[3],we=de[4],Me=de[5],fe=de[6],ye=de[7],je=de[8],Je=ve[0],Ie=ve[1];return oe[0]=De,oe[1]=xe,oe[2]=Ce,oe[3]=Re,oe[4]=we,oe[5]=Me,oe[6]=Je*De+Ie*Re+fe,oe[7]=Je*xe+Ie*we+ye,oe[8]=Je*Ce+Ie*Me+je,oe}function Q(oe,de,ve){const De=de[0],xe=de[1],Ce=de[2],Re=de[3],we=de[4],Me=de[5],fe=de[6],ye=de[7],je=de[8],Je=Math.sin(ve),Ie=Math.cos(ve);return oe[0]=Ie*De+Je*Re,oe[1]=Ie*xe+Je*we,oe[2]=Ie*Ce+Je*Me,oe[3]=Ie*Re-Je*De,oe[4]=Ie*we-Je*xe,oe[5]=Ie*Me-Je*Ce,oe[6]=fe,oe[7]=ye,oe[8]=je,oe}function ne(oe,de,ve){const De=ve[0],xe=ve[1],Ce=ve[2];return oe[0]=De*de[0],oe[1]=De*de[1],oe[2]=De*de[2],oe[3]=xe*de[3],oe[4]=xe*de[4],oe[5]=xe*de[5],oe[6]=Ce*de[6],oe[7]=Ce*de[7],oe[8]=Ce*de[8],oe}function J(oe,de,ve){const De=ve[0],xe=ve[1];return oe[0]=De*de[0],oe[1]=De*de[1],oe[2]=De*de[2],oe[3]=xe*de[3],oe[4]=xe*de[4],oe[5]=xe*de[5],oe}function X(oe,de){return oe[0]=1,oe[1]=0,oe[2]=0,oe[3]=0,oe[4]=1,oe[5]=0,oe[6]=de[0],oe[7]=de[1],oe[8]=1,oe}function z(oe,de){const ve=de[0],De=de[1],xe=de[2],Ce=de[3],Re=de[4],we=de[5],Me=de[6],fe=de[7],ye=de[8],je=de[9],Je=de[10],Ie=de[11],Le=de[12],Ve=de[13],st=de[14],ce=de[15],Se=ve*we-De*Re,ze=ve*Me-xe*Re,Ke=ve*fe-Ce*Re,Xe=De*Me-xe*we,et=De*fe-Ce*we,ct=xe*fe-Ce*Me,ft=ye*Ve-je*Le,$e=ye*st-Je*Le,ut=ye*ce-Ie*Le,qe=je*st-Je*Ve,ke=je*ce-Ie*Ve,Ge=Je*ce-Ie*st;let We=Se*Ge-ze*ke+Ke*qe+Xe*ut-et*$e+ct*ft;return We?(We=1/We,oe[0]=(we*Ge-Me*ke+fe*qe)*We,oe[1]=(Me*ut-Re*Ge-fe*$e)*We,oe[2]=(Re*ke-we*ut+fe*ft)*We,oe[3]=(xe*ke-De*Ge-Ce*qe)*We,oe[4]=(ve*Ge-xe*ut+Ce*$e)*We,oe[5]=(De*ut-ve*ke-Ce*ft)*We,oe[6]=(Ve*ct-st*et+ce*Xe)*We,oe[7]=(st*Ke-Le*ct-ce*ze)*We,oe[8]=(Le*et-Ve*Ke+ce*Se)*We,oe):null}function _e(oe,de,ve){return oe[0]=de[0]-ve[0],oe[1]=de[1]-ve[1],oe[2]=de[2]-ve[2],oe[3]=de[3]-ve[3],oe[4]=de[4]-ve[4],oe[5]=de[5]-ve[5],oe[6]=de[6]-ve[6],oe[7]=de[7]-ve[7],oe[8]=de[8]-ve[8],oe}function ge(oe){const de=(0,D.g)(),ve=oe[0],De=oe[1],xe=oe[2],Ce=oe[3],Re=oe[4],we=oe[5],Me=oe[6],fe=oe[7],ye=oe[8];return Math.abs(1-(ve*ve+Ce*Ce+Me*Me))<=de&&Math.abs(1-(De*De+Re*Re+fe*fe))<=de&&Math.abs(1-(xe*xe+we*we+ye*ye))<=de}Object.freeze(Object.defineProperty({__proto__:null,add:function le(oe,de,ve){return oe[0]=de[0]+ve[0],oe[1]=de[1]+ve[1],oe[2]=de[2]+ve[2],oe[3]=de[3]+ve[3],oe[4]=de[4]+ve[4],oe[5]=de[5]+ve[5],oe[6]=de[6]+ve[6],oe[7]=de[7]+ve[7],oe[8]=de[8]+ve[8],oe},adjoint:B,copy:function te(oe,de){return oe[0]=de[0],oe[1]=de[1],oe[2]=de[2],oe[3]=de[3],oe[4]=de[4],oe[5]=de[5],oe[6]=de[6],oe[7]=de[7],oe[8]=de[8],oe},determinant:function R(oe){const xe=oe[3],Ce=oe[4],Re=oe[5],we=oe[6],Me=oe[7],fe=oe[8];return oe[0]*(fe*Ce-Re*Me)+oe[1]*(-fe*xe+Re*we)+oe[2]*(Me*xe-Ce*we)},equals:function ue(oe,de){const ve=oe[0],De=oe[1],xe=oe[2],Ce=oe[3],Re=oe[4],we=oe[5],Me=oe[6],fe=oe[7],ye=oe[8],je=de[0],Je=de[1],Ie=de[2],Le=de[3],Ve=de[4],st=de[5],ce=de[6],Se=de[7],ze=de[8],Ke=(0,D.g)();return Math.abs(ve-je)<=Ke*Math.max(1,Math.abs(ve),Math.abs(je))&&Math.abs(De-Je)<=Ke*Math.max(1,Math.abs(De),Math.abs(Je))&&Math.abs(xe-Ie)<=Ke*Math.max(1,Math.abs(xe),Math.abs(Ie))&&Math.abs(Ce-Le)<=Ke*Math.max(1,Math.abs(Ce),Math.abs(Le))&&Math.abs(Re-Ve)<=Ke*Math.max(1,Math.abs(Re),Math.abs(Ve))&&Math.abs(we-st)<=Ke*Math.max(1,Math.abs(we),Math.abs(st))&&Math.abs(Me-ce)<=Ke*Math.max(1,Math.abs(Me),Math.abs(ce))&&Math.abs(fe-Se)<=Ke*Math.max(1,Math.abs(fe),Math.abs(Se))&&Math.abs(ye-ze)<=Ke*Math.max(1,Math.abs(ye),Math.abs(ze))},exactEquals:function se(oe,de){return oe[0]===de[0]&&oe[1]===de[1]&&oe[2]===de[2]&&oe[3]===de[3]&&oe[4]===de[4]&&oe[5]===de[5]&&oe[6]===de[6]&&oe[7]===de[7]&&oe[8]===de[8]},frob:function re(oe){return Math.sqrt(oe[0]**2+oe[1]**2+oe[2]**2+oe[3]**2+oe[4]**2+oe[5]**2+oe[6]**2+oe[7]**2+oe[8]**2)},fromMat2d:function x(oe,de){return oe[0]=de[0],oe[1]=de[1],oe[2]=0,oe[3]=de[2],oe[4]=de[3],oe[5]=0,oe[6]=de[4],oe[7]=de[5],oe[8]=1,oe},fromMat4:T,fromQuat:function $(oe,de){const ve=de[0],De=de[1],xe=de[2],Ce=de[3],Re=ve+ve,we=De+De,Me=xe+xe,fe=ve*Re,ye=De*Re,je=De*we,Je=xe*Re,Ie=xe*we,Le=xe*Me,Ve=Ce*Re,st=Ce*we,ce=Ce*Me;return oe[0]=1-je-Le,oe[3]=ye-ce,oe[6]=Je+st,oe[1]=ye+ce,oe[4]=1-fe-Le,oe[7]=Ie-Ve,oe[2]=Je-st,oe[5]=Ie+Ve,oe[8]=1-fe-je,oe},fromRotation:function Y(oe,de){const ve=Math.sin(de),De=Math.cos(de);return oe[0]=De,oe[1]=ve,oe[2]=0,oe[3]=-ve,oe[4]=De,oe[5]=0,oe[6]=0,oe[7]=0,oe[8]=1,oe},fromScaling:function F(oe,de){return oe[0]=de[0],oe[1]=0,oe[2]=0,oe[3]=0,oe[4]=de[1],oe[5]=0,oe[6]=0,oe[7]=0,oe[8]=1,oe},fromTranslation:X,identity:U,invert:k,isOrthoNormal:ge,mul:W,multiply:W,multiplyScalar:function ae(oe,de,ve){return oe[0]=de[0]*ve,oe[1]=de[1]*ve,oe[2]=de[2]*ve,oe[3]=de[3]*ve,oe[4]=de[4]*ve,oe[5]=de[5]*ve,oe[6]=de[6]*ve,oe[7]=de[7]*ve,oe[8]=de[8]*ve,oe},multiplyScalarAndAdd:function he(oe,de,ve,De){return oe[0]=de[0]+ve[0]*De,oe[1]=de[1]+ve[1]*De,oe[2]=de[2]+ve[2]*De,oe[3]=de[3]+ve[3]*De,oe[4]=de[4]+ve[4]*De,oe[5]=de[5]+ve[5]*De,oe[6]=de[6]+ve[6]*De,oe[7]=de[7]+ve[7]*De,oe[8]=de[8]+ve[8]*De,oe},normalFromMat4:z,normalFromMat4Legacy:function N(oe,de){const ve=de[0],De=de[1],xe=de[2],Ce=de[4],Re=de[5],we=de[6],Me=de[8],fe=de[9],ye=de[10],je=ye*Re-we*fe,Je=-ye*Ce+we*Me,Ie=fe*Ce-Re*Me,Le=ve*je+De*Je+xe*Ie;if(!Le)return null;const Ve=1/Le;return oe[0]=je*Ve,oe[1]=(-ye*De+xe*fe)*Ve,oe[2]=(we*De-xe*Re)*Ve,oe[3]=Je*Ve,oe[4]=(ye*ve-xe*Me)*Ve,oe[5]=(-we*ve+xe*Ce)*Ve,oe[6]=Ie*Ve,oe[7]=(-fe*ve+De*Me)*Ve,oe[8]=(Re*ve-De*Ce)*Ve,oe},projection:function q(oe,de,ve){return oe[0]=2/de,oe[1]=0,oe[2]=0,oe[3]=0,oe[4]=-2/ve,oe[5]=0,oe[6]=-1,oe[7]=1,oe[8]=1,oe},rotate:Q,scale:ne,scaleByVec2:J,set:Z,str:function ee(oe){return"mat3("+oe[0]+", "+oe[1]+", "+oe[2]+", "+oe[3]+", "+oe[4]+", "+oe[5]+", "+oe[6]+", "+oe[7]+", "+oe[8]+")"},sub:_e,subtract:_e,translate:V,transpose:ie},Symbol.toStringTag,{value:"Module"}))},49966:(nt,Te,M)=>{"use strict";function D(){const ie=new Float32Array(9);return ie[0]=1,ie[4]=1,ie[8]=1,ie}function T(ie){const k=new Float32Array(9);return k[0]=ie[0],k[1]=ie[1],k[2]=ie[2],k[3]=ie[3],k[4]=ie[4],k[5]=ie[5],k[6]=ie[6],k[7]=ie[7],k[8]=ie[8],k}function te(ie,k,B,R,W,V,Q,ne,J){const X=new Float32Array(9);return X[0]=ie,X[1]=k,X[2]=B,X[3]=R,X[4]=W,X[5]=V,X[6]=Q,X[7]=ne,X[8]=J,X}M.d(Te,{a:()=>T,c:()=>D,f:()=>te}),Object.freeze(Object.defineProperty({__proto__:null,clone:T,create:D,createView:function Z(ie,k){return new Float32Array(ie,k,9)},fromValues:te},Symbol.toStringTag,{value:"Module"}))},28347:(nt,Te,M)=>{"use strict";M.d(Te,{A:()=>z,a:()=>B,d:()=>N,e:()=>J,f:()=>x,g:()=>ue,h:()=>je,i:()=>U,j:()=>ye,k:()=>ne,m:()=>V,s:()=>Z,t:()=>ie,w:()=>Q,y:()=>Ie,z:()=>Je});var D=M(28093),T=M(39863);function Z(ce,Se,ze,Ke,Xe,et,ct,ft,$e,ut,qe,ke,Ge,We,tt,at,yt){return ce[0]=Se,ce[1]=ze,ce[2]=Ke,ce[3]=Xe,ce[4]=et,ce[5]=ct,ce[6]=ft,ce[7]=$e,ce[8]=ut,ce[9]=qe,ce[10]=ke,ce[11]=Ge,ce[12]=We,ce[13]=tt,ce[14]=at,ce[15]=yt,ce}function U(ce){return ce[0]=1,ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=0,ce[5]=1,ce[6]=0,ce[7]=0,ce[8]=0,ce[9]=0,ce[10]=1,ce[11]=0,ce[12]=0,ce[13]=0,ce[14]=0,ce[15]=1,ce}function ie(ce,Se){if(ce===Se){const ze=Se[1],Ke=Se[2],Xe=Se[3],et=Se[6],ct=Se[7],ft=Se[11];ce[1]=Se[4],ce[2]=Se[8],ce[3]=Se[12],ce[4]=ze,ce[6]=Se[9],ce[7]=Se[13],ce[8]=Ke,ce[9]=et,ce[11]=Se[14],ce[12]=Xe,ce[13]=ct,ce[14]=ft}else ce[0]=Se[0],ce[1]=Se[4],ce[2]=Se[8],ce[3]=Se[12],ce[4]=Se[1],ce[5]=Se[5],ce[6]=Se[9],ce[7]=Se[13],ce[8]=Se[2],ce[9]=Se[6],ce[10]=Se[10],ce[11]=Se[14],ce[12]=Se[3],ce[13]=Se[7],ce[14]=Se[11],ce[15]=Se[15];return ce}function B(ce,Se){const ze=Se[0],Ke=Se[1],Xe=Se[2],et=Se[3],ct=Se[4],ft=Se[5],$e=Se[6],ut=Se[7],qe=Se[8],ke=Se[9],Ge=Se[10],We=Se[11],tt=Se[12],at=Se[13],yt=Se[14],Mt=Se[15],Yt=ze*ft-Ke*ct,sn=ze*$e-Xe*ct,un=ze*ut-et*ct,Sn=Ke*$e-Xe*ft,zt=Ke*ut-et*ft,hn=Xe*ut-et*$e,bn=qe*at-ke*tt,jn=qe*yt-Ge*tt,zn=qe*Mt-We*tt,pt=ke*yt-Ge*at,bt=ke*Mt-We*at,Lt=Ge*Mt-We*yt;let Ft=Yt*Lt-sn*bt+un*pt+Sn*zn-zt*jn+hn*bn;return Ft?(Ft=1/Ft,ce[0]=(ft*Lt-$e*bt+ut*pt)*Ft,ce[1]=(Xe*bt-Ke*Lt-et*pt)*Ft,ce[2]=(at*hn-yt*zt+Mt*Sn)*Ft,ce[3]=(Ge*zt-ke*hn-We*Sn)*Ft,ce[4]=($e*zn-ct*Lt-ut*jn)*Ft,ce[5]=(ze*Lt-Xe*zn+et*jn)*Ft,ce[6]=(yt*un-tt*hn-Mt*sn)*Ft,ce[7]=(qe*hn-Ge*un+We*sn)*Ft,ce[8]=(ct*bt-ft*zn+ut*bn)*Ft,ce[9]=(Ke*zn-ze*bt-et*bn)*Ft,ce[10]=(tt*zt-at*un+Mt*Yt)*Ft,ce[11]=(ke*un-qe*zt-We*Yt)*Ft,ce[12]=(ft*jn-ct*pt-$e*bn)*Ft,ce[13]=(ze*pt-Ke*jn+Xe*bn)*Ft,ce[14]=(at*sn-tt*Sn-yt*Yt)*Ft,ce[15]=(qe*Sn-ke*sn+Ge*Yt)*Ft,ce):null}function V(ce,Se,ze){const Ke=Se[0],Xe=Se[1],et=Se[2],ct=Se[3],ft=Se[4],$e=Se[5],ut=Se[6],qe=Se[7],ke=Se[8],Ge=Se[9],We=Se[10],tt=Se[11],at=Se[12],yt=Se[13],Mt=Se[14],Yt=Se[15];let sn=ze[0],un=ze[1],Sn=ze[2],zt=ze[3];return ce[0]=sn*Ke+un*ft+Sn*ke+zt*at,ce[1]=sn*Xe+un*$e+Sn*Ge+zt*yt,ce[2]=sn*et+un*ut+Sn*We+zt*Mt,ce[3]=sn*ct+un*qe+Sn*tt+zt*Yt,sn=ze[4],un=ze[5],Sn=ze[6],zt=ze[7],ce[4]=sn*Ke+un*ft+Sn*ke+zt*at,ce[5]=sn*Xe+un*$e+Sn*Ge+zt*yt,ce[6]=sn*et+un*ut+Sn*We+zt*Mt,ce[7]=sn*ct+un*qe+Sn*tt+zt*Yt,sn=ze[8],un=ze[9],Sn=ze[10],zt=ze[11],ce[8]=sn*Ke+un*ft+Sn*ke+zt*at,ce[9]=sn*Xe+un*$e+Sn*Ge+zt*yt,ce[10]=sn*et+un*ut+Sn*We+zt*Mt,ce[11]=sn*ct+un*qe+Sn*tt+zt*Yt,sn=ze[12],un=ze[13],Sn=ze[14],zt=ze[15],ce[12]=sn*Ke+un*ft+Sn*ke+zt*at,ce[13]=sn*Xe+un*$e+Sn*Ge+zt*yt,ce[14]=sn*et+un*ut+Sn*We+zt*Mt,ce[15]=sn*ct+un*qe+Sn*tt+zt*Yt,ce}function Q(ce,Se,ze){const Ke=ze[0],Xe=ze[1],et=ze[2];if(Se===ce)ce[12]=Se[0]*Ke+Se[4]*Xe+Se[8]*et+Se[12],ce[13]=Se[1]*Ke+Se[5]*Xe+Se[9]*et+Se[13],ce[14]=Se[2]*Ke+Se[6]*Xe+Se[10]*et+Se[14],ce[15]=Se[3]*Ke+Se[7]*Xe+Se[11]*et+Se[15];else{const ct=Se[0],ft=Se[1],$e=Se[2],ut=Se[3],qe=Se[4],ke=Se[5],Ge=Se[6],We=Se[7],tt=Se[8],at=Se[9],yt=Se[10],Mt=Se[11];ce[0]=ct,ce[1]=ft,ce[2]=$e,ce[3]=ut,ce[4]=qe,ce[5]=ke,ce[6]=Ge,ce[7]=We,ce[8]=tt,ce[9]=at,ce[10]=yt,ce[11]=Mt,ce[12]=ct*Ke+qe*Xe+tt*et+Se[12],ce[13]=ft*Ke+ke*Xe+at*et+Se[13],ce[14]=$e*Ke+Ge*Xe+yt*et+Se[14],ce[15]=ut*Ke+We*Xe+Mt*et+Se[15]}return ce}function ne(ce,Se,ze){const Ke=ze[0],Xe=ze[1],et=ze[2];return ce[0]=Se[0]*Ke,ce[1]=Se[1]*Ke,ce[2]=Se[2]*Ke,ce[3]=Se[3]*Ke,ce[4]=Se[4]*Xe,ce[5]=Se[5]*Xe,ce[6]=Se[6]*Xe,ce[7]=Se[7]*Xe,ce[8]=Se[8]*et,ce[9]=Se[9]*et,ce[10]=Se[10]*et,ce[11]=Se[11]*et,ce[12]=Se[12],ce[13]=Se[13],ce[14]=Se[14],ce[15]=Se[15],ce}function J(ce,Se,ze,Ke){let Xe,et,ct,ft,$e,ut,qe,ke,Ge,We,tt,at,yt,Mt,Yt,sn,un,Sn,zt,hn,bn,jn,zn,pt,bt=Ke[0],Lt=Ke[1],Ft=Ke[2],Xt=Math.sqrt(bt*bt+Lt*Lt+Ft*Ft);return Xt<(0,T.g)()?null:(Xt=1/Xt,bt*=Xt,Lt*=Xt,Ft*=Xt,Xe=Math.sin(ze),et=Math.cos(ze),ct=1-et,ft=Se[0],$e=Se[1],ut=Se[2],qe=Se[3],ke=Se[4],Ge=Se[5],We=Se[6],tt=Se[7],at=Se[8],yt=Se[9],Mt=Se[10],Yt=Se[11],sn=bt*bt*ct+et,un=Lt*bt*ct+Ft*Xe,Sn=Ft*bt*ct-Lt*Xe,zt=bt*Lt*ct-Ft*Xe,hn=Lt*Lt*ct+et,bn=Ft*Lt*ct+bt*Xe,jn=bt*Ft*ct+Lt*Xe,zn=Lt*Ft*ct-bt*Xe,pt=Ft*Ft*ct+et,ce[0]=ft*sn+ke*un+at*Sn,ce[1]=$e*sn+Ge*un+yt*Sn,ce[2]=ut*sn+We*un+Mt*Sn,ce[3]=qe*sn+tt*un+Yt*Sn,ce[4]=ft*zt+ke*hn+at*bn,ce[5]=$e*zt+Ge*hn+yt*bn,ce[6]=ut*zt+We*hn+Mt*bn,ce[7]=qe*zt+tt*hn+Yt*bn,ce[8]=ft*jn+ke*zn+at*pt,ce[9]=$e*jn+Ge*zn+yt*pt,ce[10]=ut*jn+We*zn+Mt*pt,ce[11]=qe*jn+tt*zn+Yt*pt,Se!==ce&&(ce[12]=Se[12],ce[13]=Se[13],ce[14]=Se[14],ce[15]=Se[15]),ce)}function x(ce,Se){return ce[0]=1,ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=0,ce[5]=1,ce[6]=0,ce[7]=0,ce[8]=0,ce[9]=0,ce[10]=1,ce[11]=0,ce[12]=Se[0],ce[13]=Se[1],ce[14]=Se[2],ce[15]=1,ce}function N(ce,Se,ze){if(0===Se)return U(ce);let Ke,Xe,et,ct=ze[0],ft=ze[1],$e=ze[2],ut=Math.sqrt(ct*ct+ft*ft+$e*$e);return ut<(0,T.g)()?null:(ut=1/ut,ct*=ut,ft*=ut,$e*=ut,Ke=Math.sin(Se),Xe=Math.cos(Se),et=1-Xe,ce[0]=ct*ct*et+Xe,ce[1]=ft*ct*et+$e*Ke,ce[2]=$e*ct*et-ft*Ke,ce[3]=0,ce[4]=ct*ft*et-$e*Ke,ce[5]=ft*ft*et+Xe,ce[6]=$e*ft*et+ct*Ke,ce[7]=0,ce[8]=ct*$e*et+ft*Ke,ce[9]=ft*$e*et-ct*Ke,ce[10]=$e*$e*et+Xe,ce[11]=0,ce[12]=0,ce[13]=0,ce[14]=0,ce[15]=1,ce)}function z(ce,Se){const ze=Math.sin(Se),Ke=Math.cos(Se);return ce[0]=1,ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=0,ce[5]=Ke,ce[6]=ze,ce[7]=0,ce[8]=0,ce[9]=-ze,ce[10]=Ke,ce[11]=0,ce[12]=0,ce[13]=0,ce[14]=0,ce[15]=1,ce}function re(ce,Se,ze){const Ke=Se[0],Xe=Se[1],et=Se[2],ct=Se[3],ft=Ke+Ke,$e=Xe+Xe,ut=et+et,qe=Ke*ft,ke=Ke*$e,Ge=Ke*ut,We=Xe*$e,tt=Xe*ut,at=et*ut,yt=ct*ft,Mt=ct*$e,Yt=ct*ut;return ce[0]=1-(We+at),ce[1]=ke+Yt,ce[2]=Ge-Mt,ce[3]=0,ce[4]=ke-Yt,ce[5]=1-(qe+at),ce[6]=tt+yt,ce[7]=0,ce[8]=Ge+Mt,ce[9]=tt-yt,ce[10]=1-(qe+We),ce[11]=0,ce[12]=ze[0],ce[13]=ze[1],ce[14]=ze[2],ce[15]=1,ce}const _e=(0,D.c)();function ue(ce,Se,ze,Ke){const Xe=Se[0],et=Se[1],ct=Se[2],ft=Se[3],$e=Xe+Xe,ut=et+et,qe=ct+ct,ke=Xe*$e,Ge=Xe*ut,We=Xe*qe,tt=et*ut,at=et*qe,yt=ct*qe,Mt=ft*$e,Yt=ft*ut,sn=ft*qe,un=Ke[0],Sn=Ke[1],zt=Ke[2];return ce[0]=(1-(tt+yt))*un,ce[1]=(Ge+sn)*un,ce[2]=(We-Yt)*un,ce[3]=0,ce[4]=(Ge-sn)*Sn,ce[5]=(1-(ke+yt))*Sn,ce[6]=(at+Mt)*Sn,ce[7]=0,ce[8]=(We+Yt)*zt,ce[9]=(at-Mt)*zt,ce[10]=(1-(ke+tt))*zt,ce[11]=0,ce[12]=ze[0],ce[13]=ze[1],ce[14]=ze[2],ce[15]=1,ce}function we(ce,Se,ze){return ce[0]=Se[0]-ze[0],ce[1]=Se[1]-ze[1],ce[2]=Se[2]-ze[2],ce[3]=Se[3]-ze[3],ce[4]=Se[4]-ze[4],ce[5]=Se[5]-ze[5],ce[6]=Se[6]-ze[6],ce[7]=Se[7]-ze[7],ce[8]=Se[8]-ze[8],ce[9]=Se[9]-ze[9],ce[10]=Se[10]-ze[10],ce[11]=Se[11]-ze[11],ce[12]=Se[12]-ze[12],ce[13]=Se[13]-ze[13],ce[14]=Se[14]-ze[14],ce[15]=Se[15]-ze[15],ce}function ye(ce,Se){return ce[0]===Se[0]&&ce[1]===Se[1]&&ce[2]===Se[2]&&ce[3]===Se[3]&&ce[4]===Se[4]&&ce[5]===Se[5]&&ce[6]===Se[6]&&ce[7]===Se[7]&&ce[8]===Se[8]&&ce[9]===Se[9]&&ce[10]===Se[10]&&ce[11]===Se[11]&&ce[12]===Se[12]&&ce[13]===Se[13]&&ce[14]===Se[14]&&ce[15]===Se[15]}function je(ce,Se){if(ce===Se)return!0;const ze=ce[0],Ke=ce[1],Xe=ce[2],et=ce[3],ct=ce[4],ft=ce[5],$e=ce[6],ut=ce[7],qe=ce[8],ke=ce[9],Ge=ce[10],We=ce[11],tt=ce[12],at=ce[13],yt=ce[14],Mt=ce[15],Yt=Se[0],sn=Se[1],un=Se[2],Sn=Se[3],zt=Se[4],hn=Se[5],bn=Se[6],jn=Se[7],zn=Se[8],pt=Se[9],bt=Se[10],Lt=Se[11],Ft=Se[12],Xt=Se[13],Jt=Se[14],Wt=Se[15],Zt=(0,T.g)();return Math.abs(ze-Yt)<=Zt*Math.max(1,Math.abs(ze),Math.abs(Yt))&&Math.abs(Ke-sn)<=Zt*Math.max(1,Math.abs(Ke),Math.abs(sn))&&Math.abs(Xe-un)<=Zt*Math.max(1,Math.abs(Xe),Math.abs(un))&&Math.abs(et-Sn)<=Zt*Math.max(1,Math.abs(et),Math.abs(Sn))&&Math.abs(ct-zt)<=Zt*Math.max(1,Math.abs(ct),Math.abs(zt))&&Math.abs(ft-hn)<=Zt*Math.max(1,Math.abs(ft),Math.abs(hn))&&Math.abs($e-bn)<=Zt*Math.max(1,Math.abs($e),Math.abs(bn))&&Math.abs(ut-jn)<=Zt*Math.max(1,Math.abs(ut),Math.abs(jn))&&Math.abs(qe-zn)<=Zt*Math.max(1,Math.abs(qe),Math.abs(zn))&&Math.abs(ke-pt)<=Zt*Math.max(1,Math.abs(ke),Math.abs(pt))&&Math.abs(Ge-bt)<=Zt*Math.max(1,Math.abs(Ge),Math.abs(bt))&&Math.abs(We-Lt)<=Zt*Math.max(1,Math.abs(We),Math.abs(Lt))&&Math.abs(tt-Ft)<=Zt*Math.max(1,Math.abs(tt),Math.abs(Ft))&&Math.abs(at-Xt)<=Zt*Math.max(1,Math.abs(at),Math.abs(Xt))&&Math.abs(yt-Jt)<=Zt*Math.max(1,Math.abs(yt),Math.abs(Jt))&&Math.abs(Mt-Wt)<=Zt*Math.max(1,Math.abs(Mt),Math.abs(Wt))}function Je(ce){const Se=(0,T.g)(),ze=ce[0],Ke=ce[1],Xe=ce[2],et=ce[4],ct=ce[5],ft=ce[6],$e=ce[8],ut=ce[9],qe=ce[10];return Math.abs(1-(ze*ze+et*et+$e*$e))<=Se&&Math.abs(1-(Ke*Ke+ct*ct+ut*ut))<=Se&&Math.abs(1-(Xe*Xe+ft*ft+qe*qe))<=Se}function Ie(ce){return 1===ce[0]&&0===ce[1]&&0===ce[2]&&0===ce[4]&&1===ce[5]&&0===ce[6]&&0===ce[8]&&0===ce[9]&&1===ce[10]}Object.freeze(Object.defineProperty({__proto__:null,add:function Re(ce,Se,ze){return ce[0]=Se[0]+ze[0],ce[1]=Se[1]+ze[1],ce[2]=Se[2]+ze[2],ce[3]=Se[3]+ze[3],ce[4]=Se[4]+ze[4],ce[5]=Se[5]+ze[5],ce[6]=Se[6]+ze[6],ce[7]=Se[7]+ze[7],ce[8]=Se[8]+ze[8],ce[9]=Se[9]+ze[9],ce[10]=Se[10]+ze[10],ce[11]=Se[11]+ze[11],ce[12]=Se[12]+ze[12],ce[13]=Se[13]+ze[13],ce[14]=Se[14]+ze[14],ce[15]=Se[15]+ze[15],ce},adjoint:function R(ce,Se){const ze=Se[0],Ke=Se[1],Xe=Se[2],et=Se[3],ct=Se[4],ft=Se[5],$e=Se[6],ut=Se[7],qe=Se[8],ke=Se[9],Ge=Se[10],We=Se[11],tt=Se[12],at=Se[13],yt=Se[14],Mt=Se[15];return ce[0]=ft*(Ge*Mt-We*yt)-ke*($e*Mt-ut*yt)+at*($e*We-ut*Ge),ce[1]=-(Ke*(Ge*Mt-We*yt)-ke*(Xe*Mt-et*yt)+at*(Xe*We-et*Ge)),ce[2]=Ke*($e*Mt-ut*yt)-ft*(Xe*Mt-et*yt)+at*(Xe*ut-et*$e),ce[3]=-(Ke*($e*We-ut*Ge)-ft*(Xe*We-et*Ge)+ke*(Xe*ut-et*$e)),ce[4]=-(ct*(Ge*Mt-We*yt)-qe*($e*Mt-ut*yt)+tt*($e*We-ut*Ge)),ce[5]=ze*(Ge*Mt-We*yt)-qe*(Xe*Mt-et*yt)+tt*(Xe*We-et*Ge),ce[6]=-(ze*($e*Mt-ut*yt)-ct*(Xe*Mt-et*yt)+tt*(Xe*ut-et*$e)),ce[7]=ze*($e*We-ut*Ge)-ct*(Xe*We-et*Ge)+qe*(Xe*ut-et*$e),ce[8]=ct*(ke*Mt-We*at)-qe*(ft*Mt-ut*at)+tt*(ft*We-ut*ke),ce[9]=-(ze*(ke*Mt-We*at)-qe*(Ke*Mt-et*at)+tt*(Ke*We-et*ke)),ce[10]=ze*(ft*Mt-ut*at)-ct*(Ke*Mt-et*at)+tt*(Ke*ut-et*ft),ce[11]=-(ze*(ft*We-ut*ke)-ct*(Ke*We-et*ke)+qe*(Ke*ut-et*ft)),ce[12]=-(ct*(ke*yt-Ge*at)-qe*(ft*yt-$e*at)+tt*(ft*Ge-$e*ke)),ce[13]=ze*(ke*yt-Ge*at)-qe*(Ke*yt-Xe*at)+tt*(Ke*Ge-Xe*ke),ce[14]=-(ze*(ft*yt-$e*at)-ct*(Ke*yt-Xe*at)+tt*(Ke*$e-Xe*ft)),ce[15]=ze*(ft*Ge-$e*ke)-ct*(Ke*Ge-Xe*ke)+qe*(Ke*$e-Xe*ft),ce},copy:function te(ce,Se){return ce[0]=Se[0],ce[1]=Se[1],ce[2]=Se[2],ce[3]=Se[3],ce[4]=Se[4],ce[5]=Se[5],ce[6]=Se[6],ce[7]=Se[7],ce[8]=Se[8],ce[9]=Se[9],ce[10]=Se[10],ce[11]=Se[11],ce[12]=Se[12],ce[13]=Se[13],ce[14]=Se[14],ce[15]=Se[15],ce},determinant:function W(ce){const Se=ce[0],ze=ce[1],Ke=ce[2],Xe=ce[3],et=ce[4],ct=ce[5],ft=ce[6],$e=ce[7],ut=ce[8],qe=ce[9],ke=ce[10],Ge=ce[11],We=ce[12],tt=ce[13],at=ce[14],yt=ce[15];return(Se*ct-ze*et)*(ke*yt-Ge*at)-(Se*ft-Ke*et)*(qe*yt-Ge*tt)+(Se*$e-Xe*et)*(qe*at-ke*tt)+(ze*ft-Ke*ct)*(ut*yt-Ge*We)-(ze*$e-Xe*ct)*(ut*at-ke*We)+(Ke*$e-Xe*ft)*(ut*tt-qe*We)},equals:je,exactEquals:ye,frob:function Ce(ce){return Math.sqrt(ce[0]**2+ce[1]**2+ce[2]**2+ce[3]**2+ce[4]**2+ce[5]**2+ce[6]**2+ce[7]**2+ce[8]**2+ce[9]**2+ce[10]**2+ce[11]**2+ce[12]**2+ce[13]**2+ce[14]**2+ce[15]**2)},fromQuat:function be(ce,Se){const ze=Se[0],Ke=Se[1],Xe=Se[2],et=Se[3],ct=ze+ze,ft=Ke+Ke,$e=Xe+Xe,ut=ze*ct,qe=Ke*ct,ke=Ke*ft,Ge=Xe*ct,We=Xe*ft,tt=Xe*$e,at=et*ct,yt=et*ft,Mt=et*$e;return ce[0]=1-ke-tt,ce[1]=qe+Mt,ce[2]=Ge-yt,ce[3]=0,ce[4]=qe-Mt,ce[5]=1-ut-tt,ce[6]=We+at,ce[7]=0,ce[8]=Ge+yt,ce[9]=We-at,ce[10]=1-ut-ke,ce[11]=0,ce[12]=0,ce[13]=0,ce[14]=0,ce[15]=1,ce},fromQuat2:function le(ce,Se){const ze=_e,Ke=-Se[0],Xe=-Se[1],et=-Se[2],ct=Se[3],ft=Se[4],$e=Se[5],ut=Se[6],qe=Se[7],ke=Ke*Ke+Xe*Xe+et*et+ct*ct;return ke>0?(ze[0]=2*(ft*ct+qe*Ke+$e*et-ut*Xe)/ke,ze[1]=2*($e*ct+qe*Xe+ut*Ke-ft*et)/ke,ze[2]=2*(ut*ct+qe*et+ft*Xe-$e*Ke)/ke):(ze[0]=2*(ft*ct+qe*Ke+$e*et-ut*Xe),ze[1]=2*($e*ct+qe*Xe+ut*Ke-ft*et),ze[2]=2*(ut*ct+qe*et+ft*Xe-$e*Ke)),re(ce,Se,ze),ce},fromRotation:N,fromRotationTranslation:re,fromRotationTranslationScale:ue,fromRotationTranslationScaleOrigin:function ge(ce,Se,ze,Ke,Xe){const et=Se[0],ct=Se[1],ft=Se[2],$e=Se[3],ut=et+et,qe=ct+ct,ke=ft+ft,Ge=et*ut,We=et*qe,tt=et*ke,at=ct*qe,yt=ct*ke,Mt=ft*ke,Yt=$e*ut,sn=$e*qe,un=$e*ke,Sn=Ke[0],zt=Ke[1],hn=Ke[2],bn=Xe[0],jn=Xe[1],zn=Xe[2],pt=(1-(at+Mt))*Sn,bt=(We+un)*Sn,Lt=(tt-sn)*Sn,Ft=(We-un)*zt,Xt=(1-(Ge+Mt))*zt,Jt=(yt+Yt)*zt,Wt=(tt+sn)*hn,Zt=(yt-Yt)*hn,gn=(1-(Ge+at))*hn;return ce[0]=pt,ce[1]=bt,ce[2]=Lt,ce[3]=0,ce[4]=Ft,ce[5]=Xt,ce[6]=Jt,ce[7]=0,ce[8]=Wt,ce[9]=Zt,ce[10]=gn,ce[11]=0,ce[12]=ze[0]+bn-(pt*bn+Ft*jn+Wt*zn),ce[13]=ze[1]+jn-(bt*bn+Xt*jn+Zt*zn),ce[14]=ze[2]+zn-(Lt*bn+Jt*jn+gn*zn),ce[15]=1,ce},fromScaling:function $(ce,Se){return ce[0]=Se[0],ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=0,ce[5]=Se[1],ce[6]=0,ce[7]=0,ce[8]=0,ce[9]=0,ce[10]=Se[2],ce[11]=0,ce[12]=0,ce[13]=0,ce[14]=0,ce[15]=1,ce},fromTranslation:x,fromXRotation:z,fromYRotation:function q(ce,Se){const ze=Math.sin(Se),Ke=Math.cos(Se);return ce[0]=Ke,ce[1]=0,ce[2]=-ze,ce[3]=0,ce[4]=0,ce[5]=1,ce[6]=0,ce[7]=0,ce[8]=ze,ce[9]=0,ce[10]=Ke,ce[11]=0,ce[12]=0,ce[13]=0,ce[14]=0,ce[15]=1,ce},fromZRotation:function ee(ce,Se){const ze=Math.sin(Se),Ke=Math.cos(Se);return ce[0]=Ke,ce[1]=ze,ce[2]=0,ce[3]=0,ce[4]=-ze,ce[5]=Ke,ce[6]=0,ce[7]=0,ce[8]=0,ce[9]=0,ce[10]=1,ce[11]=0,ce[12]=0,ce[13]=0,ce[14]=0,ce[15]=1,ce},frustum:function me(ce,Se,ze,Ke,Xe,et,ct){const ft=1/(ze-Se),$e=1/(Xe-Ke),ut=1/(et-ct);return ce[0]=2*et*ft,ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=0,ce[5]=2*et*$e,ce[6]=0,ce[7]=0,ce[8]=(ze+Se)*ft,ce[9]=(Xe+Ke)*$e,ce[10]=(ct+et)*ut,ce[11]=-1,ce[12]=0,ce[13]=0,ce[14]=ct*et*2*ut,ce[15]=0,ce},getRotation:function se(ce,Se){const ze=Se[0]+Se[5]+Se[10];let Ke=0;return ze>0?(Ke=2*Math.sqrt(ze+1),ce[3]=.25*Ke,ce[0]=(Se[6]-Se[9])/Ke,ce[1]=(Se[8]-Se[2])/Ke,ce[2]=(Se[1]-Se[4])/Ke):Se[0]>Se[5]&&Se[0]>Se[10]?(Ke=2*Math.sqrt(1+Se[0]-Se[5]-Se[10]),ce[3]=(Se[6]-Se[9])/Ke,ce[0]=.25*Ke,ce[1]=(Se[1]+Se[4])/Ke,ce[2]=(Se[8]+Se[2])/Ke):Se[5]>Se[10]?(Ke=2*Math.sqrt(1+Se[5]-Se[0]-Se[10]),ce[3]=(Se[8]-Se[2])/Ke,ce[0]=(Se[1]+Se[4])/Ke,ce[1]=.25*Ke,ce[2]=(Se[6]+Se[9])/Ke):(Ke=2*Math.sqrt(1+Se[10]-Se[0]-Se[5]),ce[3]=(Se[1]-Se[4])/Ke,ce[0]=(Se[8]+Se[2])/Ke,ce[1]=(Se[6]+Se[9])/Ke,ce[2]=.25*Ke),ce},getScaling:function he(ce,Se){const ze=Se[0],Ke=Se[1],Xe=Se[2],et=Se[4],ct=Se[5],ft=Se[6],$e=Se[8],ut=Se[9],qe=Se[10];return ce[0]=Math.sqrt(ze*ze+Ke*Ke+Xe*Xe),ce[1]=Math.sqrt(et*et+ct*ct+ft*ft),ce[2]=Math.sqrt($e*$e+ut*ut+qe*qe),ce},getTranslation:function ae(ce,Se){return ce[0]=Se[12],ce[1]=Se[13],ce[2]=Se[14],ce},hasIdentityRotation:Ie,identity:U,invert:B,invertOrIdentity:function k(ce,Se){return B(ce,Se)||U(ce),ce},isOrthoNormal:Je,lookAt:function ve(ce,Se,ze,Ke){let Xe,et,ct,ft,$e,ut,qe,ke,Ge,We;const tt=Se[0],at=Se[1],yt=Se[2],Mt=Ke[0],Yt=Ke[1],sn=Ke[2],un=ze[0],Sn=ze[1],zt=ze[2],hn=(0,T.g)();return Math.abs(tt-un)<hn&&Math.abs(at-Sn)<hn&&Math.abs(yt-zt)<hn?U(ce):(qe=tt-un,ke=at-Sn,Ge=yt-zt,We=1/Math.sqrt(qe*qe+ke*ke+Ge*Ge),qe*=We,ke*=We,Ge*=We,Xe=Yt*Ge-sn*ke,et=sn*qe-Mt*Ge,ct=Mt*ke-Yt*qe,We=Math.sqrt(Xe*Xe+et*et+ct*ct),We?(We=1/We,Xe*=We,et*=We,ct*=We):(Xe=0,et=0,ct=0),ft=ke*ct-Ge*et,$e=Ge*Xe-qe*ct,ut=qe*et-ke*Xe,We=Math.sqrt(ft*ft+$e*$e+ut*ut),We?(We=1/We,ft*=We,$e*=We,ut*=We):(ft=0,$e=0,ut=0),ce[0]=Xe,ce[1]=ft,ce[2]=qe,ce[3]=0,ce[4]=et,ce[5]=$e,ce[6]=ke,ce[7]=0,ce[8]=ct,ce[9]=ut,ce[10]=Ge,ce[11]=0,ce[12]=-(Xe*tt+et*at+ct*yt),ce[13]=-(ft*tt+$e*at+ut*yt),ce[14]=-(qe*tt+ke*at+Ge*yt),ce[15]=1,ce)},mul:V,multiply:V,multiplyScalar:function Me(ce,Se,ze){return ce[0]=Se[0]*ze,ce[1]=Se[1]*ze,ce[2]=Se[2]*ze,ce[3]=Se[3]*ze,ce[4]=Se[4]*ze,ce[5]=Se[5]*ze,ce[6]=Se[6]*ze,ce[7]=Se[7]*ze,ce[8]=Se[8]*ze,ce[9]=Se[9]*ze,ce[10]=Se[10]*ze,ce[11]=Se[11]*ze,ce[12]=Se[12]*ze,ce[13]=Se[13]*ze,ce[14]=Se[14]*ze,ce[15]=Se[15]*ze,ce},multiplyScalarAndAdd:function fe(ce,Se,ze,Ke){return ce[0]=Se[0]+ze[0]*Ke,ce[1]=Se[1]+ze[1]*Ke,ce[2]=Se[2]+ze[2]*Ke,ce[3]=Se[3]+ze[3]*Ke,ce[4]=Se[4]+ze[4]*Ke,ce[5]=Se[5]+ze[5]*Ke,ce[6]=Se[6]+ze[6]*Ke,ce[7]=Se[7]+ze[7]*Ke,ce[8]=Se[8]+ze[8]*Ke,ce[9]=Se[9]+ze[9]*Ke,ce[10]=Se[10]+ze[10]*Ke,ce[11]=Se[11]+ze[11]*Ke,ce[12]=Se[12]+ze[12]*Ke,ce[13]=Se[13]+ze[13]*Ke,ce[14]=Se[14]+ze[14]*Ke,ce[15]=Se[15]+ze[15]*Ke,ce},ortho:function de(ce,Se,ze,Ke,Xe,et,ct){const ft=1/(Se-ze),$e=1/(Ke-Xe),ut=1/(et-ct);return ce[0]=-2*ft,ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=0,ce[5]=-2*$e,ce[6]=0,ce[7]=0,ce[8]=0,ce[9]=0,ce[10]=2*ut,ce[11]=0,ce[12]=(Se+ze)*ft,ce[13]=(Xe+Ke)*$e,ce[14]=(ct+et)*ut,ce[15]=1,ce},perspective:function Oe(ce,Se,ze,Ke,Xe){const et=1/Math.tan(Se/2);let ct;return ce[0]=et/ze,ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=0,ce[5]=et,ce[6]=0,ce[7]=0,ce[8]=0,ce[9]=0,ce[11]=-1,ce[12]=0,ce[13]=0,ce[15]=0,null!=Xe&&Xe!==1/0?(ct=1/(Ke-Xe),ce[10]=(Xe+Ke)*ct,ce[14]=2*Xe*Ke*ct):(ce[10]=-1,ce[14]=-2*Ke),ce},perspectiveFromFieldOfView:function oe(ce,Se,ze,Ke){const Xe=Math.tan(Se.upDegrees*Math.PI/180),et=Math.tan(Se.downDegrees*Math.PI/180),ct=Math.tan(Se.leftDegrees*Math.PI/180),ft=Math.tan(Se.rightDegrees*Math.PI/180),$e=2/(ct+ft),ut=2/(Xe+et);return ce[0]=$e,ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=0,ce[5]=ut,ce[6]=0,ce[7]=0,ce[8]=-(ct-ft)*$e*.5,ce[9]=(Xe-et)*ut*.5,ce[10]=Ke/(ze-Ke),ce[11]=-1,ce[12]=0,ce[13]=0,ce[14]=Ke*ze/(ze-Ke),ce[15]=0,ce},rotate:J,rotateX:function X(ce,Se,ze){const Ke=Math.sin(ze),Xe=Math.cos(ze),et=Se[4],ct=Se[5],ft=Se[6],$e=Se[7],ut=Se[8],qe=Se[9],ke=Se[10],Ge=Se[11];return Se!==ce&&(ce[0]=Se[0],ce[1]=Se[1],ce[2]=Se[2],ce[3]=Se[3],ce[12]=Se[12],ce[13]=Se[13],ce[14]=Se[14],ce[15]=Se[15]),ce[4]=et*Xe+ut*Ke,ce[5]=ct*Xe+qe*Ke,ce[6]=ft*Xe+ke*Ke,ce[7]=$e*Xe+Ge*Ke,ce[8]=ut*Xe-et*Ke,ce[9]=qe*Xe-ct*Ke,ce[10]=ke*Xe-ft*Ke,ce[11]=Ge*Xe-$e*Ke,ce},rotateY:function Y(ce,Se,ze){const Ke=Math.sin(ze),Xe=Math.cos(ze),et=Se[0],ct=Se[1],ft=Se[2],$e=Se[3],ut=Se[8],qe=Se[9],ke=Se[10],Ge=Se[11];return Se!==ce&&(ce[4]=Se[4],ce[5]=Se[5],ce[6]=Se[6],ce[7]=Se[7],ce[12]=Se[12],ce[13]=Se[13],ce[14]=Se[14],ce[15]=Se[15]),ce[0]=et*Xe-ut*Ke,ce[1]=ct*Xe-qe*Ke,ce[2]=ft*Xe-ke*Ke,ce[3]=$e*Xe-Ge*Ke,ce[8]=et*Ke+ut*Xe,ce[9]=ct*Ke+qe*Xe,ce[10]=ft*Ke+ke*Xe,ce[11]=$e*Ke+Ge*Xe,ce},rotateZ:function F(ce,Se,ze){const Ke=Math.sin(ze),Xe=Math.cos(ze),et=Se[0],ct=Se[1],ft=Se[2],$e=Se[3],ut=Se[4],qe=Se[5],ke=Se[6],Ge=Se[7];return Se!==ce&&(ce[8]=Se[8],ce[9]=Se[9],ce[10]=Se[10],ce[11]=Se[11],ce[12]=Se[12],ce[13]=Se[13],ce[14]=Se[14],ce[15]=Se[15]),ce[0]=et*Xe+ut*Ke,ce[1]=ct*Xe+qe*Ke,ce[2]=ft*Xe+ke*Ke,ce[3]=$e*Xe+Ge*Ke,ce[4]=ut*Xe-et*Ke,ce[5]=qe*Xe-ct*Ke,ce[6]=ke*Xe-ft*Ke,ce[7]=Ge*Xe-$e*Ke,ce},scale:ne,set:Z,str:function xe(ce){return"mat4("+ce[0]+", "+ce[1]+", "+ce[2]+", "+ce[3]+", "+ce[4]+", "+ce[5]+", "+ce[6]+", "+ce[7]+", "+ce[8]+", "+ce[9]+", "+ce[10]+", "+ce[11]+", "+ce[12]+", "+ce[13]+", "+ce[14]+", "+ce[15]+")"},sub:we,subtract:we,targetTo:function De(ce,Se,ze,Ke){const Xe=Se[0],et=Se[1],ct=Se[2],ft=Ke[0],$e=Ke[1],ut=Ke[2];let qe=Xe-ze[0],ke=et-ze[1],Ge=ct-ze[2],We=qe*qe+ke*ke+Ge*Ge;We>0&&(We=1/Math.sqrt(We),qe*=We,ke*=We,Ge*=We);let tt=$e*Ge-ut*ke,at=ut*qe-ft*Ge,yt=ft*ke-$e*qe;return We=tt*tt+at*at+yt*yt,We>0&&(We=1/Math.sqrt(We),tt*=We,at*=We,yt*=We),ce[0]=tt,ce[1]=at,ce[2]=yt,ce[3]=0,ce[4]=ke*yt-Ge*at,ce[5]=Ge*tt-qe*yt,ce[6]=qe*at-ke*tt,ce[7]=0,ce[8]=qe,ce[9]=ke,ce[10]=Ge,ce[11]=0,ce[12]=Xe,ce[13]=et,ce[14]=ct,ce[15]=1,ce},translate:Q,transpose:ie},Symbol.toStringTag,{value:"Module"}))},55494:(nt,Te,M)=>{"use strict";function D(){const k=new Float32Array(16);return k[0]=1,k[5]=1,k[10]=1,k[15]=1,k}M.d(Te,{c:()=>D});const U=D();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:U,clone:function T(k){const B=new Float32Array(16);return B[0]=k[0],B[1]=k[1],B[2]=k[2],B[3]=k[3],B[4]=k[4],B[5]=k[5],B[6]=k[6],B[7]=k[7],B[8]=k[8],B[9]=k[9],B[10]=k[10],B[11]=k[11],B[12]=k[12],B[13]=k[13],B[14]=k[14],B[15]=k[15],B},create:D,createView:function Z(k,B){return new Float32Array(k,B,16)},fromValues:function te(k,B,R,W,V,Q,ne,J,X,Y,F,x,$,N,z,q){const ee=new Float32Array(16);return ee[0]=k,ee[1]=B,ee[2]=R,ee[3]=W,ee[4]=V,ee[5]=Q,ee[6]=ne,ee[7]=J,ee[8]=X,ee[9]=Y,ee[10]=F,ee[11]=x,ee[12]=$,ee[13]=N,ee[14]=z,ee[15]=q,ee}},Symbol.toStringTag,{value:"Module"}))},44956:(nt,Te,M)=>{"use strict";M.d(Te,{e:()=>W,f:()=>R,g:()=>B,h:()=>J,i:()=>U,j:()=>$,l:()=>k,p:()=>_e});var D=M(54346),T=M(8314);let te,Z=null;function U(){return!!Z}function k(){return te||(te=M.e(3714).then(M.bind(M,73714)).then(ae=>ae.p).then(({default:ae})=>ae({locateFile:he=>(0,D.V)(`esri/geometry/support/${he}`)})).then(ae=>{z(ae)}),te)}var B,R,W,ae;(function(ae){function he(be,me,Oe){Z.ensureCache.prepare();const oe=re(Oe),de=Oe===oe,ve=Z.ensureFloat64(oe),De=Z._pe_geog_to_proj(Z.getPointer(be),me,ve);return De&&le(Oe,me,ve,de),De}function ue(be,me,Oe){return ge(be,me,Oe,0)}function ge(be,me,Oe,oe){Z.ensureCache.prepare();const de=re(Oe),ve=Oe===de,De=Z.ensureFloat64(de),xe=Z._pe_proj_to_geog_center(Z.getPointer(be),me,De,oe);return xe&&le(Oe,me,De,ve),xe}ae.geogToProj=he,ae.projGeog=function se(be,me,Oe,oe){switch(oe){case R.PE_TRANSFORM_P_TO_G:return ue(be,me,Oe);case R.PE_TRANSFORM_G_TO_P:return he(be,me,Oe)}return 0},ae.projToGeog=ue,ae.projToGeogCenter=ge})(B||(B={})),(ae=R||(R={})).init=function he(){ae.PE_BUFFER_MAX=Z.PeDefs.prototype.PE_BUFFER_MAX,ae.PE_NAME_MAX=Z.PeDefs.prototype.PE_NAME_MAX,ae.PE_MGRS_MAX=Z.PeDefs.prototype.PE_MGRS_MAX,ae.PE_USNG_MAX=Z.PeDefs.prototype.PE_USNG_MAX,ae.PE_DD_MAX=Z.PeDefs.prototype.PE_DD_MAX,ae.PE_DDM_MAX=Z.PeDefs.prototype.PE_DDM_MAX,ae.PE_DMS_MAX=Z.PeDefs.prototype.PE_DMS_MAX,ae.PE_UTM_MAX=Z.PeDefs.prototype.PE_UTM_MAX,ae.PE_PARM_MAX=Z.PeDefs.prototype.PE_PARM_MAX,ae.PE_TYPE_NONE=Z.PeDefs.prototype.PE_TYPE_NONE,ae.PE_TYPE_GEOGCS=Z.PeDefs.prototype.PE_TYPE_GEOGCS,ae.PE_TYPE_PROJCS=Z.PeDefs.prototype.PE_TYPE_PROJCS,ae.PE_TYPE_GEOGTRAN=Z.PeDefs.prototype.PE_TYPE_GEOGTRAN,ae.PE_TYPE_COORDSYS=Z.PeDefs.prototype.PE_TYPE_COORDSYS,ae.PE_TYPE_UNIT=Z.PeDefs.prototype.PE_TYPE_UNIT,ae.PE_TYPE_LINUNIT=Z.PeDefs.prototype.PE_TYPE_LINUNIT,ae.PE_STR_OPTS_NONE=Z.PeDefs.prototype.PE_STR_OPTS_NONE,ae.PE_STR_AUTH_NONE=Z.PeDefs.prototype.PE_STR_AUTH_NONE,ae.PE_STR_AUTH_TOP=Z.PeDefs.prototype.PE_STR_AUTH_TOP,ae.PE_STR_NAME_CANON=Z.PeDefs.prototype.PE_STR_NAME_CANON,ae.PE_PARM_X0=Z.PeDefs.prototype.PE_PARM_X0,ae.PE_PARM_ND=Z.PeDefs.prototype.PE_PARM_ND,ae.PE_TRANSFORM_1_TO_2=Z.PeDefs.prototype.PE_TRANSFORM_1_TO_2,ae.PE_TRANSFORM_2_TO_1=Z.PeDefs.prototype.PE_TRANSFORM_2_TO_1,ae.PE_TRANSFORM_P_TO_G=Z.PeDefs.prototype.PE_TRANSFORM_P_TO_G,ae.PE_TRANSFORM_G_TO_P=Z.PeDefs.prototype.PE_TRANSFORM_G_TO_P,ae.PE_HORIZON_RECT=Z.PeDefs.prototype.PE_HORIZON_RECT,ae.PE_HORIZON_POLY=Z.PeDefs.prototype.PE_HORIZON_POLY,ae.PE_HORIZON_LINE=Z.PeDefs.prototype.PE_HORIZON_LINE,ae.PE_HORIZON_DELTA=Z.PeDefs.prototype.PE_HORIZON_DELTA},function(ae){const he={},se={},ue=Ce=>{if(Ce){const Re=Ce.getType();switch(Re){case R.PE_TYPE_GEOGCS:Ce=Z.castObject(Ce,Z.PeGeogcs);break;case R.PE_TYPE_PROJCS:Ce=Z.castObject(Ce,Z.PeProjcs);break;case R.PE_TYPE_GEOGTRAN:Ce=Z.castObject(Ce,Z.PeGeogtran);break;default:Re&R.PE_TYPE_UNIT&&(Ce=Z.castObject(Ce,Z.PeUnit))}}return Ce};function me(Ce,Re){let we=null,Me=he[Ce];if(Me||(Me={},he[Ce]=Me),Me.hasOwnProperty(String(Re)))we=Me[Re];else{const fe=Z.PeFactory.prototype.factoryByType(Ce,Re);Z.compare(fe,Z.NULL)||(we=fe,Me[Re]=we)}return we=ue(we),we}ae.initialize=function ge(){Z.PeFactory.prototype.initialize(null)},ae.coordsys=function be(Ce){return me(R.PE_TYPE_COORDSYS,Ce)},ae.factoryByType=me,ae.fromString=function Oe(Ce,Re){let we=null,Me=se[Ce];if(Me||(Me={},se[Ce]=Me),Me.hasOwnProperty(Re))we=Me[Re];else{const fe=Z.PeFactory.prototype.fromString(Ce,Re);Z.compare(fe,Z.NULL)||(we=fe,Me[Re]=we)}return we=ue(we),we},ae.geogcs=function oe(Ce){return me(R.PE_TYPE_GEOGCS,Ce)},ae.geogtran=function de(Ce){return me(R.PE_TYPE_GEOGTRAN,Ce)},ae.getCode=function ve(Ce){return Z.PeFactory.prototype.getCode(Ce)},ae.projcs=function De(Ce){return me(R.PE_TYPE_PROJCS,Ce)},ae.unit=function xe(Ce){return me(R.PE_TYPE_UNIT,Ce)}}(W||(W={}));let V=null;var Q,ne,J,X,Y,F,x,$,N;function z(ae){function he(be,me,Oe){be[me]=Oe(be[me])}Z=ae,R.init(),Q.init(),Y.init(),x.init(),$.init(),V=class extends Z.PeGCSExtent{destroy(){Z.destroy(this)}};const se=[Z.PeDatum,Z.PeGeogcs,Z.PeGeogtran,Z.PeObject,Z.PeParameter,Z.PePrimem,Z.PeProjcs,Z.PeSpheroid,Z.PeUnit];for(const be of se)he(be.prototype,"getName",me=>function(){return me.call(this,new Array(R.PE_NAME_MAX))});for(const be of[Z.PeGeogtran,Z.PeProjcs])he(be.prototype,"getParameters",me=>function(){const Oe=new Array(R.PE_PARM_MAX);let oe=me.call(this);for(let de=0;de<Oe.length;de++){const ve=Z.getValue(oe,"*");Oe[de]=ve?Z.wrapPointer(ve,Z.PeParameter):null,oe+=Int32Array.BYTES_PER_ELEMENT}return Oe});he(Z.PeHorizon.prototype,"getCoord",be=>function(){const me=this.getSize();if(!me)return null;const Oe=[];return le(Oe,me,be.call(this)),Oe}),he(Z.PeGTlistExtendedEntry.prototype,"getEntries",be=>{const me=Z._pe_getPeGTlistExtendedGTsSize();return function(){let Oe=null;const oe=be.call(this);if(!Z.compare(oe,Z.NULL)){Oe=[oe];const de=this.getSteps();if(de>1){const ve=Z.getPointer(oe);for(let De=1;De<de;De++)Oe.push(Z.wrapPointer(ve+me*De,Z.PeGTlistExtendedGTs))}}return Oe}});const ue=Z._pe_getPeHorizonSize(),ge=be=>function(){let me=this._cache;if(me||(me=new Map,this._cache=me),me.has(be))return me.get(be);let Oe=null;const oe=be.call(this);if(!Z.compare(oe,Z.NULL)){Oe=[oe];const de=oe.getNump();if(de>1){const ve=Z.getPointer(oe);for(let De=1;De<de;De++)Oe.push(Z.wrapPointer(ve+ue*De,Z.PeHorizon))}}return me.set(be,Oe),Oe};he(Z.PeProjcs.prototype,"horizonGcsGenerate",ge),he(Z.PeProjcs.prototype,"horizonPcsGenerate",ge),Z.PeObject.prototype.toString=function(be=R.PE_STR_OPTS_NONE){Z.ensureCache.prepare();const me=Z.getPointer(this),Oe=Z.ensureInt8(new Array(R.PE_BUFFER_MAX));return Z.UTF8ToString(Z._pe_object_to_string_ext(me,be,Oe))}}function q(ae){if(!ae)return;const he=Z.getClass(ae);if(!he)return;const se=Z.getCache(he);if(!se)return;const ue=Z.getPointer(ae);ue&&delete se[ue]}function ee(ae,he){const se=[],ue=new Array(he);for(let ge=0;ge<ae;ge++)se.push(Z.ensureInt8(ue));return se}function re(ae){let he;return Array.isArray(ae[0])?(he=[],ae.forEach(se=>{he.push(se[0],se[1])})):he=ae,he}function le(ae,he,se,ue=!1){if(ue)for(let ge=0;ge<2*he;ge++)ae[ge]=Z.getValue(se+ge*Float64Array.BYTES_PER_ELEMENT,"double");else{const ge=0===ae.length;for(let be=0;be<he;be++)ge&&(ae[be]=new Array(2)),ae[be][0]=Z.getValue(se,"double"),ae[be][1]=Z.getValue(se+Float64Array.BYTES_PER_ELEMENT,"double"),se+=2*Float64Array.BYTES_PER_ELEMENT}}(function(ae){let he;ae.init=function se(){ae.PE_GTLIST_OPTS_COMMON=Z.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,he=Z._pe_getPeGTlistExtendedEntrySize()},ae.getGTlist=function ue(ge,be,me,Oe,oe,de){let ve=null;const De=new Z.PeInteger(de);try{const xe=Z.PeGTlistExtended.prototype.getGTlist(ge,be,me,Oe,oe,De);if((de=De.val)&&(ve=[xe],de>1)){const Ce=Z.getPointer(xe);for(let Re=1;Re<de;Re++)ve.push(Z.wrapPointer(Ce+he*Re,Z.PeGTlistExtendedEntry))}}finally{Z.destroy(De)}return ve}})(Q||(Q={})),function(ae){ae.destroy=function he(se){if(se&&se.length){for(const ue of se)q(ue),ue.getEntries().forEach(ge=>{q(ge);const be=ge.getGeogtran();q(be),be.getParameters().forEach(q),[be.getGeogcs1(),be.getGeogcs2()].forEach(me=>{q(me);const Oe=me.getDatum();q(Oe),q(Oe.getSpheroid()),q(me.getPrimem()),q(me.getUnit())})});Z.PeGTlistExtendedEntry.prototype.Delete(se[0])}}}(ne||(ne={})),function(ae){ae.geogToGeog=function he(se,ue,ge,be,me){Z.ensureCache.prepare();const Oe=re(ge),oe=ge===Oe,de=Z.ensureFloat64(Oe);let ve=0;be&&(ve=Z.ensureFloat64(be));const De=Z._pe_geog_to_geog(Z.getPointer(se),ue,de,ve,me);return De&&le(ge,ue,de,oe),De}}(J||(J={})),function(ae){const he=(de,ve,De,xe,Ce,Re)=>{let we,Me;switch(Z.ensureCache.prepare(),de){case"dd":we=Z._pe_geog_to_dd,Me=R.PE_DD_MAX;break;case"ddm":we=Z._pe_geog_to_ddm,Me=R.PE_DDM_MAX;break;case"dms":we=Z._pe_geog_to_dms,Me=R.PE_DMS_MAX}let fe=0;ve&&(fe=Z.getPointer(ve));const ye=re(xe),je=Z.ensureFloat64(ye),Je=ee(De,Me),Ie=we(fe,De,je,Ce,Z.ensureInt32(Je));if(Ie)for(let Le=0;Le<De;Le++)Re[Le]=Z.UTF8ToString(Je[Le]);return Ie},se=(de,ve,De,xe,Ce)=>{let Re;switch(Z.ensureCache.prepare(),de){case"dd":Re=Z._pe_dd_to_geog;break;case"ddm":Re=Z._pe_ddm_to_geog;break;case"dms":Re=Z._pe_dms_to_geog}let we=0;ve&&(we=Z.getPointer(ve));const Me=xe.map(Je=>Z.ensureString(Je)),fe=Z.ensureInt32(Me),ye=Z.ensureFloat64(new Array(2*De)),je=Re(we,De,fe,ye);return je&&le(Ce,De,ye),je};ae.geogToDms=function ue(de,ve,De,xe,Ce){return he("dms",de,ve,De,xe,Ce)},ae.dmsToGeog=function ge(de,ve,De,xe){return se("dms",de,ve,De,xe)},ae.geogToDdm=function be(de,ve,De,xe,Ce){return he("ddm",de,ve,De,xe,Ce)},ae.ddmToGeog=function me(de,ve,De,xe){return se("ddm",de,ve,De,xe)},ae.geogToDd=function Oe(de,ve,De,xe,Ce){return he("dd",de,ve,De,xe,Ce)},ae.ddToGeog=function oe(de,ve,De,xe){return se("dd",de,ve,De,xe)}}(X||(X={})),function(ae){ae.init=function he(){ae.PE_MGRS_STYLE_NEW=Z.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,ae.PE_MGRS_STYLE_OLD=Z.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,ae.PE_MGRS_STYLE_AUTO=Z.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,ae.PE_MGRS_180_ZONE_1_PLUS=Z.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,ae.PE_MGRS_ADD_SPACES=Z.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},ae.geogToMgrsExtended=function se(ge,be,me,Oe,oe,de,ve){Z.ensureCache.prepare();let De=0;ge&&(De=Z.getPointer(ge));const xe=re(me),Ce=Z.ensureFloat64(xe),Re=ee(be,R.PE_MGRS_MAX),we=Z.ensureInt32(Re),Me=Z._pe_geog_to_mgrs_extended(De,be,Ce,Oe,oe,de,we);if(Me)for(let fe=0;fe<be;fe++)ve[fe]=Z.UTF8ToString(Re[fe]);return Me},ae.mgrsToGeogExtended=function ue(ge,be,me,Oe,oe){Z.ensureCache.prepare();let de=0;ge&&(de=Z.getPointer(ge));const ve=me.map(Re=>Z.ensureString(Re)),De=Z.ensureInt32(ve),xe=Z.ensureFloat64(new Array(2*be)),Ce=Z._pe_mgrs_to_geog_extended(de,be,De,Oe,xe);return Ce&&le(oe,be,xe),Ce}}(Y||(Y={})),function(ae){ae.geogToUsng=function he(ue,ge,be,me,Oe,oe,de){Z.ensureCache.prepare();let ve=0;ue&&(ve=Z.getPointer(ue));const De=re(be),xe=Z.ensureFloat64(De),Ce=ee(ge,R.PE_MGRS_MAX),Re=Z.ensureInt32(Ce),we=Z._pe_geog_to_usng(ve,ge,xe,me,Oe,oe,Re);if(we)for(let Me=0;Me<ge;Me++)de[Me]=Z.UTF8ToString(Ce[Me]);return we},ae.usngToGeog=function se(ue,ge,be,me){Z.ensureCache.prepare();let Oe=0;ue&&(Oe=Z.getPointer(ue));const oe=be.map(xe=>Z.ensureString(xe)),de=Z.ensureInt32(oe),ve=Z.ensureFloat64(new Array(2*ge)),De=Z._pe_usng_to_geog(Oe,ge,de,ve);return De&&le(me,ge,ve),De}}(F||(F={})),function(ae){ae.init=function he(){ae.PE_UTM_OPTS_NONE=Z.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,ae.PE_UTM_OPTS_ADD_SPACES=Z.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,ae.PE_UTM_OPTS_NS=Z.PeNotationUtm.prototype.PE_UTM_OPTS_NS},ae.geogToUtm=function se(ge,be,me,Oe,oe){Z.ensureCache.prepare();let de=0;ge&&(de=Z.getPointer(ge));const ve=re(me),De=Z.ensureFloat64(ve),xe=ee(be,R.PE_UTM_MAX),Ce=Z.ensureInt32(xe),Re=Z._pe_geog_to_utm(de,be,De,Oe,Ce);if(Re)for(let we=0;we<be;we++)oe[we]=Z.UTF8ToString(xe[we]);return Re},ae.utmToGeog=function ue(ge,be,me,Oe,oe){Z.ensureCache.prepare();let de=0;ge&&(de=Z.getPointer(ge));const ve=me.map(Re=>Z.ensureString(Re)),De=Z.ensureInt32(ve),xe=Z.ensureFloat64(new Array(2*be)),Ce=Z._pe_utm_to_geog(de,be,De,Oe,xe);return Ce&&le(oe,be,xe),Ce}}(x||(x={})),function(ae){const he=new Map;ae.init=function se(){ae.PE_PCSINFO_OPTION_NONE=Z.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,ae.PE_PCSINFO_OPTION_DOMAIN=Z.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,ae.PE_POLE_OUTSIDE_BOUNDARY=Z.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,ae.PE_POLE_POINT=Z.PePCSInfo.prototype.PE_POLE_POINT},ae.generate=function ue(ge,be=ae.PE_PCSINFO_OPTION_DOMAIN){let me=null,Oe=null;return he.has(ge)&&(Oe=he.get(ge),Oe[be]&&(me=Oe[be])),me||(me=Z.PePCSInfo.prototype.generate(ge,be),Oe||(Oe=[],he.set(ge,Oe)),Oe[be]=me),me}}($||($={})),function(ae){ae.versionString=function he(){return Z.PeVersion.prototype.version_string()}}(N||(N={}));const _e=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return B},get PeDefs(){return R},get PeFactory(){return W},get PeGCSExtent(){return V},get PeGTTransformations(){return J},get PeGTlistExtended(){return Q},get PeGTlistExtendedEntry(){return ne},get PeNotationDms(){return X},get PeNotationMgrs(){return Y},get PeNotationUsng(){return F},get PeNotationUtm(){return x},get PePCSInfo(){return $},get PeVersion(){return N},_init:z,get _pe(){return Z},isLoaded:U,isSupported:function ie(){return!!(0,T.Z)("esri-wasm")},load:k},Symbol.toStringTag,{value:"Module"}))},29840:(nt,Te,M)=>{"use strict";M.d(Te,{M:()=>ne,a:()=>J,e:()=>V,f:()=>te,i:()=>R,p:()=>W,r:()=>U,t:()=>Z,w:()=>ie});var D=M(62208),T=M(21726);function te(X,Y){const F=Y&&Y.url&&Y.url.path;if(X&&F&&(X=(0,T.hF)(X,F,{preserveProtocolRelative:!0}),Y.portalItem&&Y.readResourcePaths)){const x=(0,T.PF)(X,Y.portalItem.itemUrl);null!=x&&B.test(x)&&Y.readResourcePaths.push(Y.portalItem.resourceFromPath(x).path)}return Q(X,Y&&Y.portal)}function Z(X,Y,F=ne.YES){if(null==X)return X;!(0,T.YP)(X)&&Y&&Y.blockedRelativeUrls&&Y.blockedRelativeUrls.push(X);let x=(0,T.hF)(X);if(Y){const $=Y.verifyItemRelativeUrls&&Y.verifyItemRelativeUrls.rootPath||Y.url&&Y.url.path;if($){const N=Q($,Y.portal),z=Q(x,Y.portal);x=(0,T.PF)(z,N,N),null!=x&&x!==z&&x!==X&&Y.verifyItemRelativeUrls&&Y.verifyItemRelativeUrls.writtenUrls.push(x)}}return x=V(x,Y?.portal),(0,T.YP)(x)&&(x=(0,T.Fv)(x)),Y?.resources&&Y?.portalItem&&!(0,T.YP)(x)&&!(0,T.HK)(x)&&F===ne.YES&&Y.resources.toKeep.push({resource:Y.portalItem.resourceFromPath(x),compress:!1}),x}function U(X,Y,F){return te(X,F)}function ie(X,Y,F,x){const $=Z(X,x);void 0!==$&&(Y[F]=$)}const k=/\/items\/([^\/]+)\/resources\/(.*)/,B=/^\.\/resources\//;function R(X){return(X?.match(k)??null)?.[1]??null}function W(X){const Y=X?.match(k)??null;if(null==Y)return null;const F=Y[2],x=F.lastIndexOf("/");if(-1===x){const{path:z,extension:q}=(0,T.fZ)(F);return{prefix:null,filename:z,extension:(0,D.Wg)(q)}}const{path:$,extension:N}=(0,T.fZ)(F.slice(x+1));return{prefix:F.slice(0,x),filename:$,extension:(0,D.Wg)(N)}}function V(X,Y){return Y&&!Y.isPortal&&Y.urlKey&&Y.customBaseUrl?(0,T.Ie)(X,`${Y.urlKey}.${Y.customBaseUrl}`,Y.portalHostname):X}function Q(X,Y){if(!Y||Y.isPortal||!Y.urlKey||!Y.customBaseUrl)return X;const F=`${Y.urlKey}.${Y.customBaseUrl}`,x=(0,T.TI)();return(0,T.D6)(x,`${x.scheme}://${F}`)?(0,T.Ie)(X,Y.portalHostname,F):(0,T.Ie)(X,F,Y.portalHostname)}var ne,X;(X=ne||(ne={}))[X.YES=0]="YES",X[X.NO=1]="NO";const J=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return ne},ensureMainOnlineDomain:V,fromJSON:te,itemIdFromResourceUrl:R,prefixAndFilenameFromResourceUrl:W,read:U,toJSON:Z,write:ie},Symbol.toStringTag,{value:"Module"}))},14259:(nt,Te,M)=>{"use strict";M.d(Te,{q:()=>ie});var D,te,Z={};D={get exports(){return Z},set exports(k){Z=k}},void 0!==(te=function(){function B(V,Q,ne,J,X){for(;J>ne;){if(J-ne>600){var Y=J-ne+1,F=Q-ne+1,x=Math.log(Y),$=.5*Math.exp(2*x/3),N=.5*Math.sqrt(x*$*(Y-$)/Y)*(F-Y/2<0?-1:1);B(V,Q,Math.max(ne,Math.floor(Q-F*$/Y+N)),Math.min(J,Math.floor(Q+(Y-F)*$/Y+N)),X)}var z=V[Q],q=ne,ee=J;for(R(V,ne,Q),X(V[J],z)>0&&R(V,ne,J);q<ee;){for(R(V,q,ee),q++,ee--;X(V[q],z)<0;)q++;for(;X(V[ee],z)>0;)ee--}0===X(V[ne],z)?R(V,ne,ee):R(V,++ee,J),ee<=Q&&(ne=ee+1),Q<=ee&&(J=ee-1)}}function R(V,Q,ne){var J=V[Q];V[Q]=V[ne],V[ne]=J}function W(V,Q){return V<Q?-1:V>Q?1:0}return function k(V,Q,ne,J,X){B(V,Q,ne||0,J||V.length-1,X||W)}}())&&(D.exports=te);const ie=Z},76279:(nt,Te,M)=>{"use strict";M.d(Te,{r:()=>T});var D=M(14259);function T(F,x){if(!(this instanceof T))return new T(F,x);this._maxEntries=Math.max(4,F||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),x&&("function"==typeof x?this.toBBox=x:this._initFormat(x)),this.clear()}function te(F,x,$){if(!$)return x.indexOf(F);for(var N=0;N<x.length;N++)if($(F,x[N]))return N;return-1}function Z(F,x){U(F,0,F.children.length,x,F)}function U(F,x,$,N,z){z||(z=X(null)),z.minX=1/0,z.minY=1/0,z.maxX=-1/0,z.maxY=-1/0;for(var q,ee=x;ee<$;ee++)q=F.children[ee],ie(z,F.leaf?N(q):q);return z}function ie(F,x){return F.minX=Math.min(F.minX,x.minX),F.minY=Math.min(F.minY,x.minY),F.maxX=Math.max(F.maxX,x.maxX),F.maxY=Math.max(F.maxY,x.maxY),F}function k(F,x){return F.minX-x.minX}function B(F,x){return F.minY-x.minY}function R(F){return(F.maxX-F.minX)*(F.maxY-F.minY)}function W(F){return F.maxX-F.minX+(F.maxY-F.minY)}function V(F,x){return(Math.max(x.maxX,F.maxX)-Math.min(x.minX,F.minX))*(Math.max(x.maxY,F.maxY)-Math.min(x.minY,F.minY))}function Q(F,x){var $=Math.max(F.minX,x.minX),N=Math.max(F.minY,x.minY),z=Math.min(F.maxX,x.maxX),q=Math.min(F.maxY,x.maxY);return Math.max(0,z-$)*Math.max(0,q-N)}function ne(F,x){return F.minX<=x.minX&&F.minY<=x.minY&&x.maxX<=F.maxX&&x.maxY<=F.maxY}function J(F,x){return x.minX<=F.maxX&&x.minY<=F.maxY&&x.maxX>=F.minX&&x.maxY>=F.minY}function X(F){return{children:F,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Y(F,x,$,N,z){for(var q,ee=[x,$];ee.length;)($=ee.pop())-(x=ee.pop())<=N||(q=x+Math.ceil(($-x)/N/2)*N,(0,D.q)(F,q,x,$,z),ee.push(x,q,q,$))}T.prototype={all:function(){return this._all(this.data,[])},search:function(F){var x=this.data,$=[],N=this.toBBox;if(!J(F,x))return $;for(var z,q,ee,re,le=[];x;){for(z=0,q=x.children.length;z<q;z++)ee=x.children[z],J(F,re=x.leaf?N(ee):ee)&&(x.leaf?$.push(ee):ne(F,re)?this._all(ee,$):le.push(ee));x=le.pop()}return $},collides:function(F){var x=this.data,$=this.toBBox;if(!J(F,x))return!1;for(var N,z,q,ee,re=[];x;){for(N=0,z=x.children.length;N<z;N++)if(q=x.children[N],J(F,ee=x.leaf?$(q):q)){if(x.leaf||ne(F,ee))return!0;re.push(q)}x=re.pop()}return!1},load:function(F){if(!F||!F.length)return this;if(F.length<this._minEntries){for(var x=0,$=F.length;x<$;x++)this.insert(F[x]);return this}var N=this._build(F.slice(),0,F.length-1,0);if(this.data.children.length)if(this.data.height===N.height)this._splitRoot(this.data,N);else{if(this.data.height<N.height){var z=this.data;this.data=N,N=z}this._insert(N,this.data.height-N.height-1,!0)}else this.data=N;return this},insert:function(F){return F&&this._insert(F,this.data.height-1),this},clear:function(){return this.data=X([]),this},remove:function(F,x){if(!F)return this;for(var $,N,z,q,ee=this.data,re=this.toBBox(F),le=[],_e=[];ee||le.length;){if(ee||(ee=le.pop(),N=le[le.length-1],$=_e.pop(),q=!0),ee.leaf&&-1!==(z=te(F,ee.children,x)))return ee.children.splice(z,1),le.push(ee),this._condense(le),this;q||ee.leaf||!ne(ee,re)?N?($++,ee=N.children[$],q=!1):ee=null:(le.push(ee),_e.push($),$=0,N=ee,ee=ee.children[0])}return this},toBBox:function(F){return F},compareMinX:k,compareMinY:B,toJSON:function(){return this.data},fromJSON:function(F){return this.data=F,this},_all:function(F,x){for(var $=[];F;)F.leaf?x.push.apply(x,F.children):$.push.apply($,F.children),F=$.pop();return x},_build:function(F,x,$,N){var z,q=$-x+1,ee=this._maxEntries;if(q<=ee)return Z(z=X(F.slice(x,$+1)),this.toBBox),z;N||(N=Math.ceil(Math.log(q)/Math.log(ee)),ee=Math.ceil(q/Math.pow(ee,N-1))),(z=X([])).leaf=!1,z.height=N;var re,le,_e,ae,he=Math.ceil(q/ee),se=he*Math.ceil(Math.sqrt(ee));for(Y(F,x,$,se,this.compareMinX),re=x;re<=$;re+=se)for(Y(F,re,_e=Math.min(re+se-1,$),he,this.compareMinY),le=re;le<=_e;le+=he)ae=Math.min(le+he-1,_e),z.children.push(this._build(F,le,ae,N-1));return Z(z,this.toBBox),z},_chooseSubtree:function(F,x,$,N){for(var z,q,ee,re,le,_e,ae,he;N.push(x),!x.leaf&&N.length-1!==$;){for(ae=he=1/0,z=0,q=x.children.length;z<q;z++)le=R(ee=x.children[z]),(_e=V(F,ee)-le)<he?(he=_e,ae=le<ae?le:ae,re=ee):_e===he&&le<ae&&(ae=le,re=ee);x=re||x.children[0]}return x},_insert:function(F,x,$){var z=$?F:(0,this.toBBox)(F),q=[],ee=this._chooseSubtree(z,this.data,x,q);for(ee.children.push(F),ie(ee,z);x>=0&&q[x].children.length>this._maxEntries;)this._split(q,x),x--;this._adjustParentBBoxes(z,q,x)},_split:function(F,x){var $=F[x],N=$.children.length,z=this._minEntries;this._chooseSplitAxis($,z,N);var q=this._chooseSplitIndex($,z,N),ee=X($.children.splice(q,$.children.length-q));ee.height=$.height,ee.leaf=$.leaf,Z($,this.toBBox),Z(ee,this.toBBox),x?F[x-1].children.push(ee):this._splitRoot($,ee)},_splitRoot:function(F,x){this.data=X([F,x]),this.data.height=F.height+1,this.data.leaf=!1,Z(this.data,this.toBBox)},_chooseSplitIndex:function(F,x,$){var N,z,q,ee,re,le,_e,ae;for(le=_e=1/0,N=x;N<=$-x;N++)ee=Q(z=U(F,0,N,this.toBBox),q=U(F,N,$,this.toBBox)),re=R(z)+R(q),ee<le?(le=ee,ae=N,_e=re<_e?re:_e):ee===le&&re<_e&&(_e=re,ae=N);return ae},_chooseSplitAxis:function(F,x,$){var N=F.leaf?this.compareMinX:k,z=F.leaf?this.compareMinY:B;this._allDistMargin(F,x,$,N)<this._allDistMargin(F,x,$,z)&&F.children.sort(N)},_allDistMargin:function(F,x,$,N){F.children.sort(N);var z,q,ee=this.toBBox,re=U(F,0,x,ee),le=U(F,$-x,$,ee),_e=W(re)+W(le);for(z=x;z<$-x;z++)q=F.children[z],ie(re,F.leaf?ee(q):q),_e+=W(re);for(z=$-x-1;z>=x;z--)q=F.children[z],ie(le,F.leaf?ee(q):q),_e+=W(le);return _e},_adjustParentBBoxes:function(F,x,$){for(var N=$;N>=0;N--)ie(x[N],F)},_condense:function(F){for(var x,$=F.length-1;$>=0;$--)0===F[$].children.length?$>0?(x=F[$-1].children).splice(x.indexOf(F[$]),1):this.clear():Z(F[$],this.toBBox)},_initFormat:function(F){var x=["return a"," - b",";"];this.compareMinX=new Function("a","b",x.join(F[0])),this.compareMinY=new Function("a","b",x.join(F[1])),this.toBBox=new Function("a","return {minX: a"+F[0]+", minY: a"+F[1]+", maxX: a"+F[2]+", maxY: a"+F[3]+"};")}}},17626:(nt,Te,M)=>{"use strict";function D(T,te,Z,U){var ie,k=arguments.length,B=k<3?te:null===U?U=Object.getOwnPropertyDescriptor(te,Z):U;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=Reflect.decorate(T,te,Z,U);else for(var R=T.length-1;R>=0;R--)(ie=T[R])&&(B=(k<3?ie(B):k>3?ie(te,Z,B):ie(te,Z))||B);return k>3&&B&&Object.defineProperty(te,Z,B),B}M.d(Te,{_:()=>D})},67831:(nt,Te,M)=>{"use strict";M.d(Te,{a:()=>U,b:()=>ne,c:()=>T,d:()=>X,e:()=>ve,f:()=>z,g:()=>ee,h:()=>q,i:()=>F,j:()=>Z,k:()=>Y,l:()=>re,n:()=>$,r:()=>ue,s:()=>te,t:()=>ae});var D=M(39863);function T(fe,ye){return fe[0]=ye[0],fe[1]=ye[1],fe}function te(fe,ye,je){return fe[0]=ye,fe[1]=je,fe}function Z(fe,ye,je){return fe[0]=ye[0]+je[0],fe[1]=ye[1]+je[1],fe}function U(fe,ye,je){return fe[0]=ye[0]-je[0],fe[1]=ye[1]-je[1],fe}function ie(fe,ye,je){return fe[0]=ye[0]*je[0],fe[1]=ye[1]*je[1],fe}function k(fe,ye,je){return fe[0]=ye[0]/je[0],fe[1]=ye[1]/je[1],fe}function ne(fe,ye,je){return fe[0]=ye[0]*je,fe[1]=ye[1]*je,fe}function X(fe,ye){const je=ye[0]-fe[0],Je=ye[1]-fe[1];return Math.sqrt(je*je+Je*Je)}function Y(fe,ye){const je=ye[0]-fe[0],Je=ye[1]-fe[1];return je*je+Je*Je}function F(fe){const ye=fe[0],je=fe[1];return Math.sqrt(ye*ye+je*je)}function x(fe){const ye=fe[0],je=fe[1];return ye*ye+je*je}function $(fe,ye){return fe[0]=-ye[0],fe[1]=-ye[1],fe}function z(fe,ye){const je=ye[0],Je=ye[1];let Ie=je*je+Je*Je;return Ie>0&&(Ie=1/Math.sqrt(Ie),fe[0]=ye[0]*Ie,fe[1]=ye[1]*Ie),fe}function q(fe,ye){return fe[0]*ye[0]+fe[1]*ye[1]}function ee(fe,ye,je){const Je=ye[0]*je[1]-ye[1]*je[0];return fe[0]=fe[1]=0,fe[2]=Je,fe}function re(fe,ye,je,Je){const Ie=ye[0],Le=ye[1];return fe[0]=Ie+Je*(je[0]-Ie),fe[1]=Le+Je*(je[1]-Le),fe}function ae(fe,ye,je){const Je=ye[0],Ie=ye[1];return fe[0]=je[0]*Je+je[2]*Ie+je[4],fe[1]=je[1]*Je+je[3]*Ie+je[5],fe}function ue(fe,ye,je,Je){const Ie=ye[0]-je[0],Le=ye[1]-je[1],Ve=Math.sin(Je),st=Math.cos(Je);return fe[0]=Ie*st-Le*Ve+je[0],fe[1]=Ie*Ve+Le*st+je[1],fe}const ve=U;Object.freeze(Object.defineProperty({__proto__:null,add:Z,angle:function ge(fe,ye){const je=fe[0],Je=fe[1],Ie=ye[0],Le=ye[1];let Ve=je*je+Je*Je;Ve>0&&(Ve=1/Math.sqrt(Ve));let st=Ie*Ie+Le*Le;st>0&&(st=1/Math.sqrt(st));const ce=(je*Ie+Je*Le)*Ve*st;return ce>1?0:ce<-1?Math.PI:Math.acos(ce)},ceil:function B(fe,ye){return fe[0]=Math.ceil(ye[0]),fe[1]=Math.ceil(ye[1]),fe},copy:T,cross:ee,dist:X,distance:X,div:k,divide:k,dot:q,equals:function Oe(fe,ye){const je=fe[0],Je=fe[1],Ie=ye[0],Le=ye[1],Ve=(0,D.g)();return Math.abs(je-Ie)<=Ve*Math.max(1,Math.abs(je),Math.abs(Ie))&&Math.abs(Je-Le)<=Ve*Math.max(1,Math.abs(Je),Math.abs(Le))},exactEquals:function me(fe,ye){return fe[0]===ye[0]&&fe[1]===ye[1]},floor:function R(fe,ye){return fe[0]=Math.floor(ye[0]),fe[1]=Math.floor(ye[1]),fe},inverse:function N(fe,ye){return fe[0]=1/ye[0],fe[1]=1/ye[1],fe},len:F,length:F,lerp:re,max:function V(fe,ye,je){return fe[0]=Math.max(ye[0],je[0]),fe[1]=Math.max(ye[1],je[1]),fe},min:function W(fe,ye,je){return fe[0]=Math.min(ye[0],je[0]),fe[1]=Math.min(ye[1],je[1]),fe},mul:ie,multiply:ie,negate:$,normalize:z,projectAndScale:function oe(fe,ye,je,Je,Ie){let Le=ye[0]-je[0],Ve=ye[1]-je[1];const st=(Je[0]*Le+Je[1]*Ve)*(Ie-1);return Le=Je[0]*st,Ve=Je[1]*st,fe[0]=ye[0]+Le,fe[1]=ye[1]+Ve,fe},random:function le(fe,ye){ye=ye||1;const je=2*(0,D.R)()*Math.PI;return fe[0]=Math.cos(je)*ye,fe[1]=Math.sin(je)*ye,fe},rotate:ue,round:function Q(fe,ye){return fe[0]=Math.round(ye[0]),fe[1]=Math.round(ye[1]),fe},scale:ne,scaleAndAdd:function J(fe,ye,je,Je){return fe[0]=ye[0]+je[0]*Je,fe[1]=ye[1]+je[1]*Je,fe},set:te,sqrDist:Y,sqrLen:x,squaredDistance:Y,squaredLength:x,str:function be(fe){return"vec2("+fe[0]+", "+fe[1]+")"},sub:ve,subtract:U,transformMat2:function _e(fe,ye,je){const Je=ye[0],Ie=ye[1];return fe[0]=je[0]*Je+je[2]*Ie,fe[1]=je[1]*Je+je[3]*Ie,fe},transformMat2d:ae,transformMat3:function he(fe,ye,je){const Je=ye[0],Ie=ye[1];return fe[0]=je[0]*Je+je[3]*Ie+je[6],fe[1]=je[1]*Je+je[4]*Ie+je[7],fe},transformMat4:function se(fe,ye,je){const Je=ye[0],Ie=ye[1];return fe[0]=je[0]*Je+je[4]*Ie+je[12],fe[1]=je[1]*Je+je[5]*Ie+je[13],fe}},Symbol.toStringTag,{value:"Module"}))},9545:(nt,Te,M)=>{"use strict";function D(){return new Float32Array(2)}function te(J,X){const Y=new Float32Array(2);return Y[0]=J,Y[1]=X,Y}function U(){return D()}function ie(){return te(1,1)}function k(){return te(1,0)}function B(){return te(0,1)}M.d(Te,{O:()=>W,Z:()=>R,c:()=>D,f:()=>te});const R=U(),W=ie(),V=k(),Q=B();Object.freeze(Object.defineProperty({__proto__:null,ONES:W,UNIT_X:V,UNIT_Y:Q,ZEROS:R,clone:function T(J){const X=new Float32Array(2);return X[0]=J[0],X[1]=J[1],X},create:D,createView:function Z(J,X){return new Float32Array(J,X,2)},fromValues:te,ones:ie,unitX:k,unitY:B,zeros:U},Symbol.toStringTag,{value:"Module"}))},99770:(nt,Te,M)=>{"use strict";function D(){return[0,0]}function te(X,Y){return[X,Y]}function U(X,Y){return new Float64Array(X,Y,2)}function k(){return te(1,1)}function B(){return te(1,0)}function R(){return te(0,1)}M.d(Te,{Z:()=>W,a:()=>D,c:()=>U,f:()=>te});const W=[0,0],V=k(),Q=B(),ne=R();Object.freeze(Object.defineProperty({__proto__:null,ONES:V,UNIT_X:Q,UNIT_Y:ne,ZEROS:W,clone:function T(X){return[X[0],X[1]]},create:D,createView:U,fromArray:function Z(X){const Y=[0,0],F=Math.min(2,X.length);for(let x=0;x<F;++x)Y[x]=X[x];return Y},fromValues:te,ones:k,unitX:B,unitY:R,zeros:function ie(){return[0,0]}},Symbol.toStringTag,{value:"Module"}))},84161:(nt,Te,M)=>{"use strict";M.d(Te,{B:()=>B,C:()=>R,a:()=>ie,b:()=>k,c:()=>Z,d:()=>N,e:()=>le,f:()=>_e,g:()=>F,h:()=>ae,i:()=>$,j:()=>Je,k:()=>Re,l:()=>te,m:()=>ge,n:()=>re,p:()=>z,q:()=>me,r:()=>Me,s:()=>U,t:()=>be,u:()=>Le,z:()=>x});var D=M(28093),T=M(39863);function te(ce){const Se=ce[0],ze=ce[1],Ke=ce[2];return Math.sqrt(Se*Se+ze*ze+Ke*Ke)}function Z(ce,Se){return ce[0]=Se[0],ce[1]=Se[1],ce[2]=Se[2],ce}function U(ce,Se,ze,Ke){return ce[0]=Se,ce[1]=ze,ce[2]=Ke,ce}function ie(ce,Se,ze){return ce[0]=Se[0]+ze[0],ce[1]=Se[1]+ze[1],ce[2]=Se[2]+ze[2],ce}function k(ce,Se,ze){return ce[0]=Se[0]-ze[0],ce[1]=Se[1]-ze[1],ce[2]=Se[2]-ze[2],ce}function B(ce,Se,ze){return ce[0]=Se[0]*ze[0],ce[1]=Se[1]*ze[1],ce[2]=Se[2]*ze[2],ce}function R(ce,Se,ze){return ce[0]=Se[0]/ze[0],ce[1]=Se[1]/ze[1],ce[2]=Se[2]/ze[2],ce}function F(ce,Se,ze){return ce[0]=Se[0]*ze,ce[1]=Se[1]*ze,ce[2]=Se[2]*ze,ce}function x(ce,Se,ze,Ke){return ce[0]=Se[0]+ze[0]*Ke,ce[1]=Se[1]+ze[1]*Ke,ce[2]=Se[2]+ze[2]*Ke,ce}function $(ce,Se){const ze=Se[0]-ce[0],Ke=Se[1]-ce[1],Xe=Se[2]-ce[2];return Math.sqrt(ze*ze+Ke*Ke+Xe*Xe)}function N(ce,Se){const ze=Se[0]-ce[0],Ke=Se[1]-ce[1],Xe=Se[2]-ce[2];return ze*ze+Ke*Ke+Xe*Xe}function z(ce){const Se=ce[0],ze=ce[1],Ke=ce[2];return Se*Se+ze*ze+Ke*Ke}function re(ce,Se){const ze=Se[0],Ke=Se[1],Xe=Se[2];let et=ze*ze+Ke*Ke+Xe*Xe;return et>0&&(et=1/Math.sqrt(et),ce[0]=Se[0]*et,ce[1]=Se[1]*et,ce[2]=Se[2]*et),ce}function le(ce,Se){return ce[0]*Se[0]+ce[1]*Se[1]+ce[2]*Se[2]}function _e(ce,Se,ze){const Ke=Se[0],Xe=Se[1],et=Se[2],ct=ze[0],ft=ze[1],$e=ze[2];return ce[0]=Xe*$e-et*ft,ce[1]=et*ct-Ke*$e,ce[2]=Ke*ft-Xe*ct,ce}function ae(ce,Se,ze,Ke){const Xe=Se[0],et=Se[1],ct=Se[2];return ce[0]=Xe+Ke*(ze[0]-Xe),ce[1]=et+Ke*(ze[1]-et),ce[2]=ct+Ke*(ze[2]-ct),ce}function ge(ce,Se,ze){const Ke=Se[0],Xe=Se[1],et=Se[2];return ce[0]=ze[0]*Ke+ze[4]*Xe+ze[8]*et+ze[12],ce[1]=ze[1]*Ke+ze[5]*Xe+ze[9]*et+ze[13],ce[2]=ze[2]*Ke+ze[6]*Xe+ze[10]*et+ze[14],ce}function be(ce,Se,ze){const Ke=Se[0],Xe=Se[1],et=Se[2];return ce[0]=Ke*ze[0]+Xe*ze[3]+et*ze[6],ce[1]=Ke*ze[1]+Xe*ze[4]+et*ze[7],ce[2]=Ke*ze[2]+Xe*ze[5]+et*ze[8],ce}function me(ce,Se,ze){const Ke=ze[0],Xe=ze[1],et=ze[2],ft=Se[0],$e=Se[1],ut=Se[2];let qe=Xe*ut-et*$e,ke=et*ft-Ke*ut,Ge=Ke*$e-Xe*ft,We=Xe*Ge-et*ke,tt=et*qe-Ke*Ge,at=Ke*ke-Xe*qe;const yt=2*ze[3];return qe*=yt,ke*=yt,Ge*=yt,We*=2,tt*=2,at*=2,ce[0]=ft+qe+We,ce[1]=$e+ke+tt,ce[2]=ut+Ge+at,ce}const De=(0,D.c)(),xe=(0,D.c)();function Re(ce,Se){return ce[0]===Se[0]&&ce[1]===Se[1]&&ce[2]===Se[2]}function Me(ce,Se,ze){const Ke=ze[0]-Se[0],Xe=ze[1]-Se[1],et=ze[2]-Se[2];let ct=Ke*Ke+Xe*Xe+et*et;return ct>0?(ct=1/Math.sqrt(ct),ce[0]=Ke*ct,ce[1]=Xe*ct,ce[2]=et*ct,ce):(ce[0]=0,ce[1]=0,ce[2]=0,ce)}const Je=$,Le=te;Object.freeze(Object.defineProperty({__proto__:null,abs:function Q(ce,Se){return ce[0]=Math.abs(Se[0]),ce[1]=Math.abs(Se[1]),ce[2]=Math.abs(Se[2]),ce},add:ie,angle:function ve(ce,Se){Z(De,ce),Z(xe,Se),re(De,De),re(xe,xe);const ze=le(De,xe);return ze>1?0:ze<-1?Math.PI:Math.acos(ze)},bezier:function se(ce,Se,ze,Ke,Xe,et){const ct=1-et,ft=ct*ct,$e=et*et,ut=ft*ct,qe=3*et*ft,ke=3*$e*ct,Ge=$e*et;return ce[0]=Se[0]*ut+ze[0]*qe+Ke[0]*ke+Xe[0]*Ge,ce[1]=Se[1]*ut+ze[1]*qe+Ke[1]*ke+Xe[1]*Ge,ce[2]=Se[2]*ut+ze[2]*qe+Ke[2]*ke+Xe[2]*Ge,ce},ceil:function W(ce,Se){return ce[0]=Math.ceil(Se[0]),ce[1]=Math.ceil(Se[1]),ce[2]=Math.ceil(Se[2]),ce},copy:Z,cross:_e,direction:Me,dist:Je,distance:$,div:R,divide:R,dot:le,equals:function we(ce,Se){if(ce===Se)return!0;const ze=ce[0],Ke=ce[1],Xe=ce[2],et=Se[0],ct=Se[1],ft=Se[2],$e=(0,T.g)();return Math.abs(ze-et)<=$e*Math.max(1,Math.abs(ze),Math.abs(et))&&Math.abs(Ke-ct)<=$e*Math.max(1,Math.abs(Ke),Math.abs(ct))&&Math.abs(Xe-ft)<=$e*Math.max(1,Math.abs(Xe),Math.abs(ft))},exactEquals:Re,floor:function V(ce,Se){return ce[0]=Math.floor(Se[0]),ce[1]=Math.floor(Se[1]),ce[2]=Math.floor(Se[2]),ce},hermite:function he(ce,Se,ze,Ke,Xe,et){const ct=et*et,ft=ct*(2*et-3)+1,$e=ct*(et-2)+et,ut=ct*(et-1),qe=ct*(3-2*et);return ce[0]=Se[0]*ft+ze[0]*$e+Ke[0]*ut+Xe[0]*qe,ce[1]=Se[1]*ft+ze[1]*$e+Ke[1]*ut+Xe[1]*qe,ce[2]=Se[2]*ft+ze[2]*$e+Ke[2]*ut+Xe[2]*qe,ce},inverse:function ee(ce,Se){return ce[0]=1/Se[0],ce[1]=1/Se[1],ce[2]=1/Se[2],ce},len:Le,length:te,lerp:ae,max:function X(ce,Se,ze){return ce[0]=Math.max(Se[0],ze[0]),ce[1]=Math.max(Se[1],ze[1]),ce[2]=Math.max(Se[2],ze[2]),ce},min:function J(ce,Se,ze){return ce[0]=Math.min(Se[0],ze[0]),ce[1]=Math.min(Se[1],ze[1]),ce[2]=Math.min(Se[2],ze[2]),ce},mul:B,multiply:B,negate:function q(ce,Se){return ce[0]=-Se[0],ce[1]=-Se[1],ce[2]=-Se[2],ce},normalize:re,random:function ue(ce,Se){Se=Se||1;const ze=T.R,Ke=2*ze()*Math.PI,Xe=2*ze()-1,et=Math.sqrt(1-Xe*Xe)*Se;return ce[0]=Math.cos(Ke)*et,ce[1]=Math.sin(Ke)*et,ce[2]=Xe*Se,ce},rotateX:function Oe(ce,Se,ze,Ke){const Xe=[],et=[];return Xe[0]=Se[0]-ze[0],Xe[1]=Se[1]-ze[1],Xe[2]=Se[2]-ze[2],et[0]=Xe[0],et[1]=Xe[1]*Math.cos(Ke)-Xe[2]*Math.sin(Ke),et[2]=Xe[1]*Math.sin(Ke)+Xe[2]*Math.cos(Ke),ce[0]=et[0]+ze[0],ce[1]=et[1]+ze[1],ce[2]=et[2]+ze[2],ce},rotateY:function oe(ce,Se,ze,Ke){const Xe=[],et=[];return Xe[0]=Se[0]-ze[0],Xe[1]=Se[1]-ze[1],Xe[2]=Se[2]-ze[2],et[0]=Xe[2]*Math.sin(Ke)+Xe[0]*Math.cos(Ke),et[1]=Xe[1],et[2]=Xe[2]*Math.cos(Ke)-Xe[0]*Math.sin(Ke),ce[0]=et[0]+ze[0],ce[1]=et[1]+ze[1],ce[2]=et[2]+ze[2],ce},rotateZ:function de(ce,Se,ze,Ke){const Xe=[],et=[];return Xe[0]=Se[0]-ze[0],Xe[1]=Se[1]-ze[1],Xe[2]=Se[2]-ze[2],et[0]=Xe[0]*Math.cos(Ke)-Xe[1]*Math.sin(Ke),et[1]=Xe[0]*Math.sin(Ke)+Xe[1]*Math.cos(Ke),et[2]=Xe[2],ce[0]=et[0]+ze[0],ce[1]=et[1]+ze[1],ce[2]=et[2]+ze[2],ce},round:function Y(ce,Se){return ce[0]=Math.round(Se[0]),ce[1]=Math.round(Se[1]),ce[2]=Math.round(Se[2]),ce},scale:F,scaleAndAdd:x,set:U,sign:function ne(ce,Se){return ce[0]=Math.sign(Se[0]),ce[1]=Math.sign(Se[1]),ce[2]=Math.sign(Se[2]),ce},sqrDist:N,sqrLen:z,squaredDistance:N,squaredLength:z,str:function Ce(ce){return"vec3("+ce[0]+", "+ce[1]+", "+ce[2]+")"},sub:k,subtract:k,transformMat3:be,transformMat4:ge,transformQuat:me},Symbol.toStringTag,{value:"Module"}))},28093:(nt,Te,M)=>{"use strict";function D(){return[0,0,0]}function T(F){return[F[0],F[1],F[2]]}function te(F,x,$){return[F,x,$]}function Z(F){const x=[0,0,0],$=Math.min(3,F.length);for(let N=0;N<$;++N)x[N]=F[N];return x}function U(F,x){return new Float64Array(F,x,3)}function k(){return te(1,1,1)}function B(){return te(1,0,0)}function R(){return te(0,1,0)}function W(){return te(0,0,1)}M.d(Te,{O:()=>Q,Z:()=>V,a:()=>T,b:()=>U,c:()=>D,d:()=>Z,f:()=>te});const V=[0,0,0],Q=k(),ne=B(),J=R(),X=W();Object.freeze(Object.defineProperty({__proto__:null,ONES:Q,UNIT_X:ne,UNIT_Y:J,UNIT_Z:X,ZEROS:V,clone:T,create:D,createView:U,fromArray:Z,fromValues:te,ones:k,unitX:B,unitY:R,unitZ:W,zeros:function ie(){return[0,0,0]}},Symbol.toStringTag,{value:"Module"}))},993:(nt,Te,M)=>{"use strict";M.d(Te,{a:()=>Z,b:()=>ne,c:()=>T,d:()=>q,e:()=>F,f:()=>x,g:()=>he,h:()=>se,l:()=>ee,n:()=>z,s:()=>te});var D=M(39863);function T(De,xe){return De[0]=xe[0],De[1]=xe[1],De[2]=xe[2],De[3]=xe[3],De}function te(De,xe,Ce,Re,we){return De[0]=xe,De[1]=Ce,De[2]=Re,De[3]=we,De}function Z(De,xe,Ce){return De[0]=xe[0]+Ce[0],De[1]=xe[1]+Ce[1],De[2]=xe[2]+Ce[2],De[3]=xe[3]+Ce[3],De}function U(De,xe,Ce){return De[0]=xe[0]-Ce[0],De[1]=xe[1]-Ce[1],De[2]=xe[2]-Ce[2],De[3]=xe[3]-Ce[3],De}function ie(De,xe,Ce){return De[0]=xe[0]*Ce[0],De[1]=xe[1]*Ce[1],De[2]=xe[2]*Ce[2],De[3]=xe[3]*Ce[3],De}function k(De,xe,Ce){return De[0]=xe[0]/Ce[0],De[1]=xe[1]/Ce[1],De[2]=xe[2]/Ce[2],De[3]=xe[3]/Ce[3],De}function ne(De,xe,Ce){return De[0]=xe[0]*Ce,De[1]=xe[1]*Ce,De[2]=xe[2]*Ce,De[3]=xe[3]*Ce,De}function X(De,xe){const Ce=xe[0]-De[0],Re=xe[1]-De[1],we=xe[2]-De[2],Me=xe[3]-De[3];return Math.sqrt(Ce*Ce+Re*Re+we*we+Me*Me)}function Y(De,xe){const Ce=xe[0]-De[0],Re=xe[1]-De[1],we=xe[2]-De[2],Me=xe[3]-De[3];return Ce*Ce+Re*Re+we*we+Me*Me}function F(De){const xe=De[0],Ce=De[1],Re=De[2],we=De[3];return Math.sqrt(xe*xe+Ce*Ce+Re*Re+we*we)}function x(De){const xe=De[0],Ce=De[1],Re=De[2],we=De[3];return xe*xe+Ce*Ce+Re*Re+we*we}function z(De,xe){const Ce=xe[0],Re=xe[1],we=xe[2],Me=xe[3];let fe=Ce*Ce+Re*Re+we*we+Me*Me;return fe>0&&(fe=1/Math.sqrt(fe),De[0]=Ce*fe,De[1]=Re*fe,De[2]=we*fe,De[3]=Me*fe),De}function q(De,xe){return De[0]*xe[0]+De[1]*xe[1]+De[2]*xe[2]+De[3]*xe[3]}function ee(De,xe,Ce,Re){const we=xe[0],Me=xe[1],fe=xe[2],ye=xe[3];return De[0]=we+Re*(Ce[0]-we),De[1]=Me+Re*(Ce[1]-Me),De[2]=fe+Re*(Ce[2]-fe),De[3]=ye+Re*(Ce[3]-ye),De}function he(De,xe){return De[0]===xe[0]&&De[1]===xe[1]&&De[2]===xe[2]&&De[3]===xe[3]}function se(De,xe){const Ce=De[0],Re=De[1],we=De[2],Me=De[3],fe=xe[0],ye=xe[1],je=xe[2],Je=xe[3],Ie=(0,D.g)();return Math.abs(Ce-fe)<=Ie*Math.max(1,Math.abs(Ce),Math.abs(fe))&&Math.abs(Re-ye)<=Ie*Math.max(1,Math.abs(Re),Math.abs(ye))&&Math.abs(we-je)<=Ie*Math.max(1,Math.abs(we),Math.abs(je))&&Math.abs(Me-Je)<=Ie*Math.max(1,Math.abs(Me),Math.abs(Je))}Object.freeze(Object.defineProperty({__proto__:null,add:Z,ceil:function B(De,xe){return De[0]=Math.ceil(xe[0]),De[1]=Math.ceil(xe[1]),De[2]=Math.ceil(xe[2]),De[3]=Math.ceil(xe[3]),De},copy:T,dist:X,distance:X,div:k,divide:k,dot:q,equals:se,exactEquals:he,floor:function R(De,xe){return De[0]=Math.floor(xe[0]),De[1]=Math.floor(xe[1]),De[2]=Math.floor(xe[2]),De[3]=Math.floor(xe[3]),De},inverse:function N(De,xe){return De[0]=1/xe[0],De[1]=1/xe[1],De[2]=1/xe[2],De[3]=1/xe[3],De},len:F,length:F,lerp:ee,max:function V(De,xe,Ce){return De[0]=Math.max(xe[0],Ce[0]),De[1]=Math.max(xe[1],Ce[1]),De[2]=Math.max(xe[2],Ce[2]),De[3]=Math.max(xe[3],Ce[3]),De},min:function W(De,xe,Ce){return De[0]=Math.min(xe[0],Ce[0]),De[1]=Math.min(xe[1],Ce[1]),De[2]=Math.min(xe[2],Ce[2]),De[3]=Math.min(xe[3],Ce[3]),De},mul:ie,multiply:ie,negate:function $(De,xe){return De[0]=-xe[0],De[1]=-xe[1],De[2]=-xe[2],De[3]=-xe[3],De},normalize:z,random:function re(De,xe){const Ce=D.R;let Re,we,Me,fe,ye,je;xe=xe||1;do{Re=2*Ce()-1,we=2*Ce()-1,ye=Re*Re+we*we}while(ye>=1);do{Me=2*Ce()-1,fe=2*Ce()-1,je=Me*Me+fe*fe}while(je>=1);const Je=Math.sqrt((1-ye)/je);return De[0]=xe*Re,De[1]=xe*we,De[2]=xe*Me*Je,De[3]=xe*fe*Je,De},round:function Q(De,xe){return De[0]=Math.round(xe[0]),De[1]=Math.round(xe[1]),De[2]=Math.round(xe[2]),De[3]=Math.round(xe[3]),De},scale:ne,scaleAndAdd:function J(De,xe,Ce,Re){return De[0]=xe[0]+Ce[0]*Re,De[1]=xe[1]+Ce[1]*Re,De[2]=xe[2]+Ce[2]*Re,De[3]=xe[3]+Ce[3]*Re,De},set:te,sqrDist:Y,sqrLen:x,squaredDistance:Y,squaredLength:x,str:function ae(De){return"vec4("+De[0]+", "+De[1]+", "+De[2]+", "+De[3]+")"},sub:U,subtract:U,transformMat4:function le(De,xe,Ce){const Re=xe[0],we=xe[1],Me=xe[2],fe=xe[3];return De[0]=Ce[0]*Re+Ce[4]*we+Ce[8]*Me+Ce[12]*fe,De[1]=Ce[1]*Re+Ce[5]*we+Ce[9]*Me+Ce[13]*fe,De[2]=Ce[2]*Re+Ce[6]*we+Ce[10]*Me+Ce[14]*fe,De[3]=Ce[3]*Re+Ce[7]*we+Ce[11]*Me+Ce[15]*fe,De},transformQuat:function _e(De,xe,Ce){const Re=xe[0],we=xe[1],Me=xe[2],fe=Ce[0],ye=Ce[1],je=Ce[2],Je=Ce[3],Ie=Je*Re+ye*Me-je*we,Le=Je*we+je*Re-fe*Me,Ve=Je*Me+fe*we-ye*Re,st=-fe*Re-ye*we-je*Me;return De[0]=Ie*Je+st*-fe+Le*-je-Ve*-ye,De[1]=Le*Je+st*-ye+Ve*-fe-Ie*-je,De[2]=Ve*Je+st*-je+Ie*-ye-Le*-fe,De[3]=xe[3],De}},Symbol.toStringTag,{value:"Module"}))},4794:(nt,Te,M)=>{"use strict";function D(){return[0,0,0,0]}function te($,N,z,q){return[$,N,z,q]}function U($,N){return new Float64Array($,N,4)}function k(){return te(1,1,1,1)}function B(){return te(1,0,0,0)}function R(){return te(0,1,0,0)}function W(){return te(0,0,1,0)}function V(){return te(0,0,0,1)}M.d(Te,{a:()=>U,c:()=>D,f:()=>te});const ne=k(),J=B(),X=R(),Y=W(),F=V();Object.freeze(Object.defineProperty({__proto__:null,ONES:ne,UNIT_W:F,UNIT_X:J,UNIT_Y:X,UNIT_Z:Y,ZEROS:[0,0,0,0],clone:function T($){return[$[0],$[1],$[2],$[3]]},create:D,createView:U,fromArray:function Z($){const N=[0,0,0,0],z=Math.min(4,$.length);for(let q=0;q<z;++q)N[q]=$[q];return N},fromValues:te,ones:k,unitW:V,unitX:B,unitY:R,unitZ:W,zeros:function ie(){return[0,0,0,0]}},Symbol.toStringTag,{value:"Module"}))},20414:(nt,Te,M)=>{"use strict";M.d(Te,{B7:()=>ie,St:()=>T,VL:()=>Z,h$:()=>te,rW:()=>k});const D={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function T(B){return D[B]||D[B.toLowerCase()]}function te(B){return D[B]??D[B.toLowerCase()]}function Z(B){return[...te(B)]}function U(B,R,W){W<0&&++W,W>1&&--W;const V=6*W;return V<1?B+(R-B)*V:2*W<1?R:3*W<2?B+(R-B)*(2/3-W)*6:B}function ie(B,R,W,V=1){const Q=(B%360+360)%360/360,ne=W<=.5?W*(R+1):W+R-W*R,J=2*W-ne;return[Math.round(255*U(J,ne,Q+1/3)),Math.round(255*U(J,ne,Q)),Math.round(255*U(J,ne,Q-1/3)),V]}function k(B){const R=B.length>5,W=R?8:4,V=(1<<W)-1,Q=R?1:17,ne=R?9===B.length:5===B.length;let J=Number("0x"+B.substr(1));if(isNaN(J))return null;const X=[0,0,0,1];let Y;return ne&&(Y=J&V,J>>=W,X[3]=Q*Y/255),Y=J&V,J>>=W,X[2]=Q*Y,Y=J&V,J>>=W,X[1]=Q*Y,Y=J&V,J>>=W,X[0]=Q*Y,X}},59318:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>te}),M(8314);var T=M(94113);const te={analysisTheme:{accentColor:[255,128,0],textColor:"white"},apiKey:void 0,applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!1,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&((0,T.RH)(te,globalThis.esriConfig,!0),delete te.has),te.assetsPath||(te.assetsPath=`https://js.arcgis.com/${"4.26.5".slice(0,-2)}/@arcgis/core/assets`,te.defaultAssetsPath=te.assetsPath)},14517:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>oe});var D=M(72392),T=M(62208),te=M(5901),Z=M(34595),U=M(34117),k=(M(8314),M(58817)),B=M(63290),R=M(27899),W=M(44648),V=M(7894),Q=M(31283),ne=M(36082),J=M(2345);class X{constructor(ve,De,xe){this.properties=ve,this.propertyName=De,this.metadata=xe,this.observerObject=new Y,this._accessed=null,this._handles=null,this.observerObject.flags=J.v.Dirty|(xe.nonNullable?J.v.NonNullable:0)|(xe.hasOwnProperty("value")?J.v.HasDefaultValue:0)|(void 0===xe.get?J.v.DepTrackingInitialized:0)|(void 0===xe.dependsOn?J.v.AutoTracked:0),F.register(this,this.observerObject)}destroy(){this.observerObject.destroy(),this._accessed=null,this._clearObservationHandles(),F.unregister(this)}getComputed(){const ve=this.observerObject;(0,ne.it)(ve);const De=this.properties.store,xe=this.propertyName,Ce=ve.flags,Re=De.get(xe);if(Ce&J.v.Computing||~Ce&J.v.Dirty&&De.has(xe))return Re;ve.flags|=J.v.Computing;const we=this.properties.host;let Me;Ce&J.v.AutoTracked?Me=(0,ne.LJ)(this,this.metadata.get,we):((0,ne.GF)(we,this),Me=this.metadata.get.call(we)),De.set(xe,Me,Q.s3.COMPUTED);const fe=De.get(xe);return fe===Re?ve.flags&=~J.v.Dirty:(0,ne.gb)(this.commit,this),ve.flags&=~J.v.Computing,fe}onObservableAccessed(ve){ve!==this.observerObject&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(ve)||this._accessed.push(ve))}onTrackingEnd(){this._clearObservationHandles();const ve=this.observerObject;ve.flags|=J.v.DepTrackingInitialized;const De=this._accessed;if(null===De)return;let xe=this._handles;null===xe&&(xe=this._handles=[]);for(let Ce=0;Ce<De.length;++Ce)xe.push(De[Ce].observe(ve));De.length=0}notifyChange(){const ve=this.observerObject;ve.onInvalidated(),ve.onCommitted()}invalidate(){this.observerObject.onInvalidated()}commit(){const ve=this.observerObject;ve.flags&=~J.v.Dirty,ve.onCommitted()}_clearObservationHandles(){const ve=this._handles;if(null!==ve){for(let De=0;De<ve.length;++De)ve[De].remove();ve.length=0}}}class Y extends V.s{constructor(){super(...arguments),this.flags=0}onInvalidated(){~this.flags&J.v.Overriden&&(this.flags|=J.v.Dirty);const ve=this._observers;if(ve&&ve.length>0)for(const De of ve)De.onInvalidated()}onCommitted(){const ve=this._observers;if(ve&&ve.length>0){const De=ve.slice();for(const xe of De)xe.onCommitted()}}destroy(){this.flags&J.v.Dirty&&this.onCommitted(),super.destroy()}}const F=new FinalizationRegistry(de=>{de.destroy()});class x{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(ve){const De=new x;return this._values.forEach((xe,Ce)=>{ve&&ve.has(Ce)||De.set(Ce,(0,k.d9)(xe))}),De}get(ve){return this._values.get(ve)}originOf(){return Q.s3.USER}keys(){return[...this._values.keys()]}set(ve,De){this._values.set(ve,De)}delete(ve){this._values.delete(ve)}has(ve){return this._values.has(ve)}forEach(ve){this._values.forEach(ve)}}var $=M(52323);function N(de,ve,De){return void 0!==de}function z(de,ve,De,xe){return!(void 0===de||null==De&&de.observerObject.flags&J.v.NonNullable)}B.Z.getLogger("esri.core.accessorSupport.Properties");class ee{constructor(ve){this.host=ve,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=W.F.INITIALIZING,this.store=new x,this._origin=Q.s3.USER;const De=(0,T.j0)(this.host.constructor.__accessorMetadata__);for(const xe in De){const Ce=new X(this,xe,De[xe]);this.properties.set(xe,Ce)}this.metadatas=De}initialize(){this.lifecycle=W.F.CONSTRUCTING}constructed(){this.lifecycle=W.F.CONSTRUCTED}destroy(){this.destroyed=!0;for(const[ve,De]of this.properties){if(De.metadata.autoDestroy){const xe=this.internalGet(ve);xe&&(de=xe)&&"function"==typeof de.destroy&&(xe.destroy(),~De.observerObject.flags&J.v.NonNullable&&this._internalSet(De,null))}De.destroy()}var de}get initialized(){return this.lifecycle!==W.F.INITIALIZING}get(ve){const De=this.properties.get(ve);if(De.metadata.get)return De.getComputed();(0,ne.it)(De.observerObject);const xe=this.store;return xe.has(ve)?xe.get(ve):De.metadata.value}originOf(ve){const De=this.store.originOf(ve);if(void 0===De){const xe=this.properties.get(ve);if(void 0!==xe&&xe.observerObject.flags&J.v.HasDefaultValue)return"defaults"}return(0,Q.x3)(De)}has(ve){return!!this.properties.has(ve)&&this.store.has(ve)}keys(){return[...this.properties.keys()]}internalGet(ve){const De=this.properties.get(ve);if(N(De))return this.store.has(ve)?this.store.get(ve):De.metadata.value}internalSet(ve,De){const xe=this.properties.get(ve);N(xe)&&this._internalSet(xe,De)}getDependsInfo(ve,De,xe){const Ce=this.properties.get(De);if(!N(Ce))return"";const Re=new Set,we=(0,ne.LJ)({onObservableAccessed:fe=>Re.add(fe),onTrackingEnd:()=>{}},()=>Ce.metadata.get?.call(ve));let Me=`${xe}${ve.declaredClass.split(".").pop()}.${De}: ${we}\n`;if(0===Re.size)return Me;xe+="  ";for(const fe of Re){if(!(fe instanceof X))continue;const ye=fe.properties.host,je=fe.propertyName,Je=(0,$.vw)(ye);Me+=Je?Je.getDependsInfo(ye,je,xe):`${xe}${je}: undefined\n`}return Me}setAtOrigin(ve,De,xe){const Ce=this.properties.get(ve);if(N(Ce))return this._setAtOrigin(Ce,De,xe)}isOverridden(ve){const De=this.properties.get(ve);return void 0!==De&&!!(De.observerObject.flags&J.v.Overriden)}clearOverride(ve){const De=this.properties.get(ve),xe=De?.observerObject;xe&&xe.flags&J.v.Overriden&&(xe.flags&=~J.v.Overriden,De.notifyChange())}override(ve,De){const xe=this.properties.get(ve);if(!z(xe,0,De))return;const Ce=xe.metadata.cast;if(Ce){const Re=this._cast(Ce,De),{valid:we,value:Me}=Re;if(le.release(Re),!we)return;De=Me}xe.observerObject.flags|=J.v.Overriden,this._internalSet(xe,De)}set(ve,De){const xe=this.properties.get(ve);if(!z(xe,0,De))return;const Ce=xe.metadata.cast;if(Ce){const we=this._cast(Ce,De),{valid:Me,value:fe}=we;if(le.release(we),!Me)return;De=fe}const Re=xe.metadata.set;Re?Re.call(this.host,De):this._internalSet(xe,De)}setDefaultOrigin(ve){this._origin=(0,Q.M9)(ve)}getDefaultOrigin(){return(0,Q.x3)(this._origin)}notifyChange(ve){const De=this.properties.get(ve);void 0!==De&&De.notifyChange()}invalidate(ve){const De=this.properties.get(ve);void 0!==De&&De.invalidate()}commit(ve){const De=this.properties.get(ve);void 0!==De&&De.commit()}_internalSet(ve,De){this._setAtOrigin(ve,De,this.lifecycle!==W.F.INITIALIZING?this._origin:Q.s3.DEFAULTS)}_setAtOrigin(ve,De,xe){const Ce=this.store,Re=ve.propertyName;Ce.has(Re,xe)&&(0,k.fS)(De,Ce.get(Re))&&~ve.observerObject.flags&J.v.Overriden&&xe===Ce.originOf(Re)||(ve.invalidate(),Ce.set(Re,De,xe),ve.commit(),(0,ne.mS)(this.host,ve))}_cast(ve,De){const xe=le.acquire();return xe.valid=!0,xe.value=De,ve&&(xe.value=ve.call(this.host,De,xe)),xe}}const le=new R.Z(class re{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var ue,ge,_e=M(82255),ae=M(61972),he=M(77712),se=M(76898);function be(de){if(null==de)return{value:de};if(Array.isArray(de))return{type:[de[0]],value:null};switch(typeof de){case"object":return de.constructor?.__accessorMetadata__||de instanceof Date?{type:de.constructor,value:de}:de;case"boolean":return{type:Boolean,value:de};case"string":return{type:String,value:de};case"number":return{type:Number,value:de};case"function":return{type:de,value:null};default:return}}const me=Symbol("Accessor-Handles"),Oe=Symbol("Accessor-Initialized");class oe{static createSubclass(ve={}){if(Array.isArray(ve))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:De,declaredClass:xe,constructor:Ce}=ve;delete ve.declaredClass,delete ve.properties,delete ve.constructor;const Re=this;class we extends Re{constructor(...fe){super(...fe),this.inherited=null,Ce&&Ce.apply(this,fe)}}(0,U.fp)(we.prototype);for(const Me in ve){const fe=ve[Me];we.prototype[Me]="function"==typeof fe?function(...ye){const je=this.inherited;let Je;this.inherited=function(...Ie){if(Re.prototype[Me])return Re.prototype[Me].apply(this,Ie)};try{Je=fe.apply(this,ye)}catch(Ie){throw this.inherited=je,Ie}return this.inherited=je,Je}:ve[Me]}for(const Me in De){const fe=be(De[Me]);(0,he.Cb)(fe)(we.prototype,Me)}return(0,se.j)(xe)(we)}constructor(...ve){if(this[ue]=null,this[ge]=!1,this.constructor===oe)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new ee(this)}),ve.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,ve))}postscript(ve){const De=this.__accessor__,xe=De.ctorArgs||ve;De.initialize(),xe&&(this.set(xe),De.ctorArgs=null),De.constructed(),this.initialize(),this[Oe]=!0}initialize(){}[te.F](){this[me]=(0,T.SC)(this[me])}destroy(){this.destroyed||((0,ae.BT)(this),this.__accessor__.destroy())}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[Oe]}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(ve){this.get(ve)}get(ve){return(0,Z.U2)(this,ve)}hasOwnProperty(ve){return this.__accessor__?this.__accessor__.has(ve):Object.prototype.hasOwnProperty.call(this,ve)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(ve,De){return(0,_e.t)(this,ve,De),this}watch(ve,De,xe){return(0,ae.YP)(this,ve,De,xe)}own(ve){this.addHandles(ve)}addHandles(ve,De){let xe=this[me];(0,T.Wi)(xe)&&(xe=this[me]=new D.Z),xe.add(ve,De)}removeHandles(ve){const De=this[me];(0,T.Wi)(De)||De.remove(ve)}hasHandles(ve){const De=this[me];return!!(0,T.pC)(De)&&De.has(ve)}_override(ve,De){void 0===De?this.__accessor__.clearOverride(ve):this.__accessor__.override(ve,De)}_clearOverride(ve){return this.__accessor__.clearOverride(ve)}_overrideIfSome(ve,De){null==De?this.__accessor__.clearOverride(ve):this.__accessor__.override(ve,De)}_isOverridden(ve){return this.__accessor__.isOverridden(ve)}notifyChange(ve){this.__accessor__.notifyChange(ve)}_get(ve){return this.__accessor__.internalGet(ve)}_set(ve,De){return this.__accessor__.internalSet(ve,De),this}}ue=me,ge=Oe},35575:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>te});var D=M(27899);function T(U){U.length=0}class te{constructor(ie=50,k=50){this._pool=new D.Z(Array,void 0,T,k,ie)}acquire(){return this._pool.acquire()}release(ie){this._pool.release(ie)}prune(){this._pool.prune(0)}static acquire(){return Z.acquire()}static release(ie){return Z.release(ie)}static prune(){Z.prune()}}const Z=new te(100)},79608:(nt,Te,M)=>{"use strict";M.d(Te,{J:()=>W,j:()=>V});var D=M(17626),T=M(14517),Z=(M(8314),M(58817)),ie=(M(63290),M(62208)),k=M(31283),B=M(52323),R=M(76898);const W=Q=>{let ne=class extends Q{clone(){const J=(0,ie.s3)((0,B.vw)(this),"unable to clone instance of non-accessor class"),X=J.metadatas,Y=J.store,F={},x=new Map;for(const N in X){const z=X[N],q=Y?.originOf(N),ee=z.clonable;if(z.readOnly||!1===ee||q!==k.s3.USER&&q!==k.s3.DEFAULTS&&q!==k.s3.WEB_MAP&&q!==k.s3.WEB_SCENE)continue;const re=this[N];let le=null;le="function"==typeof ee?ee(re):"reference"===ee?re:(0,Z.Vo)(re),null!=re&&null==le||(q===k.s3.DEFAULTS?x.set(N,le):F[N]=le)}const $=new(Object.getPrototypeOf(this).constructor)(F);if(x.size){const N=(0,B.vw)($)?.store;if(N)for(const[z,q]of x)N.set(z,q,k.s3.DEFAULTS)}return $}};return ne=(0,D._)([(0,R.j)("esri.core.Clonable")],ne),ne};let V=class extends(W(T.Z)){};V=(0,D._)([(0,R.j)("esri.core.Clonable")],V)},74333:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>se});var k,ue,D=M(17626),T=M(35575),te=M(61885),Z=M(58817),U=M(62208),ie=M(27899);(ue=k||(k={}))[ue.ADD=1]="ADD",ue[ue.REMOVE=2]="REMOVE",ue[ue.MOVE=4]="MOVE";var X,B=M(50618),R=M(77712),W=M(90912),V=M(61039),Q=M(76898),ne=M(36082),J=M(48902);const F=new ie.Z(class Y{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(ge){this.defaultPrevented=!1,this.item=ge}},void 0,ue=>{ue.item=null,ue.target=null,ue.defaultPrevented=!1,ue.cancellable=!1}),x=()=>{};function $(ue){return ue?ue instanceof he?ue.toArray():ue.length?Array.prototype.slice.apply(ue):[]:[]}function N(ue){if(ue&&ue.length)return ue[0]}function z(ue,ge,be,me){const Oe=Math.min(ue.length-be,ge.length-me);let oe=0;for(;oe<Oe&&ue[be+oe]===ge[me+oe];)oe++;return oe}function q(ue,ge,be,me){ge&&ge.forEach((Oe,oe,de)=>{ue.push(Oe),q(ue,be.call(me,Oe,oe,de),be,me)})}const ee=new Set,re=new Set,le=new Set,_e=new Map;let ae=0,he=X=class extends te.Z.EventedAccessor{static isCollection(ue){return null!=ue&&ue instanceof X}constructor(ue){super(ue),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new J.s,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:ae++})}normalizeCtorArgs(ue){return ue?Array.isArray(ue)||ue instanceof X?{items:ue}:ue:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return(0,ne.it)(this._observable),this._items}set items(ue){this._emitBeforeChanges(k.ADD)||(this._splice(0,this.length,$(ue)),this._emitAfterChanges(k.ADD))}hasEventListener(ue){return"change"===ue?this._chgListeners.length>0:this._emitter.hasEventListener(ue)}on(ue,ge){if("change"===ue){const be=this._chgListeners,me={removed:!1,callback:ge};return be.push(me),this._notifications&&this._notifications.push({listeners:be.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=x,me.removed=!0,be.splice(be.indexOf(me),1)}}}return this._emitter.on(ue,ge)}once(ue,ge){const be=this.on(ue,ge);return{remove(){be.remove()}}}add(ue,ge){if((0,ne.it)(this._observable),this._emitBeforeChanges(k.ADD))return this;const be=this.getNextIndex(ge??null);return this._splice(be,0,[ue]),this._emitAfterChanges(k.ADD),this}addMany(ue,ge=this._items.length){if((0,ne.it)(this._observable),!ue||!ue.length)return this;if(this._emitBeforeChanges(k.ADD))return this;const be=this.getNextIndex(ge);return this._splice(be,0,$(ue)),this._emitAfterChanges(k.ADD),this}at(ue){if((0,ne.it)(this._observable),(ue=Math.trunc(ue)||0)<0&&(ue+=this.length),!(ue<0||ue>=this.length))return this._items[ue]}removeAll(){if((0,ne.it)(this._observable),!this.length||this._emitBeforeChanges(k.REMOVE))return[];const ue=this._splice(0,this.length)||[];return this._emitAfterChanges(k.REMOVE),ue}clone(){return(0,ne.it)(this._observable),this._createNewInstance({items:this._items.map(Z.d9)})}concat(...ue){(0,ne.it)(this._observable);const ge=ue.map($);return this._createNewInstance({items:this._items.concat(...ge)})}drain(ue,ge){if((0,ne.it)(this._observable),!this.length||this._emitBeforeChanges(k.REMOVE))return;const be=(0,U.j0)(this._splice(0,this.length)),me=be.length;for(let Oe=0;Oe<me;Oe++)ue.call(ge,be[Oe],Oe,be);this._emitAfterChanges(k.REMOVE)}every(ue,ge){return(0,ne.it)(this._observable),this._items.every(ue,ge)}filter(ue,ge){let be;return(0,ne.it)(this._observable),be=2===arguments.length?this._items.filter(ue,ge):this._items.filter(ue),this._createNewInstance({items:be})}find(ue,ge){return(0,ne.it)(this._observable),this._items.find(ue,ge)}findIndex(ue,ge){return(0,ne.it)(this._observable),this._items.findIndex(ue,ge)}flatten(ue,ge){(0,ne.it)(this._observable);const be=[];return q(be,this,ue,ge),new X(be)}forEach(ue,ge){return(0,ne.it)(this._observable),this._items.forEach(ue,ge)}getItemAt(ue){return(0,ne.it)(this._observable),this._items[ue]}getNextIndex(ue){(0,ne.it)(this._observable);const ge=this.length;return(ue=ue??ge)<0?ue=0:ue>ge&&(ue=ge),ue}includes(ue,ge=0){return(0,ne.it)(this._observable),this._items.includes(ue,ge)}indexOf(ue,ge=0){return(0,ne.it)(this._observable),this._items.indexOf(ue,ge)}join(ue=","){return(0,ne.it)(this._observable),this._items.join(ue)}lastIndexOf(ue,ge=this.length-1){return(0,ne.it)(this._observable),this._items.lastIndexOf(ue,ge)}map(ue,ge){(0,ne.it)(this._observable);const be=this._items.map(ue,ge);return new X({items:be})}reorder(ue,ge=this.length-1){(0,ne.it)(this._observable);const be=this.indexOf(ue);if(-1!==be){if(ge<0?ge=0:ge>=this.length&&(ge=this.length-1),be!==ge){if(this._emitBeforeChanges(k.MOVE))return ue;this._splice(be,1),this._splice(ge,0,[ue]),this._emitAfterChanges(k.MOVE)}return ue}}pop(){if((0,ne.it)(this._observable),!this.length||this._emitBeforeChanges(k.REMOVE))return;const ue=N(this._splice(this.length-1,1));return this._emitAfterChanges(k.REMOVE),ue}push(...ue){return(0,ne.it)(this._observable),this._emitBeforeChanges(k.ADD)||(this._splice(this.length,0,ue),this._emitAfterChanges(k.ADD)),this.length}reduce(ue,ge){(0,ne.it)(this._observable);const be=this._items;return 2===arguments.length?be.reduce(ue,ge):be.reduce(ue)}reduceRight(ue,ge){(0,ne.it)(this._observable);const be=this._items;return 2===arguments.length?be.reduceRight(ue,ge):be.reduceRight(ue)}remove(ue){return(0,ne.it)(this._observable),this.removeAt(this.indexOf(ue))}removeAt(ue){if((0,ne.it)(this._observable),ue<0||ue>=this.length||this._emitBeforeChanges(k.REMOVE))return;const ge=N(this._splice(ue,1));return this._emitAfterChanges(k.REMOVE),ge}removeMany(ue){if((0,ne.it)(this._observable),!ue||!ue.length||this._emitBeforeChanges(k.REMOVE))return[];const ge=ue instanceof X?ue.toArray():ue,be=this._items,me=[],Oe=ge.length;for(let oe=0;oe<Oe;oe++){const ve=be.indexOf(ge[oe]);if(ve>-1){const De=1+z(ge,be,oe+1,ve+1),xe=this._splice(ve,De);xe&&xe.length>0&&me.push.apply(me,xe),oe+=De-1}}return this._emitAfterChanges(k.REMOVE),me}reverse(){if((0,ne.it)(this._observable),this._emitBeforeChanges(k.MOVE))return this;const ue=this._splice(0,this.length);return ue&&(ue.reverse(),this._splice(0,0,ue)),this._emitAfterChanges(k.MOVE),this}shift(){if((0,ne.it)(this._observable),!this.length||this._emitBeforeChanges(k.REMOVE))return;const ue=N(this._splice(0,1));return this._emitAfterChanges(k.REMOVE),ue}slice(ue=0,ge=this.length){return(0,ne.it)(this._observable),this._createNewInstance({items:this._items.slice(ue,ge)})}some(ue,ge){return(0,ne.it)(this._observable),this._items.some(ue,ge)}sort(ue){if((0,ne.it)(this._observable),!this.length||this._emitBeforeChanges(k.MOVE))return this;const ge=(0,U.j0)(this._splice(0,this.length));return arguments.length?ge.sort(ue):ge.sort(),this._splice(0,0,ge),this._emitAfterChanges(k.MOVE),this}splice(ue,ge,...be){(0,ne.it)(this._observable);const me=(ge?k.REMOVE:0)|(be.length?k.ADD:0);if(this._emitBeforeChanges(me))return[];const Oe=this._splice(ue,ge,be)||[];return this._emitAfterChanges(me),Oe}toArray(){return(0,ne.it)(this._observable),this._items.slice()}toJSON(){return(0,ne.it)(this._observable),this.toArray()}toLocaleString(){return(0,ne.it)(this._observable),this._items.toLocaleString()}toString(){return(0,ne.it)(this._observable),this._items.toString()}unshift(...ue){return(0,ne.it)(this._observable),!ue.length||this._emitBeforeChanges(k.ADD)||(this._splice(0,0,ue),this._emitAfterChanges(k.ADD)),this.length}_createNewInstance(ue){return new this.constructor(ue)}_splice(ue,ge,be){const me=this._items,Oe=this.itemType;let oe,de;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=(0,B.Os)(()=>this._dispatchChange())),ge){if(de=me.splice(ue,ge),this.hasEventListener("before-remove")){const ve=F.acquire();ve.target=this,ve.cancellable=!0;for(let De=0,xe=de.length;De<xe;De++)oe=de[De],ve.reset(oe),this.emit("before-remove",ve),ve.defaultPrevented&&(de.splice(De,1),me.splice(ue,0,oe),ue+=1,De-=1,xe-=1);F.release(ve)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const ve=F.acquire();ve.target=this,ve.cancellable=!1;const De=de.length;for(let xe=0;xe<De;xe++)ve.reset(de[xe]),this.emit("after-remove",ve);F.release(ve)}}if(be&&be.length){if(Oe){const Ce=[];for(const Re of be){const we=Oe.ensureType(Re);null==we&&null!=Re||Ce.push(we)}be=Ce}const ve=this.hasEventListener("before-add"),De=this.hasEventListener("after-add"),xe=ue===this.length;if(ve||De){const Ce=F.acquire();Ce.target=this,Ce.cancellable=!0;const Re=F.acquire();Re.target=this,Re.cancellable=!1;for(const we of be)ve?(Ce.reset(we),this.emit("before-add",Ce),Ce.defaultPrevented||(xe?me.push(we):me.splice(ue++,0,we),this._set("length",me.length),De&&(Re.reset(we),this.emit("after-add",Re)))):(xe?me.push(we):me.splice(ue++,0,we),this._set("length",me.length),Re.reset(we),this.emit("after-add",Re));F.release(Re),F.release(Ce)}else{if(xe)for(const Ce of be)me.push(Ce);else me.splice(ue,0,...be);this._set("length",me.length)}}return(be&&be.length||de&&de.length)&&this._notifyChangeEvent(be,de),de}_emitBeforeChanges(ue){let ge=!1;if(this.hasEventListener("before-changes")){const be=F.acquire();be.target=this,be.cancellable=!0,be.type=ue,this.emit("before-changes",be),ge=be.defaultPrevented,F.release(be)}return ge}_emitAfterChanges(ue){if(this.hasEventListener("after-changes")){const ge=F.acquire();ge.target=this,ge.cancellable=!1,ge.type=ue,this.emit("after-changes",ge),F.release(ge)}this._observable.notify()}_notifyChangeEvent(ue,ge){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:ue,removed:ge})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const ue=this._notifications;this._notifications=null;for(const ge of ue){const be=ge.changes;ee.clear(),re.clear(),le.clear();for(const{added:De,removed:xe}of be){if(De)if(0===le.size&&0===re.size)for(const Ce of De)ee.add(Ce);else for(const Ce of De)re.has(Ce)?(le.add(Ce),re.delete(Ce)):le.has(Ce)||ee.add(Ce);if(xe)if(0===le.size&&0===ee.size)for(const Ce of xe)re.add(Ce);else for(const Ce of xe)ee.has(Ce)?ee.delete(Ce):(le.delete(Ce),re.add(Ce))}const me=T.Z.acquire();ee.forEach(De=>{me.push(De)});const Oe=T.Z.acquire();re.forEach(De=>{Oe.push(De)});const oe=this._items,de=ge.items,ve=T.Z.acquire();if(le.forEach(De=>{de.indexOf(De)!==oe.indexOf(De)&&ve.push(De)}),ge.listeners&&(me.length||Oe.length||ve.length)){const De={target:this,added:me,removed:Oe,moved:ve},xe=ge.listeners.length;for(let Ce=0;Ce<xe;Ce++){const Re=ge.listeners[Ce];Re.removed||Re.callback.call(this,De)}}T.Z.release(me),T.Z.release(Oe),T.Z.release(ve)}ee.clear(),re.clear(),le.clear()}};he.ofType=ue=>{if(!ue)return X;if(_e.has(ue))return _e.get(ue);let ge=null;if("function"==typeof ue)ge=ue.prototype.declaredClass;else if(ue.base)ge=ue.base.prototype.declaredClass;else for(const me in ue.typeMap){const Oe=ue.typeMap[me].prototype.declaredClass;ge?ge+=` | ${Oe}`:ge=Oe}let be=class extends X{};return(0,D._)([(0,V.c)({Type:ue,ensureType:"function"==typeof ue?(0,W.se)(ue):(0,W.N7)(ue)})],be.prototype,"itemType",void 0),be=(0,D._)([(0,Q.j)(`esri.core.Collection<${ge}>`)],be),_e.set(ue,be),be},(0,D._)([(0,R.Cb)()],he.prototype,"length",void 0),(0,D._)([(0,R.Cb)()],he.prototype,"items",null),he=X=(0,D._)([(0,Q.j)("esri.core.Collection")],he);const se=he},46882:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>J});var D=M(17626),T=M(74333),te=M(62208),B=(M(8314),M(26584),M(63290),M(61972),M(21352)),R=M(77712),Q=(M(90912),M(85931),M(76898));let ne=class extends T.Z{constructor(X){super(X),this.getCollections=null}initialize(){this.own((0,B.EH)(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const X=(0,te.pC)(this.getCollections)?this.getCollections():null;if((0,te.Wi)(X))return void this.removeAll();let Y=0;for(const F of X)(0,te.pC)(F)&&(Y=this._processCollection(Y,F));this.splice(Y,this.length)}_createNewInstance(X){return new T.Z(X)}_processCollection(X,Y){if(!Y)return X;const F=this.itemFilterFunction?this.itemFilterFunction:x=>!!x;for(const x of Y)if(x){if(F(x)){const $=this.indexOf(x,X);$>=0?$!==X&&this.reorder(x,X):this.add(x,X),++X}if(this.getChildrenFunction){const $=this.getChildrenFunction(x);if(Array.isArray($))for(const N of $)X=this._processCollection(X,N);else X=this._processCollection(X,$)}}return X}};(0,D._)([(0,R.Cb)()],ne.prototype,"getCollections",void 0),(0,D._)([(0,R.Cb)()],ne.prototype,"getChildrenFunction",void 0),(0,D._)([(0,R.Cb)()],ne.prototype,"itemFilterFunction",void 0),ne=(0,D._)([(0,Q.j)("esri.core.CollectionFlattener")],ne);const J=ne},23719:(nt,Te,M)=>{"use strict";M.d(Te,{BV:()=>ie});var D=M(21286);class T{constructor(B,R){this.min=B,this.max=R,this.range=R-B}ndiff(B,R=0){return Math.ceil((B-R)/this.range)*this.range+R}_normalize(B,R,W,V=0,Q=!1){return(W-=V)<B?W+=this.ndiff(B-W):W>R&&(W-=this.ndiff(W-R)),Q&&W===R&&(W=B),W+V}normalize(B,R=0,W=!1){return this._normalize(this.min,this.max,B,R,W)}clamp(B,R=0){return(0,D.uZ)(B-R,this.min,this.max)+R}monotonic(B,R,W){return B<R?R:R+this.ndiff(B-R,W)}minimalMonotonic(B,R,W){return this._normalize(B,B+this.range,R,W)}center(B,R,W){return R=this.monotonic(B,R,W),this.normalize((B+R)/2,W)}diff(B,R,W){return this.monotonic(B,R,W)-B}shortestSignedDiff(B,R){B=this.normalize(B);const W=(R=this.normalize(R))-B,V=R<B?this.minimalMonotonic(B,R)-B:R-this.minimalMonotonic(R,B);return Math.abs(W)<Math.abs(V)?W:V}contains(B,R,W){return R=this.minimalMonotonic(B,R),(W=this.minimalMonotonic(B,W))>B&&W<R}}function te(k){for(const B in k){const R=k[B];R instanceof Function&&(k[B]=R.bind(k))}return k}te(new T(0,2*Math.PI)),te(new T(-Math.PI,Math.PI));const ie=te(new T(0,360))},26584:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Z});var D=M(58817),T=M(63290),te=M(90888);class Z extends te.Z{constructor(ie,k,B){if(super(ie,k,B),!(this instanceof Z))return new Z(ie,k,B)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(ie,k)=>{if(k&&"object"==typeof k&&"function"==typeof k.toJSON)return k;try{return(0,D.d9)(k)}catch{return"[object]"}}))}}catch(ie){throw T.Z.getLogger("esri.core.Error").error(ie),ie}return{name:this.name,message:this.message,details:this.details}}static fromJSON(ie){return new Z(ie.name,ie.message,ie.details)}}Z.prototype.type="error"},61885:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ie});var D=M(17626),T=M(14517),te=M(54024),Z=M(76898);class U{constructor(){this._emitter=new U.EventEmitter(this)}emit(B,R){return this._emitter.emit(B,R)}on(B,R){return this._emitter.on(B,R)}once(B,R){return this._emitter.once(B,R)}hasEventListener(B){return this._emitter.hasEventListener(B)}}!function(k){class B{constructor(V=null){this._target=V,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(V,Q){const ne=this._listenersMap&&this._listenersMap.get(V);if(!ne)return!1;const J=this._target||this;return[...ne].forEach(X=>{X.call(J,Q)}),ne.length>0}on(V,Q){if(Array.isArray(V)){const J=V.map(X=>this.on(X,Q));return(0,te.AL)(J)}if(V.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const ne=this._listenersMap.get(V)||[];return ne.push(Q),this._listenersMap.set(V,ne),{remove:()=>{const J=this._listenersMap&&this._listenersMap.get(V)||[],X=J.indexOf(Q);X>=0&&J.splice(X,1)}}}once(V,Q){const ne=this.on(V,J=>{ne.remove(),Q.call(null,J)});return ne}hasEventListener(V){const Q=this._listenersMap&&this._listenersMap.get(V);return null!=Q&&Q.length>0}}k.EventEmitter=B,k.EventedMixin=W=>{let V=class extends W{constructor(){super(...arguments),this._emitter=new B}destroy(){this._emitter.clear()}emit(Q,ne){return this._emitter.emit(Q,ne)}on(Q,ne){return this._emitter.on(Q,ne)}once(Q,ne){return this._emitter.once(Q,ne)}hasEventListener(Q){return this._emitter.hasEventListener(Q)}};return V=(0,D._)([(0,Z.j)("esri.core.Evented")],V),V};let R=class extends T.Z{constructor(){super(...arguments),this._emitter=new U.EventEmitter(this)}destroy(){this._emitter.clear()}emit(W,V){return this._emitter.emit(W,V)}on(W,V){return this._emitter.on(W,V)}once(W,V){return this._emitter.once(W,V)}hasEventListener(W){return this._emitter.hasEventListener(W)}};R=(0,D._)([(0,Z.j)("esri.core.Evented")],R),k.EventedAccessor=R}(U||(U={}));const ie=U},80542:(nt,Te,M)=>{"use strict";M.d(Te,{p:()=>k,r:()=>B});var D=M(17626),T=M(14517),te=M(72392),Z=M(77712),U=M(76898),ie=M(17760);const k=R=>{let W=class extends R{destroy(){this.destroyed||(this._get("handles")?.destroy(),this._get("updatingHandles")?.destroy())}get handles(){return this._get("handles")||new te.Z}get updatingHandles(){return this._get("updatingHandles")||new ie.t}};return(0,D._)([(0,Z.Cb)({readOnly:!0})],W.prototype,"handles",null),(0,D._)([(0,Z.Cb)({readOnly:!0})],W.prototype,"updatingHandles",null),W=(0,D._)([(0,U.j)("esri.core.HandleOwner")],W),W};let B=class extends(k(T.Z)){};B=(0,D._)([(0,U.j)("esri.core.HandleOwner")],B)},72392:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>te});var D=M(56354),T=M(62208);class te{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let U=0;return this._groups.forEach(ie=>{U+=ie.length}),U}add(U,ie){if((0,D.TW)(U)){const k=this._getOrCreateGroup(ie);for(const B of U)this._isHandle(B)&&k.push(B)}else this._isHandle(U)&&this._getOrCreateGroup(ie).push(U);return this}forEach(U,ie){if("function"==typeof U)this._groups.forEach(k=>k.forEach(U));else{const k=this._getGroup(U);k&&ie&&k.forEach(ie)}}has(U){return this._groups.has(this._ensureGroupKey(U))}remove(U){if("string"!=typeof U&&(0,D.TW)(U)){for(const ie of U)this.remove(ie);return this}return this.has(U)?(this._removeAllFromGroup(this._getGroup(U)),this._groups.delete(this._ensureGroupKey(U)),this):this}removeAll(){return this._groups.forEach(U=>this._removeAllFromGroup(U)),this._groups.clear(),this}_isHandle(U){return U&&!!U.remove}_getOrCreateGroup(U){if(this.has(U))return this._getGroup(U);const ie=[];return this._groups.set(this._ensureGroupKey(U),ie),ie}_getGroup(U){return(0,T.j0)(this._groups.get(this._ensureGroupKey(U)))}_ensureGroupKey(U){return U||"_default_"}_removeAllFromGroup(U){U.forEach(ie=>ie.remove())}}},61996:(nt,Te,M)=>{"use strict";M.d(Te,{IG:()=>Z,iv:()=>U});var D=M(17626),T=M(76898);let te=0;const Z=k=>{let B=class extends k{constructor(...R){super(...R),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+te++})}};return B=(0,D._)([(0,T.j)("esri.core.Identifiable")],B),B},U=k=>{let B=class extends k{constructor(...R){super(...R),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:te++})}};return B=(0,D._)([(0,T.j)("esri.core.NumericIdentifiable")],B),B};let ie=class extends(Z(class{})){};ie=(0,D._)([(0,T.j)("esri.core.Identifiable")],ie)},78498:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>T});var D=M(1036);class T{constructor(Z,U){this._storage=new D.WJ,this._storage.maxSize=Z,U&&this._storage.registerRemoveFunc("",U)}put(Z,U){this._storage.put(Z,U,1,1)}pop(Z){return this._storage.pop(Z)}get(Z){return this._storage.get(Z)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}},86810:(nt,Te,M)=>{"use strict";M.d(Te,{wq:()=>Y,eC:()=>ne});var D=M(17626),T=M(14517),te=M(62208),Z=M(58817),U=M(31283);class ie{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(x){const $=new ie;return this._values.forEach((N,z)=>{x&&x.has(z)||$.set(z,(0,Z.d9)(N.value),N.origin)}),$}get(x,$){$=this._normalizeOrigin($);const N=this._values.get(x);return null==$||N?.origin===$?N?.value:void 0}originOf(x){return this._values.get(x)?.origin??U.s3.USER}keys(x){x=this._normalizeOrigin(x);const $=[...this._values.keys()];return null==x?$:$.filter(N=>this._values.get(N)?.origin===x)}set(x,$,N){if((N=this._normalizeOrigin(N))===U.s3.DEFAULTS){const z=this._values.get(x);if(z&&null!=z.origin&&z.origin>N)return}this._values.set(x,new k($,N))}delete(x,$){null!=($=this._normalizeOrigin($))&&this._values.get(x)?.origin!==$||this._values.delete(x)}has(x,$){return null!=($=this._normalizeOrigin($))?this._values.get(x)?.origin===$:this._values.has(x)}forEach(x){this._values.forEach(({value:$},N)=>x($,N))}_normalizeOrigin(x){if(null!=x)return x===U.s3.DEFAULTS?x:U.s3.USER}}class k{constructor(x,$){this.value=x,this.origin=$}}var B=M(12590),R=M(29338),W=M(52323),V=M(36054),Q=M(76898);const ne=F=>{let x=class extends F{constructor(...$){super(...$);const N=(0,te.j0)((0,W.vw)(this)),z=N.store,q=new ie;N.store=q,(0,B.M)(N,z,q)}read($,N){(0,R.i)(this,$,N)}write($={},N){return(0,V.c)(this,$,N)}toJSON($){return this.write({},$)}static fromJSON($,N){return J.call(this,$,N)}};return x=(0,D._)([(0,Q.j)("esri.core.JSONSupport")],x),x.prototype.toJSON.isDefaultToJSON=!0,x};function J(F,x){if(!F)return null;if(F.declaredClass)throw new Error("JSON object is already hydrated");const $=new this;return $.read(F,x),$}let Y=class extends(ne(T.Z)){};Y=(0,D._)([(0,Q.j)("esri.core.JSONSupport")],Y)},93961:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>T});var D=M(1036);class T{constructor(Z,U){this._storage=new D.WJ,this._storage.maxSize=Z,U&&this._storage.registerRemoveFunc("",U)}put(Z,U,ie){this._storage.put(Z,U,ie,1)}pop(Z){return this._storage.pop(Z)}get(Z){return this._storage.get(Z)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(Z){this._storage.maxSize=Z}}},47996:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>J});var D=M(17626),T=M(26584),te=M(60330),Z=M(10699),U=M(14889),ie=M(77712),k=M(76898);const V="loaded",Q=X=>{let Y=class extends X{constructor(...F){super(...F),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(x=>{const $=this.load.bind(this);this.load=N=>{const z=new Promise((q,ee)=>{const re=(0,Z.$F)(N,ee);this.destroyed&&ee(new T.Z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(q,ee).finally(()=>{re&&re.remove()})});if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const q=this._loadController=new AbortController;$({signal:q.signal}),(0,Z.fu)(q.signal,()=>{this._promiseProps.abort()})}return x(),z}})),this.when(()=>{this._set("loadStatus",V),this._loadController=null},x=>{this._set("loadStatus","failed"),this._set("loadError",x),this._loadController=null})}get loaded(){return this.loadStatus===V}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new T.Z("load:cancelled","Cancelled")),this._loadController?.abort()),this}};return(0,D._)([(0,ie.Cb)({readOnly:!0})],Y.prototype,"loaded",null),(0,D._)([(0,ie.Cb)({readOnly:!0})],Y.prototype,"loadError",void 0),(0,D._)([(0,ie.Cb)({clonable:!1})],Y.prototype,"loadStatus",void 0),(0,D._)([(0,ie.Cb)({type:[U.Z],readOnly:!0})],Y.prototype,"loadWarnings",null),Y=(0,D._)([(0,k.j)("esri.core.Loadable")],Y),Y};let ne=class extends(Q(te.D)){};var X;ne=(0,D._)([(0,k.j)("esri.core.Loadable")],ne),(X=ne||(ne={})).LoadableMixin=Q,X.isLoadable=function Y(F){return!(!F||!F.load)};const J=ne},63290:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ie});var D=M(59318),te=(M(8314),M(62208)),Z=M(77275);const U={info:0,warn:1,error:2,none:3};class ie{constructor(B){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=B.level&&(this.level=B.level),null!=B.writer&&(this.writer=B.writer),this._module=B.module,ie._loggers[this.module]=this;const R=this.module.lastIndexOf(".");-1!==R&&(this._parent=ie.getLogger(this.module.slice(0,R)))}get module(){return this._module}get parent(){return this._parent}error(...B){this._log("error","always",...B)}warn(...B){this._log("warn","always",...B)}info(...B){this._log("info","always",...B)}errorOnce(...B){this._log("error","once",...B)}warnOnce(...B){this._log("warn","once",...B)}infoOnce(...B){this._log("info","once",...B)}errorOncePerTick(...B){this._log("error","oncePerTick",...B)}warnOncePerTick(...B){this._log("warn","oncePerTick",...B)}infoOncePerTick(...B){this._log("info","oncePerTick",...B)}get test(){const B=this;return{loggedMessages:B._loggedMessages,clearLoggedWarnings:()=>B._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(B={}){const R=ie._loggers;return ie._loggers=B,R},set throttlingDisabled(B){ie._throttlingDisabled=B}}}static getLogger(B){let R=ie._loggers[B];return R||(R=new ie({module:B})),R}_log(B,R,...W){if(this._matchLevel(B)){if("always"!==R&&!ie._throttlingDisabled){const V=this._argsToKey(W),Q=this._loggedMessages[B].get(V);if("once"===R&&null!=Q||"oncePerTick"===R&&Q&&Q>=ie._tickCounter)return;this._loggedMessages[B].set(V,ie._tickCounter),ie._scheduleTickCounterIncrement()}for(const V of D.Z.log.interceptors)if(V(B,this.module,...W))return;this._inheritedWriter()(B,this.module,...W)}}_parentWithMember(B,R){let W=this;for(;(0,te.pC)(W);){const V=W[B];if((0,te.pC)(V))return V;W=W.parent}return R}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(B,R,...W){console[B](`[${R}]`,...W)}_matchLevel(B){return U[this._parentWithMember("level",D.Z.log.level?D.Z.log.level:"warn")]<=U[B]}_argsToKey(...B){return(0,Z.hP)(JSON.stringify(B,(W,V)=>"object"!=typeof V||Array.isArray(V)?V:"[Object]"))}static _scheduleTickCounterIncrement(){ie._tickCounterScheduled||(ie._tickCounterScheduled=!0,Promise.resolve().then(()=>{ie._tickCounter++,ie._tickCounterScheduled=!1}))}}ie._loggers={},ie._tickCounter=0,ie._tickCounterScheduled=!1,ie._throttlingDisabled=!1},50011:(nt,Te,M)=>{"use strict";M.d(Te,{F:()=>Y,M:()=>D});const D={Base64:0,Hex:1,String:2,Raw:3},T=8,te=(1<<T)-1;function Z(F,x){const $=(65535&F)+(65535&x);return(F>>16)+(x>>16)+($>>16)<<16|65535&$}function W(F,x,$,N,z,q){return Z(function R(F,x){return F<<x|F>>>32-x}(Z(Z(x,F),Z(N,q)),z),$)}function V(F,x,$,N,z,q,ee){return W(x&$|~x&N,F,x,z,q,ee)}function Q(F,x,$,N,z,q,ee){return W(x&N|$&~N,F,x,z,q,ee)}function ne(F,x,$,N,z,q,ee){return W(x^$^N,F,x,z,q,ee)}function J(F,x,$,N,z,q,ee){return W($^(x|~N),F,x,z,q,ee)}function Y(F,x=D.Hex){const $=x||D.Base64,N=function X(F,x){F[x>>5]|=128<<x%32,F[14+(x+64>>>9<<4)]=x;let $=1732584193,N=-271733879,z=-1732584194,q=271733878;for(let ee=0;ee<F.length;ee+=16){const re=$,le=N,_e=z,ae=q;$=V($,N,z,q,F[ee+0],7,-680876936),q=V(q,$,N,z,F[ee+1],12,-389564586),z=V(z,q,$,N,F[ee+2],17,606105819),N=V(N,z,q,$,F[ee+3],22,-1044525330),$=V($,N,z,q,F[ee+4],7,-176418897),q=V(q,$,N,z,F[ee+5],12,1200080426),z=V(z,q,$,N,F[ee+6],17,-1473231341),N=V(N,z,q,$,F[ee+7],22,-45705983),$=V($,N,z,q,F[ee+8],7,1770035416),q=V(q,$,N,z,F[ee+9],12,-1958414417),z=V(z,q,$,N,F[ee+10],17,-42063),N=V(N,z,q,$,F[ee+11],22,-1990404162),$=V($,N,z,q,F[ee+12],7,1804603682),q=V(q,$,N,z,F[ee+13],12,-40341101),z=V(z,q,$,N,F[ee+14],17,-1502002290),N=V(N,z,q,$,F[ee+15],22,1236535329),$=Q($,N,z,q,F[ee+1],5,-165796510),q=Q(q,$,N,z,F[ee+6],9,-1069501632),z=Q(z,q,$,N,F[ee+11],14,643717713),N=Q(N,z,q,$,F[ee+0],20,-373897302),$=Q($,N,z,q,F[ee+5],5,-701558691),q=Q(q,$,N,z,F[ee+10],9,38016083),z=Q(z,q,$,N,F[ee+15],14,-660478335),N=Q(N,z,q,$,F[ee+4],20,-405537848),$=Q($,N,z,q,F[ee+9],5,568446438),q=Q(q,$,N,z,F[ee+14],9,-1019803690),z=Q(z,q,$,N,F[ee+3],14,-187363961),N=Q(N,z,q,$,F[ee+8],20,1163531501),$=Q($,N,z,q,F[ee+13],5,-1444681467),q=Q(q,$,N,z,F[ee+2],9,-51403784),z=Q(z,q,$,N,F[ee+7],14,1735328473),N=Q(N,z,q,$,F[ee+12],20,-1926607734),$=ne($,N,z,q,F[ee+5],4,-378558),q=ne(q,$,N,z,F[ee+8],11,-2022574463),z=ne(z,q,$,N,F[ee+11],16,1839030562),N=ne(N,z,q,$,F[ee+14],23,-35309556),$=ne($,N,z,q,F[ee+1],4,-1530992060),q=ne(q,$,N,z,F[ee+4],11,1272893353),z=ne(z,q,$,N,F[ee+7],16,-155497632),N=ne(N,z,q,$,F[ee+10],23,-1094730640),$=ne($,N,z,q,F[ee+13],4,681279174),q=ne(q,$,N,z,F[ee+0],11,-358537222),z=ne(z,q,$,N,F[ee+3],16,-722521979),N=ne(N,z,q,$,F[ee+6],23,76029189),$=ne($,N,z,q,F[ee+9],4,-640364487),q=ne(q,$,N,z,F[ee+12],11,-421815835),z=ne(z,q,$,N,F[ee+15],16,530742520),N=ne(N,z,q,$,F[ee+2],23,-995338651),$=J($,N,z,q,F[ee+0],6,-198630844),q=J(q,$,N,z,F[ee+7],10,1126891415),z=J(z,q,$,N,F[ee+14],15,-1416354905),N=J(N,z,q,$,F[ee+5],21,-57434055),$=J($,N,z,q,F[ee+12],6,1700485571),q=J(q,$,N,z,F[ee+3],10,-1894986606),z=J(z,q,$,N,F[ee+10],15,-1051523),N=J(N,z,q,$,F[ee+1],21,-2054922799),$=J($,N,z,q,F[ee+8],6,1873313359),q=J(q,$,N,z,F[ee+15],10,-30611744),z=J(z,q,$,N,F[ee+6],15,-1560198380),N=J(N,z,q,$,F[ee+13],21,1309151649),$=J($,N,z,q,F[ee+4],6,-145523070),q=J(q,$,N,z,F[ee+11],10,-1120210379),z=J(z,q,$,N,F[ee+2],15,718787259),N=J(N,z,q,$,F[ee+9],21,-343485551),$=Z($,re),N=Z(N,le),z=Z(z,_e),q=Z(q,ae)}return[$,N,z,q]}(function U(F){const x=[];for(let $=0,N=F.length*T;$<N;$+=T)x[$>>5]|=(F.charCodeAt($/T)&te)<<$%32;return x}(F),F.length*T);switch($){case D.Raw:return N;case D.Hex:return function k(F){const x="0123456789abcdef",$=[];for(let N=0,z=4*F.length;N<z;N++)$.push(x.charAt(F[N>>2]>>N%4*8+4&15)+x.charAt(F[N>>2]>>N%4*8&15));return $.join("")}(N);case D.String:return function ie(F){const x=[];for(let $=0,N=32*F.length;$<N;$+=T)x.push(String.fromCharCode(F[$>>5]>>>$%32&te));return x.join("")}(N);case D.Base64:return function B(F){const N=[];for(let z=0,q=4*F.length;z<q;z+=3){const ee=(F[z>>2]>>z%4*8&255)<<16|(F[z+1>>2]>>(z+1)%4*8&255)<<8|F[z+2>>2]>>(z+2)%4*8&255;for(let re=0;re<4;re++)N.push(8*z+6*re>32*F.length?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(ee>>6*(3-re)&63))}return N.join("")}(N)}}},88159:(nt,Te,M)=>{"use strict";function D(U,ie){for(const[k,B]of U)if(ie(B,k))return!0;return!1}function te(U,ie,k){const B=U.get(ie);if(void 0!==B)return B;const R=k();return U.set(ie,R),R}M.d(Te,{oE:()=>D,s1:()=>te})},1036:(nt,Te,M)=>{"use strict";M.d(Te,{WJ:()=>ie,Xq:()=>U});var Z,k,D=M(62208),T=M(77029);(k=Z||(Z={}))[k.ALL=0]="ALL",k[k.SOME=1]="SOME";class U{constructor(B,R,W){this._namespace=B,this._storage=R,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",W&&(this._storage.registerRemoveFunc(this._namespace,W),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(B,R,W,V=0){this._storage.put(this._namespace+B,R,W,V)}get(B){const R=this._storage.get(this._namespace+B);return void 0===R?++this._miss:++this._hit,R}pop(B){const R=this._storage.pop(this._namespace+B);return void 0===R?++this._miss:++this._hit,R}updateSize(B,R,W){this._storage.updateSize(this._namespace+B,R,W)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class ie{constructor(B=10485760){this._maxSize=B,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new T.Z,this._users=new T.Z}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(B){this._users.push(B)}deregister(B){this._users.removeUnordered(B)}registerRemoveFunc(B,R){this._removeFuncs.push([B,R])}deregisterRemoveFunc(B){this._removeFuncs.filterInPlace(R=>R[0]!==B)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(B){this._maxSize=Math.max(B,0),this._checkSizeLimit()}put(B,R,W,V){const Q=this._db.get(B);if(Q&&(this._size-=Q.size,this._db.delete(B),Q.entry!==R&&this._notifyRemove(B,Q.entry,Z.ALL)),W>this._maxSize)return void this._notifyRemove(B,R,Z.ALL);if(void 0===R)return void console.warn("Refusing to cache undefined entry ");if(!W||W<0)return void console.warn("Refusing to cache entry with invalid size "+W);const ne=1+Math.max(V,-3)- -3;this._db.set(B,{entry:R,size:W,lifetime:ne,lives:ne}),this._size+=W,this._checkSizeLimit()}updateSize(B,R,W){const V=this._db.get(B);if(V&&V.entry===R){for(this._size-=V.size;W>this._maxSize;){const Q=this._notifyRemove(B,R,Z.SOME);if(!((0,D.pC)(Q)&&Q>0))return void this._db.delete(B);W=Q}V.size=W,this._size+=W,this._checkSizeLimit()}}pop(B){const R=this._db.get(B);if(R)return this._size-=R.size,this._db.delete(B),++this._hit,R.entry;++this._miss}get(B){const R=this._db.get(B);if(void 0!==R)return this._db.delete(B),R.lives=R.lifetime,this._db.set(B,R),++this._hit,R.entry;++this._miss}getStats(){const B={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},R={},W=new Array;this._db.forEach((ne,J)=>{const X=ne.lifetime;W[X]=(W[X]||0)+ne.size,this._users.forAll(Y=>{const F=Y.namespace;J.startsWith(F)&&(R[F]=(R[F]||0)+ne.size)})});const V={};this._users.forAll(ne=>{const J=ne.namespace;!isNaN(ne.hitRate)&&ne.hitRate>0?(R[J]=R[J]||0,V[J]=Math.round(100*ne.hitRate)+"%"):V[J]="0%"});const Q=Object.keys(R);Q.sort((ne,J)=>R[J]-R[ne]),Q.forEach(ne=>B[ne]=Math.round(R[ne]/2**20)+"MB / "+V[ne]);for(let ne=W.length-1;ne>=0;--ne){const J=W[ne];J&&(B["Priority "+(ne+-3-1)]=Math.round(J/this.size*100)+"%")}return B}resetStats(){this._hit=this._miss=0,this._users.forAll(B=>B.resetHitRate())}clear(B){this._db.forEach((R,W)=>{W.startsWith(B)&&(this._size-=R.size,this._db.delete(W),this._notifyRemove(W,R.entry,Z.ALL))})}clearAll(){this._db.forEach((B,R)=>this._notifyRemove(R,B.entry,Z.ALL)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(B,R,W){let V;return this._removeFuncs.some(Q=>{if(B.startsWith(Q[0])){const ne=Q[1](R,W);return"number"==typeof ne&&(V=ne),!0}return!1}),V}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[B,R]of this._db){if(this._db.delete(B),R.lives<=1){this._size-=R.size;const W=this._notifyRemove(B,R.entry,Z.SOME);(0,D.pC)(W)&&W>0&&(this._size+=W,R.lives=R.lifetime,R.size=W,this._db.set(B,R))}else--R.lives,this._db.set(B,R);if(this._size<=.9*this.maxSize)return}}}},90888:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>te});var D=M(94113);class te{constructor(U,ie,k){this.name=U,this.details=k,this instanceof te&&(this.message=(ie&&function T(Z,U){return Z.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(ie,k)=>{if(""===k)return"$";const R=(0,D.hS)(k,U)??"";if(void 0===R)throw new Error(`could not find key "${k}" in template`);return R.toString()})}(ie,k))??"")}toString(){return"["+this.name+"]: "+this.message}}},99959:(nt,Te,M)=>{"use strict";M.d(Te,{R:()=>F,w:()=>x});var D=M(17626),T=M(14517),te=M(62208),Z=M(12590),U=M(58817),ie=M(31283);class k{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(ie.kk),this._values=new Map,this.multipleOriginsSupported=!0}clone(N){const z=new k,q=this._originStores[ie.s3.DEFAULTS];q&&q.forEach((ee,re)=>{z.set(re,(0,U.d9)(ee),ie.s3.DEFAULTS)});for(let ee=ie.s3.SERVICE;ee<ie.kk;ee++){const re=this._originStores[ee];re&&re.forEach((le,_e)=>{N&&N.has(_e)||z.set(_e,(0,U.d9)(le),ee)})}return z}get(N,z){const q=void 0===z?this._values:this._originStores[z];return q?q.get(N):void 0}keys(N){const z=null==N?this._values:this._originStores[N];return z?[...z.keys()]:[]}set(N,z,q=ie.s3.USER){let ee=this._originStores[q];if(ee||(ee=new Map,this._originStores[q]=ee),ee.set(N,z),!this._values.has(N)||(0,te.j0)(this._propertyOriginMap.get(N))<=q){const re=this._values.get(N);return this._values.set(N,z),this._propertyOriginMap.set(N,q),re!==z}return!1}delete(N,z=ie.s3.USER){const q=this._originStores[z];if(!q)return;const ee=q.get(N);if(q.delete(N),this._values.has(N)&&this._propertyOriginMap.get(N)===z){this._values.delete(N);for(let re=z-1;re>=0;re--){const le=this._originStores[re];if(le&&le.has(N)){this._values.set(N,le.get(N)),this._propertyOriginMap.set(N,re);break}}}return ee}has(N,z){const q=void 0===z?this._values:this._originStores[z];return!!q&&q.has(N)}revert(N,z){for(;z>0&&!this.has(N,z);)--z;const q=this._originStores[z],ee=q&&q.get(N),re=this._values.get(N);return this._values.set(N,ee),this._propertyOriginMap.set(N,z),re!==ee}originOf(N){return this._propertyOriginMap.get(N)||ie.s3.DEFAULTS}forEach(N){this._values.forEach(N)}}var B=M(29338),R=M(52323),W=M(76898);const V=$=>{let N=class extends ${constructor(...z){super(...z);const q=(0,te.j0)((0,R.vw)(this)),ee=q.store,re=new k;q.store=re,(0,Z.M)(q,ee,re)}read(z,q){(0,B.i)(this,z,q)}getAtOrigin(z,q){const ee=Q(this),re=(0,ie.M9)(q);if("string"==typeof z)return ee.get(z,re);const le={};return z.forEach(_e=>{le[_e]=ee.get(_e,re)}),le}originOf(z){return(0,ie.x3)(this.originIdOf(z))}originIdOf(z){return Q(this).originOf(z)}revert(z,q){const ee=Q(this),re=(0,ie.M9)(q),le=(0,R.vw)(this);let _e;_e="string"==typeof z?"*"===z?ee.keys(re):[z]:z,_e.forEach(ae=>{le.invalidate(ae),ee.revert(ae,re),le.commit(ae)})}};return N=(0,D._)([(0,W.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],N),N};function Q($){return(0,R.vw)($).store}let ne=class extends(V(T.Z)){};ne=(0,D._)([(0,W.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],ne);var J=M(36054);const X=$=>{let N=class extends ${constructor(...z){super(...z)}clear(z,q="user"){return Y(this).delete(z,(0,ie.M9)(q))}write(z={},q){return(0,J.c)(this,z=z||{},q),z}setAtOrigin(z,q,ee){(0,R.vw)(this).setAtOrigin(z,q,(0,ie.M9)(ee))}removeOrigin(z){const q=Y(this),ee=(0,ie.M9)(z),re=q.keys(ee);for(const le of re)q.originOf(le)===ee&&q.set(le,q.get(le,ee),ie.s3.USER)}updateOrigin(z,q){const ee=Y(this),re=(0,ie.M9)(q),le=this.get(z);for(let _e=re+1;_e<ie.kk;++_e)ee.delete(z,_e);ee.set(z,le,re)}toJSON(z){return this.write({},z)}};return N=(0,D._)([(0,W.j)("esri.core.WriteableMultiOriginJSONSupport")],N),N.prototype.toJSON.isDefaultToJSON=!0,N};function Y($){return(0,R.vw)($).store}const F=$=>{let N=class extends(X(V($))){constructor(...z){super(...z)}};return N=(0,D._)([(0,W.j)("esri.core.MultiOriginJSONSupport")],N),N};let x=class extends(F(T.Z)){};x=(0,D._)([(0,W.j)("esri.core.MultiOriginJSONSupport")],x)},27899:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>te});let te=(()=>{class Z{constructor(ie,k,B,R=1,W=0){if(this._ctor=ie,this._acquireFunction=k,this._releaseFunction=B,this.allocationSize=R,this._pool=new Array(W),this._initialSize=W,this._ctor)for(let V=0;V<W;V++)this._pool[V]=new this._ctor;this.allocationSize=Math.max(R,1)}destroy(){this.prune(0)}acquire(...ie){let k;if(Z.test.disabled)k=new this._ctor;else{if(0===this._pool.length){const B=this.allocationSize;for(let R=0;R<B;R++)this._pool[R]=new this._ctor}k=this._pool.pop()}return this._acquireFunction?this._acquireFunction(k,...ie):function T(Z){return Z&&Z.acquire&&"function"==typeof Z.acquire}(k)&&k.acquire(...ie),k}release(ie){ie&&!Z.test.disabled&&(this._releaseFunction?this._releaseFunction(ie):function D(Z){return Z&&Z.release&&"function"==typeof Z.release}(ie)&&ie.release(),this._pool.push(ie))}prune(ie=this._initialSize){if(!(ie>=this._pool.length)){for(let k=ie;k<this._pool.length;++k)this._dispose(this._pool[k]);this._pool.length=ie}}_dispose(ie){ie.dispose&&"function"==typeof ie.dispose&&ie.dispose()}}return Z.test={disabled:!1},Z})()},73362:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>T});var D=M(62208);class T{constructor(Z,U=30){this.name=Z,this._counter=0,this._samples=new Array(U)}record(Z){(0,D.pC)(Z)&&(this._samples[++this._counter%this._samples.length]=Z)}get median(){return this._samples.slice().sort((Z,U)=>Z-U)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((Z,U)=>Z+U,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}},77029:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ie});var T,D=M(85931);!function(B){const R=(ne,J,X,Y)=>{let F=J,x=J;const $=X>>>1,N=ne[F-1];for(;x<=$;){x=F<<1,x<X&&Y(ne[x-1],ne[x])<0&&++x;const z=ne[x-1];if(Y(z,N)<=0)break;ne[F-1]=z,F=x}ne[F-1]=N},W=(ne,J)=>ne<J?-1:ne>J?1:0;B.sort=function V(ne,J,X,Y){void 0===J&&(J=0),void 0===X&&(X=ne.length),void 0===Y&&(Y=W);for(let x=X>>>1;x>J;x--)R(ne,x,X,Y);const F=J+1;for(let x=X-1;x>J;x--){const $=ne[J];ne[J]=ne[x],ne[x]=$,R(ne,F,x,Y)}},B.iterableSort=function*Q(ne,J,X,Y){void 0===J&&(J=0),void 0===X&&(X=ne.length),void 0===Y&&(Y=W);for(let x=X>>>1;x>J;x--)R(ne,x,X,Y),yield;const F=J+1;for(let x=X-1;x>J;x--){const $=ne[J];ne[J]=ne[x],ne[x]=$,R(ne,F,x,Y),yield}}}(T||(T={}));const te=T,Z=1.5,U=1.1;class ie{constructor(R){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new D.SO,R&&(R.initialSize&&(this.data=new Array(R.initialSize)),R.allocator&&(this._allocator=R.allocator),void 0!==R.deallocator&&(this._deallocator=R.deallocator),R.shrink&&(this._shrink=()=>k(this)))}toArray(){return this.data.slice(0,this.length)}filter(R){const W=new Array;for(let V=0;V<this._length;V++){const Q=this.data[V];R(Q)&&W.push(Q)}return W}getItemAt(R){if(!(R<0||R>=this._length))return this.data[R]}includes(R,W){const V=this.data.indexOf(R,W);return-1!==V&&V<this.length}get length(){return this._length}set length(R){if(R>this._length){if(this._allocator){for(;this._length<R;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=R}else{if(this._deallocator)for(let W=R;W<this._length;++W)this.data[W]=this._deallocator(this.data[W]);this._length=R,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(R){this.data[this._length++]=R}pushArray(R,W=R.length){for(let V=0;V<W;V++)this.data[this._length++]=R[V]}fill(R,W){for(let V=0;V<W;V++)this.data[this._length++]=R}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const R=this.data[this._length];return++this._length,R}unshift(R){this.data.unshift(R),this._length++,k(this)}pop(){if(0===this.length)return;const R=this.data[this.length-1];return this.length=this.length-1,this._shrink(),R}remove(R){const W=(0,D.cq)(this.data,R,this.length,this._hint);if(-1!==W)return this.data.splice(W,1),this.length=this.length-1,R}removeUnordered(R){return this.removeUnorderedIndex((0,D.cq)(this.data,R,this.length,this._hint))}removeUnorderedIndex(R){if(!(R>=this.length||R<0))return this.swapElements(R,this.length-1),this.pop()}removeUnorderedMany(R,W=R.length,V){this.length=(0,D.FY)(this.data,R,this.length,W,this._hint,V),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(R,W){if(R>=this.length||W>=this.length||R===W)return;const V=this.data[R];this.data[R]=this.data[W],this.data[W]=V}sort(R){te.sort(this.data,0,this.length,R)}iterableSort(R){return te.iterableSort(this.data,0,this.length,R)}some(R,W){for(let V=0;V<this.length;++V)if(R.call(W,this.data[V],V,this.data))return!0;return!1}find(R,W){for(let V=0;V<this.length;++V){const Q=this.data[V];if(R.call(W,Q,V))return Q}}filterInPlace(R,W){let V=0;for(let Q=0;Q<this._length;++Q){const ne=this.data[Q];R.call(W,ne,Q,this.data)&&(this.data[Q]=this.data[V],this.data[V]=ne,V++)}if(this._deallocator)for(let Q=V;Q<this._length;Q++)this.data[Q]=this._deallocator(this.data[Q]);return this._length=V,this._shrink(),this}forAll(R,W){const V=this.length,Q=this.data;for(let ne=0;ne<V;++ne)R.call(W,Q[ne],ne,Q)}forEach(R,W){for(let V=0;V<this.length;++V)R.call(W,this.data[V],V,this.data)}map(R,W){const V=new Array(this.length);for(let Q=0;Q<this.length;++Q)V[Q]=R.call(W,this.data[Q],Q,this.data);return V}reduce(R,W){let V=W;for(let Q=0;Q<this.length;++Q)V=R(V,this.data[Q],Q,this.data);return V}has(R){const W=this.length,V=this.data;for(let Q=0;Q<W;++Q)if(V[Q]===R)return!0;return!1}}function k(B){B.data.length>Z*B.length&&(B.data.length=Math.floor(B.length*U))}},60330:(nt,Te,M)=>{"use strict";M.d(Te,{D:()=>R,v:()=>B});var ie,W,D=M(17626),T=M(14517),te=M(62208),Z=M(10699),U=M(76898);(W=ie||(ie={}))[W.PENDING=0]="PENDING",W[W.RESOLVED=1]="RESOLVED",W[W.REJECTED=2]="REJECTED";class k{constructor(V){this.instance=V,this._resolver=(0,Z.dD)(),this._status=ie.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=ie.RESOLVED,this._cleanUp()},()=>{this._status=ie.REJECTED,this._cleanUp()})}addResolvingPromise(V){this._resolvingPromises.push(V),this._tryResolve()}isResolved(){return this._status===ie.RESOLVED}isRejected(){return this._status===ie.REJECTED}isFulfilled(){return this._status!==ie.PENDING}abort(){this._resolver.reject((0,Z.zE)())}when(V,Q){return this._resolver.promise.then(V,Q)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const V=(0,Z.dD)(),Q=[...this._resolvingPromises,(0,te.j0)(V.promise)],ne=this._allPromise=Promise.all(Q);ne.then(()=>{this.isFulfilled()||this._allPromise!==ne||this._resolver.resolve(this.instance)},J=>{this.isFulfilled()||this._allPromise!==ne||(0,Z.D_)(J)||this._resolver.reject(J)}),V.resolve()}}const B=W=>{let V=class extends W{constructor(...Q){super(...Q),this._promiseProps=new k(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(Q,ne){return new Promise((J,X)=>{this._promiseProps.when(J,X)}).then(Q,ne)}catch(Q){return this.when(null,Q)}addResolvingPromise(Q){Q&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in Q?Q.when():Q)}};return V=(0,D._)([(0,U.j)("esri.core.Promise")],V),V};let R=class extends(B(T.Z)){};R=(0,D._)([(0,U.j)("esri.core.Promise")],R)},35133:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>T});var D=M(62208);class T{constructor(Z=(U=>U.values().next().value)){this._peeker=Z,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}last(){if(0===this._items.size)return;let Z;for(Z of this._items);return Z}peek(){if(0!==this._items.size)return this._peeker(this._items)}push(Z){this.contains(Z)||this._items.add(Z)}contains(Z){return this._items.has(Z)}pop(){if(0===this.length)return;const Z=this.peek();return this._items.delete((0,D.j0)(Z)),Z}popLast(){if(0===this.length)return;const Z=this.last();return this._items.delete((0,D.j0)(Z)),Z}remove(Z){this._items.delete(Z)}filter(Z){return this._items.forEach(U=>{Z(U)||this._items.delete(U)}),this}}},4619:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>D});class D{constructor(te=1){this._seed=te}set seed(te){this._seed=te??Math.random()*D._m}getInt(){return this._seed=(D._a*this._seed+D._c)%D._m,this._seed}getFloat(){return this.getInt()/(D._m-1)}getIntRange(te,Z){return Math.round(this.getFloatRange(te,Z))}getFloatRange(te,Z){const U=Z-te;return te+this.getInt()/D._m*U}}D._m=2147483647,D._a=48271,D._c=0},94530:(nt,Te,M)=>{"use strict";M.d(Te,{e:()=>te});var D=M(62208),T=M(27899);class te extends T.Z{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=(0,D.wN)(this._set)}acquire(...U){const ie=super.acquire(...U);return this._set.delete(ie),ie}release(U){U&&!this._set.has(U)&&(super.release(U),this._set.add(U))}_dispose(U){this._set.delete(U),super._dispose(U)}}},10349:(nt,Te,M)=>{"use strict";M.d(Te,{G:()=>T});var D=M(26584);let T=class{constructor(te,Z,U=""){this.major=te,this.minor=Z,this._context=U}lessThan(te,Z){return this.major<te||te===this.major&&this.minor<Z}since(te,Z){return!this.lessThan(te,Z)}validate(te){if(this.major!==te.major)throw new D.Z((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:te})}clone(){return new T(this.major,this.minor,this._context)}static parse(te,Z=""){const[U,ie]=te.split("."),k=/^\s*\d+\s*$/;if(!U||!U.match||!U.match(k))throw new D.Z((Z&&Z+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:te});if(!ie||!ie.match||!ie.match(k))throw new D.Z((Z&&Z+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:te});const B=parseInt(U,10),R=parseInt(ie,10);return new T(B,R,Z)}}},14889:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>T});var D=M(90888);class T extends D.Z{constructor(Z,U,ie){if(super(Z,U,ie),!(this instanceof T))return new T(Z,U,ie)}}T.prototype.type="warning"},7894:(nt,Te,M)=>{"use strict";M.d(Te,{s:()=>te});var D=M(85931);class T{constructor(ie,k){this._observers=ie,this._observer=k}remove(){(0,D.Od)(this._observers,this._observer)}}class te{constructor(){this._observers=null,this.destroyed=!1}observe(ie){if(this.destroyed||ie.destroyed)return Z;null==this._observers&&(this._observers=[]);const k=this._observers;let B=!1,R=!1;const W=k.length;for(let V=0;V<W;++V){const Q=k[V];if(Q.destroyed)R=!0;else if(Q===ie){B=!0;break}}return B||(k.push(ie),R&&this._removeDestroyedObservers()),new T(k,ie)}_removeDestroyedObservers(){const ie=this._observers;if(!ie||0===ie.length)return;const k=ie.length;let B=0;for(let R=0;R<k;++R){for(;R+B<k&&ie[R+B].destroyed;)++B;if(B>0){if(!(R+B<k))break;ie[R]=ie[R+B]}}ie.length=k-B}destroy(){if(this.destroyed)return;this.destroyed=!0;const ie=this._observers;if(null!=ie){for(const k of ie)k.onCommitted();this._observers=null}}}const Z={remove:()=>{}}},31283:(nt,Te,M)=>{"use strict";M.d(Te,{M9:()=>Z,Wm:()=>k,kk:()=>te,s3:()=>T,x3:()=>U});var T,W,D=M(62208);(W=T||(T={}))[W.DEFAULTS=0]="DEFAULTS",W[W.COMPUTED=1]="COMPUTED",W[W.SERVICE=2]="SERVICE",W[W.PORTAL_ITEM=3]="PORTAL_ITEM",W[W.WEB_SCENE=4]="WEB_SCENE",W[W.WEB_MAP=5]="WEB_MAP",W[W.USER=6]="USER";const te=T.USER+1;function Z(W){switch(W){case"defaults":return T.DEFAULTS;case"service":return T.SERVICE;case"portal-item":return T.PORTAL_ITEM;case"web-scene":return T.WEB_SCENE;case"web-map":return T.WEB_MAP;case"user":return T.USER;default:return null}}function U(W){switch(W){case T.DEFAULTS:return"defaults";case T.SERVICE:return"service";case T.PORTAL_ITEM:return"portal-item";case T.WEB_SCENE:return"web-scene";case T.WEB_MAP:return"web-map";case T.USER:return"user"}return(0,D.j0)(void 0)}function k(W){return U(W)}},5901:(nt,Te,M)=>{"use strict";M.d(Te,{F:()=>D});const D=Symbol("Accessor-beforeDestroy")},66656:(nt,Te,M)=>{"use strict";M.d(Te,{p:()=>k});var D=M(90912),T=M(34117);const te=Object.prototype.toString;function Z(B){const R="__accessorMetadata__"in B?(0,D.se)(B):B;return function(...W){if(W.push(R),"number"==typeof W[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return U.apply(this,W)}}function U(B,R,W,V){(0,T.Oe)(B,R).cast=V}function k(...B){if(3!==B.length||"string"!=typeof B[1])return 1===B.length&&"[object Function]"===te.call(B[0])?Z(B[0]):1===B.length&&"string"==typeof B[0]?function ie(B){return(R,W)=>{(0,T.Oe)(R,B).cast=R[W]}}(B[0]):void 0}},55342:(nt,Te,M)=>{"use strict";M.d(Te,{J:()=>te});var D=M(2076),T=M(77712);function te(Z,U={}){const ie=Z instanceof D.X?Z:new D.X(Z,U),k={type:U?.ignoreUnknown??1?ie.apiValues:String,json:{type:ie.jsonValues,read:!U?.readOnly&&{reader:ie.read},write:{writer:ie.write}}};return void 0!==U?.readOnly&&(k.readOnly=!!U.readOnly),void 0!==U?.default&&(k.json.default=U.default),void 0!==U?.name&&(k.json.name=U.name),void 0!==U?.nonNullable&&(k.nonNullable=U.nonNullable),(0,T.Cb)(k)}},77712:(nt,Te,M)=>{"use strict";M.d(Te,{CJ:()=>k,Cb:()=>ie,Eg:()=>R});var D=M(63290),T=M(90912),te=M(34595),Z=M(34117),U=M(82255);function ie(W={}){return(V,Q)=>{if(V===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${V.name}.${Q}. Accessor does not support static properties.`);const ne=Object.getOwnPropertyDescriptor(V,Q),J=(0,Z.Oe)(V,Q);ne&&(ne.get||ne.set?(J.get=ne.get||J.get,J.set=ne.set||J.set):"value"in ne&&("value"in W&&D.Z.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${Q}" on "${V.constructor.name}" already defined in the metadata`,W),J.value=W.value=ne.value)),null!=W.readOnly&&(J.readOnly=W.readOnly);const X=W.aliasOf;if(X){const x="string"==typeof X?X:X.source,$="string"==typeof X?null:!0===X.overridable;let N;J.dependsOn=[x],J.get=function(){let z=(0,te.U2)(this,x);if("function"==typeof z){N||(N=x.split(".").slice(0,-1).join("."));const q=(0,te.U2)(this,N);q&&(z=z.bind(q))}return z},J.readOnly||(J.set=$?function(z){this._override(Q,z)}:function(z){(0,U.t)(this,x,z)})}const Y=W.type,F=W.types;J.cast||(Y?J.cast=function B(W){let V=0,Q=W;if((0,T.AY)(W))return(0,T.sY)(W);for(;Array.isArray(Q)&&1===Q.length&&"string"!=typeof Q[0]&&"number"!=typeof Q[0];)Q=Q[0],V++;const ne=Q;if((0,T.gB)(ne))return 0===V?(0,T.i$)(ne):(0,T.Iu)((0,T.i$)(ne),V);if(1===V)return(0,T.rY)(ne);if(V>1)return(0,T.di)(ne,V);return W.from?W.from:(0,T.se)(W)}(Y):F&&(J.cast=Array.isArray(F)?(0,T.Ls)((0,T.N7)(F[0])):(0,T.N7)(F))),(0,Z.tz)(J,W),W.range&&(J.cast=R(J.cast,W.range))}}function k(W,V,Q){const ne=(0,Z.Oe)(W,Q);ne.json||(ne.json={});let J=ne.json;return void 0!==V&&(J.origins||(J.origins={}),J.origins[V]||(J.origins[V]={}),J=J.origins[V]),J}function R(W,V){return Q=>{let ne=+W(Q);return null!=V.step&&(ne=Math.round(ne/V.step)*V.step),null!=V.min&&(ne=Math.max(V.min,ne)),null!=V.max&&(ne=Math.min(V.max,ne)),ne}}},68653:(nt,Te,M)=>{"use strict";M.d(Te,{r:()=>T});var D=M(77712);function T(te,Z,U){let ie,k;return void 0===Z||Array.isArray(Z)?(k=te,U=Z,ie=[void 0]):(k=Z,ie=Array.isArray(te)?te:[te]),(B,R)=>{const W=B.constructor.prototype;ie.forEach(V=>{const Q=(0,D.CJ)(B,V,k);Q.read&&"object"==typeof Q.read||(Q.read={}),Q.read.reader=W[R],U&&(Q.read.source=(Q.read.source||[]).concat(U))})}}},61039:(nt,Te,M)=>{"use strict";function D(T){return(te,Z)=>{te[Z]=T}}M.d(Te,{c:()=>D})},76898:(nt,Te,M)=>{"use strict";M.d(Te,{j:()=>R}),M(8314);var T=M(5901),te=M(44648),Z=M(34117),U=M(36082),ie=M(33794);const k=new Set,B=new Set;function R(Q){return ne=>{ne.prototype.declaredClass=Q,function V(Q){const J=(0,Z.fp)(Q.prototype),X={};for(const Y of Object.getOwnPropertyNames(J)){const F=J[Y];(0,ie.OM)(F),X[Y]={enumerable:!0,configurable:!0,get:W(Y,F),set(x){const $=this.__accessor__;if(void 0!==$){if(!Object.isFrozen(this)){if($.initialized&&F.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${Y}' of ${this.declaredClass}`);if($.lifecycle===te.F.CONSTRUCTED&&F.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${Y}' of ${this.declaredClass}`);$.set(Y,x)}}else Object.defineProperty(this,Y,{enumerable:!0,configurable:!0,writable:!0,value:x})}}}Object.defineProperties(Q.prototype,X)}(ne);const J=[],X=[];let Y=ne.prototype;for(;Y;)Y.hasOwnProperty("initialize")&&!k.has(Y.initialize)&&(k.add(Y.initialize),J.push(Y.initialize)),Y.hasOwnProperty("destroy")&&!B.has(Y.destroy)&&(B.add(Y.destroy),X.push(Y.destroy)),Y=Object.getPrototypeOf(Y);k.clear(),B.clear();class F extends ne{constructor(...$){if(super(...$),this.constructor===F&&"function"==typeof this.postscript){if(J.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let N=J.length-1;N>=0;N--)J[N].call(this)}}),X.length){let N=!1;const z=this[T.F];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!N){N=!0,z.call(this);for(let q=0;q<X.length;q++)X[q].call(this)}}})}this.postscript(...$)}}}return F.__accessorMetadata__=(0,Z.fp)(ne.prototype),F.prototype.declaredClass=Q,F}}function W(Q,ne){return null==ne.get?function(){const J=this.__accessor__.properties.get(Q);if(void 0===J)return;(0,U.it)(J.observerObject);const X=this.__accessor__.store;return X.has(Q)?X.get(Q):J.metadata.value}:function(){const J=this.__accessor__.properties.get(Q);if(void 0!==J)return J.getComputed()}}},99433:(nt,Te,M)=>{"use strict";M.d(Te,{c:()=>T});var D=M(77712);function T(te,Z,U){let ie,k;return void 0===Z?(k=te,ie=[void 0]):"string"!=typeof Z?(k=te,ie=[void 0],U=Z):(k=Z,ie=Array.isArray(te)?te:[te]),(B,R)=>{const W=B.constructor.prototype;for(const V of ie){const Q=(0,D.CJ)(B,V,k);Q.write&&"object"==typeof Q.write||(Q.write={}),U&&(Q.write.target=U),Q.write.writer=W[R]}}}},12590:(nt,Te,M)=>{"use strict";M.d(Te,{M:()=>T});var D=M(31283);function T(te,Z,U){Z.keys().forEach(k=>{U.set(k,Z.get(k),D.s3.DEFAULTS)}),Object.keys(te.metadatas).forEach(k=>{te.internalGet(k)&&U.set(k,te.internalGet(k),D.s3.DEFAULTS)})}},84682:(nt,Te,M)=>{"use strict";M.d(Te,{Hg:()=>J,V7:()=>ne,uD:()=>Q});var D=M(14517),T=M(74333),te=M(62208),Z=M(52323);const U=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function ie(Y){return Y instanceof D.Z}function k(Y){return Y instanceof T.Z?Object.keys(Y.items):ie(Y)?(0,Z.vw)(Y).keys():Y?Object.keys(Y):[]}function B(Y,F){return Y instanceof T.Z?Y.items[F]:Y[F]}function W(Y){return Y?Y.declaredClass:null}function V(Y,F){const x=Y.diff;if(x&&"function"==typeof x)return x(Y,F);const $=k(Y),N=k(F);if(0===$.length&&0===N.length)return;if(!$.length||!N.length||function R(Y,F){return!(!Array.isArray(Y)||!Array.isArray(F))&&Y.length!==F.length}(Y,F))return{type:"complete",oldValue:Y,newValue:F};const z=N.filter(ae=>!$.includes(ae)),q=$.filter(ae=>!N.includes(ae)),ee=$.filter(ae=>N.includes(ae)&&B(Y,ae)!==B(F,ae)).concat(z,q).sort(),re=W(Y);if(re&&U.includes(re)&&ee.length)return{type:"complete",oldValue:Y,newValue:F};let le;const _e=ie(Y)&&ie(F);for(const ae of ee){const he=B(Y,ae),se=B(F,ae);let ue;if((_e||"function"!=typeof he&&"function"!=typeof se)&&he!==se&&(null!=he||null!=se)){if(x&&x[ae]&&"function"==typeof x[ae])ue=x[ae](he,se);else if(he instanceof Date&&se instanceof Date){if(he.getTime()===se.getTime())continue;ue={type:"complete",oldValue:he,newValue:se}}else ue="object"==typeof he&&"object"==typeof se&&W(he)===W(se)?V(he,se):{type:"complete",oldValue:he,newValue:se};(0,te.pC)(ue)&&((0,te.pC)(le)?le.diff[ae]=ue:le={type:"partial",diff:{[ae]:ue}})}}return le}function Q(Y,F){if((0,te.Wi)(Y))return!1;const x=F.split(".");let $=Y;for(const N of x){if("complete"===$.type)return!0;if("partial"!==$.type)return!1;{const z=$.diff[N];if(!z)return!1;$=z}}return!0}function ne(Y,F){for(const x of F)if(Q(Y,x))return!0;return!1}function J(Y,F){if(!("function"==typeof Y||"function"==typeof F||(0,te.Wi)(Y)&&(0,te.Wi)(F)))return(0,te.Wi)(Y)||(0,te.Wi)(F)||"object"==typeof Y&&"object"==typeof F&&W(Y)!==W(F)?{type:"complete",oldValue:Y,newValue:F}:V(Y,F)}},90912:(nt,Te,M)=>{"use strict";M.d(Te,{AY:()=>ge,Iu:()=>re,Ls:()=>z,N7:()=>he,TJ:()=>Y,V5:()=>ue,Zs:()=>k,di:()=>le,gB:()=>_e,i$:()=>ae,q9:()=>B,rY:()=>q,sY:()=>be,se:()=>N,vU:()=>R,z8:()=>se}),M(8314);var T=M(63290),te=M(88159);const Z=T.Z.getLogger("esri.core.accessorSupport.ensureTypes");function U(de){return null==de?de:new Date(de)}function ie(de){return null==de?de:!!de}function k(de){return null==de?de:de.toString()}function B(de){return null==de?de:(de=parseFloat(de),isNaN(de)?0:de)}function R(de){return null==de?de:Math.round(parseFloat(de))}function W(de){return de&&de.constructor&&void 0!==de.constructor.__accessorMetadata__}function V(de,ve){return null!=ve&&de&&!(ve instanceof de)}function Q(de){return de&&"isCollection"in de}function ne(de){return de&&de.Type?"function"==typeof de.Type?de.Type:de.Type.base:null}function X(de,ve){return!!W(ve)&&(Z.error("Accessor#set","Assigning an instance of '"+(ve.declaredClass||"unknown")+"' which is not a subclass of '"+F(de)+"'"),!0)}function Y(de,ve){return null==ve?ve:Q(de)?function J(de,ve){if(!ve||!ve.constructor||!Q(ve.constructor))return X(de,ve)?ve:new de(ve);const De=ne(de.prototype.itemType),xe=ne(ve.constructor.prototype.itemType);return De?xe?De===xe?ve:De.prototype.isPrototypeOf(xe.prototype)?new de(ve):(X(de,ve),ve):new de(ve):ve}(de,ve):V(de,ve)?X(de,ve)?ve:new de(ve):ve}function F(de){return de&&de.prototype&&de.prototype.declaredClass||"unknown"}const x=new WeakMap;function N(de,ve){const De=function $(de){switch(de){case Number:return B;case se:return R;case Boolean:return ie;case String:return k;case Date:return U;default:return(0,te.s1)(x,de,()=>Y.bind(null,de))}}(de);return 1===arguments.length?De:De(ve)}function z(de,ve,De){return 1===arguments.length?z.bind(null,de):ve&&(Array.isArray(ve)?ve.map(xe=>de(xe,De)):[de(ve,De)])}function q(de,ve){return 1===arguments.length?z(N.bind(null,de)):z(N.bind(null,de),ve)}function ee(de,ve,De){return 0!==ve&&Array.isArray(De)?De.map(xe=>ee(de,ve-1,xe)):de(De)}function re(de,ve,De){if(2===arguments.length)return re.bind(null,de,ve);if(!De)return De;let xe=ve,Ce=De=ee(de,ve,De);for(;xe>0&&Array.isArray(Ce);)xe--,Ce=Ce[0];if(void 0!==Ce)for(let Re=0;Re<xe;Re++)De=[De];return De}function le(de,ve,De){return 2===arguments.length?re(N.bind(null,de),ve):re(N.bind(null,de),ve,De)}function _e(de){return!!Array.isArray(de)&&!de.some(ve=>{const De=typeof ve;return!("string"===De||"number"===De||"function"===De&&de.length>1)})}function ae(de,ve){if(2===arguments.length)return ae(de).call(null,ve);const De=new Set,xe=de.filter(Me=>"function"!=typeof Me),Ce=de.filter(Me=>"function"==typeof Me);for(const Me of de)"string"!=typeof Me&&"number"!=typeof Me||De.add(Me);let Re=null,we=null;return(Me,fe)=>{if(null==Me)return Me;const ye=typeof Me,je="string"===ye||"number"===ye;return je&&(De.has(Me)||Ce.some(Je=>"string"===ye&&Je===String||"number"===ye&&Je===Number))||"object"===ye&&Ce.some(Je=>!V(Me,Je))?Me:(je&&xe.length?(Re||(Re=xe.map(Je=>"string"==typeof Je?`'${Je}'`:`${Je}`).join(", ")),Z.error("Accessor#set",`'${Me}' is not a valid value for this property, only the following values are valid: ${Re}`)):"object"==typeof Me&&Ce.length?(we||(we=Ce.map(Je=>F(Je)).join(", ")),Z.error("Accessor#set",`'${Me}' is not a valid value for this property, value must be one of ${we}`)):Z.error("Accessor#set",`'${Me}' is not a valid value for this property`),fe&&(fe.valid=!1),null)}}function he(de,ve){if(2===arguments.length)return he(de).call(null,ve);const De={},xe=[],Ce=[];for(const fe in de.typeMap){const ye=de.typeMap[fe];De[fe]=N(ye),xe.push(F(ye)),Ce.push(fe)}const Me="string"==typeof de.key?fe=>fe[de.key]:de.key;return fe=>{if(de.base&&!V(de.base,fe)||null==fe)return fe;const ye=Me(fe)||de.defaultKeyValue,je=De[ye];if(!je)return Z.error("Accessor#set",`Invalid property value, value needs to be one of '${xe.join("', '")}', or a plain object that can autocast (having .type = '${Ce.join("', '")}')`),null;if(!V(de.typeMap[ye],fe))return fe;if("string"==typeof de.key&&!W(fe)){const Je={};for(const Ie in fe)Ie!==de.key&&(Je[Ie]=fe[Ie]);return je(Je)}return je(fe)}}class se{}const ue={native:de=>({type:"native",value:de}),array:de=>({type:"array",value:de}),oneOf:de=>({type:"one-of",values:de})};function ge(de){if(!de||!("type"in de))return!1;switch(de.type){case"native":case"array":case"one-of":return!0}return!1}function be(de){switch(de.type){case"native":return N(de.value);case"array":return z(be(de.value));case"one-of":return function me(de){let ve=null;return(De,xe)=>oe(De,de)?De:(null==ve&&(ve=Oe(de)),Z.error("Accessor#set",`Invalid property value, value needs to be of type ${ve}`),xe&&(xe.valid=!1),null)}(de);default:return null}}function Oe(de){switch(de.type){case"native":switch(de.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case se:return"integer";case Date:return"date";default:return F(de.value)}case"array":return`array of ${Oe(de.value)}`;case"one-of":{const ve=de.values.map(De=>Oe(De));return`one of ${ve.slice(0,ve.length-1)} or ${ve[ve.length-1]}`}}return"unknown"}function oe(de,ve){if(null==de)return!0;switch(ve.type){case"native":switch(ve.value){case Number:case se:return"number"==typeof de;case Boolean:return"boolean"==typeof de;case String:return"string"==typeof de}return de instanceof ve.value;case"array":return!!Array.isArray(de)&&!de.some(De=>!oe(De,ve.value));case"one-of":return ve.values.some(De=>oe(de,De))}}},33794:(nt,Te,M)=>{"use strict";M.d(Te,{hk:()=>V,HS:()=>R,Ah:()=>W,OM:()=>F});var D=M(90912),te=M(383);function U(x){x.name&&(x.read&&"object"==typeof x.read?void 0===x.read.source&&(x.read.source=x.name):x.read={source:x.name},x.write&&"object"==typeof x.write?void 0===x.write.target&&(x.write.target=x.name):x.write={target:x.name})}function ie(x){"boolean"==typeof x.read?x.read={enabled:x.read}:"function"==typeof x.read?x.read={enabled:!0,reader:x.read}:x.read&&"object"==typeof x.read&&void 0===x.read.enabled&&(x.read.enabled=!0)}function k(x){"boolean"==typeof x.write?x.write={enabled:x.write}:"function"==typeof x.write?x.write={enabled:!0,writer:x.write}:x.write&&"object"==typeof x.write&&void 0===x.write.enabled&&(x.write.enabled=!0)}var B=M(23025);function R(x,$){return V(x,"read",$)}function W(x,$){return V(x,"write",$)}function V(x,$,N){let z=x&&x.json;if(x&&x.json&&x.json.origins&&N){const q=N.origin&&x.json.origins[N.origin];q&&("any"===$||$ in q)&&(z=q)}return z}function J(x){return x.type?X(x):Y(x)}function X(x){if(!x.type)return;let $=0,N=x.type;for(;Array.isArray(N)&&!(0,D.gB)(N);)N=N[0],$++;return{type:N,ndimArray:$}}function Y(x){if(!x.types)return;let $=0,N=x.types;for(;Array.isArray(N);)N=N[0],$++;return{types:N,ndimArray:$}}function F(x){(function Z(x){if(x.json||(x.json={}),ie(x.json),k(x.json),U(x.json),x.json.origins)for(const $ in x.json.origins)ie(x.json.origins[$]),k(x.json.origins[$]),U(x.json.origins[$]);return!0})(x)&&(function T(x){if(x.json&&x.json.origins){const $=x.json.origins,N={"web-document":["web-scene","web-map"]};for(const z in N)if($[z]){const q=$[z];N[z].forEach(ee=>{$[ee]=q}),delete $[z]}}}(x),function Q(x){const $=function ne(x){return x.json.types?Y(x.json):x.type?X(x):Y(x)}(x);if(x.json.origins)for(const N in x.json.origins){const z=x.json.origins[N],q=z.types?J(z):$;(0,te.U)(q,z,!1),z.types&&!z.write&&x.json.write&&x.json.write.enabled&&(z.write={...x.json.write}),(0,B.U)(q,z)}(0,te.U)($,x.json,!0),(0,B.U)($,x.json)}(x))}},383:(nt,Te,M)=>{"use strict";M.d(Te,{U:()=>k,d:()=>B});var D=M(63290),T=M(94113),te=M(14889),Z=M(34117),U=M(94056);const ie=D.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function k(N,z,q){N&&(!q&&!z.read||z.read?.reader||!1===z.read?.enabled||function X(N){return"types"in N?F(N.types):Y(N.type)}(N)&&(0,T.RB)("read.reader",B(N),z))}function B(N){const z=N.ndimArray??0;if(z>1)return function Q(N){const z=R(N),q=V.bind(null,z),ee=N.ndimArray??0;return(re,le,_e)=>{if(null==re)return re;re=q(re,_e,ee);let ae=ee,he=re;for(;ae>0&&Array.isArray(he);)ae--,he=he[0];if(void 0!==he)for(let se=0;se<ae;se++)re=[re];return re}}(N);if(1===z)return ne(N);if("type"in N&&J(N.type)){const q=N.type.prototype?.itemType?.Type,ee=ne("function"==typeof q?{type:q}:{types:q});return(re,le,_e)=>{const ae=ee(re,le,_e);return ae&&new N.type(ae)}}return R(N)}function R(N){return"type"in N?function W(N){return N.prototype.read?(z,q,ee)=>{if(null==z)return z;const re=typeof z;if("object"!==re)return void ie.error(`Expected JSON value of type 'object' to deserialize type '${N.prototype.declaredClass}', but got '${re}'`);const le=new N;return le.read(z,ee),le}:N.fromJSON}(N.type):function x(N){let z=null;const q=N.errorContext??"type";return(ee,re,le)=>{if(null==ee)return ee;const _e=typeof ee;if("object"!==_e)return void ie.error(`Expected JSON value of type 'object' to deserialize, but got '${_e}'`);z||(z=function $(N){const z={};for(const q in N.typeMap){const ee=N.typeMap[q],re=(0,Z.fp)(ee.prototype);if("function"==typeof N.key)continue;const le=re[N.key];if(!le)continue;le.json?.type&&Array.isArray(le.json.type)&&1===le.json.type.length&&"string"==typeof le.json.type[0]&&(z[le.json.type[0]]=ee);const _e=le.json?.write;if(!_e||!_e.writer){z[q]=ee;continue}const ae=_e.target,he="string"==typeof ae?ae:N.key,se={};_e.writer(q,se,he),se[he]&&(z[se[he]]=ee)}return z}(N));const ae=N.key;if("string"!=typeof ae)return;const he=ee[ae],se=he?z[he]:N.defaultKeyValue?N.typeMap[N.defaultKeyValue]:void 0;if(!se){const ge=`Type '${he||"unknown"}' is not supported`;return le&&le.messages&&ee&&le.messages.push(new te.Z(`${q}:unsupported`,ge,{definition:ee,context:le})),void ie.error(ge)}const ue=new se;return ue.read(ee,le),ue}}(N.types)}function V(N,z,q,ee){return 0!==ee&&Array.isArray(z)?z.map(re=>V(N,re,q,ee-1)):N(z,void 0,q)}function ne(N){const z=R(N);return(q,ee,re)=>{if(null==q)return q;if(Array.isArray(q)){const _e=[];for(const ae of q){const he=z(ae,void 0,re);void 0!==he&&_e.push(he)}return _e}const le=z(q,void 0,re);return void 0!==le?[le]:void 0}}function J(N){if(!(0,U.u)(N))return!1;const z=N.prototype.itemType;return!(!z||!z.Type)&&("function"==typeof z.Type?Y(z.Type):F(z.Type))}function Y(N){return!Array.isArray(N)&&!!N&&N.prototype&&("read"in N.prototype||"fromJSON"in N||J(N))}function F(N){for(const z in N.typeMap)if(!Y(N.typeMap[z]))return!1;return!0}},94056:(nt,Te,M)=>{"use strict";function D(T){return!!T&&T.prototype&&T.prototype.declaredClass&&0===T.prototype.declaredClass.indexOf("esri.core.Collection")}M.d(Te,{u:()=>D})},23025:(nt,Te,M)=>{"use strict";M.d(Te,{U:()=>U,k:()=>V});var D=M(26584),T=M(63290),te=M(94113),Z=M(94056);function U(X,Y){if(!Y.write||Y.write.writer||!1===Y.write.enabled&&!Y.write.overridePolicy)return;const F=X?.ndimArray??0;Y.write.writer=X&&(1===F||"type"in X&&(0,Z.u)(X.type))?Q:F>1?function J(X){return(Y,F,x,$)=>{let N;if(null===Y)N=null;else{N=ne(Y,$,X);let z=X,q=N;for(;z>0&&Array.isArray(q);)z--,q=q[0];if(void 0!==q)for(let ee=0;ee<z;ee++)N=[N]}(0,te.RB)(x,N,F)}}(F):Y.types?Array.isArray(Y.types)?function B(X){return(Y,F,x,$)=>Y&&Array.isArray(Y)?R(Y.filter(N=>k(N,X,$)),F,x,$):R(Y,F,x,$)}(Y.types[0]):function ie(X){return(Y,F,x,$)=>Y?k(Y,X,$)?R(Y,F,x,$):void 0:R(Y,F,x,$)}(Y.types):R}function k(X,Y,F){for(const x in Y.typeMap)if(X instanceof Y.typeMap[x])return!0;if(F?.messages){const $=`Values of type '${("function"!=typeof Y.key?X[Y.key]:X.declaredClass)??"Unknown"}' cannot be written`;F&&F.messages&&X&&F.messages.push(new D.Z(`${Y.errorContext??"type"}:unsupported`,$,{definition:X,context:F})),T.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error($)}return!1}function R(X,Y,F,x){(0,te.RB)(F,W(X,x),Y)}function W(X,Y){return X&&"function"==typeof X.write?X.write({},Y):X&&"function"==typeof X.toJSON?X.toJSON():"number"==typeof X?V(X):X}function V(X){return X===-1/0?-Number.MAX_VALUE:X===1/0?Number.MAX_VALUE:isNaN(X)?null:X}function Q(X,Y,F,x){let $;null===X?$=null:X&&"function"==typeof X.map?($=X.map(N=>W(N,x)),"function"==typeof $.toArray&&($=$.toArray())):$=[W(X,x)],(0,te.RB)(F,$,Y)}function ne(X,Y,F){return 0!==F&&Array.isArray(X)?X.map(x=>ne(x,Y,F-1)):W(X,Y)}},34595:(nt,Te,M)=>{"use strict";M.d(Te,{$z:()=>Z,Gg:()=>ie,U2:()=>U});var D=M(52323);function T(k,B){const R="?"===k[k.length-1]?k.slice(0,-1):k;if(null!=B.getItemAt||Array.isArray(B)){const V=parseInt(R,10);if(!isNaN(V))return Array.isArray(B)?B[V]:B.getItemAt(V)}const W=(0,D.vw)(B);return(0,D.b6)(W,R)?W.get(R):B[R]}function te(k,B,R){if(null==k)return k;const W=T(B[R],k);return!W&&R<B.length-1?void 0:R===B.length-1?W:te(W,B,R+1)}function Z(k,B,R=0){return"string"!=typeof B||B.includes(".")?te(k,(0,D.NI)(B),R):T(B,k)}function U(k,B){return Z(k,B)}function ie(k,B){return void 0!==Z(B,k)}},44648:(nt,Te,M)=>{"use strict";var D,T;M.d(Te,{F:()=>D}),(T=D||(D={}))[T.INITIALIZING=0]="INITIALIZING",T[T.CONSTRUCTING=1]="CONSTRUCTING",T[T.CONSTRUCTED=2]="CONSTRUCTED"},34117:(nt,Te,M)=>{"use strict";M.d(Te,{Oe:()=>U,fp:()=>Z,tz:()=>k});var D=M(58817),T=M(62208),te=M(52323);function Z(W){let V=W.constructor.__accessorMetadata__;const Q=Object.prototype.hasOwnProperty.call(W.constructor,"__accessorMetadata__");if(V){if(!Q){V=Object.create(V);for(const ne in V)V[ne]=(0,D.d9)(V[ne]);Object.defineProperty(W.constructor,"__accessorMetadata__",{value:V,enumerable:!1,configurable:!0,writable:!0})}}else V={},Object.defineProperty(W.constructor,"__accessorMetadata__",{value:V,enumerable:!1,configurable:!0,writable:!0});return(0,T.j0)(W.constructor.__accessorMetadata__)}function U(W,V){const Q=Z(W);let ne=Q[V];return ne||(ne=Q[V]={}),ne}function k(W,V){return(0,te.TS)(W,V,R)}const B=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function R(W){return B.test(W)?"replace":"merge"}},52489:(nt,Te,M)=>{"use strict";M.d(Te,{D:()=>T});var D=M(22558);function T(te){te&&te.writtenProperties&&te.writtenProperties.forEach(({target:Z,propName:U,newOrigin:ie})=>{(0,D.l)(Z)&&ie&&Z.originOf(U)!==ie&&Z.updateOrigin(U,ie)})}},29338:(nt,Te,M)=>{"use strict";M.d(Te,{$:()=>W,i:()=>R});var D=M(34595),T=M(52323),te=M(33794);function Z(V,Q,ne){if(!V||!V.read||!1===V.read.enabled||!V.read.source)return!1;const J=V.read.source;if("string"==typeof J){if(J===Q||J.includes(".")&&0===J.indexOf(Q)&&(0,D.Gg)(J,ne))return!0}else for(const X of J)if(X===Q||X.includes(".")&&0===X.indexOf(Q)&&(0,D.Gg)(X,ne))return!0;return!1}function ie(V,Q,ne,J,X){let Y=(0,te.HS)(Q[ne],X);(function U(V){return V&&(!V.read||!1!==V.read.enabled&&!V.read.source)})(Y)&&(V[ne]=!0);for(const F of Object.getOwnPropertyNames(Q))Y=(0,te.HS)(Q[F],X),Z(Y,ne,J)&&(V[F]=!0)}function k(V,Q,ne,J){const Y=(0,te.hk)(ne.metadatas[Q],"any",J),F=Y&&Y.default;if(void 0===F)return;const x="function"==typeof F?F.call(V,Q,J):F;void 0!==x&&ne.set(Q,x)}const B={origin:"service"};function R(V,Q,ne=B){if(!Q||"object"!=typeof Q)return;const J=(0,T.vw)(V),X=J.metadatas,Y={};for(const F of Object.getOwnPropertyNames(Q))ie(Y,X,F,Q,ne);J.setDefaultOrigin(ne.origin);for(const F of Object.getOwnPropertyNames(Y)){const x=(0,te.HS)(X[F],ne).read,$=x&&x.source;let N;N=$&&"string"==typeof $?(0,D.$z)(Q,$):Q[F],x&&x.reader&&(N=x.reader.call(V,N,Q,ne)),void 0!==N&&J.set(F,N)}if(!ne||!ne.ignoreDefaults){J.setDefaultOrigin("defaults");for(const F of Object.getOwnPropertyNames(X))Y[F]||k(V,F,J,ne)}J.setDefaultOrigin("user")}function W(V,Q,ne,J=B){const X={...J,messages:[]};ne(X),X.messages?.forEach(Y=>{"warning"!==Y.type||V.loaded?J&&J.messages&&J.messages.push(Y):V.loadWarnings.push(Y)})}},82255:(nt,Te,M)=>{"use strict";M.d(Te,{t:()=>U});var D=M(26584),T=M(8314),Z=(M(63290),M(34595));function U(R,W,V){if(R&&W)if("object"==typeof W)for(const Q of Object.getOwnPropertyNames(W))U(R,Q,W[Q]);else{if(W.includes(".")){const ne=W.split("."),J=ne.splice(ne.length-1,1)[0];return void U((0,Z.U2)(R,ne),J,V)}const Q=R.__accessor__;null!=Q&&function ie(R,W){if((0,T.Z)("esri-unknown-property-errors")&&!function k(R,W){return null!=W.metadatas[R]}(R,W))throw new D.Z("set:unknown-property",function B(R,W){return"setting unknown property '"+R+"' on instance of "+W.host.declaredClass}(R,W))}(W,Q),R[W]=V}}},36082:(nt,Te,M)=>{"use strict";M.d(Te,{GF:()=>x,LJ:()=>V,gb:()=>Q,it:()=>B,mS:()=>Y}),M(8314);var T=M(63290),te=M(52323),Z=M(2345);const U={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},ie=[];let k=U;function B(N){k.onObservableAccessed(N)}let R=!1,W=!1;function V(N,z,q){if(R)return ne(N,z,q);J(N);const ee=z.call(q);return X(),ee}function Q(N,z){return V(U,N,z)}function ne(N,z,q){const ee=R;R=!0,J(N);let re=null;try{re=z.call(q)}catch(le){W&&T.Z.getLogger("esri.core.accessorSupport.tracking").error(le)}return X(),R=ee,re}function J(N){k=N,ie.push(N)}function X(){const N=ie.length;if(N>1){const z=ie.pop();k=ie[N-2],z.onTrackingEnd()}else if(1===N){const z=ie.pop();k=U,z.onTrackingEnd()}else k=U}function Y(N,z){const q=z.observerObject;if(q.flags&Z.v.DepTrackingInitialized)return;const ee=W;W=!1,q.flags&Z.v.AutoTracked?ne(z,z.metadata.get,N):x(N,z),W=ee}const F=[];function x(N,z){const q=z.observerObject;q.flags&Z.v.ExplicitlyTracking||(q.flags|=Z.v.ExplicitlyTracking,ne(z,()=>{const ee=z.metadata.dependsOn||F;for(const re of ee)if("string"!=typeof re||re.includes(".")){const le=(0,te.NI)(re);for(let _e=0,ae=N;_e<le.length&&null!=ae&&"object"==typeof ae;++_e)ae=$(ae,le[_e],_e!==le.length-1)}else $(N,re,!1)}),q.flags&=~Z.v.ExplicitlyTracking)}function $(N,z,q){const ee="?"===z[z.length-1]?z.slice(0,-1):z;if(null!=N.getItemAt||Array.isArray(N)){const le=parseInt(ee,10);if(!isNaN(le))return Array.isArray(N)?N[le]:N.getItemAt(le)}const re=(0,te.vw)(N)?.properties.get(ee);return re&&(B(re.observerObject),Y(N,re)),q?N[ee]:void 0}},21352:(nt,Te,M)=>{"use strict";M.d(Te,{EH:()=>k,U5:()=>U,Xz:()=>ie});var D=M(36082),T=M(819);let te=!1;const Z=[];function U(W,V){let Q=new T.M(function X(){if(!Q||J)return;if(te)return void B(X);const F=ne;Q.clear(),te=!0,J=!0,ne=(0,D.LJ)(Q,W),J=!1,te=!1,V(ne,F),R()}),ne=null,J=!1;return J=!0,ne=(0,D.LJ)(Q,W),J=!1,{remove:function Y(){Q&&(Q.destroy(),Q=null,ne=null)}}}function ie(W,V){let Q=new T.M(function J(){V(ne,Y)}),ne=null;function Y(){return Q?(Q.clear(),ne=(0,D.LJ)(Q,W),ne):null}return Y(),{remove:function X(){Q&&(Q.destroy(),Q=null),ne=null}}}function k(W){let V=new T.M(function ne(){V&&!Q&&(te?B(ne):(V.clear(),te=!0,Q=!0,(0,D.LJ)(V,W),Q=!1,te=!1,R()))}),Q=!1;return Q=!0,(0,D.LJ)(V,W),Q=!1,{remove:function J(){V&&(V.destroy(),V=null)}}}function B(W){Z.includes(W)||Z.unshift(W)}function R(){for(;Z.length;)Z.pop()()}},2345:(nt,Te,M)=>{"use strict";var D,T;M.d(Te,{v:()=>D}),(T=D||(D={}))[T.Dirty=1]="Dirty",T[T.Overriden=2]="Overriden",T[T.Computing=4]="Computing",T[T.NonNullable=8]="NonNullable",T[T.HasDefaultValue=16]="HasDefaultValue",T[T.DepTrackingInitialized=32]="DepTrackingInitialized",T[T.AutoTracked=64]="AutoTracked",T[T.ExplicitlyTracking=128]="ExplicitlyTracking"},84395:(nt,Te,M)=>{"use strict";M.d(Te,{f:()=>te});var D=M(36082),T=M(48902);class te{constructor(U){this._observable=new T.s,this._value=U}get(){return(0,D.it)(this._observable),this._value}set(U){U!==this._value&&(this._value=U,this._observable.notify())}}},48902:(nt,Te,M)=>{"use strict";M.d(Te,{s:()=>T});var D=M(7894);class T extends D.s{notify(){const Z=this._observers;if(Z&&Z.length>0){const U=Z.slice();for(const ie of U)ie.onInvalidated(),ie.onCommitted()}}}},819:(nt,Te,M)=>{"use strict";M.d(Te,{M:()=>D});class D{constructor(ie){this._notify=ie,this._accessed=[],this._handles=[],this._observerObject=new T(this._notify),te.register(this,this._observerObject)}destroy(){this._accessed.length=0,this._observerObject?.destroy(),this.clear(),te.unregister(this)}onObservableAccessed(ie){const k=this._accessed;k.includes(ie)||k.push(ie)}onTrackingEnd(){const ie=this._handles,k=this._accessed,B=this._observerObject;for(let R=0;R<k.length;++R)ie.push(k[R].observe(B));k.length=0}clear(){const ie=this._handles;for(let k=0;k<ie.length;++k)ie[k].remove();ie.length=0}}class T{constructor(ie){this._notify=ie,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const ie=this._invalidCount;if(1===ie)return this._invalidCount=0,void this._notify();this._invalidCount=ie>0?ie-1:0}destroy(){this.destroyed=!0,this._notify=Z}}const te=new FinalizationRegistry(U=>{U.destroy()});function Z(){}},52323:(nt,Te,M)=>{"use strict";M.d(Te,{IH:()=>X,NI:()=>W,Qc:()=>J,TS:()=>k,b6:()=>U,vw:()=>Z});var D=M(54024),T=M(58817),te=M(62208);function Z(Y){return Y?Y.__accessor__?Y.__accessor__:Y.propertyInvalidated?Y:null:null}function U(Y,F){return null!=Y&&Y.metadatas&&null!=Y.metadatas[F]}function k(Y,F,x){return B(Y,F,x?{policy:x,path:""}:null)}function B(Y,F,x){return F?Object.keys(F).reduce(($,N)=>{let z=null,q="merge";if(x&&(z=x.path?`${x.path}.${N}`:N,q=x.policy(z)),"replace"===q||"replace-arrays"===q&&Array.isArray($[N]))return $[N]=F[N],$;if(void 0===$[N])return $[N]=(0,T.d9)(F[N]),$;let ee=$[N],re=F[N];if(ee===re)return $;if(Array.isArray(re)||Array.isArray($))ee=$[N]=ee?Array.isArray(ee)?ee.concat():[ee]:[],re&&(Array.isArray(re)||(re=[re]),re.forEach(le=>{ee.includes(le)||ee.push(le)}));else if(re&&"object"==typeof re)if(x){const le=x.path;x.path=(0,te.j0)(z),$[N]=B(ee,re,x),x.path=le}else $[N]=B(ee,re,null);else $.hasOwnProperty(N)&&!F.hasOwnProperty(N)||($[N]=re);return $},Y||{}):Y}function W(Y){return Array.isArray(Y)?Y:Y.split(".")}function V(Y){return Y.includes(",")?Y.split(",").map(F=>F.trim()):[Y.trim()]}function J(Y,F,x,$){const N=function Q(Y){if(Array.isArray(Y)){const F=[];for(const x of Y)F.push(...V(x));return F}return V(Y)}(F);if(1!==N.length){const z=N.map(q=>$(Y,q,x));return(0,D.AL)(z)}return $(Y,N[0],x)}function X(Y){let F=!1;return()=>{F||(F=!0,Y())}}},61972:(nt,Te,M)=>{"use strict";M.d(Te,{Fs:()=>q,NC:()=>se,BT:()=>x,YP:()=>le,aQ:()=>he});var V,ue,D=M(35575),T=M(58817),te=M(94530),Z=M(50618),k=M(86236),B=M(34595),R=M(21352),W=M(52323);(ue=V||(V={}))[ue.Untracked=0]="Untracked",ue[ue.Tracked=1]="Tracked";class Q{constructor(){this.uid=(0,k.D)(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(ge,be,me,Oe,oe){return this.pool.acquire(V.Untracked,ge,be,me,Oe,oe,T.fS)}static acquireTracked(ge,be,me,Oe){return this.pool.acquire(V.Tracked,ge,be,me,null,null,Oe)}notify(ge,be){this.type===V.Untracked?this.callback.call(this.target,ge,be,this.path,this.target):this.callback.call(null,ge,be)}acquire(ge,be,me,Oe,oe,de,ve){this.uid=(0,k.D)(),this.removed=!1,this.type=ge,this.oldValue=be,this.callback=me,this.getValue=Oe,this.target=oe,this.path=de,this.equals=ve}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=(0,k.D)(),this.removed=!0}}Q.pool=new te.e(Q);const ne=new D.Z,J=new Set;let X;function Y(ue){J.delete(ue),J.add(ue),X||(X=(0,Z.Os)($))}function F(ue){if(ue.removed)return;const ge=ue.oldValue,be=ue.getValue();ue.equals(ge,be)||(ue.oldValue=be,ue.notify(be,ge))}function x(ue){for(const ge of J.values())ge.target===ue&&(ge.removed=!0)}function $(){let ue=10;for(;X&&ue--;){X=null;const ge=N(),be=ne.acquire();for(const me of ge){const Oe=me.uid;F(me),Oe===me.uid&&me.removed&&be.push(me)}for(const me of J)me.removed&&(be.push(me),J.delete(me));for(const me of be)Q.pool.release(me);ne.release(be),ne.release(ge),z.forEach(me=>me())}}function N(){const ue=ne.acquire();ue.length=J.size;let ge=0;for(const be of J)ue[ge]=be,++ge;return J.clear(),ue}const z=new Set;function q(ue){return z.add(ue),{remove(){z.delete(ue)}}}function le(ue,ge,be,me=!1){return!ue.__accessor__||ue.__accessor__.destroyed?{remove(){}}:me?function re(ue,ge,be){const me=(0,W.Qc)(ue,ge,be,(Oe,oe,de)=>{let ve=!1;return(0,R.U5)(()=>(0,B.$z)(Oe,oe),(De,xe)=>{Oe.__accessor__.destroyed?me.remove():ve||(ve=!0,(0,T.fS)(xe,De)||de.call(Oe,De,xe,oe,Oe),ve=!1)})});return me}(ue,ge,be):function ee(ue,ge,be){let me=(0,W.Qc)(ue,ge,be,(Oe,oe,de)=>{let ve,De,xe=(0,R.Xz)(()=>(0,B.$z)(Oe,oe),(Ce,Re)=>{Oe.__accessor__.destroyed||ve&&ve.uid!==De?me.remove():(ve||(ve=Q.acquireUntracked(Ce,de,Re,Oe,oe),De=ve.uid),Y(ve))});return{remove:(0,W.IH)(()=>{xe.remove(),ve&&(ve.uid!==De||ve.removed||(ve.removed=!0,Y(ve)),ve=null),me=xe=null})}});return me}(ue,ge,be)}function he(ue,ge,be=!1,me=T.y7){return be?function ae(ue,ge,be){let me=!1;return(0,R.U5)(ue,(Oe,oe)=>{me||(me=!0,be(oe,Oe)||ge(Oe,oe),me=!1)})}(ue,ge,me):function _e(ue,ge,be){let me,Oe,oe=(0,R.Xz)(ue,(de,ve)=>{me&&me.uid!==Oe?oe.remove():(me||(me=Q.acquireTracked(de,ge,ve,be),Oe=me.uid),Y(me))});return{remove:(0,W.IH)(()=>{oe.remove(),me&&(me.uid!==Oe||me.removed||(me.removed=!0,Y(me)),me=null),oe=null})}}(ue,ge,me)}function se(ue){return function U(ue,ge){for(const be of ue.entries())if(ge(be[0]))return!0;return!1}(J,ge=>ge.oldValue===ue)}},36054:(nt,Te,M)=>{"use strict";M.d(Te,{c:()=>V,d:()=>W});var D=M(85931),T=M(26584),te=M(63290),Z=M(31283),U=M(52323),ie=M(33794);function k(Q,ne,J,X,Y){const F={};return ne.write?.writer?.call(Q,X,F,J,Y),F}function B(Q,ne,J,X,Y,F){if(!X||!X.write)return!1;const x=Q.get(J);if(!Y&&X.write.overridePolicy){const $=X.write.overridePolicy.call(Q,x,J,F);void 0!==$&&(Y=$)}if(Y||(Y=X.write),!Y||!1===Y.enabled)return!1;if((null===x&&!Y.allowNull&&!Y.writerEnsuresNonNull||void 0===x)&&Y.isRequired){const $=new T.Z("web-document-write:property-required",`Missing value for required property '${J}' on '${Q.declaredClass}'`,{propertyName:J,target:Q});return $&&F&&F.messages?F.messages.push($):$&&!F&&te.Z.getLogger("esri.core.accessorSupport.write").error($.name,$.message),!1}return!(void 0===x||null===x&&!Y.allowNull&&!Y.writerEnsuresNonNull||(!ne.store.multipleOriginsSupported||ne.store.originOf(J)===Z.s3.DEFAULTS)&&function R(Q,ne,J,X,Y){const F=X.default;if(void 0===F)return!1;if(null!=X.defaultEquals)return X.defaultEquals(Y);if("function"==typeof F){if(Array.isArray(Y)){const x=F.call(Q,ne,J);return(0,D.fS)(x,Y)}return!1}return F===Y}(Q,J,F,X,x)||!Y.ignoreOrigin&&F&&F.origin&&ne.store.multipleOriginsSupported&&ne.store.originOf(J)<(0,Z.M9)(F.origin))}function W(Q,ne,J,X){const Y=(0,U.vw)(Q),x=(0,ie.Ah)(Y.metadatas[ne],X);return!!x&&B(Q,Y,ne,x,J,X)}function V(Q,ne,J){if(Q&&"function"==typeof Q.toJSON&&(!Q.toJSON.isDefaultToJSON||!Q.write))return(0,U.TS)(ne,Q.toJSON(J));const X=(0,U.vw)(Q),Y=X.metadatas;for(const F in Y){const x=(0,ie.Ah)(Y[F],J);if(!B(Q,X,F,x,void 0,J))continue;const $=Q.get(F),N=k(Q,x,x.write&&"string"==typeof x.write.target?x.write.target:F,$,J);Object.keys(N).length>0&&(ne=(0,U.TS)(ne,N),J?.resources?.pendingOperations?.length&&J.resources.pendingOperations.push(Promise.all(J.resources.pendingOperations).then(()=>(0,U.TS)(ne,N,()=>"replace-arrays"))),J&&J.writtenProperties&&J.writtenProperties.push({target:Q,propName:F,oldOrigin:(0,Z.Wm)(X.store.originOf(F)),newOrigin:J.origin}))}return ne}},85931:(nt,Te,M)=>{"use strict";M.d(Te,{FY:()=>le,Od:()=>ge,SO:()=>N,Tw:()=>B,Vx:()=>W,a9:()=>Y,cq:()=>q,e$:()=>ee,e5:()=>V,fS:()=>R,w6:()=>F,zG:()=>ne});var D=M(62208),T=M(4619);function B(me,Oe){return me.filter(Oe?(oe,de,ve)=>ve.findIndex(Oe.bind(null,oe))===de:(oe,de,ve)=>ve.indexOf(oe)===de)}function R(me,Oe,oe){if((0,D.Wi)(me)&&(0,D.Wi)(Oe))return!0;if((0,D.Wi)(me)||(0,D.Wi)(Oe)||me.length!==Oe.length)return!1;if(oe){for(let de=0;de<me.length;de++)if(!oe(me[de],Oe[de]))return!1}else for(let de=0;de<me.length;de++)if(me[de]!==Oe[de])return!1;return!0}function W(me,Oe){let oe=me.length!==Oe.length;oe&&(me.length=Oe.length);for(let de=0;de<Oe.length;++de)me[de]!==Oe[de]&&(me[de]=Oe[de],oe=!0);return oe}function V(me,Oe,oe){let de,ve;return oe?(de=Oe.filter(De=>!me.some(xe=>oe(xe,De))),ve=me.filter(De=>!Oe.some(xe=>oe(xe,De)))):(de=Oe.filter(De=>!me.includes(De)),ve=me.filter(De=>!Oe.includes(De))),{added:de,removed:ve}}function ne(me){return me&&"number"==typeof me.length}const X=!!Array.prototype.fill;function Y(me,Oe){if(X)return new Array(me).fill(Oe);const oe=new Array(me);for(let de=0;de<me;de++)oe[de]=Oe;return oe}function F(me,Oe){void 0===Oe&&(Oe=me,me=0);const oe=new Array(Oe-me);for(let de=me;de<Oe;de++)oe[de-me]=de;return oe}class N{constructor(){this.last=0}}const z=new N;function q(me,Oe,oe,de){de=de||z;const ve=Math.max(0,de.last-10);for(let xe=ve;xe<oe;++xe)if(me[xe]===Oe)return de.last=xe,xe;const De=Math.min(ve,oe);for(let xe=0;xe<De;++xe)if(me[xe]===Oe)return de.last=xe,xe;return-1}function ee(me,Oe,oe,de){const ve=oe??me.length,De=q(me,Oe,ve,de);if(-1!==De)return me[De]=me[ve-1],null==oe&&me.pop(),Oe}const re=new Set;function le(me,Oe,oe=me.length,de=Oe.length,ve,De){if(0===de||0===oe)return oe;re.clear();for(let Ce=0;Ce<de;++Ce)re.add(Oe[Ce]);ve=ve||z;const xe=Math.max(0,ve.last-10);for(let Ce=xe;Ce<oe;++Ce)if(re.has(me[Ce])&&(De&&De.push(me[Ce]),re.delete(me[Ce]),me[Ce]=me[oe-1],--oe,--Ce,0===re.size||0===oe))return re.clear(),oe;for(let Ce=0;Ce<xe;++Ce)if(re.has(me[Ce])&&(De&&De.push(me[Ce]),re.delete(me[Ce]),me[Ce]=me[oe-1],--oe,--Ce,0===re.size||0===oe))return re.clear(),oe;return re.clear(),oe}function ge(me,Oe){const oe=me.indexOf(Oe);return-1!==oe?(me.splice(oe,1),Oe):null}new T.Z},59213:(nt,Te,M)=>{"use strict";M.d(Te,{Ed:()=>W,UI:()=>V,mt:()=>$,q6:()=>F,vr:()=>q});var D=M(15861),T=M(17626),te=M(14517),Z=M(62208),U=M(10699),ie=M(77712),R=(M(90912),M(85931),M(76898));function W(re,le,_e){return(0,U.as)(re.map((ae,he)=>le.apply(_e,[ae,he])))}function V(re,le,_e){return Q.apply(this,arguments)}function Q(){return(Q=(0,D.Z)(function*(re,le,_e){return(yield(0,U.as)(re.map((ae,he)=>le.apply(_e,[ae,he])))).map(ae=>ae.value)})).apply(this,arguments)}function ne(re){return{ok:!0,value:re}}function J(re){return{ok:!1,error:re}}function F(re){return x.apply(this,arguments)}function x(){return(x=(0,D.Z)(function*(re){if((0,Z.Wi)(re))return{ok:!1,error:new Error("no promise provided")};try{return ne(yield re)}catch(le){return J(le)}})).apply(this,arguments)}function $(re){return N.apply(this,arguments)}function N(){return(N=(0,D.Z)(function*(re){try{return ne(yield re)}catch(le){return(0,U.r9)(le),J(le)}})).apply(this,arguments)}function q(re,le){return new ee(re,le)}let ee=class extends te.Z{get value(){return function X(re){return(0,Z.pC)(re)&&!0===re.ok?re.value:null}(this._result)}get error(){return function Y(re){return(0,Z.pC)(re)&&!1===re.ok?re.error:null}(this._result)}get finished(){return(0,Z.pC)(this._result)}constructor(re,le){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=(0,Z.IM)(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:_e}=this._abortController;this.promise=re(_e),this.promise.then(ae=>{this._result=ne(ae),this._cleanup()},ae=>{this._result=J(ae),this._cleanup()}),this._abortHandle=(0,U.fu)(le,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=(0,Z.hw)(this._abortHandle),this._abortController=null}};(0,T._)([(0,ie.Cb)()],ee.prototype,"value",null),(0,T._)([(0,ie.Cb)()],ee.prototype,"error",null),(0,T._)([(0,ie.Cb)()],ee.prototype,"finished",null),(0,T._)([(0,ie.Cb)()],ee.prototype,"promise",void 0),(0,T._)([(0,ie.Cb)()],ee.prototype,"_result",void 0),ee=(0,T._)([(0,R.j)("esri.core.asyncUtils.ReactiveTask")],ee)},27306:(nt,Te,M)=>{"use strict";function D(V){return 32+V.length}function te(V){if(!V)return 0;let Q=B;for(const ne in V)if(V.hasOwnProperty(ne)){const J=V[ne];switch(typeof J){case"string":Q+=D(J);break;case"number":Q+=16;break;case"boolean":Q+=4}}return Q}function Z(V){if(!V)return 0;if(Array.isArray(V))return function U(V){const Q=V.length;if(0===Q||"number"==typeof V[0])return 32+8*Q;let ne=R;for(let J=0;J<Q;J++)ne+=ie(V[J]);return ne}(V);let Q=B;for(const ne in V)V.hasOwnProperty(ne)&&(Q+=ie(V[ne]));return Q}function ie(V){switch(typeof V){case"object":return Z(V);case"string":return D(V);case"number":return 16;case"boolean":return 4;default:return 8}}function k(V,Q){return R+V.length*Q}M.d(Te,{Ul:()=>Z,Y8:()=>W,do:()=>k,f2:()=>te});const B=32,R=32;var W,V;(V=W||(W={}))[V.KILOBYTES=1024]="KILOBYTES",V[V.MEGABYTES=1048576]="MEGABYTES",V[V.GIGABYTES=1073741824]="GIGABYTES"},84244:(nt,Te,M)=>{"use strict";M.d(Te,{m:()=>T});const T=function D(te){return{setTimeout:(Z,U)=>{const ie=te.setTimeout(Z,U);return{remove:()=>te.clearTimeout(ie)}}}}(globalThis)},89726:(nt,Te,M)=>{"use strict";M.d(Te,{R:()=>te,Z:()=>T});var D=M(74333);function T(U,ie,k=D.Z){return ie||(ie=new k),ie===U||(ie.removeAll(),function Z(U){return U&&(Array.isArray(U)||"items"in U&&Array.isArray(U.items))}(U)?ie.addMany(U):U&&ie.add(U)),ie}function te(U){return U}},78260:(nt,Te,M)=>{"use strict";function T(ae){return"h"in ae&&"s"in ae&&"v"in ae}function te(ae){return"l"in ae&&"a"in ae&&"b"in ae}function Z(ae){return"l"in ae&&"c"in ae&&"h"in ae}M.d(Te,{Y3:()=>ee,_Y:()=>q,sJ:()=>re,xr:()=>z});const ie=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],k=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function B(ae,he){const se=[];let ue,ge;if(ae[0].length!==he.length)throw new Error("dimensions do not match");const be=ae.length,me=ae[0].length;let Oe=0;for(ue=0;ue<be;ue++){for(Oe=0,ge=0;ge<me;ge++)Oe+=ae[ue][ge]*he[ge];se.push(Oe)}return se}function R(ae){const he=[ae.r/255,ae.g/255,ae.b/255].map(ue=>ue<=.04045?ue/12.92:((ue+.055)/1.055)**2.4),se=B(ie,he);return{x:100*se[0],y:100*se[1],z:100*se[2]}}function W(ae){const he=B(k,[ae.x/100,ae.y/100,ae.z/100]).map(se=>Math.min(1,Math.max(se<=.0031308?12.92*se:1.055*se**.4166666666666667-.055,0)));return{r:Math.round(255*he[0]),g:Math.round(255*he[1]),b:Math.round(255*he[2])}}function V(ae){const he=[ae.x/95.047,ae.y/100,ae.z/108.883].map(se=>se>.008856451679035631?se**.3333333333333333:7.787037037037035*se+.13793103448275862);return{l:116*he[1]-16,a:500*(he[0]-he[1]),b:200*(he[1]-he[2])}}function Q(ae){const he=ae.l,se=[(he+16)/116+ae.a/500,(he+16)/116,(he+16)/116-ae.b/200].map(ue=>ue>6/29?ue**3:3*(6/29)**2*(ue-4/29));return{x:95.047*se[0],y:100*se[1],z:108.883*se[2]}}function z(ae){return function D(ae){return"r"in ae&&"g"in ae&&"b"in ae}(ae)?ae:Z(ae)?function x(ae){return W(Q(function J(ae){const se=ae.c,ue=ae.h;return{l:ae.l,a:se*Math.cos(ue),b:se*Math.sin(ue)}}(ae)))}(ae):te(ae)?function Y(ae){return W(Q(ae))}(ae):function U(ae){return"x"in ae&&"y"in ae&&"z"in ae}(ae)?W(ae):T(ae)?function N(ae){const he=(ae.h+360)%360/60,ue=ae.v/100*255,ge=ue*(ae.s/100),be=ge*(1-Math.abs(he%2-1));let me;switch(Math.floor(he)){case 0:me={r:ge,g:be,b:0};break;case 1:me={r:be,g:ge,b:0};break;case 2:me={r:0,g:ge,b:be};break;case 3:me={r:0,g:be,b:ge};break;case 4:me={r:be,g:0,b:ge};break;case 5:case 6:me={r:ge,g:0,b:be};break;default:me={r:0,g:0,b:0}}return me.r=Math.round(me.r+ue-ge),me.g=Math.round(me.g+ue-ge),me.b=Math.round(me.b+ue-ge),me}(ae):ae}function q(ae){return T(ae)?ae:function $(ae){const he=ae.r,se=ae.g,ue=ae.b,ge=Math.max(he,se,ue),be=ge-Math.min(he,se,ue);let me=ge,Oe=0===be?0:ge===he?(se-ue)/be%6:ge===se?(ue-he)/be+2:(he-se)/be+4,oe=0===be?0:be/me;return Oe<0&&(Oe+=6),Oe*=60,oe*=100,me*=100/255,{h:Oe,s:oe,v:me}}(z(ae))}function ee(ae){return te(ae)?ae:function X(ae){return V(R(ae))}(z(ae))}function re(ae){return Z(ae)?ae:function F(ae){return function ne(ae){const he=ae.l,se=ae.a,ue=ae.b,ge=Math.sqrt(se*se+ue*ue);let be=Math.atan2(ue,se);return be=be>0?be:be+2*Math.PI,{l:he,c:ge,h:be}}(V(R(ae)))}(z(ae))}},94573:(nt,Te,M)=>{"use strict";function T(U){}function Z(U){return()=>U}M.d(Te,{Bg:()=>T,sM:()=>Z}),M(8314)},55538:(nt,Te,M)=>{"use strict";M.d(Te,{Mr:()=>ie,x9:()=>k});var D=M(8314);const T=new Set;function ie(B,R,W={}){if((0,D.Z)("esri-deprecation-warnings")){const{moduleName:V}=W;k(B,"Property: "+(V?V+"::":"")+R,W)}}function k(B,R,W={}){if((0,D.Z)("esri-deprecation-warnings")){const{replacement:V,version:Q,see:ne,warnOnce:J}=W;let X=R;V&&(X+=`\n\t\u{1f6e0}\ufe0f Replacement: ${V}`),Q&&(X+=`\n\t\u2699\ufe0f Version: ${Q}`),ne&&(X+=`\n\t\u{1f517} See ${ne} for more details.`),function te(B,R,W=!1){W&&T.has(R)||(W&&T.add(R),B.warn(`\u{1f6d1} DEPRECATED - ${R}`))}(B,X,J)}}},83100:(nt,Te,M)=>{"use strict";function D(R){return R=R||globalThis.location.hostname,B.some(W=>null!=R?.match(W))}function T(R,W){return R&&(W=W||globalThis.location.hostname)?null!=W.match(Z)||null!=W.match(ie)?R.replace("static.arcgis.com","staticdev.arcgis.com"):null!=W.match(U)||null!=W.match(k)?R.replace("static.arcgis.com","staticqa.arcgis.com"):R:R}M.d(Te,{XO:()=>D,pJ:()=>T});const Z=/^devext.arcgis.com$/,U=/^qaext.arcgis.com$/,ie=/^[\w-]*\.mapsdevext.arcgis.com$/,k=/^[\w-]*\.mapsqa.arcgis.com$/,B=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,Z,U,/^jsapps.esri.com$/,ie,k]},40764:(nt,Te,M)=>{"use strict";function D(B){return"string"==typeof B?document.getElementById(B):B??null}function T(B){for(;B.hasChildNodes();)B.removeChild(B.firstChild)}function Z(B,R){const W=R.parentNode;W&&W.insertBefore(B,R)}function U(B,R){for(;;){const W=B.firstChild;if(!W)break;R.appendChild(W)}}M.d(Te,{L7:()=>D,Vt:()=>Z,YD:()=>U,cS:()=>T}),(()=>{if("function"==typeof Element.prototype.closest)return(R,W)=>R.closest(W);Element.prototype.matches||Element})()},17770:(nt,Te,M)=>{"use strict";function D(k){return k&&("function"==typeof k.on||"function"==typeof k.addEventListener)}function T(k,B,R){if(!D(k))throw new TypeError("target is not a Evented or EventTarget object");if("on"in k)return k.on(B,R);if(Array.isArray(B)){const W=B.slice();for(const V of W)k.addEventListener(V,R);return{remove(){for(const V of W)k.removeEventListener(V,R)}}}return k.addEventListener(B,R),{remove(){k.removeEventListener(B,R)}}}function te(k,B,R){if(!D(k))throw new TypeError("target is not a Evented or EventTarget object");if("once"in k)return k.once(B,R);const W=T(k,B,V=>{W.remove(),R.call(k,V)});return{remove(){W.remove()}}}M.d(Te,{IH:()=>te,kK:()=>ie,on:()=>T,vT:()=>D});const U={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function ie({key:k}){return U[k]||k}},54024:(nt,Te,M)=>{"use strict";M.d(Te,{AL:()=>T,kB:()=>te});var D=M(62208);function T(B){return te(()=>B.forEach(R=>(0,D.pC)(R)&&R.remove()))}function te(B){return{remove:()=>{B&&(B(),B=void 0)}}}},8314:(nt,Te,M)=>{"use strict";let D;function T(te){return"function"==typeof D[te]?D[te]=D[te](globalThis):D[te]}M.d(Te,{Z:()=>T}),D=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},T.add=(te,Z,U,ie)=>((ie||void 0===D[te])&&(D[te]=Z),U&&T(te)),T.cache=D,T.add("esri-deprecation-warnings",!0),(()=>{T.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const te=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(T.add("host-browser",te),T.add("host-node","object"==typeof globalThis.process&&globalThis.process.versions?.node&&globalThis.process.versions.v8),T.add("dom",te),T("host-browser")){const Z=navigator,U=Z.userAgent,ie=Z.appVersion,k=parseFloat(ie);if(T.add("wp",parseFloat(U.split("Windows Phone")[1])||void 0),T.add("msapp",parseFloat(U.split("MSAppHost/")[1])||void 0),T.add("khtml",ie.includes("Konqueror")?k:void 0),T.add("edge",parseFloat(U.split("Edge/")[1])||void 0),T.add("opr",parseFloat(U.split("OPR/")[1])||void 0),T.add("webkit",!T("wp")&&!T("edge")&&parseFloat(U.split("WebKit/")[1])||void 0),T.add("chrome",!T("edge")&&!T("opr")&&parseFloat(U.split("Chrome/")[1])||void 0),T.add("android",!T("wp")&&parseFloat(U.split("Android ")[1])||void 0),T.add("safari",!ie.includes("Safari")||T("wp")||T("chrome")||T("android")||T("edge")||T("opr")?void 0:parseFloat(ie.split("Version/")[1])),T.add("mac",ie.includes("Macintosh")),!T("wp")&&U.match(/(iPhone|iPod|iPad)/)){const B=RegExp.$1.replace(/P/,"p"),R=U.match(/OS ([\d_]+)/)?RegExp.$1:"1",W=parseFloat(R.replace(/_/,".").replace(/_/g,""));T.add(B,W),T.add("ios",W)}T("webkit")||(!U.includes("Gecko")||T("wp")||T("khtml")||T("edge")||T.add("mozilla",k),T("mozilla")&&T.add("ff",parseFloat(U.split("Firefox/")[1]||U.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const te=navigator.userAgent,Z=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(te),U=/iPhone/i.test(te);Z&&T.add("esri-mobile",Z),U&&T.add("esri-iPhone",U),T.add("esri-geolocation",!!navigator.geolocation)}T.add("esri-wasm","WebAssembly"in globalThis),T.add("esri-shared-array-buffer",()=>{const te="SharedArrayBuffer"in globalThis,Z=!1===globalThis.crossOriginIsolated;return te&&!Z}),T.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]))),T.add("esri-atomics","Atomics"in globalThis),T.add("esri-workers","Worker"in globalThis),T.add("web-feat:cache","caches"in globalThis),T.add("esri-workers-arraybuffer-transfer",!T("safari")||Number(T("safari"))>=12),T.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),T.add("featurelayer-simplify-payload-size-factors",[1,1,4]),T.add("featurelayer-snapshot-enabled",!0),T.add("featurelayer-snapshot-point-min-threshold",8e4),T.add("featurelayer-snapshot-point-max-threshold",4e5),T.add("featurelayer-snapshot-point-coverage",.1),T.add("featurelayer-advanced-symbols",!1),T.add("featurelayer-pbf",!0),T.add("featurelayer-pbf-statistics",!1),T.add("feature-layers-workers",!0),T.add("feature-polyline-generalization-factor",1),T.add("mapview-transitions-duration",200),T.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),T.add("mapserver-pbf-version-support",10.81),T.add("mapservice-popup-identify-max-tolerance",20),T.add("heatmap-allow-raster-fallback",!0),T.add("heatmap-force-raster",!1),T("host-webworker")||T("host-browser")&&(T.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),T.add("esri-image-decode",()=>{if("decode"in new Image){const te=new Image;return te.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void te.decode().then(()=>{T.add("esri-image-decode",!0,!0,!0)}).catch(()=>{T.add("esri-image-decode",!1,!0,!0)})}return!1}),T.add("esri-url-encodes-apostrophe",()=>{const te=window.document.createElement("a");return te.href="?'",te.href.includes("?%27")}))})()},56354:(nt,Te,M)=>{"use strict";function D(Z){const U=[];return function*(){yield*U;for(const ie of Z)U.push(ie),yield ie}}function T(Z,U){for(const ie of Z)if(null!=ie&&U(ie))return ie}function te(Z){return null!=Z&&"function"==typeof Z[Symbol.iterator]}M.d(Te,{Fs:()=>D,TW:()=>te,sE:()=>T})},2076:(nt,Te,M)=>{"use strict";M.d(Te,{X:()=>T,w:()=>te});var D=M(94113);class T{constructor(U,ie={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=U,this._options=ie,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(U),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=k=>this.fromJSON(k),this.write=(k,B,R)=>{const W=this.toJSON(k);void 0!==W&&(0,D.RB)(R,W,B)},this.write.isJSONMapWriter=!0}toJSON(U){if(null==U)return null;if(this._apiToJSON.hasOwnProperty(U)){const ie=this._apiToJSON[U];return this._options.useNumericKeys?+ie:ie}return this._options.ignoreUnknown?void 0:U}fromJSON(U){return null!=U&&this._jsonToAPI.hasOwnProperty(U)?this._jsonToAPI[U]:this._options.ignoreUnknown?void 0:U}_invertMap(U){const ie={};for(const k in U)ie[U[k]]=k;return ie}_getKeysSorted(U){const ie=[];for(const k in U)ie.push(k);return ie.sort(),ie}}function te(){return function(Z,U){return new T(Z,{ignoreUnknown:!0,...U})}}},58817:(nt,Te,M)=>{"use strict";M.d(Te,{Vo:()=>ie,d9:()=>U,fS:()=>Q,y7:()=>ne,yd:()=>Z});var D=M(85931),T=M(62208),te=M(55713);function Z(F,x){let $;if(x)for($ in F)F.hasOwnProperty($)&&(void 0===F[$]?delete F[$]:F[$]instanceof Object&&Z(F[$],!0));else for($ in F)F.hasOwnProperty($)&&void 0===F[$]&&delete F[$];return F}function U(F){if(!F||"object"!=typeof F||"function"==typeof F)return F;const x=V(F);if((0,T.pC)(x))return x;if(k(F))return F.clone();if(B(F))return F.map(U);if(R(F))return F.clone();const $={};for(const N of Object.getOwnPropertyNames(F))$[N]=U(F[N]);return $}function ie(F){if(!F||"object"!=typeof F||"function"==typeof F||"HTMLElement"in globalThis&&F instanceof HTMLElement)return F;const x=V(F);if((0,T.pC)(x))return x;if(B(F)){let $=!0;const N=F.map(z=>{const q=ie(z);return null!=z&&null==q&&($=!1),q});return $?N:null}if(k(F))return F.clone();if(!R(F)){const $=new(Object.getPrototypeOf(F).constructor);for(const N of Object.getOwnPropertyNames(F)){const z=F[N],q=ie(z);if(null!=z&&null==q)return null;$[N]=q}return $}return null}function k(F){return"function"==typeof F.clone}function B(F){return"function"==typeof F.map&&"function"==typeof F.forEach}function R(F){return"function"==typeof F.notifyChange&&"function"==typeof F.watch}function W(F){if("[object Object]"!==Object.prototype.toString.call(F))return!1;const x=Object.getPrototypeOf(F);return null===x||x===Object.prototype}function V(F){if((0,te.W0)(F)||(0,te.lq)(F)||(0,te.KZ)(F)||(0,te.z3)(F)||(0,te.Uc)(F)||(0,te.Hx)(F)||(0,te.ZY)(F)||(0,te.xZ)(F)||(0,te.fS)(F))return F.slice();if(F instanceof Date)return new Date(F.getTime());if(F instanceof ArrayBuffer)return F.slice(0,F.byteLength);if(F instanceof Map){const x=new Map;for(const[$,N]of F)x.set($,U(N));return x}if(F instanceof Set){const x=new Set;for(const $ of F)x.add(U($));return x}return null}function Q(F,x){return F===x||"number"==typeof F&&isNaN(F)&&"number"==typeof x&&isNaN(x)||"function"==typeof(F||{}).getTime&&"function"==typeof(x||{}).getTime&&F.getTime()===x.getTime()||!1}function ne(F,x){return F===x||(null==F||"string"==typeof F?F===x:"number"==typeof F?F===x||"number"==typeof x&&isNaN(F)&&isNaN(x):F instanceof Date?x instanceof Date&&F.getTime()===x.getTime():Array.isArray(F)?Array.isArray(x)&&(0,D.fS)(F,x):F instanceof Set?x instanceof Set&&function X(F,x){if(F.size!==x.size)return!1;for(const $ of F)if(!x.has($))return!1;return!0}(F,x):F instanceof Map?x instanceof Map&&function Y(F,x){if(F.size!==x.size)return!1;for(const[$,N]of F){const z=x.get($);if(z!==N||void 0===z&&!x.has($))return!1}return!0}(F,x):!!W(F)&&W(x)&&function J(F,x){if(null===F||null===x)return!1;const $=Object.keys(F);if(null===x||Object.keys(x).length!==$.length)return!1;for(const N of $)if(F[N]!==x[N]||!Object.prototype.hasOwnProperty.call(x,N))return!1;return!0}(F,x))}},47877:(nt,Te,M)=>{"use strict";M.d(Te,{G:()=>ie,w:()=>B});var D=M(15861),T=M(59213),te=M(74333),Z=M(47996),U=M(62208);function ie(V,Q){return k.apply(this,arguments)}function k(){return(k=(0,D.Z)(function*(V,Q){return yield V.load(),B(V,Q)})).apply(this,arguments)}function B(V,Q){return R.apply(this,arguments)}function R(){return R=(0,D.Z)(function*(V,Q){const ne=[],J=(...Y)=>{for(const F of Y)(0,U.Wi)(F)||(Array.isArray(F)?J(...F):te.Z.isCollection(F)?F.forEach(x=>J(x)):Z.Z.isLoadable(F)&&ne.push(F))};Q(J);let X=null;if(yield(0,T.UI)(ne,function(){var Y=(0,D.Z)(function*(F){const x=yield(0,T.q6)(function W(V){return"loadAll"in V&&"function"==typeof V.loadAll}(F)?F.loadAll():F.load());!1!==x.ok||X||(X=x)});return function(F){return Y.apply(this,arguments)}}()),X)throw X.error;return V}),R.apply(this,arguments)}},21286:(nt,Te,M)=>{"use strict";M.d(Te,{BV:()=>ne,Kt:()=>Y,Sf:()=>Z,Vl:()=>Q,ZF:()=>X,_3:()=>Oe,fp:()=>B,jE:()=>ue,oK:()=>_e,oc:()=>me,t7:()=>W,uZ:()=>U,wt:()=>k});var D=M(84161);M(993);const te=new Float32Array(1);function Z(oe){--oe;for(let de=1;de<32;de<<=1)oe|=oe>>de;return oe+1}function U(oe,de,ve){return Math.min(Math.max(oe,de),ve)}function k(oe){return 0==(oe&oe-1)}function B(oe){return oe--,oe|=oe>>1,oe|=oe>>2,oe|=oe>>4,oe|=oe>>8,oe|=oe>>16,++oe}function W(oe,de,ve){return oe+(de-oe)*ve}function Q(oe){return oe*Math.PI/180}function ne(oe){return 180*oe/Math.PI}function X(oe){return Math.acos(U(oe,-1,1))}function Y(oe){return Math.asin(U(oe,-1,1))}function F(oe,de,ve=1e-6){return oe===de||!(!Number.isFinite(oe)||!Number.isFinite(de))&&(oe>de?oe-de:de-oe)<=ve}const x=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));const z=BigInt("1000000");function _e(oe){return ae(Math.max(-Oe,Math.min(oe,Oe)))}function ae(oe){return te[0]=oe,te[0]}function ue(oe,de){const ve=(0,D.l)(oe),De=Y(oe[2]/ve),xe=Math.atan2(oe[1]/ve,oe[0]/ve);return(0,D.s)(de,ve,De,xe),de}function me(oe){const ve=oe[3]*oe[3]+oe[4]*oe[4]+oe[5]*oe[5],De=oe[6]*oe[6]+oe[7]*oe[7]+oe[8]*oe[8];return!(F(oe[0]*oe[0]+oe[1]*oe[1]+oe[2]*oe[2],1)&&F(ve,1)&&F(De,1))}!function ee(oe){const de=function $(oe){return x.setFloat64(0,oe),x.getBigInt64(0)}(oe=Math.abs(oe)),ve=function N(oe){return x.setBigInt64(0,oe),x.getFloat64(0)}(de<=z?z:de-z);return Math.abs(oe-ve)}(1);const Oe=ae(34028234663852886e22)},62208:(nt,Te,M)=>{"use strict";M.d(Te,{Fd:()=>N,IM:()=>X,JR:()=>z,M2:()=>ne,O3:()=>R,Pt:()=>W,R2:()=>q,RY:()=>Y,SC:()=>Q,U2:()=>le,Wg:()=>ie,Wi:()=>te,_W:()=>F,hw:()=>J,j0:()=>_e,lV:()=>re,pC:()=>T,s3:()=>B,wN:()=>x,yl:()=>V,yw:()=>U});const D=null;function T(ae){return null!=ae}function te(ae){return null==ae}function U(ae,he){return T(ae)?he(ae):D}function ie(ae){return ae}function B(ae,he){return R(ae,he),ae}function R(ae,he){if(te(ae))throw new Error(he??"value is None")}function W(ae,he){return T(ae)?ae:"function"==typeof he?he():he}function V(ae,he){return T(ae)?ae:he}function Q(ae){return T(ae)&&ae.destroy(),null}function ne(ae){return T(ae)&&ae.dispose(),null}function J(ae){return T(ae)&&ae.remove(),null}function X(ae){return T(ae)&&ae.abort(),null}function Y(ae){return T(ae)&&ae.release(),null}function F(ae,he,se){return T(ae)&&T(he)?T(se)?se(ae,he):ae.equals(he):ae===he}function x(ae){return null}function N(ae,he){const se=new Array;for(const ue of ae)se.push(q(ue,null,he));return se}function z(ae,he){for(const se of ae)U(se,he)}function q(ae,he,se){return T(ae)?se(ae):he}function re(ae){return ae.filter(he=>T(he))}function le(ae,...he){let se=ae;for(let ue=0;ue<he.length&&se;++ue)se=se[he[ue]];return se}function _e(ae){return ae}},22558:(nt,Te,M)=>{"use strict";function D(T){return T&&"getAtOrigin"in T&&"originOf"in T}M.d(Te,{l:()=>D})},79682:(nt,Te,M)=>{"use strict";M.d(Te,{Y:()=>T});const D=[];function T(te){D.push(te),1===D.length&&queueMicrotask(()=>{const Z=D.slice();D.length=0;for(const U of Z)U()})}},94113:(nt,Te,M)=>{"use strict";M.d(Te,{RB:()=>Z,RH:()=>T,hS:()=>te});var D=M(58817);function T(k,B,R=!1){return ie(k,B,R)}function te(k,B){if(null!=B)return B[k]||U(k.split("."),!1,B)}function Z(k,B,R){const W=k.split("."),V=W.pop(),Q=U(W,!0,R);Q&&V&&(Q[V]=B)}function U(k,B,R){let W=R;for(const V of k){if(null==W)return;if(!(V in W)){if(!B)return;W[V]={}}W=W[V]}return W}function ie(k,B,R){return B?Object.keys(B).reduce((W,V)=>{let Q=W[V],ne=B[V];return Q===ne?W:void 0===Q?(W[V]=(0,D.d9)(ne),W):(Array.isArray(ne)||Array.isArray(W)?(Q=W[V]=Q?Array.isArray(Q)?Q.concat():[Q]:[],ne&&(Array.isArray(ne)||(ne=[ne]),R?ne.forEach(J=>{Q.includes(J)||Q.push(J)}):W[V]=ne.concat())):ne&&"object"==typeof ne?W[V]=ie(Q,ne,R):W.hasOwnProperty(V)&&!B.hasOwnProperty(V)||(W[V]=ne),W)},k||{}):k}},24192:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>k});var te,B,D=M(8314),T=M(27899);(B=te||(te={}))[B.varint=0]="varint",B[B.fixed64=1]="fixed64",B[B.delimited=2]="delimited",B[B.fixed32=5]="fixed32",B[B.unknown=99]="unknown";const Z=4294967296,U=new TextDecoder("utf-8"),ie=(0,D.Z)("safari")||(0,D.Z)("ios")?6:(0,D.Z)("ff")?12:32;class k{constructor(R,W,V=0,Q=(R?R.byteLength:0)){this._tag=0,this._dataType=te.unknown,this._init(R,W,V,Q)}_init(R,W,V,Q){this._data=R,this._dataView=W,this._pos=V,this._end=Q}asUnsafe(){return this}clone(){return new k(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(R){this._pos=R}nextTag(R){for(;;){if(this._pos===this._end)return!1;const W=this._decodeVarint();if(this._tag=W>>3,this._dataType=7&W,!R||R===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const R=this._decodeVarint();return this._tag=R>>3,this._dataType=7&R,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let R=4294967295;return R=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?R:(R=(R|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?R:(R=(R|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?R:(R=(R|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?R:(R=(R|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?R:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const R=this.getUInt32();if(void 0!==R)return R>>>1^-(1&R)|0}getSInt64(){return this._decodeSVarint()}getBool(){const R=0!==this._data[this._pos];return this._skip(1),R}getEnum(){return this._decodeVarint()}getFixed64(){const R=this._dataView,W=this._pos,V=R.getUint32(W,!0)+R.getUint32(W+4,!0)*Z;return this._skip(8),V}getSFixed64(){const R=this._dataView,W=this._pos,V=R.getUint32(W,!0)+R.getInt32(W+4,!0)*Z;return this._skip(8),V}getDouble(){const R=this._dataView.getFloat64(this._pos,!0);return this._skip(8),R}getFixed32(){const R=this._dataView.getUint32(this._pos,!0);return this._skip(4),R}getSFixed32(){const R=this._dataView.getInt32(this._pos,!0);return this._skip(4),R}getFloat(){const R=this._dataView.getFloat32(this._pos,!0);return this._skip(4),R}getString(){const R=this._getLength(),W=this._pos,V=this._toString(this._data,W,W+R);return this._skip(R),V}getBytes(){const R=this._getLength(),W=this._pos,V=this._toBytes(this._data,W,W+R);return this._skip(R),V}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(R,W,V,Q){const ne=this.getMessage(),J=R(ne,W,V,Q);return ne.release(),J}processMessage(R){const W=this.getMessage(),V=R(W);return W.release(),V}getMessage(){const R=this._getLength(),W=k.pool.acquire();return W._init(this._data,this._dataView,this._pos,this._pos+R),this._skip(R),W}release(){k.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case te.varint:this._decodeVarint();break;case te.fixed64:this._skip(8);break;case te.delimited:this._skip(this._getLength());break;case te.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(R){this._skip(R)}_skip(R){if(this._pos+R>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=R}_decodeVarint(){const R=this._data;let W=this._pos,V=0,Q=0;if(this._end-W>=10)do{if(Q=R[W++],V|=127&Q,0==(128&Q)||(Q=R[W++],V|=(127&Q)<<7,0==(128&Q))||(Q=R[W++],V|=(127&Q)<<14,0==(128&Q))||(Q=R[W++],V|=(127&Q)<<21,0==(128&Q))||(Q=R[W++],V+=268435456*(127&Q),0==(128&Q))||(Q=R[W++],V+=34359738368*(127&Q),0==(128&Q))||(Q=R[W++],V+=4398046511104*(127&Q),0==(128&Q))||(Q=R[W++],V+=562949953421312*(127&Q),0==(128&Q))||(Q=R[W++],V+=72057594037927940*(127&Q),0==(128&Q))||(Q=R[W++],V+=0x8000000000000000*(127&Q),0==(128&Q)))break;throw new Error("Varint too long!")}while(0);else{let ne=1;for(;W!==this._end&&(Q=R[W],0!=(128&Q));)++W,V+=(127&Q)*ne,ne*=128;if(W===this._end)throw new Error("Varint overrun!");++W,V+=Q*ne}return this._pos=W,V}_decodeSVarint(){const R=this._data;let W=this._pos,V=0,Q=0;const ne=1&R[W];if(this._end-W>=10)do{if(Q=R[W++],V|=127&Q,0==(128&Q)||(Q=R[W++],V|=(127&Q)<<7,0==(128&Q))||(Q=R[W++],V|=(127&Q)<<14,0==(128&Q))||(Q=R[W++],V|=(127&Q)<<21,0==(128&Q))||(Q=R[W++],V+=268435456*(127&Q),0==(128&Q))||(Q=R[W++],V+=34359738368*(127&Q),0==(128&Q))||(Q=R[W++],V+=4398046511104*(127&Q),0==(128&Q))||(Q=R[W++],V+=562949953421312*(127&Q),0==(128&Q))||(Q=R[W++],V+=72057594037927940*(127&Q),0==(128&Q))||(Q=R[W++],V+=0x8000000000000000*(127&Q),0==(128&Q)))break;throw new Error("Varint too long!")}while(0);else{let J=1;for(;W!==this._end&&(Q=R[W],0!=(128&Q));)++W,V+=(127&Q)*J,J*=128;if(W===this._end)throw new Error("Varint overrun!");++W,V+=Q*J}return this._pos=W,ne?-(V+1)/2:V/2}_getLength(){if(this._dataType!==te.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(R,W,V){if((V=Math.min(this._end,V))-W>ie){const J=R.subarray(W,V);return U.decode(J)}let Q="",ne="";for(let J=W;J<V;++J){const X=R[J];128&X?ne+="%"+X.toString(16):(Q+=decodeURIComponent(ne)+String.fromCharCode(X),ne="")}return ne.length&&(Q+=decodeURIComponent(ne)),Q}_toBytes(R,W,V){return V=Math.min(this._end,V),new Uint8Array(R.buffer,W,V-W)}}k.pool=new T.Z(k,void 0,B=>{B._data=null,B._dataView=null})},10699:(nt,Te,M)=>{"use strict";M.d(Te,{$F:()=>x,D_:()=>z,Ds:()=>oe,H9:()=>Y,Hc:()=>J,Hl:()=>$,R8:()=>q,WW:()=>se,Yn:()=>De,as:()=>ae,dD:()=>_e,e4:()=>ge,fu:()=>F,gx:()=>Oe,hh:()=>de,k_:()=>Q,r9:()=>X,y8:()=>me,zE:()=>V});var D=M(15861),T=M(84244),Z=(M(55538),M(26584)),U=M(17770),k=(M(63290),M(62208));function V(Ce="Aborted"){return new Z.Z("AbortError",Ce)}function Q(Ce,Re="Aborted"){if(J(Ce))throw V(Re)}function ne(Ce){return(0,k.pC)(Ce)?"aborted"in Ce?Ce:Ce.signal:Ce}function J(Ce){const Re=ne(Ce);return(0,k.pC)(Re)&&Re.aborted}function X(Ce){if(z(Ce))throw Ce}function Y(Ce){if(!z(Ce))throw Ce}function F(Ce,Re){const we=ne(Ce);if(!(0,k.Wi)(we)){if(!we.aborted)return(0,U.IH)(we,"abort",()=>Re());Re()}}function x(Ce,Re){const we=ne(Ce);if(!(0,k.Wi)(we))return Q(we),(0,U.IH)(we,"abort",()=>Re(V()))}function $(Ce,Re){const we=ne(Re);return(0,k.Wi)(we)?Ce:new Promise((Me,fe)=>{let ye=F(Re,()=>fe(V()));const je=()=>ye=(0,k.hw)(ye);Ce.then(je,je),Ce.then(Me,fe)})}function z(Ce){return"AbortError"===Ce?.name}function q(Ce){return ee.apply(this,arguments)}function ee(){return(ee=(0,D.Z)(function*(Ce){try{return yield Ce}catch(Re){if(!z(Re))throw Re;return}})).apply(this,arguments)}function _e(){let Ce=null;const Re=new Promise((we,Me)=>{Ce={promise:void 0,resolve:we,reject:Me}});return Ce.promise=Re,Ce}function ae(Ce){return he.apply(this,arguments)}function he(){return(he=(0,D.Z)(function*(Ce){if(!Ce)return;if("function"!=typeof Ce.forEach){const we=Object.keys(Ce),Me=we.map(je=>Ce[je]),fe=yield ae(Me),ye={};return we.map((je,Je)=>ye[je]=fe[Je]),ye}const Re=Ce;return new Promise(we=>{const Me=[];let fe=Re.length;0===fe&&we(Me),Re.forEach(ye=>{const je={promise:ye||Promise.resolve(ye)};Me.push(je),je.promise.then(Je=>{je.value=Je}).catch(Je=>{je.error=Je}).then(()=>{--fe,0===fe&&we(Me)})})})})).apply(this,arguments)}function se(Ce){return ue.apply(this,arguments)}function ue(){return(ue=(0,D.Z)(function*(Ce){return(yield ae(Ce)).filter(Re=>!!Re.value).map(Re=>Re.value)})).apply(this,arguments)}function ge(Ce,Re,we){const Me=new AbortController;return F(we,()=>Me.abort()),new Promise((fe,ye)=>{let je=setTimeout(()=>{je=0,fe(Re)},Ce);F(Me,()=>{je&&(clearTimeout(je),ye(V()))})})}function me(Ce){return Ce&&"function"==typeof Ce.then}function Oe(Ce){return me(Ce)?Ce:Promise.resolve(Ce)}function oe(Ce,Re=-1){let we,Me,fe,ye,je=null;const Je=(...Ie)=>{if(we){Me=Ie,ye&&ye.reject(V()),ye=_e();const ce=(0,k.j0)(ye.promise);if(je){const Se=je;je=null,Se.abort()}return ce}if(fe=ye||_e(),ye=null,Re>0){const ce=new AbortController;we=Oe(Ce(...Ie,ce.signal));const Se=we;ge(Re).then(()=>{we===Se&&(ye?ce.abort():je=ce)})}else we=1,we=Oe(Ce(...Ie));const Le=()=>{const ce=Me;Me=fe=we=je=null,null!=ce&&Je(...ce)},Ve=we,st=fe;return Ve.then(Le,Le),Ve.then(st.resolve,st.reject),(0,k.j0)(st.promise)};return Je}function de(){let Ce,Re;const we=new Promise((fe,ye)=>{Ce=fe,Re=ye}),Me=fe=>{Ce(fe)};return Me.resolve=fe=>Ce(fe),Me.reject=fe=>Re(fe),Me.timeout=(fe,ye)=>T.m.setTimeout(()=>Me.reject(ye),fe),Me.promise=we,Me}function De(Ce){return xe.apply(this,arguments)}function xe(){return(xe=(0,D.Z)(function*(Ce){yield Promise.resolve(),Q(Ce)})).apply(this,arguments)}},32917:(nt,Te,M)=>{"use strict";M.d(Te,{N1:()=>Q,YP:()=>k,Z_:()=>F,gx:()=>B,nn:()=>x,on:()=>W,tX:()=>$});var D=M(17770),T=M(54024),te=M(62208),Z=M(10699),U=M(61972);function k(N,z,q={}){return R(N,z,q,J)}function B(N,z,q={}){return R(N,z,q,X)}function R(N,z,q={},ee){let re=null;const le=q.once?(_e,ae)=>{ee(_e)&&((0,te.hw)(re),z(_e,ae))}:(_e,ae)=>{ee(_e)&&z(_e,ae)};if(re=(0,U.aQ)(N,le,q.sync,q.equals),q.initial){const _e=N();le(_e,_e)}return re}function W(N,z,q,ee={}){let re=null,le=null,_e=null;function ae(){re&&le&&(le.remove(),ee.onListenerRemove?.(re),re=null,le=null)}function he(ue){ee.once&&ee.once&&(0,te.hw)(_e),q(ue)}const se=k(N,(ue,ge)=>{ae(),(0,D.vT)(ue)&&(re=ue,le=(0,D.on)(ue,z,he),ee.onListenerAdd?.(ue))},{sync:ee.sync,initial:!0});return _e=(0,T.kB)(()=>{se.remove(),ae()}),_e}function Q(N,z){return function ne(N,z,q){if((0,Z.Hc)(q))return Promise.reject((0,Z.zE)());const ee=N();if(z?.(ee))return Promise.resolve(ee);let re=null;function le(){re=(0,te.hw)(re)}return new Promise((_e,ae)=>{re=(0,T.AL)([(0,Z.fu)(q,()=>{le(),ae((0,Z.zE)())}),R(N,he=>{le(),_e(he)},{sync:!1,once:!0},z??J)])})}(N,X,z)}function J(N){return!0}function X(N){return!!N}M(21352);const F={sync:!0},x={initial:!0},$={sync:!0,initial:!0}},50618:(nt,Te,M)=>{"use strict";M.d(Te,{A:()=>x,MU:()=>ae,Os:()=>F});var D=M(62208),T=M(79682),te=M(73362),Z=M(77029),U=M(10699),ie=M(27422);class k{constructor(be){this.phases=be,this.paused=!1,this.ticks=-1,this.removed=!1}}class B{constructor(be){this.callback=be,this.isActive=!0}remove(){this.isActive=!1}}let R=0;const V={time:(0,ie.HA)(0),deltaTime:(0,ie.HA)(0),elapsedFrameTime:(0,ie.HA)(0),frameDuration:(0,ie.HA)(0)},Q=["prepare","preRender","render","postRender","update","finish"],ne=[],J=new Z.Z;class X{constructor(be){this._task=be}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const Y={frameTasks:J,willDispatch:!1,clearFrameTasks:function N(ge=!1){J.forAll(be=>{be.removed=!0}),ge&&le()},dispatch:_e,executeFrameTasks:function ee(ge){const be=(0,ie.HA)(ge-R);R=ge;const me=1e3/60,Oe=Math.max(0,be-me);V.time=ge,V.frameDuration=(0,ie.HA)(me-Oe);for(let oe=0;oe<Q.length;oe++){const de=performance.now(),ve=Q[oe];J.forAll(De=>{De.paused||De.removed||(0===oe&&De.ticks++,De.phases[ve]&&(V.elapsedFrameTime=(0,ie.HA)(performance.now()-ge),V.deltaTime=0===De.ticks?(0,ie.HA)(0):be,De.phases[ve]?.call(De,V)))}),se[oe].record(performance.now()-de)}le(),ue.record(performance.now()-ge)}};function F(ge){const be=new B(ge);return ne.push(be),Y.willDispatch||(Y.willDispatch=!0,(0,T.Y)(_e)),be}function x(ge){const be=new k(ge);return J.push(be),null==$&&(R=performance.now(),$=requestAnimationFrame(q)),new X(be)}let $=null;function q(){const ge=performance.now();$=null,$=J.length>0?requestAnimationFrame(q):null,Y.executeFrameTasks(ge)}const re=new Z.Z;function le(){J.forAll(ge=>{ge.removed&&re.push(ge)}),J.removeUnorderedMany(re.data,re.length),re.clear()}function _e(){for(;ne.length;){const ge=(0,D.j0)(ne.shift());ge.isActive&&ge.callback()}Y.willDispatch=!1}function ae(ge=1,be){const me=(0,U.hh)(),Oe=()=>{(0,U.Hc)(be)?me.reject((0,U.zE)()):0===ge?me():(--ge,(0,T.Y)(()=>Oe()))};return Oe(),me.promise}const se=Q.map(ge=>new te.Z(ge)),ue=new te.Z("total")},23841:(nt,Te,M)=>{"use strict";M.d(Te,{F2:()=>Z,Wz:()=>U,s1:()=>B,t_:()=>ie,vW:()=>k});const D=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,T="screenUtils.toPt: input not recognized!",te=96;function Z(F){return F?F/72*te:0}function U(F){return F?72*F/te:0}function ie(F){if("string"==typeof F){const x=F.match(D);if(x){const $=Number(x[1]),N=x[3]&&x[3].toLowerCase(),z="-"===F.charAt(0),q="px"===N?U($):$;return z?-q:q}return console.warn(T),null}return F}function k(F=0,x=0){return{x:F,y:x}}function B(F=0,x=0){return[F,x]}},95737:(nt,Te,M)=>{"use strict";M.d(Te,{E:()=>te,_:()=>U});var D=M(15861),T=M(62208);function te(ie,k){return Z.apply(this,arguments)}function Z(){return(Z=(0,D.Z)(function*(ie,k){const{WhereClause:B}=yield Promise.all([M.e(410),M.e(5919)]).then(M.bind(M,10410));return B.create(ie,k)})).apply(this,arguments)}function U(ie,k){return(0,T.pC)(ie)?(0,T.pC)(k)?`(${ie}) AND (${k})`:ie:k}},77275:(nt,Te,M)=>{"use strict";M.d(Te,{Cb:()=>k,Qs:()=>U,gx:()=>Z,hP:()=>ie});var D=M(94113);const T=/\{([^\}]+)\}/g;function te(R){return R??""}function Z(R,W){return R.replace(T,"object"==typeof W?(V,Q)=>te((0,D.hS)(Q,W)):(V,Q)=>te(W(Q)))}function U(R,W){return R.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,V=>W&&W.includes(V)?V:`\\${V}`)}function ie(R){let W=0;for(let V=0;V<R.length;V++)W=(W<<5)-W+R.charCodeAt(V),W|=0;return W}function k(R){return(new DOMParser).parseFromString(R||"","text/html").body.innerText||""}},28705:(nt,Te,M)=>{"use strict";M.d(Te,{a:()=>Q,z:()=>ne});var D=M(17626),T=M(74333),te=M(89726),Z=M(80542),k=(M(8314),M(63290),M(62208)),B=M(77712),V=(M(90912),M(85931),M(76898));let Q=class extends((0,Z.p)(T.Z)){constructor(J){super(J),this.handles.add([this.on("before-add",X=>{(0,k.Wi)(X.item)&&X.preventDefault()}),this.on("after-add",X=>this._own(X.item)),this.on("after-remove",X=>this._release(X.item))])}get owner(){return this._get("owner")}set owner(J){J!==this._get("owner")&&(this._releaseAll(),this._set("owner",J),this._ownAll())}_ownAll(){for(const J of this.items)this._own(J)}_releaseAll(){for(const J of this.items)this._release(J)}_createNewInstance(J){return this.itemType?new(T.Z.ofType(this.itemType.Type))(J):new T.Z(J)}};function ne(J,X){return{type:J,cast:te.R,set(Y){const F=(0,te.Z)(Y,this._get(X),J);F.owner=this,this._set(X,F)}}}(0,D._)([(0,B.Cb)()],Q.prototype,"owner",null),Q=(0,D._)([(0,V.j)("esri.core.support.OwningCollection")],Q)},17760:(nt,Te,M)=>{"use strict";M.d(Te,{t:()=>R});var D=M(17626),T=M(14517),te=M(72392),Z=M(62208),U=M(32917),ie=M(50618),k=M(77712),B=M(76898);let R=class extends T.Z{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._handles=new te.Z,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll(),this._handles.destroy()}add(V,Q,ne={}){return this._installWatch(V,Q,ne,U.YP)}addWhen(V,Q,ne={}){return this._installWatch(V,Q,ne,U.gx)}addOnCollectionChange(V,Q,{initial:ne=!1,final:J=!1}={}){const X=++this._handleId;return this._handles.add([(0,U.on)(V,"after-changes",this._createSyncUpdatingCallback(),U.Z_),(0,U.on)(V,"change",Q,{onListenerAdd:ne?Y=>Q({added:Y.toArray(),removed:[]}):void 0,onListenerRemove:J?Y=>Q({added:[],removed:Y.toArray()}):void 0})],X),{remove:()=>this._handles.remove(X)}}addPromise(V){if((0,Z.Wi)(V))return V;const Q=++this._handleId;this._handles.add({remove:()=>{this._pendingPromises.delete(V)&&(0!==this._pendingPromises.size||this._handles.has(W)||this._set("updating",!1))}},Q),this._pendingPromises.add(V),this._set("updating",!0);const ne=()=>this._handles.remove(Q);return V.then(ne,ne),V}removeAll(){this._pendingPromises.clear(),this._handles.removeAll(),this._set("updating",!1)}_installWatch(V,Q,ne={},J){const X=++this._handleId;ne.sync||this._installSyncUpdatingWatch(V,X);const Y=J(V,Q,ne);return this._handles.add(Y,X),{remove:()=>this._handles.remove(X)}}_installSyncUpdatingWatch(V,Q){const ne=this._createSyncUpdatingCallback(),J=(0,U.YP)(V,ne,{sync:!0,equals:()=>!1});return this._handles.add(J,Q),J}_createSyncUpdatingCallback(){return()=>{this._handles.remove(W),++this._scheduleHandleId;const V=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this._handles.add((0,ie.Os)(()=>{V===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this._handles.remove(W))}),W)}}};(0,D._)([(0,k.Cb)({readOnly:!0})],R.prototype,"updating",void 0),R=(0,D._)([(0,B.j)("esri.core.support.WatchUpdatingTracking")],R);const W=-42},7074:(nt,Te,M)=>{"use strict";function D(T,te,Z,U){let ie=null,k=1e3;"number"==typeof te?(k=te,U=Z):(ie=te??null,k=Z);let B,R=0;const W=()=>{R=0,T.apply(U,B)},V=(...Q)=>{ie&&ie.apply(U,Q),B=Q,k?R||(R=setTimeout(W,k)):W()};return V.remove=()=>{R&&(clearTimeout(R),R=0)},V.forceUpdate=()=>{R&&(clearTimeout(R),W())},V.hasPendingUpdates=()=>!!R,V}M.d(Te,{P:()=>D})},27422:(nt,Te,M)=>{"use strict";function D(U){return U}M.d(Te,{HA:()=>D})},28170:(nt,Te,M)=>{"use strict";M.d(Te,{JE:()=>k,Nm:()=>U,rJ:()=>Q}),M(8314);const T={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},te={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function U(ne,J,X){const Y=new Date(ne.getTime());if(J&&X){const F=te[X],{getter:x,setter:$,multiplier:N}=F;if("months"===X){const z=function Z(ne,J){const X=new Date(ne,J+1,1);return X.setDate(0),X.getDate()}(Y.getFullYear(),Y.getMonth()+J);Y.getDate()>z&&Y.setDate(z)}Y[$](Y[x]()+J*N)}return Y}function k(ne,J){switch(J){case"milliseconds":return new Date(ne.getTime());case"seconds":return new Date(ne.getFullYear(),ne.getMonth(),ne.getDate(),ne.getHours(),ne.getMinutes(),ne.getSeconds());case"minutes":return new Date(ne.getFullYear(),ne.getMonth(),ne.getDate(),ne.getHours(),ne.getMinutes());case"hours":return new Date(ne.getFullYear(),ne.getMonth(),ne.getDate(),ne.getHours());case"days":return new Date(ne.getFullYear(),ne.getMonth(),ne.getDate());case"weeks":return new Date(ne.getFullYear(),ne.getMonth(),ne.getDate()-ne.getDay());case"months":return new Date(ne.getFullYear(),ne.getMonth(),1);case"years":return new Date(ne.getFullYear(),0,1);case"decades":return new Date(ne.getFullYear()-ne.getFullYear()%10,0,1);case"centuries":return new Date(ne.getFullYear()-ne.getFullYear()%100,0,1);default:return new Date}}function Q(ne,J,X){return 0===ne?0:ne*T[J]/T[X]}},55713:(nt,Te,M)=>{"use strict";function D(ne){return ne instanceof ArrayBuffer}function T(ne){return ne&&ne.constructor&&"Int8Array"===ne.constructor.name}function te(ne){return ne&&ne.constructor&&"Uint8Array"===ne.constructor.name}function Z(ne){return ne&&ne.constructor&&"Uint8ClampedArray"===ne.constructor.name}function U(ne){return ne&&ne.constructor&&"Int16Array"===ne.constructor.name}function ie(ne){return ne&&ne.constructor&&"Uint16Array"===ne.constructor.name}function k(ne){return ne&&ne.constructor&&"Int32Array"===ne.constructor.name}function B(ne){return ne&&ne.constructor&&"Uint32Array"===ne.constructor.name}function R(ne){return ne&&ne.constructor&&"Float32Array"===ne.constructor.name}function W(ne){return ne&&ne.constructor&&"Float64Array"===ne.constructor.name}M.d(Te,{DB:()=>Q,Hx:()=>k,KZ:()=>Z,Uc:()=>ie,W0:()=>T,ZY:()=>B,eP:()=>D,fS:()=>W,lq:()=>te,xZ:()=>R,z3:()=>U});const Q=1024},86236:(nt,Te,M)=>{"use strict";M.d(Te,{D:()=>te});let D=0;function te(){return++D}},16730:(nt,Te,M)=>{"use strict";M.d(Te,{$C:()=>Ce,CN:()=>qe,En:()=>se,Jo:()=>ut,_R:()=>we,c9:()=>fe,cM:()=>Me,gV:()=>$e,hd:()=>B,qE:()=>Ie,ty:()=>xe}),M(8314);var T=M(2076),te=M(62208),Z=M(92383),U=M(94425),ie=M(37053),k=M(84029);const B=39.37,R=U.sv.radius*Math.PI/200,W=/UNIT\[([^\]]+)\]\]$/i,V=k.Z,Q=/UNIT\[([^\]]+)\]/i,ne=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),J=(0,T.w)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),X=ke=>ke*ke,Y=ke=>ke*ke*ke,F={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:X(.001)},"square-centimeters":{inBaseUnits:X(.01)},"square-decimeters":{inBaseUnits:X(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:X(1e3)},"square-inches":{inBaseUnits:X(.0254)},"square-feet":{inBaseUnits:X(.3048)},"square-yards":{inBaseUnits:X(.9144)},"square-miles":{inBaseUnits:X(1609.344)},"square-us-feet":{inBaseUnits:X(1200/3937)},acres:{inBaseUnits:.0015625*X(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Y(.001)},"cubic-centimeters":{inBaseUnits:1e3*Y(.01)},"cubic-decimeters":{inBaseUnits:1e3*Y(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Y(1e3)},"cubic-inches":{inBaseUnits:1e3*Y(.0254)},"cubic-feet":{inBaseUnits:1e3*Y(.3048)},"cubic-yards":{inBaseUnits:1e3*Y(.9144)},"cubic-miles":{inBaseUnits:1e3*Y(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},x=(()=>{const ke={};for(const Ge in F)for(const We in F[Ge].units)ke[We]=Ge;return ke})();function le(ke){const Ge=x[ke];if(!Ge)throw new Error("unknown type");return Ge}function he(ke,Ge=null){return Ge=Ge||le(ke),F[Ge].baseUnit===ke}function se(ke,Ge,We){if(Ge===We)return ke;const tt=le(Ge);if(tt!==le(We))throw new Error("incompatible units");const at=he(Ge,tt)?ke:function $(ke,Ge,We){return ke*F[We].units[Ge].inBaseUnits}(ke,Ge,tt);return he(We,tt)?at:function N(ke,Ge,We){return ke/F[We].units[Ge].inBaseUnits}(at,We,tt)}function xe(ke,Ge,We){return se(ke,Ge,"meters")/(We*Math.PI/180)}function Ce(ke){return J.fromJSON(ke.toLowerCase())||null}function we(ke){if((0,te.pC)(ke)&&!(0,ie.N$)(ke))return 1;const Ge=fe(ke);return Ge>1e5?1:Ge}function Me(ke){return fe(ke)>=(0,Z.Iu)(ke).metersPerDegree?"meters":Ie(ke)}function fe(ke,Ge=U.sv.metersPerDegree){return(0,te.Pt)(function ye(ke,Ge=!1){const We=(0,te.pC)(ke)?ke.wkid:null,tt=(0,te.pC)(ke)?ke.wkt:null;let at=null;if(We){if((0,ie.o$)(We))return U.yr.metersPerDegree;if((0,ie.ME)(We))return U.Z1.metersPerDegree;at=V.values[V[We]],!at&&Ge&&ne.has(We)&&(at=R)}else tt&&(Se(tt)?at=je(W.exec(tt),at):ce(tt)&&(at=je(Q.exec(tt),at)));return at}(ke,!0),Ge)}function je(ke,Ge){return ke&&ke[1]?Je(ke[1]):Ge}function Je(ke){return parseFloat(ke.split(",")[1])}function Ie(ke){const Ge=(0,te.pC)(ke)?ke.wkid:null,We=(0,te.pC)(ke)?ke.wkt:null;let tt=null;if(Ge)tt=V.units[V[Ge]];else if(We){const at=Se(We)?W:ce(We)?Q:null;if(at){const yt=at.exec(We);yt&&yt[1]&&(tt=function Ke(ke){const Ge=/[\\"\\']{1}([^\\"\\']+)/.exec(ke);let We=Ge&&Ge[1];if(!We||!V.units.includes(We)){const tt=Je(ke);We=null;const at=V.values;for(let yt=0;yt<at.length;++yt)if(Math.abs(tt-at[yt])<ze){We=V.units[yt];break}}return We}(yt[1]))}}return(0,te.pC)(tt)?Ce(tt):null}function ce(ke){return/^GEOCCS/i.test(ke)}function Se(ke){return/^PROJCS/i.test(ke)}const ze=1e-7,$e=(0,T.w)()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"}),ut=(0,T.w)()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"}),qe=(0,T.w)()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"})},21726:(nt,Te,M)=>{"use strict";M.d(Te,{$U:()=>yt,AH:()=>ze,Am:()=>xe,B7:()=>ue,D6:()=>Me,Fv:()=>Ie,HK:()=>Se,Hu:()=>gn,Ie:()=>Jt,L:()=>re,Ml:()=>Et,P$:()=>Ve,PF:()=>Je,Qj:()=>bt,R9:()=>F,TI:()=>ee,YP:()=>st,Yd:()=>jn,ZN:()=>dn,Zo:()=>De,_l:()=>ct,b7:()=>ge,ed:()=>ve,fZ:()=>Tt,fl:()=>wn,fw:()=>ft,hF:()=>je,hO:()=>un,io:()=>ut,jc:()=>ce,kl:()=>fe,mN:()=>ae,oC:()=>tt,oh:()=>we,qg:()=>be,rS:()=>Ke,sJ:()=>et,tD:()=>de,tm:()=>Ce,u0:()=>he,v_:()=>Le,vt:()=>zn,zd:()=>Zt});var D=M(59318),T=M(26584),te=M(63290),Z=M(62208),U=M(24433);const ie=te.Z.getLogger("esri.core.urlUtils"),k=D.Z.request,B="esri/config: esriConfig.request.proxyUrl is not set.",R=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,W=/^\s*http:/i,V=/^\s*https:/i,Q=/^\s*file:/i,ne=/:\d+$/,J=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,X=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Y=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class F{constructor(Pt=""){this.uri=Pt,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let $t=(0,Z.j0)(this.uri.match(X));this.scheme=$t[2]||($t[1]?"":null),this.authority=$t[4]||($t[3]?"":null),this.path=$t[5],this.query=$t[7]||($t[6]?"":null),this.fragment=$t[9]||($t[8]?"":null),null!=this.authority&&($t=(0,Z.j0)(this.authority.match(Y)),this.user=$t[3]||null,this.password=$t[4]||null,this.host=$t[6]||$t[7],this.port=$t[9]||null)}toString(){return this.uri}}const x={};let N=new F(D.Z.applicationUrl);let q=function le(){const dt=(0,Z.j0)(N.path),Pt=dt.substring(0,dt.lastIndexOf(dt.split("/")[dt.split("/").length-1]));return`${N.scheme}://${N.host}${null!=N.port?`:${N.port}`:""}${Pt}`}();const ee=()=>N,re=()=>q;function ae(dt){if(!dt)return null;const Pt={path:null,query:null},$t=new F(dt),tn=dt.indexOf("?");return null===$t.query?Pt.path=dt:(Pt.path=dt.substring(0,tn),Pt.query=he($t.query)),$t.fragment&&(Pt.hash=$t.fragment,null===$t.query&&(Pt.path=Pt.path.substring(0,Pt.path.length-($t.fragment.length+1)))),Pt}function he(dt){const Pt=dt.split("&"),$t={};for(const tn of Pt){if(!tn)continue;const Cn=tn.indexOf("=");let Yn,dr;Cn<0?(Yn=decodeURIComponent(tn),dr=""):(Yn=decodeURIComponent(tn.slice(0,Cn)),dr=decodeURIComponent(tn.slice(Cn+1)));let ts=$t[Yn];"string"==typeof ts&&(ts=$t[Yn]=[ts]),Array.isArray(ts)?ts.push(dr):$t[Yn]=dr}return $t}function se(dt){return dt&&"object"==typeof dt&&"toJSON"in dt&&"function"==typeof dt.toJSON}function ue(dt,Pt){return dt?Pt&&"function"==typeof Pt?Object.keys(dt).map($t=>encodeURIComponent($t)+"="+encodeURIComponent(Pt($t,dt[$t]))).join("&"):Object.keys(dt).map($t=>{const tn=dt[$t];if(null==tn)return"";const Cn=encodeURIComponent($t)+"=",Yn=Pt&&Pt[$t];return Yn?Cn+encodeURIComponent(Yn(tn)):Array.isArray(tn)?tn.map(dr=>se(dr)?Cn+encodeURIComponent(JSON.stringify(dr)):Cn+encodeURIComponent(dr)).join("&"):se(tn)?Cn+encodeURIComponent(JSON.stringify(tn)):Cn+encodeURIComponent(tn)}).filter($t=>$t).join("&"):""}function ge(dt=!1){let Pt,$t=k.proxyUrl;if("string"==typeof dt){Pt=yt(dt);const tn=ve(dt);tn&&($t=tn.proxyUrl)}else Pt=!!dt;if(!$t)throw ie.warn(B),new T.Z("urlutils:proxy-not-set",B);return Pt&&zt()&&($t=un($t)),ae($t)}function be(dt){const Pt=ve(dt);let $t,tn;if(Pt){const Cn=Oe(Pt.proxyUrl);$t=Cn.path,tn=Cn.query?he(Cn.query):null}if($t){const Cn=ae(dt);dt=$t+"?"+Cn.path;const Yn=ue({...tn,...Cn.query});Yn&&(dt=`${dt}?${Yn}`)}return dt}const me={path:"",query:""};function Oe(dt){const Pt=dt.indexOf("?");return-1!==Pt?(me.path=dt.slice(0,Pt),me.query=dt.slice(Pt+1)):(me.path=dt,me.query=null),me}function oe(dt){return(dt=hn(dt=function pt(dt){return dt&&"/"===dt[dt.length-1]?dt:`${dt}/`}(dt=Oe(dt).path),!0)).toLowerCase()}function de(dt){const Pt={proxyUrl:dt.proxyUrl,urlPrefix:oe(dt.urlPrefix)},$t=k.proxyRules,tn=Pt.urlPrefix;let Cn=$t.length;for(let Yn=0;Yn<$t.length;Yn++){const dr=$t[Yn].urlPrefix;if(0===tn.indexOf(dr)){if(tn.length===dr.length)return-1;Cn=Yn;break}0===dr.indexOf(tn)&&(Cn=Yn+1)}return $t.splice(Cn,0,Pt),Cn}function ve(dt){const Pt=k.proxyRules,$t=oe(dt);for(let tn=0;tn<Pt.length;tn++)if(0===$t.indexOf(Pt[tn].urlPrefix))return Pt[tn]}function De(dt,Pt){if(!dt||!Pt)return!1;dt=Re(dt),Pt=Re(Pt);const $t=(0,U.a)(dt),tn=(0,U.a)(Pt);return(0,Z.pC)($t)&&(0,Z.pC)(tn)?$t.portalHostname===tn.portalHostname:!(0,Z.pC)($t)&&!(0,Z.pC)(tn)&&Me(dt,Pt,!0)}function xe(dt,Pt){if(!dt||!Pt)return!1;dt=Re(dt),Pt=Re(Pt);const $t=(0,U.a)(dt),tn=(0,U.a)(Pt);return!(!(0,Z.pC)($t)||!(0,Z.pC)(tn))&&$t.portalHostname===tn.portalHostname}function Ce(dt,Pt){return dt=Re(dt),Pt=Re(Pt),hn(dt)===hn(Pt)}function Re(dt){const Pt=(dt=Ie(dt)).indexOf("/sharing");return Pt>0?dt.substring(0,Pt):dt.replace(/\/+$/,"")}function we(dt){const Pt=tn=>null==tn||tn instanceof RegExp&&tn.test(dt)||"string"==typeof tn&&dt.startsWith(tn),$t=k.interceptors;if($t)for(const tn of $t)if(Array.isArray(tn.urls)){if(tn.urls.some(Pt))return tn}else if(Pt(tn.urls))return tn;return null}function Me(dt,Pt,$t=!1){if(!dt||!Pt)return!1;const tn=Wt(dt),Cn=Wt(Pt);return!(!$t&&tn.scheme!==Cn.scheme)&&null!=tn.host&&null!=Cn.host&&tn.host.toLowerCase()===Cn.host.toLowerCase()&&tn.port===Cn.port}function fe(dt){if("string"==typeof dt){if(!st(dt))return!0;dt=Wt(dt)}if(Me(dt,N))return!0;const Pt=k.trustedServers||[];for(let $t=0;$t<Pt.length;$t++){const tn=ye(Pt[$t]);for(let Cn=0;Cn<tn.length;Cn++)if(Me(dt,tn[Cn]))return!0}return!1}function ye(dt){return x[dt]||(x[dt]=at(dt)||tt(dt)?[new F(je(dt))]:[new F(`http://${dt}`),new F(`https://${dt}`)]),x[dt]}function je(dt,Pt=q,$t){return tt(dt)?$t&&$t.preserveProtocolRelative?dt:"http"===N.scheme&&N.authority===Ve(dt).slice(2)?`http:${dt}`:`https:${dt}`:at(dt)?dt:(0,Z.j0)(Le("/"===dt[0]?function bn(dt){const Pt=dt.indexOf("//"),$t=dt.indexOf("/",Pt+2);return-1===$t?dt:dt.slice(0,$t)}(Pt):Pt,dt))}function Je(dt,Pt=q,$t){if(null==dt||!st(dt))return dt;const tn=Ie(dt),Cn=tn.toLowerCase(),Yn=Ie(Pt).toLowerCase().replace(/\/+$/,""),dr=$t?Ie($t).toLowerCase().replace(/\/+$/,""):null;if(dr&&0!==Yn.indexOf(dr))return dt;const ts=(Ye,ot,Ot)=>-1===(Ot=Ye.indexOf(ot,Ot))?Ye.length:Ot;let Fn=ts(Cn,"/",Cn.indexOf("//")+2),Ne=-1;for(;Cn.slice(0,Fn+1)===Yn.slice(0,Fn)+"/"&&(Ne=Fn+1,Fn!==Cn.length);)Fn=ts(Cn,"/",Fn+1);if(-1===Ne||dr&&Ne<dr.length)return dt;dt=tn.slice(Ne);const xt=Yn.slice(Ne-1).replace(/[^/]+/g,"").length;if(xt>0)for(let Ye=0;Ye<xt;Ye++)dt=`../${dt}`;else dt=`./${dt}`;return dt}function Ie(dt){return function Xt(dt){const Pt=k.httpsDomains;if(!function Mt(dt){return null!=dt&&W.test(dt)||"http"===N.scheme&&tt(dt)}(dt))return dt;const $t=dt.indexOf("/",7);let tn;if(tn=-1===$t?dt:dt.slice(0,$t),tn=tn.toLowerCase().slice(7),ne.test(tn)){if(!tn.endsWith(":80"))return dt;tn=tn.slice(0,-3),dt=dt.replace(":80","")}return function Sn(){return"http"===N.scheme}()&&tn===N.authority&&!J.test(dt)||(zt()&&tn===N.authority||Pt&&Pt.some(Cn=>tn===Cn||tn.endsWith(`.${Cn}`))||zt()&&!ve(dt))&&(dt=un(dt)),dt}(dt=function Ft(dt){return dt.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(dt=function Lt(dt){if(/^https?:\/\//i.test(dt)){const Pt=Oe(dt);dt=(dt=Pt.path.replace(/\/{2,}/g,"/")).replace("/","//"),Pt.query&&(dt+=`?${Pt.query}`)}return dt}(dt=je(dt=dt.trim()))))}function Le(...dt){const Pt=dt.filter(Z.pC);if(!Pt||!Pt.length)return;const $t=[];if(st(Pt[0])){const Cn=Pt[0],Yn=Cn.indexOf("//");-1!==Yn&&($t.push(Cn.slice(0,Yn+1)),function Yt(dt){return null!=dt&&Q.test(dt)}(Pt[0])&&($t[0]+="/"),Pt[0]=Cn.slice(Yn+2))}else"/"===Pt[0][0]&&$t.push("");const tn=Pt.reduce((Cn,Yn)=>Yn?Cn.concat(Yn.split("/")):Cn,[]);for(let Cn=0;Cn<tn.length;Cn++){const Yn=tn[Cn];".."===Yn&&$t.length>0&&".."!==$t[$t.length-1]?$t.pop():(!Yn&&Cn===tn.length-1||Yn&&("."!==Yn||0===$t.length))&&$t.push(Yn)}return $t.join("/")}function Ve(dt,Pt=!1){if(null==dt||ce(dt)||Se(dt))return null;let $t=dt.indexOf("://");if(-1===$t&&tt(dt))$t=2;else{if(-1===$t)return null;$t+=3}const tn=dt.indexOf("/",$t);return-1!==tn&&(dt=dt.slice(0,tn)),Pt&&(dt=hn(dt,!0)),dt}function st(dt){return tt(dt)||at(dt)}function ce(dt){return null!=dt&&"blob:"===dt.slice(0,5)}function Se(dt){return null!=dt&&"data:"===dt.slice(0,5)}function ze(dt){const Pt=et(dt);if(!Pt||!Pt.isBase64)return null;const $t=atob(Pt.data),tn=new Uint8Array($t.length);for(let Cn=0;Cn<$t.length;Cn++)tn[Cn]=$t.charCodeAt(Cn);return tn.buffer}function Ke(dt){return btoa(String.fromCharCode.apply(null,dt)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const Xe=/^data:(.*?)(;base64)?,(.*)$/;function et(dt){const Pt=dt.match(Xe);if(!Pt)return null;const[,$t,tn,Cn]=Pt;return{mediaType:$t,isBase64:!!tn,data:Cn}}function ct(dt){return dt.isBase64?`data:${dt.mediaType};base64,${dt.data}`:`data:${dt.mediaType},${dt.data}`}function ft(dt){const Pt=ze(dt);if(!Pt)return null;const $t=et(dt);return new Blob([Pt],{type:$t.mediaType})}function ut(dt,Pt){(function ke(dt,Pt){if(!dt)return!1;const $t=document.createElement("a");if(!("download"in $t))return!1;const tn=URL.createObjectURL(dt);return $t.download=Pt,$t.href=tn,$t.style.display="none",document.body.appendChild($t),$t.click(),document.body.removeChild($t),URL.revokeObjectURL(tn),!0})(dt,Pt)||function We(dt,Pt){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(dt,Pt)}(dt,Pt)}function tt(dt){return null!=dt&&"/"===dt[0]&&"/"===dt[1]}function at(dt){return null!=dt&&R.test(dt)}function yt(dt){return null!=dt&&V.test(dt)||"https"===N.scheme&&tt(dt)}function un(dt){return tt(dt)?`https:${dt}`:dt.replace(W,"https:")}function zt(){return"https"===N.scheme}function hn(dt,Pt=!1){return tt(dt)?dt.slice(2):(dt=dt.replace(R,""),Pt&&dt.length>1&&"/"===dt[0]&&"/"===dt[1]&&(dt=dt.slice(2)),dt)}function jn(dt){let Pt=0;if(st(dt)){const tn=dt.indexOf("//");-1!==tn&&(Pt=tn+2)}const $t=dt.lastIndexOf("/");return $t<Pt?dt:dt.slice(0,$t+1)}function zn(dt,Pt){if(!dt)return"";const $t=ae(dt).path.replace(/\/+$/,""),tn=$t.substring($t.lastIndexOf("/")+1);if(!Pt?.length)return tn;const Cn=new RegExp(`.(${Pt.join("|")})$`,"ig");return tn.replace(Cn,"")}function bt(dt){return dt.replace(/\/+$/,"")}function Jt(dt,Pt,$t){if(!(Pt&&$t&&dt&&st(dt)))return dt;const tn=dt.indexOf("//"),Cn=dt.indexOf("/",tn+2),Yn=dt.indexOf(":",tn+2),dr=Math.min(Cn<0?dt.length:Cn,Yn<0?dt.length:Yn);return dt.slice(tn+2,dr).toLowerCase()!==Pt.toLowerCase()?dt:`${dt.slice(0,tn+2)}${$t}${dt.slice(dr)}`}function Wt(dt){return"string"==typeof dt?new F(je(dt)):(dt.scheme||(dt.scheme=N.scheme),dt)}function Zt(dt){return fn.test(dt)}function gn(dt,Pt){const $t=ae(dt),tn=Object.keys($t.query||{});return tn.length>0&&Pt&&Pt.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${tn.join(", ")}.`),$t.path}function dn(dt,Pt,$t){const tn=ae(dt),Cn=tn.query||{};return Cn[Pt]=String($t),`${tn.path}?${ue(Cn)}`}function wn(dt,Pt){const $t=ae(dt),tn=$t.query||{};for(const Yn in Pt)tn[Yn]=Pt[Yn];const Cn=ue(tn);return Cn?`${$t.path}?${Cn}`:$t.path}function Et(dt){if((0,Z.Wi)(dt))return null;const Pt=dt.match(Bt);return Pt?Pt[2]:null}function Tt(dt){if((0,Z.Wi)(dt))return null;const Pt=dt.match(Bt);return Pt?{path:Pt[1],extension:Pt[2]}:{path:dt,extension:null}}const Bt=/([^.]*)\.([^\/]*)$/,fn=/(^data:image\/svg|\.svg$)/i},35948:(nt,Te,M)=>{"use strict";M.d(Te,{D:()=>T});const D="randomUUID"in crypto;function T(){if(D)return crypto.randomUUID();const te=crypto.getRandomValues(new Uint16Array(8));te[3]=4095&te[3]|16384,te[4]=16383&te[4]|32768;const Z=U=>te[U].toString(16).padStart(4,"0");return Z(0)+Z(1)+"-"+Z(2)+"-"+Z(3)+"-"+Z(4)+"-"+Z(5)+Z(6)+Z(7)}},93662:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ie});var D=M(54024),T=M(63290),te=M(10699),Z=M(35133),U=M(89951);class ie{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new Z.Z}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(B,R){return new Promise((W,V)=>{let Q=!0;const ne=J=>{(0,te.k_)(R.signal),Q&&(Q=!1,J())};this._clients.length=B.length,this._clientPromises.length=B.length,this._inUseClients.length=B.length;for(let J=0;J<B.length;++J){const X=B[J];(0,te.y8)(X)?this._clientPromises[J]=X.then(Y=>(this._clients[J]=new U.Z(Y,R,()=>this._ongoingJobsQueue.pop()??null),ne(W),this._clients[J]),()=>(ne(V),null)):(this._clients[J]=new U.Z(X,R,()=>this._ongoingJobsQueue.pop()??null),this._clientPromises[J]=Promise.resolve(this._clients[J]),ne(W))}})}broadcast(B,R,W){const V=new Array(this._clientPromises.length);for(let Q=0;Q<this._clientPromises.length;++Q)V[Q]=this._clientPromises[Q].then(J=>J?.invoke(B,R,W));return V}close(){let B;for(;B=this._ongoingJobsQueue.pop();)B.deferred.reject((0,te.zE)(`Worker closing, aborting job calling '${B.methodName}'`));for(const R of this._clientPromises)R.then(W=>W?.close());this._clients.length=0,this._clientPromises.length=0}invoke(B,R,W){let V;Array.isArray(W)?(T.Z.getLogger("esri.core.workers.Connection").warn("invoke()","The transferList parameter is deprecated, use the options object instead"),V={transferList:W}):V=W;const Q=(0,te.dD)();this._ongoingJobsQueue.push({methodName:B,data:R,invokeOptions:V,deferred:Q});for(let ne=0;ne<this._clientPromises.length;ne++){const J=this._clients[ne];J?J.jobAdded():this._clientPromises[ne].then(X=>X?.jobAdded())}return Q.promise}on(B,R){return Promise.all(this._clientPromises).then(()=>(0,D.AL)(this._clients.map(W=>W.on(B,R))))}openPorts(){return new Promise(B=>{const R=new Array(this._clientPromises.length);let W=R.length;for(let V=0;V<this._clientPromises.length;++V)this._clientPromises[V].then(Q=>{Q&&(R[V]=Q.openPort()),0==--W&&B(R)})})}get test(){return{numClients:this._clients.length}}}},89951:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>F});var D=M(24263),T=M(26584),te=M(17770),Z=M(62208),U=M(10699),ie=M(13126),k=M(38365);const B={statsWorker:()=>Promise.all([M.e(6072),M.e(4135)]).then(M.bind(M,44135)),geometryEngineWorker:()=>Promise.all([M.e(4918),M.e(8592),M.e(1843)]).then(M.bind(M,77692)),CSVSourceWorker:()=>Promise.all([M.e(5872),M.e(410),M.e(6072),M.e(2178),M.e(8175),M.e(8592),M.e(9155)]).then(M.bind(M,39155)),EdgeProcessingWorker:()=>Promise.all([M.e(479),M.e(1573),M.e(2078)]).then(M.bind(M,82078)),ElevationSamplerWorker:()=>Promise.all([M.e(479),M.e(853),M.e(8592),M.e(8149)]).then(M.bind(M,28149)),FeatureServiceSnappingSourceWorker:()=>Promise.all([M.e(5872),M.e(410),M.e(6072),M.e(2178),M.e(8175),M.e(8592),M.e(3955)]).then(M.bind(M,13955)),GeoJSONSourceWorker:()=>Promise.all([M.e(5872),M.e(410),M.e(6072),M.e(2178),M.e(8175),M.e(8592),M.e(4079)]).then(M.bind(M,84079)),LercWorker:()=>M.e(7300).then(M.bind(M,57300)),MemorySourceWorker:()=>Promise.all([M.e(5872),M.e(410),M.e(6072),M.e(2178),M.e(8175),M.e(8592),M.e(7728)]).then(M.bind(M,7728)),PBFDecoderWorker:()=>M.e(6089).then(M.bind(M,46089)),Pipeline:()=>Promise.all([M.e(3536),M.e(5872),M.e(410),M.e(4029),M.e(6072),M.e(2178),M.e(8175),M.e(9628),M.e(8592),M.e(9773)]).then(M.bind(M,81434)),PointCloudWorker:()=>Promise.all([M.e(7805),M.e(8592),M.e(6810)]).then(M.bind(M,6810)),RasterWorker:()=>Promise.all([M.e(6926),M.e(8594),M.e(2863),M.e(580),M.e(5976)]).then(M.bind(M,15976)),SceneLayerSnappingSourceWorker:()=>Promise.all([M.e(410),M.e(6072),M.e(2178),M.e(479),M.e(1573),M.e(8592),M.e(9417)]).then(M.bind(M,60676)),SceneLayerWorker:()=>M.e(3320).then(M.bind(M,83320)),WFSSourceWorker:()=>Promise.all([M.e(5872),M.e(410),M.e(6072),M.e(2178),M.e(8175),M.e(3774),M.e(8592),M.e(2305)]).then(M.bind(M,62305)),WorkerTileHandler:()=>Promise.all([M.e(9202),M.e(2815),M.e(8364),M.e(550)]).then(M.bind(M,90195))},{CLOSE:R,ABORT:W,INVOKE:V,RESPONSE:Q,OPEN_PORT:ne,ON:J}=ie.Cs;class Y{constructor($){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=$,this._timer=null,this._process=this._process.bind(this)}push($){$.type===ie.Cs.ABORT?this._cancelledJobIds.add($.jobId):(this._invokeMessages.push($),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const $ of this._invokeMessages)this._cancelledJobIds.has($.jobId)||this._invoke($);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class F{static connect($){const N=new MessageChannel;let z;z="function"==typeof $?new $:"default"in $&&"function"==typeof $.default?new $.default:$;const q=new F(N.port1,{channel:N,client:z},()=>null);return"object"==typeof z&&"remoteClient"in z&&(z.remoteClient=q),F.clients.set(q,z),N.port2}static loadWorker($){const N=B[$];return N?N():Promise.resolve(null)}constructor($,N,z){this._port=$,this._getNextJob=z,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new Y(q=>this._onInvokeMessage(q)),this._client=N.client,this._onMessage=this._onMessage.bind(this),this._channel=N.channel,this._schedule=N.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:R}),this._close()}isBusy(){return this._outJobs.size>0}invoke($,N,z){const q=z&&z.signal,ee=z&&z.transferList;if(!this._port)return Promise.reject(new T.Z("worker:port-closed",`Cannot call invoke('${$}'), port is closed`,{methodName:$,data:N}));const re=(0,ie.jt)();return new Promise((le,_e)=>{if((0,U.Hc)(q))return this._processWork(),void _e((0,U.zE)());const ae=(0,U.fu)(q,()=>{const se=this._outJobs.get(re);se&&(this._outJobs.delete(re),this._processWork(),(0,Z.hw)(se.abortHandle),this._post({type:W,jobId:re}),_e((0,U.zE)()))});this._outJobs.set(re,{resolve:le,reject:_e,abortHandle:ae,debugInfo:$}),this._post({type:V,jobId:re,methodName:$,abortable:null!=q},N,ee)})}on($,N){const z=new MessageChannel;function q(ee){N(ee.data)}return this._port.postMessage({type:ie.Cs.ON,eventType:$,port:z.port2},[z.port2]),z.port1.addEventListener("message",q),z.port1.start(),{remove(){z.port1.postMessage({type:ie.Cs.CLOSE}),z.port1.close(),z.port1.removeEventListener("message",q)}}}jobAdded(){this._processWork()}openPort(){const $=new MessageChannel;return this._post({type:ne,port:$.port2}),$.port1}_processWork(){if(this._outJobs.size>=2)return;const $=this._getNextJob();if(!$)return;const{methodName:N,data:z,invokeOptions:q,deferred:ee}=$;this.invoke(N,z,q).then(re=>ee.resolve(re)).catch(re=>ee.reject(re))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach($=>{(0,Z.hw)($.abortHandle),$.reject((0,U.zE)(`Worker closing, aborting job calling '${$.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage($){(0,Z.pC)(this._schedule)?this._schedule(()=>this._processMessage($)):this._processMessage($)}_processMessage($){const N=(0,ie.QM)($);if(N)switch(N.type){case Q:this._onResponseMessage(N);break;case V:this._invokeQueue.push(N);break;case W:this._onAbortMessage(N);break;case R:this._onCloseMessage();break;case ne:this._onOpenPortMessage(N);break;case J:this._onOnMessage(N)}}_onAbortMessage($){const N=this._inJobs,z=$.jobId,q=N.get(z);this._invokeQueue.push($),q&&(q.controller&&q.controller.abort(),N.delete(z))}_onCloseMessage(){const $=this._client;this._close(),$&&"destroy"in $&&F.clients.get(this)===$&&$.destroy(),F.clients.delete(this),$&&$.remoteClient&&($.remoteClient=null)}_onInvokeMessage($){const{methodName:N,jobId:z,data:q,abortable:ee}=$,re=ee?new AbortController:null,le=this._inJobs;let _e,ae=this._client,he=ae[N];try{if(!he&&N&&N.includes(".")){const se=N.split(".");for(let ue=0;ue<se.length-1;ue++)ae=ae[se[ue]],he=ae[se[ue+1]]}if("function"!=typeof he)throw new TypeError(`${N} is not a function`);_e=he.call(ae,q,{client:this,signal:re?re.signal:null})}catch(se){return void this._post({type:Q,jobId:z,error:(0,ie.AB)(se)})}(0,U.y8)(_e)?(le.set(z,{controller:re,promise:_e}),_e.then(se=>{le.has(z)&&(le.delete(z),this._post({type:Q,jobId:z},se))},se=>{le.has(z)&&(le.delete(z),(0,U.D_)(se)||this._post({type:Q,jobId:z,error:(0,ie.AB)(se||{message:`Error encountered at method ${N}`})}))})):this._post({type:Q,jobId:z},_e)}_onOpenPortMessage($){new F($.port,{client:this._client},()=>null)}_onOnMessage($){const{port:N}=$,z=this._client.on($.eventType,ee=>{N.postMessage(ee)}),q=(0,te.on)($.port,"message",ee=>{(0,ie.QM)(ee)?.type===ie.Cs.CLOSE&&(q.remove(),z.remove(),N.close())})}_onResponseMessage($){const{jobId:N,error:z,data:q}=$,ee=this._outJobs;if(!ee.has(N))return;const re=ee.get(N);ee.delete(N),this._processWork(),(0,Z.hw)(re.abortHandle),z?re.reject(T.Z.fromJSON(JSON.parse(z))):re.resolve(q)}_post($,N,z){return(0,ie.oi)(this._port,$,N,z)}}F.kernelInfo={revision:k.$,version:D.i8,buildDate:k.r},F.clients=new Map},13126:(nt,Te,M)=>{"use strict";M.d(Te,{AB:()=>ie,Cs:()=>T,QM:()=>B,jt:()=>Z,oi:()=>k});var T,V,D=M(8314);(V=T||(T={}))[V.HANDSHAKE=0]="HANDSHAKE",V[V.OPEN=1]="OPEN",V[V.OPENED=2]="OPENED",V[V.RESPONSE=3]="RESPONSE",V[V.INVOKE=4]="INVOKE",V[V.ABORT=5]="ABORT",V[V.CLOSE=6]="CLOSE",V[V.OPEN_PORT=7]="OPEN_PORT",V[V.ON=8]="ON";let te=0;function Z(){return te++}function ie(V){return V?"string"==typeof V?JSON.stringify({name:"message",message:V}):V.toJSON?JSON.stringify(V):JSON.stringify({name:V.name,message:V.message,details:V.details||{stack:V.stack}}):null}function k(V,Q,ne,J){if(Q.type===T.OPEN_PORT)return void V.postMessage(Q,[Q.port]);if(Q.type!==T.INVOKE&&Q.type!==T.RESPONSE)return void V.postMessage(Q);let X;if(function U(V){return V&&"object"==typeof V&&("result"in V||"transferList"in V)}(ne)?(X=R(ne.transferList),Q.data=ne.result):(X=R(J),Q.data=ne),X){if((0,D.Z)("ff"))for(const Y of X)if("byteLength"in Y&&Y.byteLength>267386880){const F="Worker call with large ArrayBuffer would crash Firefox";switch(Q.type){case T.INVOKE:throw F;case T.RESPONSE:return void k(V,{type:T.RESPONSE,jobId:Q.jobId,error:ie(F)})}}V.postMessage(Q,X)}else V.postMessage(Q)}function B(V){if(!V)return null;const Q=V.data;return Q?"string"==typeof Q?JSON.parse(Q):Q:null}function R(V){if(!V||!V.length)return null;if((0,D.Z)("esri-workers-arraybuffer-transfer"))return V;const Q=V.filter(ne=>!function W(V){return V instanceof ArrayBuffer||V&&V.constructor&&"ArrayBuffer"===V.constructor.name}(ne));return Q.length?Q:null}},59289:(nt,Te,M)=>{"use strict";M.d(Te,{j2:()=>fe,bA:()=>Ie});var D=M(15861),T=M(26584),te=M(8314),Z=M(10699),U=M(93662),ie=M(89951),k=M(24263),B=M(63290),R=M(62208),W=M(13126),V=M(54346),Q=M(59318),J=(M(52515),M(21726));const Y={};var x=M(79682);class ${constructor(){const Xe=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(et=>{this[et]=(...ct)=>Xe[et](...ct)})}}class N{constructor(){this._dispatcher=new $,this._workerPostMessage({type:W.Cs.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(Xe){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=Xe,Xe&&this.addEventListener("message",Xe)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(Xe){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=Xe,Xe&&this.addEventListener("messageerror",Xe)}get onerror(){return this._onerrorHandler}set onerror(Xe){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=Xe,Xe&&this.addEventListener("error",Xe)}postMessage(Xe){(0,x.Y)(()=>{this._workerMessageHandler(new MessageEvent("message",{data:Xe}))})}dispatchEvent(Xe){return this._dispatcher.dispatchEvent(Xe)}addEventListener(Xe,et,ct){this._dispatcher.addEventListener(Xe,et,ct)}removeEventListener(Xe,et,ct){this._dispatcher.removeEventListener(Xe,et,ct)}_workerPostMessage(Xe){(0,x.Y)(()=>{this.dispatchEvent(new MessageEvent("message",{data:Xe}))})}_workerMessageHandler(Xe){var et=this;return(0,D.Z)(function*(){const ct=(0,W.QM)(Xe);if(ct&&ct.type===W.Cs.OPEN){const{modulePath:ft,jobId:$e}=ct;let ut=yield ie.Z.loadWorker(ft);ut||(ut=yield import(ft));const qe=ie.Z.connect(ut);et._workerPostMessage({type:W.Cs.OPENED,jobId:$e,data:qe})}})()}}var z=M(56683),q=M(38365);const ee=B.Z.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:re}=W.Cs,le='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,version:r}=configuration.kernelInfo,{revision:t,version:n}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS API for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const i=outgoing.get(r);outgoing.delete(r),o.error?i.reject(JSON.parse(o.error)):i.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let _e,ae;const he="Failed to create Worker. Fallback to execute module in main thread";function ue(){return(ue=(0,D.Z)(function*(){if(!(0,te.Z)("esri-workers")||((0,te.Z)("mozilla"),0))return ge(new N);if(!_e&&!ae)try{const Xe=le.split('"{CONFIGURATION}"').join(`'${function me(){let Ke;if(null!=Q.Z.default){const ft={...Q.Z};delete ft.default,Ke=JSON.parse(JSON.stringify(ft))}else Ke=JSON.parse(JSON.stringify(Q.Z));Ke.assetsPath=(0,J.hF)(Ke.assetsPath),Ke.defaultAssetsPath=Ke.defaultAssetsPath?(0,J.hF)(Ke.defaultAssetsPath):void 0,Ke.request.interceptors=[],Ke.log.interceptors=[],Ke.locale=(0,z.Kd)(),Ke.has={"esri-csp-restrictions":(0,te.Z)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,te.Z)("esri-2d-update-debug"),"featurelayer-pbf":(0,te.Z)("featurelayer-pbf"),"featurelayer-simplify-thresholds":(0,te.Z)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,te.Z)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":(0,te.Z)("featurelayer-simplify-mobile-factor"),"esri-atomics":(0,te.Z)("esri-atomics"),"esri-shared-array-buffer":(0,te.Z)("esri-shared-array-buffer"),"esri-tiles-debug":(0,te.Z)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,te.Z)("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":(0,te.Z)("feature-polyline-generalization-factor"),"host-webworker":1,"polylabel-placement-enabled":(0,te.Z)("polylabel-placement-enabled")},Ke.workers.loaderUrl&&(Ke.workers.loaderUrl=(0,J.hF)(Ke.workers.loaderUrl)),Ke.workers.workerPath=(0,J.hF)(Ke.workers.workerPath?Ke.workers.workerPath:(0,V.V)("esri/core/workers/RemoteClient.js")),Ke.workers.useDynamicImport=!1;const Xe=Q.Z.workers.loaderConfig,et=function F(Ke){const Xe={async:Ke.async,isDebug:Ke.isDebug,locale:Ke.locale,baseUrl:Ke.baseUrl,has:{...Ke.has},map:{...Ke.map},packages:Ke.packages&&Ke.packages.concat()||[],paths:{...Ke.paths}};return Ke.hasOwnProperty("async")||(Xe.async=!0),Ke.hasOwnProperty("isDebug")||(Xe.isDebug=!1),Ke.baseUrl||(Xe.baseUrl=Y.baseUrl),Xe}({baseUrl:Xe?.baseUrl,locale:(0,z.Kd)(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...Xe?.has},map:{...Xe?.map},paths:{...Xe?.paths},packages:Xe?.packages||[]});return JSON.stringify({esriConfig:Ke,loaderConfig:et,kernelInfo:{version:k.i8,buildDate:q.r,revision:q.$}})}()}'`);_e=URL.createObjectURL(new Blob([Xe],{type:"text/javascript"}))}catch(Xe){ae=Xe||{}}let Ke;if(_e)try{Ke=new Worker(_e,{name:"esri-worker-"+Oe++})}catch{ee.warn(he,ae),Ke=new N}else ee.warn(he,ae),Ke=new N;return ge(Ke)})).apply(this,arguments)}function ge(Ke){return be.apply(this,arguments)}function be(){return(be=(0,D.Z)(function*(Ke){return new Promise(Xe=>{function et(ft){const $e=(0,W.QM)(ft);$e&&$e.type===re&&(Ke.removeEventListener("message",et),Ke.removeEventListener("error",ct),Xe(Ke))}function ct(ft){ft.preventDefault(),Ke.removeEventListener("message",et),Ke.removeEventListener("error",ct),ee.warn("Failed to create Worker. Fallback to execute module in main thread",ft),(Ke=new N).addEventListener("message",et),Ke.addEventListener("error",ct)}Ke.addEventListener("message",et),Ke.addEventListener("error",ct)})})).apply(this,arguments)}let Oe=0;const{ABORT:oe,INVOKE:de,OPEN:ve,OPENED:De,RESPONSE:xe}=W.Cs;class Ce{static create(Xe){return(0,D.Z)(function*(){const et=yield function se(){return ue.apply(this,arguments)}();return new Ce(et,Xe)})()}constructor(Xe,et){this._outJobs=new Map,this._inJobs=new Map,this.worker=Xe,this.id=et,Xe.addEventListener("message",this._onMessage.bind(this)),Xe.addEventListener("error",ct=>{ct.preventDefault(),B.Z.getLogger("esri.core.workers.WorkerOwner").error(ct)})}terminate(){this.worker.terminate()}open(Xe,et={}){var ct=this;return(0,D.Z)(function*(){const{signal:ft}=et,$e=(0,W.jt)();return new Promise((ut,qe)=>{const ke={resolve:ut,reject:qe,abortHandle:(0,Z.$F)(ft,()=>{ct._outJobs.delete($e),ct._post({type:oe,jobId:$e})})};ct._outJobs.set($e,ke),ct._post({type:ve,jobId:$e,modulePath:Xe})})})()}_onMessage(Xe){const et=(0,W.QM)(Xe);if(et)switch(et.type){case De:this._onOpenedMessage(et);break;case xe:this._onResponseMessage(et);break;case oe:this._onAbortMessage(et);break;case de:this._onInvokeMessage(et)}}_onAbortMessage(Xe){const et=this._inJobs,ct=Xe.jobId,ft=et.get(ct);ft&&(ft.controller&&ft.controller.abort(),et.delete(ct))}_onInvokeMessage(Xe){const{methodName:et,jobId:ct,data:ft,abortable:$e}=Xe,ut=$e?new AbortController:null,qe=this._inJobs,ke=k.Nv[et];let Ge;try{if("function"!=typeof ke)throw new TypeError(`${et} is not a function`);Ge=ke.call(null,ft,{signal:ut?ut.signal:null})}catch(We){return void this._post({type:xe,jobId:ct,error:(0,W.AB)(We)})}(0,Z.y8)(Ge)?(qe.set(ct,{controller:ut,promise:Ge}),Ge.then(We=>{qe.has(ct)&&(qe.delete(ct),this._post({type:xe,jobId:ct},We))},We=>{qe.has(ct)&&(qe.delete(ct),We||(We={message:"Error encountered at method"+et}),(0,Z.D_)(We)||this._post({type:xe,jobId:ct,error:(0,W.AB)(We||{message:`Error encountered at method ${et}`})}))})):this._post({type:xe,jobId:ct},Ge)}_onOpenedMessage(Xe){const{jobId:et,data:ct}=Xe,ft=this._outJobs.get(et);ft&&(this._outJobs.delete(et),(0,R.hw)(ft.abortHandle),ft.resolve(ct))}_onResponseMessage(Xe){const{jobId:et,error:ct,data:ft}=Xe,$e=this._outJobs.get(et);$e&&(this._outJobs.delete(et),(0,R.hw)($e.abortHandle),ct?$e.reject(T.Z.fromJSON(JSON.parse(ct))):$e.resolve(ft))}_post(Xe,et,ct){return(0,W.oi)(this.worker,Xe,et,ct)}}let Re=(0,te.Z)("esri-workers-debug")?1:(0,te.Z)("esri-mobile")?Math.min(navigator.hardwareConcurrency-1,3):(0,te.Z)("host-browser")?navigator.hardwareConcurrency-1:0;Re||(Re=(0,te.Z)("safari")&&(0,te.Z)("mac")?7:2);let we=0;const Me=[];function fe(){Se()}function je(Ke,Xe){return Je.apply(this,arguments)}function Je(){return(Je=(0,D.Z)(function*(Ke,Xe){const et=new U.Z;return yield et.open(Ke,Xe),et})).apply(this,arguments)}function Ie(Ke){return Le.apply(this,arguments)}function Le(){return(Le=(0,D.Z)(function*(Ke,Xe={}){if("string"!=typeof Ke)throw new T.Z("workers:undefined-module","modulePath is missing");let et=Xe.strategy||"distributed";if((0,te.Z)("host-webworker")&&!(0,te.Z)("esri-workers")&&(et="local"),"local"===et){let ct=yield ie.Z.loadWorker(Ke);ct||(ct=yield import(Ke)),(0,Z.k_)(Xe.signal);const ft=Xe.client||ct;return je([ie.Z.connect(ct)],{...Xe,client:ft})}if(yield Se(),(0,Z.k_)(Xe.signal),"dedicated"===et){const ct=we++%Re;return je([yield Me[ct].open(Ke,Xe)],Xe)}if(Xe.maxNumWorkers&&Xe.maxNumWorkers>0){const ct=Math.min(Xe.maxNumWorkers,Re);if(ct<Re){const ft=new Array(ct);for(let $e=0;$e<ct;++$e){const ut=we++%Re;ft[$e]=Me[ut].open(Ke,Xe)}return je(ft,Xe)}}return je(Me.map(ct=>ct.open(Ke,Xe)),Xe)})).apply(this,arguments)}let st,ce=null;function Se(){return ze.apply(this,arguments)}function ze(){return(ze=(0,D.Z)(function*(){if(ce)return ce;st=new AbortController;const Ke=[];for(let Xe=0;Xe<Re;Xe++){const et=Ce.create(Xe).then(ct=>(Me[Xe]=ct,ct));Ke.push(et)}return ce=Promise.all(Ke),ce})).apply(this,arguments)}},27402:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Sn});var V,D=M(17626),T=M(86810),te=M(58817),Z=M(77712),U=M(66656),ie=M(68653),k=M(76898),B=M(99433),R=M(90912);M(85931);let Q=V=class extends T.wq{constructor(zt){super(zt),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new V({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],Q.prototype,"expression",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],Q.prototype,"name",void 0),(0,D._)([(0,Z.Cb)({type:["boolean","date","number","string"],json:{write:!0}})],Q.prototype,"returnType",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],Q.prototype,"title",void 0),Q=V=(0,D._)([(0,k.j)("esri.form.ExpressionInfo")],Q);const ne=Q;let J=class extends T.wq{constructor(zt){super(zt),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],J.prototype,"description",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],J.prototype,"label",void 0),(0,D._)([(0,Z.Cb)()],J.prototype,"type",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],J.prototype,"visibilityExpression",void 0),J=(0,D._)([(0,k.j)("esri.form.elements.Element")],J);const X=J;var Y;let F=Y=class extends T.wq{constructor(zt){super(zt),this.type=null}clone(){return new Y({type:this.type})}};(0,D._)([(0,Z.Cb)({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],F.prototype,"type",void 0),F=Y=(0,D._)([(0,k.j)("esri.form.elements.inputs.AttachmentInput")],F);const x=F;var $;let N=$=class extends X{constructor(zt){super(zt),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new $({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],N.prototype,"attachmentKeyword",void 0),(0,D._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],N.prototype,"editable",void 0),(0,D._)([(0,Z.Cb)({type:x,json:{read:{source:"inputType"},write:{target:"inputType"}}})],N.prototype,"input",void 0),(0,D._)([(0,Z.Cb)({type:["attachment"],json:{read:!1,write:!0}})],N.prototype,"type",void 0),N=$=(0,D._)([(0,k.j)("esri.form.elements.AttachmentElement")],N);const z=N;var q=M(55538),ee=M(63290);let re=class extends T.wq{constructor(zt){super(zt),this.type=null}};(0,D._)([(0,Z.Cb)()],re.prototype,"type",void 0),re=(0,D._)([(0,k.j)("esri.form.elements.inputs.Input")],re);const le=re;let _e=class extends le{constructor(zt){super(zt),this.maxLength=null,this.minLength=0}};(0,D._)([(0,Z.Cb)({type:Number,json:{write:!0}})],_e.prototype,"maxLength",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{write:!0}})],_e.prototype,"minLength",void 0),_e=(0,D._)([(0,k.j)("esri.form.elements.inputs.TextInput")],_e);const ae=_e;var he;let se=he=class extends ae{constructor(zt){super(zt),this.type="barcode-scanner"}clone(){return new he({maxLength:this.maxLength,minLength:this.minLength})}};(0,D._)([(0,Z.Cb)({type:["barcode-scanner"],json:{read:!1,write:!0}})],se.prototype,"type",void 0),se=he=(0,D._)([(0,k.j)("esri.form.elements.inputs.BarcodeScannerInput")],se);const ue=se;var ge;let be=ge=class extends le{constructor(zt){super(zt),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new ge({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],be.prototype,"noValueOptionLabel",void 0),(0,D._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],be.prototype,"showNoValueOption",void 0),(0,D._)([(0,Z.Cb)({type:["combo-box"],json:{read:!1,write:!0}})],be.prototype,"type",void 0),be=ge=(0,D._)([(0,k.j)("esri.form.elements.inputs.ComboBoxInput")],be);const me=be;var Oe;function oe(zt){return null!=zt?new Date(zt):null}function de(zt){return zt?zt.getTime():null}let ve=Oe=class extends le{constructor(zt){super(zt),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(zt,hn){return oe(hn.max)}writeMax(zt,hn){hn.max=de(zt)}readMin(zt,hn){return oe(hn.min)}writeMin(zt,hn){hn.min=de(zt)}clone(){return new Oe({includeTime:this.includeTime,max:this.max,min:this.min})}};(0,D._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],ve.prototype,"includeTime",void 0),(0,D._)([(0,Z.Cb)({type:Date,json:{type:Number,write:!0}})],ve.prototype,"max",void 0),(0,D._)([(0,ie.r)("max")],ve.prototype,"readMax",null),(0,D._)([(0,B.c)("max")],ve.prototype,"writeMax",null),(0,D._)([(0,Z.Cb)({type:Date,json:{type:Number,write:!0}})],ve.prototype,"min",void 0),(0,D._)([(0,ie.r)("min")],ve.prototype,"readMin",null),(0,D._)([(0,B.c)("min")],ve.prototype,"writeMin",null),(0,D._)([(0,Z.Cb)({type:["datetime-picker"],json:{read:!1,write:!0}})],ve.prototype,"type",void 0),ve=Oe=(0,D._)([(0,k.j)("esri.form.elements.inputs.DateTimePickerInput")],ve);const De=ve;var xe;let Ce=xe=class extends le{constructor(zt){super(zt),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new xe({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],Ce.prototype,"noValueOptionLabel",void 0),(0,D._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],Ce.prototype,"showNoValueOption",void 0),(0,D._)([(0,Z.Cb)({type:["radio-buttons"],json:{read:!1,write:!0}})],Ce.prototype,"type",void 0),Ce=xe=(0,D._)([(0,k.j)("esri.form.elements.inputs.RadioButtonsInput")],Ce);const Re=Ce;var we;let Me=we=class extends le{constructor(zt){super(zt),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new we({offValue:this.offValue,onValue:this.onValue})}};(0,D._)([(0,Z.Cb)({type:[String,Number],json:{write:!0}})],Me.prototype,"offValue",void 0),(0,D._)([(0,Z.Cb)({type:[String,Number],json:{write:!0}})],Me.prototype,"onValue",void 0),(0,D._)([(0,Z.Cb)({type:["switch"],json:{read:!1,write:!0}})],Me.prototype,"type",void 0),Me=we=(0,D._)([(0,k.j)("esri.form.elements.inputs.SwitchInput")],Me);const fe=Me;var ye;let je=ye=class extends ae{constructor(zt){super(zt),this.type="text-area"}clone(){return new ye({maxLength:this.maxLength,minLength:this.minLength})}};(0,D._)([(0,Z.Cb)({type:["text-area"],json:{read:!1,write:!0}})],je.prototype,"type",void 0),je=ye=(0,D._)([(0,k.j)("esri.form.elements.inputs.TextAreaInput")],je);const Je=je;var Ie;let Le=Ie=class extends ae{constructor(zt){super(zt),this.type="text-box"}clone(){return new Ie({maxLength:this.maxLength,minLength:this.minLength})}};(0,D._)([(0,Z.Cb)({type:["text-box"],json:{read:!1,write:!0}})],Le.prototype,"type",void 0),Le=Ie=(0,D._)([(0,k.j)("esri.form.elements.inputs.TextBoxInput")],Le);const st={base:le,key:"type",typeMap:{"barcode-scanner":ue,"combo-box":me,"datetime-picker":De,"radio-buttons":Re,switch:fe,"text-area":Je,"text-box":Le}};var Se,ce=M(26141);const ze="esri.form.elements.FieldElement",Ke=ee.Z.getLogger(ze);let Xe=Se=class extends X{constructor(zt){super(zt),this.domain=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}get editable(){return(0,q.Mr)(Ke,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._get("editable")??!0}set editable(zt){(0,q.Mr)(Ke,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._set("editable",zt)}clone(){return new Se({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};(0,D._)([(0,Z.Cb)({types:ce.V5,json:{read:{reader:ce.im},write:!0}})],Xe.prototype,"domain",void 0),(0,D._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],Xe.prototype,"editable",null),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],Xe.prototype,"editableExpression",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],Xe.prototype,"fieldName",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],Xe.prototype,"hint",void 0),(0,D._)([(0,Z.Cb)({types:st,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Xe.prototype,"input",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],Xe.prototype,"requiredExpression",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{read:!1,write:!0}})],Xe.prototype,"type",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],Xe.prototype,"valueExpression",void 0),Xe=Se=(0,D._)([(0,k.j)(ze)],Xe);const et=Xe;var ft,ct=M(51686);let $e=ft=class extends X{constructor(zt){super(zt),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new ft({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:(0,te.d9)(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};(0,D._)([(0,Z.Cb)({type:Number,json:{write:!0}})],$e.prototype,"displayCount",void 0),(0,D._)([(0,Z.Cb)({type:["list"],json:{write:!0}})],$e.prototype,"displayType",void 0),(0,D._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],$e.prototype,"editable",void 0),(0,D._)([(0,Z.Cb)({type:[ct.Z],json:{write:!0}})],$e.prototype,"orderByFields",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{write:!0}})],$e.prototype,"relationshipId",void 0),(0,D._)([(0,Z.Cb)({type:["relationship"],json:{read:!1,write:!0}})],$e.prototype,"type",void 0),$e=ft=(0,D._)([(0,k.j)("esri.form.elements.RelationshipElement")],$e);const ut=$e;function qe(zt){return{typesWithGroup:{base:X,key:"type",typeMap:{attachment:z,field:et,group:zt,relationship:ut}},typesWithoutGroup:{base:X,key:"type",typeMap:{attachment:z,field:et,relationship:ut}}}}function ke(zt,hn,bn=!0){if(!zt)return null;const jn=bn?hn.typesWithGroup.typeMap:hn.typesWithoutGroup.typeMap;return zt.filter(zn=>jn[zn.type]).map(zn=>jn[zn.type].fromJSON(zn))}function Ge(zt,hn,bn=!0){if(!zt)return null;const jn=bn?hn.typesWithGroup.typeMap:hn.typesWithoutGroup.typeMap;return zt.filter(zn=>jn[zn.type]).map(zn=>zn.toJSON())}function We(zt,hn,bn=!0){return zt?zt.map(jn=>(0,R.N7)(bn?hn.typesWithGroup:hn.typesWithoutGroup,jn)):null}var tt;let at=tt=class extends X{constructor(zt){super(zt),this.elements=null,this.initialState="expanded",this.type="group"}castElements(zt){return We(zt,yt,!1)}readElements(zt,hn){return ke(hn.formElements,yt,!1)}writeElements(zt,hn){hn.formElements=Ge(zt,yt,!1)}clone(){return new tt({description:this.description,elements:(0,te.d9)(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,D._)([(0,Z.Cb)({json:{write:!0}})],at.prototype,"elements",void 0),(0,D._)([(0,U.p)("elements")],at.prototype,"castElements",null),(0,D._)([(0,ie.r)("elements",["formElements"])],at.prototype,"readElements",null),(0,D._)([(0,B.c)("elements")],at.prototype,"writeElements",null),(0,D._)([(0,Z.Cb)({type:["collapsed","expanded"],json:{write:!0}})],at.prototype,"initialState",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{read:!1,write:!0}})],at.prototype,"type",void 0),at=tt=(0,D._)([(0,k.j)("esri.form.elements.GroupElement")],at);const yt=qe(at);var Yt;const sn=qe(at);let un=Yt=class extends T.wq{constructor(zt){super(zt),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(zt){return We(zt,sn)}readElements(zt,hn){return ke(hn.formElements,sn)}writeElements(zt,hn){hn.formElements=Ge(zt,sn)}clone(){return new Yt({description:this.description,expressionInfos:(0,te.d9)(this.expressionInfos),elements:(0,te.d9)(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}};(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],un.prototype,"description",void 0),(0,D._)([(0,Z.Cb)({json:{write:!0}})],un.prototype,"elements",void 0),(0,D._)([(0,U.p)("elements")],un.prototype,"castElements",null),(0,D._)([(0,ie.r)("elements",["formElements"])],un.prototype,"readElements",null),(0,D._)([(0,B.c)("elements")],un.prototype,"writeElements",null),(0,D._)([(0,Z.Cb)({type:[ne],json:{write:!0}})],un.prototype,"expressionInfos",void 0),(0,D._)([(0,Z.Cb)({type:Boolean,json:{default:!1,write:!0}})],un.prototype,"preserveFieldValuesWhenHidden",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],un.prototype,"title",void 0),un=Yt=(0,D._)([(0,k.j)("esri.form.FormTemplate")],un);const Sn=un},29132:(nt,Te,M)=>{"use strict";M.d(Te,{qM:()=>Q});var D=M(90912),T=M(2004),te=M(21674),Z=M(72854),U=M(72642),ie=M(37118),k=M(55214);M(65234),M(71774),M(91179);const Q={base:te.Z,key:"type",typeMap:{extent:T.Z,multipoint:Z.Z,point:U.Z,polyline:k.Z,polygon:ie.Z}};(0,D.N7)(Q)},2004:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>$});var X,D=M(17626),T=M(62208),te=M(77275),Z=M(77712),k=(M(90912),M(85931),M(76898)),B=M(21674),R=M(72642),W=M(65234),V=M(33190),Q=M(11519),ne=M(37053),J=M(46367);function F(N,z,q){return null==z?q:null==q?z:N(z,q)}let x=X=class extends B.Z{constructor(...N){super(...N),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(N,z,q,ee,re){return function Y(N){return N&&("esri.geometry.SpatialReference"===N.declaredClass||null!=N.wkid)}(N)?{spatialReference:N,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof N?(N.spatialReference=null==N.spatialReference?W.Z.WGS84:N.spatialReference,N):{xmin:N,ymin:z,xmax:q,ymax:ee,spatialReference:re??W.Z.WGS84}}static fromBounds(N,z){return new X({xmin:N[0],ymin:N[1],xmax:N[2],ymax:N[3],spatialReference:z})}static fromPoint(N){return new X({xmin:N.x,ymin:N.y,zmin:N.z,xmax:N.x,ymax:N.y,zmax:N.z,spatialReference:N.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const N=new R.Z({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(N.z=.5*(this.zmin+this.zmax)),this.hasM&&(N.m=.5*(this.mmin+this.mmax)),N}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(N){const z=this.center;return null!=N.z&&this.hasZ?this.offset(N.x-z.x,N.y-z.y,N.z-z.z):this.offset(N.x-z.x,N.y-z.y)}clone(){const N=new X;return N.xmin=this.xmin,N.ymin=this.ymin,N.xmax=this.xmax,N.ymax=this.ymax,N.spatialReference=this.spatialReference,null!=this.zmin&&(N.zmin=this.zmin,N.zmax=this.zmax),null!=this.mmin&&(N.mmin=this.mmin,N.mmax=this.mmax),N}contains(N){if(!N)return!1;const z=this.spatialReference,q=N.spatialReference;return z&&q&&!z.equals(q)&&(0,J.Q8)(z,q)&&(N=z.isWebMercator?(0,J.$)(N):(0,J.Sx)(N,!0)),"point"===N.type?(0,V.aV)(this,N):"extent"===N.type&&(0,V.uP)(this,N)}equals(N){if(this===N)return!0;if((0,T.Wi)(N))return!1;const z=this.spatialReference,q=N.spatialReference;return z&&q&&!z.equals(q)&&(0,J.Q8)(z,q)&&(N=z.isWebMercator?(0,J.$)(N):(0,J.Sx)(N,!0)),this.xmin===N.xmin&&this.ymin===N.ymin&&this.zmin===N.zmin&&this.mmin===N.mmin&&this.xmax===N.xmax&&this.ymax===N.ymax&&this.zmax===N.zmax&&this.mmax===N.mmax}expand(N){const z=.5*(1-N),q=this.width*z,ee=this.height*z;if(this.xmin+=q,this.ymin+=ee,this.xmax-=q,this.ymax-=ee,this.hasZ){const re=(this.zmax-this.zmin)*z;this.zmin+=re,this.zmax-=re}if(this.hasM){const re=(this.mmax-this.mmin)*z;this.mmin+=re,this.mmax-=re}return this}intersects(N){if((0,T.Wi)(N))return!1;"mesh"===N.type&&(N=N.extent);const z=this.spatialReference,q=N.spatialReference;return z&&q&&!(0,ne.fS)(z,q)&&(0,J.Q8)(z,q)&&(N=z.isWebMercator?(0,J.$)(N):(0,J.Sx)(N,!0)),(0,Q.IY)(N.type)(this,N)}normalize(){const N=this._normalize(!1,!0);return Array.isArray(N)?N:[N]}offset(N,z,q){return this.xmin+=N,this.ymin+=z,this.xmax+=N,this.ymax+=z,null!=q&&(this.zmin+=q,this.zmax+=q),this}shiftCentralMeridian(){return this._normalize(!0)}union(N){return this===N||(this.xmin=Math.min(this.xmin,N.xmin),this.ymin=Math.min(this.ymin,N.ymin),this.xmax=Math.max(this.xmax,N.xmax),this.ymax=Math.max(this.ymax,N.ymax),(this.hasZ||N.hasZ)&&(this.zmin=F(Math.min,this.zmin,N.zmin),this.zmax=F(Math.max,this.zmax,N.zmax)),(this.hasM||N.hasM)&&(this.mmin=F(Math.min,this.mmin,N.mmin),this.mmax=F(Math.max,this.mmax,N.mmax))),this}intersection(N){return this===N?this:(0,T.Wi)(N)||!this.intersects(N)?null:(this.xmin=Math.max(this.xmin,N.xmin),this.ymin=Math.max(this.ymin,N.ymin),this.xmax=Math.min(this.xmax,N.xmax),this.ymax=Math.min(this.ymax,N.ymax),(this.hasZ||N.hasZ)&&(this.zmin=F(Math.max,this.zmin,N.zmin),this.zmax=F(Math.min,this.zmax,N.zmax)),(this.hasM||N.hasM)&&(this.mmin=F(Math.max,this.mmin,N.mmin),this.mmax=F(Math.min,this.mmax,N.mmax)),this)}toJSON(N){return this.write({},N)}_shiftCM(N=(0,ne.C5)(this.spatialReference)){if(!N||!this.spatialReference)return this;const z=this.spatialReference,q=this._getCM(N);if(q){const ee=z.isWebMercator?(0,J.Sx)(q):q;this.xmin-=q.x,this.xmax-=q.x,z.isWebMercator||(ee.x=this._normalizeX(ee.x,N).x),this.spatialReference=new W.Z((0,te.gx)((z.isWGS84?N.altTemplate:null)??N.wkTemplate,{Central_Meridian:ee.x}))}return this}_getCM(N){let z=null;const[q,ee]=N.valid,re=this.xmin,le=this.xmax;return re>=q&&re<=ee&&le>=q&&le<=ee||(z=this.center),z}_normalize(N,z,q){const ee=this.spatialReference;if(!ee)return this;const re=q??(0,ne.C5)(ee);if(null==re)return this;const le=this._getParts(re).map(he=>he.extent);if(le.length<2)return le[0]||this;if(le.length>2)return N?this._shiftCM(re):this.set({xmin:re.valid[0],xmax:re.valid[1]});if(N)return this._shiftCM(re);if(z)return le;let _e=!0,ae=!0;return le.forEach(he=>{he.hasZ||(_e=!1),he.hasM||(ae=!1)}),{rings:le.map(he=>{const se=[[he.xmin,he.ymin],[he.xmin,he.ymax],[he.xmax,he.ymax],[he.xmax,he.ymin],[he.xmin,he.ymin]];if(_e){const ue=(he.zmax-he.zmin)/2;for(let ge=0;ge<se.length;ge++)se[ge].push(ue)}if(ae){const ue=(he.mmax-he.mmin)/2;for(let ge=0;ge<se.length;ge++)se[ge].push(ue)}return se}),hasZ:_e,hasM:ae,spatialReference:ee}}_getParts(N){let z=this.cache._parts;if(!z){z=[];const{ymin:re,ymax:le,spatialReference:_e}=this,ae=this.width,he=this.xmin,se=this.xmax;let ue;N=N||(0,ne.C5)(_e);const[ge,be]=N.valid;ue=this._normalizeX(this.xmin,N);const me=ue.x,Oe=ue.frameId;ue=this._normalizeX(this.xmax,N);const oe=ue.x,de=ue.frameId,ve=me===oe&&ae>0;if(ae>2*be){const De=new X(he<se?me:oe,re,be,le,_e),xe=new X(ge,re,he<se?oe:me,le,_e),Ce=new X(0,re,be,le,_e),Re=new X(ge,re,0,le,_e),we=[],Me=[];De.contains(Ce)&&we.push(Oe),De.contains(Re)&&Me.push(Oe),xe.contains(Ce)&&we.push(de),xe.contains(Re)&&Me.push(de);for(let fe=Oe+1;fe<de;fe++)we.push(fe),Me.push(fe);z.push({extent:De,frameIds:[Oe]},{extent:xe,frameIds:[de]},{extent:Ce,frameIds:we},{extent:Re,frameIds:Me})}else me>oe||ve?z.push({extent:new X(me,re,be,le,_e),frameIds:[Oe]},{extent:new X(ge,re,oe,le,_e),frameIds:[de]}):z.push({extent:new X(me,re,oe,le,_e),frameIds:[Oe]});this.cache._parts=z}const q=this.hasZ,ee=this.hasM;if(q||ee){const re={};q&&(re.zmin=this.zmin,re.zmax=this.zmax),ee&&(re.mmin=this.mmin,re.mmax=this.mmax);for(let le=0;le<z.length;le++)z[le].extent.set(re)}return z}_normalizeX(N,z){const[q,ee]=z.valid,re=2*ee;let le,_e=0;return N>ee?(le=Math.ceil(Math.abs(N-ee)/re),N-=le*re,_e=le):N<q&&(le=Math.ceil(Math.abs(N-q)/re),N+=le*re,_e=-le),{x:N,frameId:_e}}};(0,D._)([(0,Z.Cb)({readOnly:!0})],x.prototype,"cache",null),(0,D._)([(0,Z.Cb)({readOnly:!0})],x.prototype,"center",null),(0,D._)([(0,Z.Cb)({readOnly:!0})],x.prototype,"extent",null),(0,D._)([(0,Z.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],x.prototype,"hasM",null),(0,D._)([(0,Z.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],x.prototype,"hasZ",null),(0,D._)([(0,Z.Cb)({readOnly:!0})],x.prototype,"height",null),(0,D._)([(0,Z.Cb)({readOnly:!0})],x.prototype,"width",null),(0,D._)([(0,Z.Cb)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],x.prototype,"xmin",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{write:!0}})],x.prototype,"ymin",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],x.prototype,"mmin",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],x.prototype,"zmin",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{write:!0}})],x.prototype,"xmax",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{write:!0}})],x.prototype,"ymax",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],x.prototype,"mmax",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],x.prototype,"zmax",void 0),x=X=(0,D._)([(0,k.j)("esri.geometry.Extent")],x),x.prototype.toJSON.isDefaultToJSON=!0;const $=x},21674:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var D=M(17626),T=M(86810),te=M(77712),ie=(M(90912),M(85931),M(68653)),k=M(76898),B=M(65234);let R=class extends T.wq{constructor(...V){super(...V),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=B.Z.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(V,Q){if(V instanceof B.Z)return V;if(null!=V){const ne=new B.Z;return ne.read(V,Q),ne}return V}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(V){return this.cache[V]}setCacheValue(V,Q){this.cache[V]=Q}};(0,D._)([(0,te.Cb)()],R.prototype,"type",void 0),(0,D._)([(0,te.Cb)({readOnly:!0})],R.prototype,"cache",null),(0,D._)([(0,te.Cb)({readOnly:!0})],R.prototype,"extent",null),(0,D._)([(0,te.Cb)({type:Boolean,json:{write:{overridePolicy:V=>({enabled:V})}}})],R.prototype,"hasM",void 0),(0,D._)([(0,te.Cb)({type:Boolean,json:{write:{overridePolicy:V=>({enabled:V})}}})],R.prototype,"hasZ",void 0),(0,D._)([(0,te.Cb)({type:B.Z,json:{write:!0},value:B.Z.WGS84})],R.prototype,"spatialReference",void 0),(0,D._)([(0,ie.r)("spatialReference")],R.prototype,"readSpatialReference",null),R=(0,D._)([(0,k.j)("esri.geometry.Geometry")],R);const W=R},79334:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>$});var Q,D=M(17626),T=M(85931),te=M(2076),Z=M(86810),U=M(16730),ie=M(14889),k=M(77712),R=(M(90912),M(68653)),W=M(76898),V=M(99433);const ne=(0,te.w)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),J=ne.jsonValues.slice();(0,T.e$)(J,"orthometric");const X=(0,te.w)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Y=Q=class extends Z.wq{constructor(N){super(N),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(N,z,q){return ne.write(N,z,q)}readHeightModel(N,z,q){return ne.read(N)||(q&&q.messages&&q.messages.push(function x(N,z){return new ie.Z("height-model:unsupported",`Height model of value '${N}' is not supported`,z)}(N,{context:q})),null)}readHeightUnit(N,z,q){return X.read(N)||(q&&q.messages&&q.messages.push(F(N,{context:q})),null)}readHeightUnitService(N,z,q){return(0,U.$C)(N)||X.read(N)||(q&&q.messages&&q.messages.push(F(N,{context:q})),null)}readVertCRS(N,z){return z.vertCRS||z.ellipsoid||z.geoid}clone(){return new Q({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(N){return!!N&&(this===N||this.heightModel===N.heightModel&&this.heightUnit===N.heightUnit&&this.vertCRS===N.vertCRS)}static deriveUnitFromSR(N,z){const q=(0,U.cM)(z);return new Q({heightModel:N.heightModel,heightUnit:q,vertCRS:N.vertCRS})}write(N,z){return z={origin:"web-scene",...z},super.write(N,z)}static fromJSON(N){if(!N)return null;const z=new Q;return z.read(N,{origin:"web-scene"}),z}};function F(N,z){return new ie.Z("height-unit:unsupported",`Height unit of value '${N}' is not supported`,z)}(0,D._)([(0,k.Cb)({type:ne.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:J,default:"ellipsoidal"}}}})],Y.prototype,"heightModel",void 0),(0,D._)([(0,V.c)("web-scene","heightModel")],Y.prototype,"writeHeightModel",null),(0,D._)([(0,R.r)(["web-scene","service"],"heightModel")],Y.prototype,"readHeightModel",null),(0,D._)([(0,k.Cb)({type:X.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:X.jsonValues,write:X.write}}}})],Y.prototype,"heightUnit",void 0),(0,D._)([(0,R.r)("web-scene","heightUnit")],Y.prototype,"readHeightUnit",null),(0,D._)([(0,R.r)("service","heightUnit")],Y.prototype,"readHeightUnitService",null),(0,D._)([(0,k.Cb)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Y.prototype,"vertCRS",void 0),(0,D._)([(0,R.r)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Y.prototype,"readVertCRS",null),Y=Q=(0,D._)([(0,W.j)("esri.geometry.HeightModelInfo")],Y);const $=Y},72854:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>X});var V,D=M(17626),T=M(58817),te=M(77712),U=(M(90912),M(76898)),ie=M(99433),k=M(2004),B=M(21674),R=M(72642),W=M(18945);function Q(Y){return(F,x)=>null==F?x:null==x?F:Y(F,x)}let J=V=class extends B.Z{constructor(...Y){super(...Y),this.points=[],this.type="multipoint"}normalizeCtorArgs(Y,F){if(!Y&&!F)return{};const x={};Array.isArray(Y)?(x.points=Y,x.spatialReference=F):function ne(Y){return Y&&("esri.geometry.SpatialReference"===Y.declaredClass||null!=Y.wkid)}(Y)?x.spatialReference=Y:(Y.points&&(x.points=Y.points),Y.spatialReference&&(x.spatialReference=Y.spatialReference),Y.hasZ&&(x.hasZ=Y.hasZ),Y.hasM&&(x.hasM=Y.hasM));const $=x.points&&x.points[0];return $&&(void 0===x.hasZ&&void 0===x.hasM?(x.hasZ=$.length>2,x.hasM=!1):void 0===x.hasZ?x.hasZ=$.length>3:void 0===x.hasM&&(x.hasM=$.length>3)),x}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const Y=this.points;if(!Y.length)return null;const F=new k.Z,x=this.hasZ,$=this.hasM,N=x?3:2,z=Y[0],q=Q(Math.min),ee=Q(Math.max);let re,le,_e,ae,[he,se]=z,[ue,ge]=z;for(let be=0,me=Y.length;be<me;be++){const Oe=Y[be],[oe,de]=Oe;if(he=q(he,oe),se=q(se,de),ue=ee(ue,oe),ge=ee(ge,de),x&&Oe.length>2){const ve=Oe[2];re=q(re,ve),_e=ee(_e,ve)}if($&&Oe.length>N){const ve=Oe[N];le=q(le,ve),ae=ee(ae,ve)}}return F.xmin=he,F.ymin=se,F.xmax=ue,F.ymax=ge,F.spatialReference=this.spatialReference,x?(F.zmin=re,F.zmax=_e):(F.zmin=void 0,F.zmax=void 0),$?(F.mmin=le,F.mmax=ae):(F.mmin=void 0,F.mmax=void 0),F}writePoints(Y,F){F.points=(0,T.d9)(this.points)}addPoint(Y){return(0,W.l)(this,Y),Array.isArray(Y)?this.points.push(Y):this.points.push(Y.toArray()),this.notifyChange("points"),this}clone(){const Y={points:(0,T.d9)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(Y.hasZ=!0),this.hasM&&(Y.hasM=!0),new V(Y)}getPoint(Y){if(!this._validateInputs(Y))return null;const F=this.points[Y],x={x:F[0],y:F[1],spatialReference:this.spatialReference};let $=2;return this.hasZ&&(x.z=F[2],$=3),this.hasM&&(x.m=F[$]),new R.Z(x)}removePoint(Y){if(!this._validateInputs(Y))return null;const F=new R.Z(this.points.splice(Y,1)[0],this.spatialReference);return this.notifyChange("points"),F}setPoint(Y,F){return this._validateInputs(Y)?((0,W.l)(this,F),Array.isArray(F)||(F=F.toArray()),this.points[Y]=F,this.notifyChange("points"),this):this}toJSON(Y){return this.write({},Y)}_validateInputs(Y){return null!=Y&&Y>=0&&Y<this.points.length}};(0,D._)([(0,te.Cb)({readOnly:!0})],J.prototype,"cache",null),(0,D._)([(0,te.Cb)()],J.prototype,"extent",null),(0,D._)([(0,te.Cb)({type:[[Number]],json:{write:{isRequired:!0}}})],J.prototype,"points",void 0),(0,D._)([(0,ie.c)("points")],J.prototype,"writePoints",null),J=V=(0,D._)([(0,U.j)("esri.geometry.Multipoint")],J),J.prototype.toJSON.isDefaultToJSON=!0;const X=J},72642:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>z});var F,D=M(17626),T=M(63290),te=M(62208),Z=M(77712),U=M(66656),k=(M(85931),M(68653)),B=M(76898),R=M(99433),W=M(90912),V=M(21674),Q=M(65234),X=M(37053),Y=M(46367);const x=[0,0];function $(q){return q&&("esri.geometry.SpatialReference"===q.declaredClass||null!=q.wkid)}let N=F=class extends V.Z{static copy(q,ee){ee._set("x",q._get("x")),ee._set("y",q._get("y")),ee._set("z",q._get("z")),ee._set("m",q._get("m"));const re=q._get("spatialReference");ee._set("spatialReference",Object.isFrozen(re)?re:re.clone())}constructor(...q){super(...q),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(q,ee,re,le,_e){let ae;if(Array.isArray(q))ae=q,_e=ee,q=ae[0],ee=ae[1],re=ae[2],le=ae[3];else if(q&&"object"==typeof q){if(ae=q,q=null!=ae.x?ae.x:ae.longitude,ee=null!=ae.y?ae.y:ae.latitude,re=ae.z,le=ae.m,(_e=ae.spatialReference)&&"esri.geometry.SpatialReference"!==_e.declaredClass&&(_e=new Q.Z(_e)),null!=ae.longitude||null!=ae.latitude)if(null==ae.longitude)T.Z.getLogger(this.declaredClass).warn(".longitude=","Latitude was defined without longitude");else if(null==ae.latitude)T.Z.getLogger(this.declaredClass).warn(".latitude=","Longitude was defined without latitude");else if(!ae.declaredClass&&_e&&_e.isWebMercator){const se=(0,Y.hG)(ae.longitude,ae.latitude,x);q=se[0],ee=se[1]}}else $(re)?(_e=re,re=null):$(le)&&(_e=le,le=null);const he={x:q,y:ee};return null==he.x&&null!=he.y?T.Z.getLogger(this.declaredClass).warn(".y=","Y coordinate was defined without an X coordinate"):null==he.y&&null!=he.x&&T.Z.getLogger(this.declaredClass).warn(".x=","X coordinate was defined without a Y coordinate"),null!=_e&&(he.spatialReference=_e),null!=re&&(he.z=re),null!=le&&(he.m=le),he}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(q){q!==(void 0!==this._get("m"))&&(this._set("m",q?0:void 0),this._set("hasM",q))}get hasZ(){return void 0!==this.z}set hasZ(q){q!==(void 0!==this._get("z"))&&(this._set("z",q?0:void 0),this._set("hasZ",q))}get latitude(){const{spatialReference:q,x:ee,y:re}=this;if(q){if(q.isWebMercator)return(0,Y.R6)(ee,re,x)[1];if(q.isGeographic)return re}return null}set latitude(q){const{spatialReference:ee,x:re}=this;null!=q&&ee&&(ee.isWebMercator?this._set("y",(0,Y.hG)(re,q,x)[1]):ee.isGeographic&&this._set("y",q),this._set("latitude",q))}get longitude(){const{x:q,y:ee,spatialReference:re}=this;if(re){if(re.isWebMercator)return(0,Y.R6)(q,ee,x)[0];if(re.isGeographic)return q}return null}set longitude(q){const{y:ee,spatialReference:re}=this;null!=q&&re&&(re.isWebMercator?this._set("x",(0,Y.hG)(q,ee,x)[0]):re.isGeographic&&this._set("x",q),this._set("longitude",q))}writeX(q,ee,re){ee[re]=isNaN(q)?"NaN":q}readX(q){return"string"==typeof q?NaN:q}clone(){const q=new F;return q.x=this.x,q.y=this.y,q.z=this.z,q.m=this.m,q.spatialReference=this.spatialReference,q}copy(q){return F.copy(q,this),this}equals(q){if((0,te.Wi)(q))return!1;const{x:ee,y:re,z:le,m:_e,spatialReference:ae}=this,{z:he,m:se}=q;let{x:ue,y:ge,spatialReference:be}=q;if(!ae.equals(be))if(ae.isWebMercator&&be.isWGS84)[ue,ge]=(0,Y.hG)(ue,ge),be=ae;else{if(!ae.isWGS84||!be.isWebMercator)return!1;[ue,ge]=(0,Y.R6)(ue,ge),be=ae}return ee===ue&&re===ge&&le===he&&_e===se&&ae.wkid===be.wkid}offset(q,ee,re){return this.x+=q,this.y+=ee,null!=re&&(this.z=(this.z??0)+re),this}normalize(){if(!this.spatialReference)return this;const q=(0,X.C5)(this.spatialReference);if(!q)return this;let ee=this.x;const[re,le]=q.valid,_e=2*le;let ae;return ee>le?(ae=Math.ceil(Math.abs(ee-le)/_e),ee-=ae*_e):ee<re&&(ae=Math.ceil(Math.abs(ee-re)/_e),ee+=ae*_e),this._set("x",ee),this}distance(q){return function ne(q,ee){const re=q.x-ee.x,le=q.y-ee.y,_e=q.hasZ&&ee.hasZ?q.z-ee.z:0;return Math.sqrt(re*re+le*le+_e*_e)}(this,q)}toArray(){const q=this.hasZ,ee=this.hasM;return q&&ee?[this.x,this.y,this.z,this.m]:q?[this.x,this.y,this.z]:ee?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(q){return this.write({},q)}};(0,D._)([(0,Z.Cb)({readOnly:!0})],N.prototype,"cache",null),(0,D._)([(0,Z.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],N.prototype,"hasM",null),(0,D._)([(0,Z.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],N.prototype,"hasZ",null),(0,D._)([(0,Z.Cb)({type:Number})],N.prototype,"latitude",null),(0,D._)([(0,Z.Cb)({type:Number})],N.prototype,"longitude",null),(0,D._)([(0,Z.Cb)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),(0,U.p)(q=>isNaN(q)?q:(0,W.q9)(q))],N.prototype,"x",void 0),(0,D._)([(0,R.c)("x")],N.prototype,"writeX",null),(0,D._)([(0,k.r)("x")],N.prototype,"readX",null),(0,D._)([(0,Z.Cb)({type:Number,json:{write:!0}})],N.prototype,"y",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],N.prototype,"z",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],N.prototype,"m",void 0),N=F=(0,D._)([(0,B.j)("esri.geometry.Point")],N),N.prototype.toJSON.isDefaultToJSON=!0;const z=N},37118:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ee});var N,D=M(17626),T=M(85931),te=M(58817),Z=M(62208),U=M(77712),k=(M(90912),M(76898)),B=M(99433),R=M(2004),W=M(21674),V=M(72642),Q=M(65234),ne=M(27105),J=M(33190),X=M(25748),Y=M(15176),F=M(11519),x=M(46367),$=M(18945);function z(re){return!Array.isArray(re[0])}let q=N=class extends W.Z{static fromExtent(re){const le=re.clone().normalize(),_e=re.spatialReference;let ae=!1,he=!1;for(const ue of le)ue.hasZ&&(ae=!0),ue.hasM&&(he=!0);const se={rings:le.map(ue=>{const ge=[[ue.xmin,ue.ymin],[ue.xmin,ue.ymax],[ue.xmax,ue.ymax],[ue.xmax,ue.ymin],[ue.xmin,ue.ymin]];if(ae&&ue.hasZ){const be=ue.zmin+.5*(ue.zmax-ue.zmin);for(let me=0;me<ge.length;me++)ge[me].push(be)}if(he&&ue.hasM){const be=ue.mmin+.5*(ue.mmax-ue.mmin);for(let me=0;me<ge.length;me++)ge[me].push(be)}return ge}),spatialReference:_e};return ae&&(se.hasZ=!0),he&&(se.hasM=!0),new N(se)}constructor(...re){super(...re),this.rings=[],this.type="polygon"}normalizeCtorArgs(re,le){let _e,ae,he=null,se=null;return re&&!Array.isArray(re)?(he=re.rings?re.rings:null,le||(re.spatialReference?le=re.spatialReference:re.rings||(le=re)),_e=re.hasZ,ae=re.hasM):he=re,he=he||[],he.length&&he[0]&&null!=he[0][0]&&"number"==typeof he[0][0]&&(he=[he]),se=he[0]&&he[0][0],se&&(void 0===_e&&void 0===ae?(_e=se.length>2,ae=se.length>3):void 0===_e?_e=ae?se.length>3:se.length>2:void 0===ae&&(ae=_e?se.length>3:se.length>2)),{rings:he,spatialReference:le=le||Q.Z.WGS84,hasZ:_e,hasM:ae}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const re=(0,ne.tO)(this);if(!re||isNaN(re[0])||isNaN(re[1])||this.hasZ&&isNaN(re[2]))return null;const le=new V.Z;return le.x=re[0],le.y=re[1],le.spatialReference=this.spatialReference,this.hasZ&&(le.z=re[2]),le}get extent(){const{spatialReference:re}=this,le=(0,Y._w)(this);if(!le)return null;const _e=new R.Z(le);return _e.spatialReference=re,_e}get isSelfIntersecting(){return(0,F.Ff)(this.rings)}writeRings(re,le){le.rings=(0,te.d9)(this.rings)}addRing(re){if(!re)return;const le=this.rings,_e=le.length;if(z(re)){const ae=[];for(let he=0,se=re.length;he<se;he++)ae[he]=re[he].toArray();le[_e]=ae}else le[_e]=re.concat();return this.notifyChange("rings"),this}clone(){const re=new N;return re.spatialReference=this.spatialReference,re.rings=(0,te.d9)(this.rings),re.hasZ=this.hasZ,re.hasM=this.hasM,re}equals(re){if(this===re)return!0;if((0,Z.Wi)(re))return!1;const le=this.spatialReference,_e=re.spatialReference;if((0,Z.pC)(le)!==(0,Z.pC)(_e)||(0,Z.pC)(le)&&(0,Z.pC)(_e)&&!le.equals(_e)||this.rings.length!==re.rings.length)return!1;const ae=([he,se,ue,ge],[be,me,Oe,oe])=>he===be&&se===me&&(null==ue&&null==Oe||ue===Oe)&&(null==ge&&null==oe||ge===oe);for(let he=0;he<this.rings.length;he++)if(!(0,T.fS)(this.rings[he],re.rings[he],ae))return!1;return!0}contains(re){if(!re)return!1;const le=(0,x.iV)(re,this.spatialReference);return(0,J.CI)(this,(0,Z.pC)(le)?le:re)}isClockwise(re){let le;return le=z(re)?re.map(_e=>this.hasZ?this.hasM?[_e.x,_e.y,_e.z,_e.m]:[_e.x,_e.y,_e.z]:[_e.x,_e.y]):re,(0,X.bu)(le,this.hasM,this.hasZ)}getPoint(re,le){if(!this._validateInputs(re,le))return null;const _e=this.rings[re][le],ae=this.hasZ,he=this.hasM;return ae&&!he?new V.Z(_e[0],_e[1],_e[2],void 0,this.spatialReference):he&&!ae?new V.Z(_e[0],_e[1],void 0,_e[2],this.spatialReference):ae&&he?new V.Z(_e[0],_e[1],_e[2],_e[3],this.spatialReference):new V.Z(_e[0],_e[1],this.spatialReference)}insertPoint(re,le,_e){return this._validateInputs(re,le,!0)?((0,$.l)(this,_e),Array.isArray(_e)||(_e=_e.toArray()),this.rings[re].splice(le,0,_e),this.notifyChange("rings"),this):this}removePoint(re,le){if(!this._validateInputs(re,le))return null;const _e=new V.Z(this.rings[re].splice(le,1)[0],this.spatialReference);return this.notifyChange("rings"),_e}removeRing(re){if(!this._validateInputs(re,null))return null;const le=this.rings.splice(re,1)[0],_e=this.spatialReference,ae=le.map(he=>new V.Z(he,_e));return this.notifyChange("rings"),ae}setPoint(re,le,_e){return this._validateInputs(re,le)?((0,$.l)(this,_e),Array.isArray(_e)||(_e=_e.toArray()),this.rings[re][le]=_e,this.notifyChange("rings"),this):this}_validateInputs(re,le,_e=!1){if(null==re||re<0||re>=this.rings.length)return!1;if(null!=le){const ae=this.rings[re];if(_e&&(le<0||le>ae.length)||!_e&&(le<0||le>=ae.length))return!1}return!0}toJSON(re){return this.write({},re)}};(0,D._)([(0,U.Cb)({readOnly:!0})],q.prototype,"cache",null),(0,D._)([(0,U.Cb)({readOnly:!0})],q.prototype,"centroid",null),(0,D._)([(0,U.Cb)({readOnly:!0})],q.prototype,"extent",null),(0,D._)([(0,U.Cb)({readOnly:!0})],q.prototype,"isSelfIntersecting",null),(0,D._)([(0,U.Cb)({type:[[[Number]]],json:{write:{isRequired:!0}}})],q.prototype,"rings",void 0),(0,D._)([(0,B.c)("rings")],q.prototype,"writeRings",null),q=N=(0,D._)([(0,k.j)("esri.geometry.Polygon")],q),q.prototype.toJSON.isDefaultToJSON=!0;const ee=q},55214:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Y});var ne,D=M(17626),T=M(58817),te=M(77712),U=(M(90912),M(76898)),ie=M(99433),k=M(2004),B=M(21674),R=M(72642),W=M(65234),V=M(15176),Q=M(18945);let X=ne=class extends B.Z{constructor(...F){super(...F),this.paths=[],this.type="polyline"}normalizeCtorArgs(F,x){let $,N,z=null,q=null;return F&&!Array.isArray(F)?(z=F.paths?F.paths:null,x||(F.spatialReference?x=F.spatialReference:F.paths||(x=F)),$=F.hasZ,N=F.hasM):z=F,z=z||[],z.length&&z[0]&&null!=z[0][0]&&"number"==typeof z[0][0]&&(z=[z]),q=z[0]&&z[0][0],q&&(void 0===$&&void 0===N?($=q.length>2,N=!1):void 0===$?$=!N&&q.length>3:void 0===N&&(N=!$&&q.length>3)),{paths:z,spatialReference:x=x||W.Z.WGS84,hasZ:$,hasM:N}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:F}=this,x=(0,V.Wn)(this);if(!x)return null;const $=new k.Z(x);return $.spatialReference=F,$}writePaths(F,x){x.paths=(0,T.d9)(this.paths)}addPath(F){if(!F)return;const x=this.paths,$=x.length;if(function J(F){return!Array.isArray(F[0])}(F)){const N=[];for(let z=0,q=F.length;z<q;z++)N[z]=F[z].toArray();x[$]=N}else x[$]=F.concat();return this.notifyChange("paths"),this}clone(){const F=new ne;return F.spatialReference=this.spatialReference,F.paths=(0,T.d9)(this.paths),F.hasZ=this.hasZ,F.hasM=this.hasM,F}getPoint(F,x){if(!this._validateInputs(F,x))return null;const $=this.paths[F][x],N=this.hasZ,z=this.hasM;return N&&!z?new R.Z($[0],$[1],$[2],void 0,this.spatialReference):z&&!N?new R.Z($[0],$[1],void 0,$[2],this.spatialReference):N&&z?new R.Z($[0],$[1],$[2],$[3],this.spatialReference):new R.Z($[0],$[1],this.spatialReference)}insertPoint(F,x,$){return this._validateInputs(F,x,!0)?((0,Q.l)(this,$),Array.isArray($)||($=$.toArray()),this.paths[F].splice(x,0,$),this.notifyChange("paths"),this):this}removePath(F){if(!this._validateInputs(F,null))return null;const x=this.paths.splice(F,1)[0],$=this.spatialReference,N=x.map(z=>new R.Z(z,$));return this.notifyChange("paths"),N}removePoint(F,x){if(!this._validateInputs(F,x))return null;const $=new R.Z(this.paths[F].splice(x,1)[0],this.spatialReference);return this.notifyChange("paths"),$}setPoint(F,x,$){return this._validateInputs(F,x)?((0,Q.l)(this,$),Array.isArray($)||($=$.toArray()),this.paths[F][x]=$,this.notifyChange("paths"),this):this}_validateInputs(F,x,$=!1){if(null==F||F<0||F>=this.paths.length)return!1;if(null!=x){const N=this.paths[F];if($&&(x<0||x>N.length)||!$&&(x<0||x>=N.length))return!1}return!0}toJSON(F){return this.write({},F)}};(0,D._)([(0,te.Cb)({readOnly:!0})],X.prototype,"cache",null),(0,D._)([(0,te.Cb)({readOnly:!0})],X.prototype,"extent",null),(0,D._)([(0,te.Cb)({type:[[[Number]]],json:{write:{isRequired:!0}}})],X.prototype,"paths",void 0),(0,D._)([(0,ie.c)("paths")],X.prototype,"writePaths",null),X=ne=(0,D._)([(0,U.j)("esri.geometry.Polyline")],X),X.prototype.toJSON.isDefaultToJSON=!0;const Y=X},65234:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Q});var W,D=M(17626),T=M(86810),te=M(58817),Z=M(16730),U=M(90912),ie=M(77712),k=M(76898),B=M(99433),R=M(37053);let V=W=class extends T.wq{static fromJSON(ne){if(!ne)return null;if(ne.wkid){if(102100===ne.wkid)return W.WebMercator;if(4326===ne.wkid)return W.WGS84}const J=new W;return J.read(ne),J}constructor(ne){super(ne),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(ne){return ne&&"object"==typeof ne?ne:{["string"==typeof ne?"wkt":"wkid"]:ne}}get isWGS84(){return(0,R.oR)(this)}get isWebMercator(){return(0,R.sS)(this)}get isGeographic(){return(0,R.sT)(this)}get isWrappable(){return(0,R.MP)(this)}get metersPerUnit(){return(0,Z.c9)(this)}get unit(){return(0,Z.qE)(this)||(this.isGeographic?"degrees":null)}writeWkt(ne,J){this.wkid||(J.wkt=ne)}clone(){if(this===W.WGS84)return W.WGS84;if(this===W.WebMercator)return W.WebMercator;const ne=new W;return null!=this.wkid?(ne.wkid=this.wkid,null!=this.latestWkid&&(ne.latestWkid=this.latestWkid),null!=this.vcsWkid&&(ne.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(ne.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(ne.wkt=this.wkt),this.imageCoordinateSystem&&(ne.imageCoordinateSystem=(0,te.d9)(this.imageCoordinateSystem)),ne}equals(ne){if(null==ne)return!1;if(this.imageCoordinateSystem||ne.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==ne.imageCoordinateSystem)return!1;const{id:J,referenceServiceName:X}=ne.imageCoordinateSystem,{geodataXform:Y}=ne.imageCoordinateSystem,F=this.imageCoordinateSystem;return null==J||Y?JSON.stringify(F)===JSON.stringify(ne.imageCoordinateSystem):X?F.id===J&&F.referenceServiceName===X:F.id===J}return(0,R.fS)(this,ne)}toJSON(ne){return this.write(void 0,ne)}};V.GCS_NAD_1927=null,V.WGS84=null,V.WebMercator=null,V.PlateCarree=null,(0,D._)([(0,ie.Cb)({readOnly:!0})],V.prototype,"isWGS84",null),(0,D._)([(0,ie.Cb)({readOnly:!0})],V.prototype,"isWebMercator",null),(0,D._)([(0,ie.Cb)({readOnly:!0})],V.prototype,"isGeographic",null),(0,D._)([(0,ie.Cb)({readOnly:!0})],V.prototype,"isWrappable",null),(0,D._)([(0,ie.Cb)({type:U.z8,json:{write:!0}})],V.prototype,"latestWkid",void 0),(0,D._)([(0,ie.Cb)({readOnly:!0})],V.prototype,"metersPerUnit",null),(0,D._)([(0,ie.Cb)({readOnly:!0})],V.prototype,"unit",null),(0,D._)([(0,ie.Cb)({type:U.z8,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt}}}}}}})],V.prototype,"wkid",void 0),(0,D._)([(0,ie.Cb)({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid}}}}}}})],V.prototype,"wkt",void 0),(0,D._)([(0,B.c)("wkt"),(0,B.c)("web-scene","wkt")],V.prototype,"writeWkt",null),(0,D._)([(0,ie.Cb)({type:U.z8,json:{write:!0}})],V.prototype,"vcsWkid",void 0),(0,D._)([(0,ie.Cb)({type:U.z8,json:{write:!0}})],V.prototype,"latestVcsWkid",void 0),(0,D._)([(0,ie.Cb)()],V.prototype,"imageCoordinateSystem",void 0),V=W=(0,D._)([(0,k.j)("esri.geometry.SpatialReference")],V),V.prototype.toJSON.isDefaultToJSON=!0,V.GCS_NAD_1927=new V({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),V.WGS84=new V(R.Zn),V.WebMercator=new V(R.R_),V.PlateCarree=new V(R.WR),Object.freeze&&(Object.freeze(V.GCS_NAD_1927),Object.freeze(V.WGS84),Object.freeze(V.WebMercator));const Q=V},92383:(nt,Te,M)=>{"use strict";M.d(Te,{Iu:()=>R,JL:()=>ie,e8:()=>W,kU:()=>U,mM:()=>k,pn:()=>B});var D=M(62208),T=M(94425),te=M(37053);function Z(V){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${V.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}const U=Z(T.sv),ie=Z(T.yr),k=Z(T.Z1),B={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${T.sv.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`};function R(V){return(0,D.pC)(V)&&((0,te.BZ)(V)||(0,te.fS)(V,ie))?T.yr:(0,D.pC)(V)&&((0,te.V2)(V)||(0,te.fS)(V,k))?T.Z1:T.sv}function W(V){return(0,te.o$)(V)?T.yr:(0,te.ME)(V)?T.Z1:T.sv}},54614:(nt,Te,M)=>{"use strict";M.d(Te,{Up:()=>Le,Bm:()=>Lt,rS:()=>we,iQ:()=>Ve,kR:()=>de,zD:()=>ve,iV:()=>De,CM:()=>zt,oj:()=>xe,dz:()=>Ce,JY:()=>Re,KC:()=>yt,Wt:()=>qe});var D=M(15861),T=M(26584),te=M(21286),Z=M(62208),U=M(10699),ie=M(16730),k=M(36082),B=M(48902),R=M(28347),V=(M(84161),M(28093)),Q=M(92383),ne=M(2004),J=M(72854),X=M(44956),Y=M(72642),F=M(37118),x=M(55214),N=(M(65401),M(94425));Math;const ee=N.sv.radius,re=N.sv.eccentricitySquared,le={a1:ee*re,a2:ee*re*ee*re,a3:ee*re*re/2,a4:ee*re*ee*re*2.5,a5:ee*re+ee*re*re/2,a6:1-re};var ae=M(98346),he=M(37053),se=M(6178),ue=M(33696);let ge=null,be=null,me=null,Oe={};const oe=new B.s;function de(){return!!ge&&(0,X.i)()}function ve(_t){return(0,Z.Wi)(me)&&(me=Promise.all([(0,X.l)(),M.e(4918).then(M.bind(M,4918)).then(It=>It.g),M.e(8592).then(M.bind(M,77777))])),me.then(([,It,{hydratedAdapter:mt}])=>{(0,U.k_)(_t),be=mt,ge=It.default,ge._enableProjection(X.p),oe.notify()})}function De(_t,It,mt=null,Rt=null){return Array.isArray(_t)?0===_t.length?[]:xe(be,_t,_t[0].spatialReference,It,mt,Rt):xe(be,[_t],_t.spatialReference,It,mt,Rt)[0]}function xe(_t,It,mt,Rt,en=null,Bn=null){if((0,Z.Wi)(mt)||(0,Z.Wi)(Rt))return It;if(Le(mt,Rt,en))return It.map(Zn=>(0,Z.Wg)(function Se(_t,It,mt){return _t?"x"in _t?function Ke(_t,It,mt,Rt,en){Dn[0]=_t.x,Dn[1]=_t.y;const Bn=_t.z;return Dn[2]=void 0!==Bn?Bn:en,zt(Dn,It,0,Dn,Rt,0,1)?(mt.x=Dn[0],mt.y=Dn[1],mt.spatialReference=Rt,void 0===Bn?(mt.z=void 0,mt.hasZ=!1):(mt.z=Dn[2],mt.hasZ=!0),void 0===_t.m?(mt.m=void 0,mt.hasM=!1):(mt.m=_t.m,mt.hasM=!0),mt):null}(_t,It,new Y.Z,mt,0):"xmin"in _t?function We(_t,It,mt,Rt,en){const{xmin:Bn,ymin:Zn,xmax:Tn,ymax:$n,hasZ:ur,hasM:gr}=_t;return Mt(Bn,Zn,ur?_t.zmin:en,It,Dn,Rt)?(mt.xmin=Dn[0],mt.ymin=Dn[1],ur&&(mt.zmin=Dn[2]),Mt(Tn,$n,ur?_t.zmax:en,It,Dn,Rt)?(mt.xmax=Dn[0],mt.ymax=Dn[1],ur&&(mt.zmax=Dn[2]),gr&&(mt.mmin=_t.mmin,mt.mmax=_t.mmax),mt.spatialReference=Rt,mt):null):null}(_t,It,new ne.Z,mt,0):"rings"in _t?ke(_t,It,new F.Z,mt,0):"paths"in _t?function ft(_t,It,mt,Rt,en){const{paths:Bn,hasZ:Zn,hasM:Tn}=_t,$n=[];return bn(Bn,Zn??!1,Tn??!1,It,$n,Rt,en)?(mt.paths=$n,mt.spatialReference=Rt,mt.hasZ=Zn,mt.hasM=Tn,mt):null}(_t,It,new x.Z,mt,0):"points"in _t?function et(_t,It,mt,Rt,en){const{points:Bn,hasZ:Zn,hasM:Tn}=_t,$n=[],ur=Bn.length,gr=[];for(const Er of Bn)gr.push(Er[0],Er[1],Zn?Er[2]:en);if(!zt(gr,It,0,gr,Rt,0,ur))return null;for(let Er=0;Er<ur;++Er){const Xr=3*Er,Cr=gr[Xr],li=gr[Xr+1];$n.push(Zn&&Tn?[Cr,li,gr[Xr+2],Bn[Er][3]]:Zn?[Cr,li,gr[Xr+2]]:Tn?[Cr,li,Bn[Er][2]]:[Cr,li])}return mt.points=$n,mt.spatialReference=Rt,mt.hasZ=Zn,mt.hasM=Tn,mt}(_t,It,new J.Z,mt,0):null:null}(Zn,mt,Rt)));if((0,Z.Wi)(en)){const Zn=ae.Z.cacheKey(mt,Rt);void 0!==Oe[Zn]?en=Oe[Zn]:(en=we(mt,Rt,void 0),(0,Z.Wi)(en)&&(en=new ae.Z),Oe[Zn]=en)}if((0,Z.Wi)(ge)||(0,Z.Wi)(_t))throw new fe;return(0,Z.pC)(Bn)?ge._project(_t,It,mt,Rt,en,Bn):ge._project(_t,It,mt,Rt,en)}function Ce(_t,It){const mt=Re([_t],It);return(0,Z.pC)(mt.pending)?{pending:mt.pending,geometry:null}:(0,Z.pC)(mt.geometries)?{pending:null,geometry:mt.geometries[0]}:{pending:null,geometry:null}}function Re(_t,It){if(!de())for(const mt of _t)if((0,Z.pC)(mt)&&!(0,he.fS)(mt.spatialReference,It)&&(0,he.JY)(mt.spatialReference)&&(0,he.JY)(It)&&!Le(mt.spatialReference,It))return(0,k.it)(oe),{pending:ve(),geometries:null};return{pending:null,geometries:_t.map(mt=>(0,Z.Wi)(mt)?null:(0,he.fS)(mt.spatialReference,It)?mt:(0,he.JY)(mt.spatialReference)&&(0,he.JY)(It)?function Ie(_t,It){try{const mt=De(_t,It);if(null==mt)return null;"xmin"in _t&&"xmin"in mt&&(mt.zmin=_t.zmin,mt.zmax=_t.zmax);const Rt=(0,ue.k)(mt.type,_t.spatialReference,It);return(0,Z.pC)(Rt)&&Rt(mt),mt}catch(mt){if(!(mt instanceof fe))throw mt;return null}}(mt,It):null)}}function we(_t,It,mt=null){if((0,Z.Wi)(_t)||(0,Z.Wi)(It))return null;if((0,Z.Wi)(ge)||(0,Z.Wi)(be))throw new fe;const Rt=ge._getTransformation(be,_t,It,mt,mt?.spatialReference);return null!==Rt?ae.Z.fromGE(Rt):null}class fe extends T.Z{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}var ye,_t;function Le(_t,It,mt){return!mt&&(!!(0,he.fS)(_t,It)||(0,he.JY)(_t)&&(0,he.JY)(It)&&!!ds(_t,It,Ut))}function Ve(_t,It,mt,Rt){return st.apply(this,arguments)}function st(){return st=(0,D.Z)(function*(_t,It,mt,Rt){if(de())return(0,U.Yn)(Rt);if(Array.isArray(_t)){for(const{source:en,dest:Bn,geographicTransformation:Zn}of _t)if(!Le(en,Bn,Zn))return ve(Rt)}else if(!Le(_t,It,mt))return ve(Rt);return(0,U.Yn)(Rt)}),st.apply(this,arguments)}function qe(_t,It,mt=It.spatialReference,Rt=0){return(0,Z.pC)(_t.spatialReference)&&(0,Z.pC)(mt)&&(0,Z.pC)(ke(_t,_t.spatialReference,It,mt,Rt))}function ke(_t,It,mt,Rt,en){const{rings:Bn,hasZ:Zn,hasM:Tn}=_t,$n=[];return bn(Bn,Zn??!1,Tn??!1,It,$n,Rt,en)?(mt.rings=$n,mt.spatialReference=Rt,mt.hasZ=Zn,mt.hasM=Tn,mt):null}function yt(_t,It,mt,Rt=0){Dn[0]=_t.x,Dn[1]=_t.y;const en=_t.z;return Dn[2]=void 0!==en?en:Rt,zt(Dn,_t.spatialReference,0,It,mt,0,1)}function Mt(_t,It,mt,Rt,en,Bn){return wr[0]=_t,wr[1]=It,wr[2]=mt,zt(wr,Rt,0,en,Bn,0,1)}function zt(_t,It,mt,Rt,en,Bn,Zn=1){const Tn=ds(It,en,Ut);if((0,Z.Wi)(Tn))return!1;if(Tn===Zt){if(_t===Rt&&mt===Bn)return!0;const ur=mt+3*Zn;for(let gr=mt,Er=Bn;gr<ur;gr++,Er++)Rt[Er]=_t[gr];return!0}const $n=mt+3*Zn;for(let ur=mt,gr=Bn;ur<$n;ur+=3,gr+=3)Tn(_t,ur,Rt,gr);return!0}function bn(_t,It,mt,Rt,en,Bn,Zn=0){const Tn=new Array;for(const ur of _t)for(const gr of ur)Tn.push(gr[0],gr[1],It?gr[2]:Zn);if(!zt(Tn,Rt,0,Tn,Bn,0,Tn.length/3))return!1;let $n=0;en.length=0;for(const ur of _t){const gr=new Array;for(const Er of ur)It&&mt?gr.push([Tn[$n++],Tn[$n++],Tn[$n++],Er[3]]):It?gr.push([Tn[$n++],Tn[$n++],Tn[$n++]]):mt?(gr.push([Tn[$n++],Tn[$n++],Er[2]]),$n++):(gr.push([Tn[$n++],Tn[$n++]]),$n++);en.push(gr)}return!0}function Lt(_t,It,mt,Rt){if((0,Z.Wi)(_t)||(0,Z.Wi)(Rt))return!1;const en=Wt(_t,$s),Bn=Wt(Rt,zr);if(en===Bn&&!Ft(Bn)&&(en!==ye.UNKNOWN||(0,he.fS)(_t,Rt)))return(0,R.f)(mt,It),!0;if(Ft(Bn)){const Zn=Qn[en][ye.LON_LAT],Tn=Qn[ye.LON_LAT][Bn];return!(0,Z.Wi)(Zn)&&!(0,Z.Wi)(Tn)&&(Zn(It,0,Ht,0),Tn(Ht,0,jr,0),Xt(_r*Ht[0],_r*Ht[1],mt),mt[12]=jr[0],mt[13]=jr[1],mt[14]=jr[2],!0)}if((Bn===ye.WEB_MERCATOR||Bn===ye.PLATE_CARREE)&&(en===ye.WGS84||en===ye.CGCS2000&&Bn===ye.PLATE_CARREE||en===ye.SPHERICAL_ECEF||en===ye.WEB_MERCATOR)){const Zn=Qn[en][ye.LON_LAT],Tn=Qn[ye.LON_LAT][Bn];return!(0,Z.Wi)(Zn)&&!(0,Z.Wi)(Tn)&&(Zn(It,0,Ht,0),Tn(Ht,0,jr,0),en===ye.SPHERICAL_ECEF?function Jt(_t,It,mt){Xt(_t,It,mt),(0,R.t)(mt,mt)}(_r*Ht[0],_r*Ht[1],mt):(0,R.i)(mt),mt[12]=jr[0],mt[13]=jr[1],mt[14]=jr[2],!0)}return!1}function Ft(_t){return _t===ye.SPHERICAL_ECEF||_t===ye.SPHERICAL_MARS_PCPF||_t===ye.SPHERICAL_MOON_PCPF}function Xt(_t,It,mt){const Rt=Math.sin(_t),en=Math.cos(_t),Bn=Math.sin(It),Zn=Math.cos(It),Tn=mt;return Tn[0]=-Rt,Tn[4]=-Bn*en,Tn[8]=Zn*en,Tn[12]=0,Tn[1]=en,Tn[5]=-Bn*Rt,Tn[9]=Zn*Rt,Tn[13]=0,Tn[2]=0,Tn[6]=Zn,Tn[10]=Bn,Tn[14]=0,Tn[3]=0,Tn[7]=0,Tn[11]=0,Tn[15]=1,Tn}function Wt(_t,It){return _t?It.spatialReference===_t?It.spatialReferenceId:(It.spatialReference=_t,"metersPerUnit"in It&&(It.metersPerUnit=(0,ie.c9)(_t,1)),It.spatialReferenceId=_t.wkt===Q.kU.wkt?ye.SPHERICAL_ECEF:(0,he.oR)(_t)?ye.WGS84:(0,he.sS)(_t)?ye.WEB_MERCATOR:(0,he.QM)(_t)?ye.PLATE_CARREE:_t.wkt===Q.pn.wkt?ye.WGS84_ECEF:_t.wkid===se.W.CGCS2000?ye.CGCS2000:_t.wkt===Q.JL.wkt?ye.SPHERICAL_MARS_PCPF:_t.wkt===Q.mM.wkt?ye.SPHERICAL_MOON_PCPF:(0,he.BZ)(_t)?ye.GCSMARS2000:(0,he.V2)(_t)?ye.GCSMOON2000:ye.UNKNOWN):ye.UNKNOWN}function Zt(_t,It,mt,Rt){_t!==mt&&(mt[Rt++]=_t[It++],mt[Rt++]=_t[It++],mt[Rt]=_t[It])}function gn(_t,It,mt,Rt){mt[Rt++]=Wr*(_t[It++]/N.sv.radius),mt[Rt++]=Wr*(Math.PI/2-2*Math.atan(Math.exp(-_t[It++]/N.sv.radius))),mt[Rt]=_t[It]}function Et(_t,It,mt,Rt){!function Wn(_t,It,mt,Rt,en){const Bn=.4999999*Math.PI,Zn=(0,te.uZ)(_r*_t[It+1],-Bn,Bn),Tn=Math.sin(Zn);mt[Rt++]=_r*_t[It]*en.radius,mt[Rt++]=en.halfSemiMajorAxis*Math.log((1+Tn)/(1-Tn)),mt[Rt]=_t[It+2]}(_t,It,mt,Rt,N.sv)}(_t=ye||(ye={}))[_t.UNKNOWN=0]="UNKNOWN",_t[_t.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",_t[_t.WGS84=2]="WGS84",_t[_t.WEB_MERCATOR=3]="WEB_MERCATOR",_t[_t.WGS84_ECEF=4]="WGS84_ECEF",_t[_t.CGCS2000=5]="CGCS2000",_t[_t.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",_t[_t.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",_t[_t.GCSMARS2000=8]="GCSMARS2000",_t[_t.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",_t[_t.GCSMOON2000=10]="GCSMOON2000",_t[_t.LON_LAT=11]="LON_LAT",_t[_t.PLATE_CARREE=12]="PLATE_CARREE";const Tt=N.sv.radius*Math.PI/180,Bt=180/(N.sv.radius*Math.PI);function fn(_t,It,mt,Rt){mt[Rt]=_t[It]*Tt,mt[Rt+1]=_t[It+1]*Tt,mt[Rt+2]=_t[It+2]}function dt(_t,It,mt,Rt){mt[Rt]=_t[It]*Bt,mt[Rt+1]=_t[It+1]*Bt,mt[Rt+2]=_t[It+2]}function Ne(_t,It,mt,Rt,en){const Bn=en+_t[It+2],Zn=_r*_t[It+1],Tn=_r*_t[It],$n=Math.cos(Zn);mt[Rt++]=Math.cos(Tn)*$n*Bn,mt[Rt++]=Math.sin(Tn)*$n*Bn,mt[Rt]=Math.sin(Zn)*Bn}function xt(_t,It,mt,Rt){Ne(_t,It,mt,Rt,N.Z1.radius)}function Ye(_t,It,mt,Rt){Ne(_t,It,mt,Rt,N.yr.radius)}function ot(_t,It,mt,Rt){Ne(_t,It,mt,Rt,N.sv.radius)}function Ot(_t,It,mt,Rt,en){const Bn=_t[It],Zn=_t[It+1],Tn=_t[It+2],$n=Math.sqrt(Bn*Bn+Zn*Zn+Tn*Tn),ur=(0,te.Kt)(Tn/(0===$n?1:$n)),gr=Math.atan2(Zn,Bn);mt[Rt++]=Wr*gr,mt[Rt++]=Wr*ur,mt[Rt]=$n-en}function Vt(_t,It,mt,Rt){Ot(_t,It,mt,Rt,N.Z1.radius)}function pn(_t,It,mt,Rt){Ot(_t,It,mt,Rt,N.yr.radius)}function En(_t,It,mt,Rt){Ot(_t,It,mt,Rt,N.sv.radius)}function Un(_t,It,mt,Rt){!function rr(_t,It,mt,Rt,en){const Bn=_r*_t[It],Zn=_r*_t[It+1],Tn=_t[It+2],$n=Math.sin(Zn),ur=Math.cos(Zn),gr=en.radius/Math.sqrt(1-en.eccentricitySquared*$n*$n);mt[Rt++]=(gr+Tn)*ur*Math.cos(Bn),mt[Rt++]=(gr+Tn)*ur*Math.sin(Bn),mt[Rt++]=(gr*(1-en.eccentricitySquared)+Tn)*$n}(_t,It,mt,Rt,N.sv)}function lr(_t,It,mt,Rt){const en=le,Bn=_t[It],Zn=_t[It+1],Tn=_t[It+2];let $n,ur,gr,Er,Xr,Cr,li,qn,ni,Yr,Nr,Ho,Fs,Ii,kn,Dt,ln,vn,or,ls,Qr;$n=Math.abs(Tn),ur=Bn*Bn+Zn*Zn,gr=Math.sqrt(ur),Er=ur+Tn*Tn,Xr=Math.sqrt(Er),ls=Math.atan2(Zn,Bn),Cr=Tn*Tn/Er,li=ur/Er,Ii=en.a2/Xr,kn=en.a3-en.a4/Xr,li>.3?(qn=$n/Xr*(1+li*(en.a1+Ii+Cr*kn)/Xr),or=Math.asin(qn),Yr=qn*qn,ni=Math.sqrt(1-Yr)):(ni=gr/Xr*(1-Cr*(en.a5-Ii-li*kn)/Xr),or=Math.acos(ni),Yr=1-ni*ni,qn=Math.sqrt(Yr)),Nr=1-N.sv.eccentricitySquared*Yr,Ho=N.sv.radius/Math.sqrt(Nr),Fs=en.a6*Ho,Ii=gr-Ho*ni,kn=$n-Fs*qn,ln=ni*Ii+qn*kn,Dt=ni*kn-qn*Ii,vn=Dt/(Fs/Nr+ln),or+=vn,Qr=ln+Dt*vn/2,Tn<0&&(or=-or),mt[Rt++]=Wr*ls,mt[Rt++]=Wr*or,mt[Rt]=Qr}const Qn={[ye.WGS84]:{[ye.CGCS2000]:null,[ye.GCSMARS2000]:null,[ye.GCSMOON2000]:null,[ye.LON_LAT]:Zt,[ye.WGS84_COMPARABLE_LON_LAT]:Zt,[ye.SPHERICAL_ECEF]:ot,[ye.SPHERICAL_MARS_PCPF]:null,[ye.SPHERICAL_MOON_PCPF]:null,[ye.UNKNOWN]:null,[ye.WEB_MERCATOR]:Et,[ye.PLATE_CARREE]:fn,[ye.WGS84]:Zt,[ye.WGS84_ECEF]:Un},[ye.CGCS2000]:{[ye.CGCS2000]:Zt,[ye.GCSMARS2000]:null,[ye.GCSMOON2000]:null,[ye.LON_LAT]:Zt,[ye.WGS84_COMPARABLE_LON_LAT]:Zt,[ye.SPHERICAL_ECEF]:ot,[ye.SPHERICAL_MARS_PCPF]:null,[ye.SPHERICAL_MOON_PCPF]:null,[ye.UNKNOWN]:null,[ye.WEB_MERCATOR]:null,[ye.PLATE_CARREE]:fn,[ye.WGS84]:null,[ye.WGS84_ECEF]:Un},[ye.GCSMARS2000]:{[ye.CGCS2000]:null,[ye.GCSMARS2000]:Zt,[ye.GCSMOON2000]:null,[ye.LON_LAT]:Zt,[ye.WGS84_COMPARABLE_LON_LAT]:null,[ye.SPHERICAL_ECEF]:null,[ye.SPHERICAL_MARS_PCPF]:Ye,[ye.SPHERICAL_MOON_PCPF]:null,[ye.UNKNOWN]:null,[ye.WEB_MERCATOR]:null,[ye.PLATE_CARREE]:null,[ye.WGS84]:null,[ye.WGS84_ECEF]:null},[ye.GCSMOON2000]:{[ye.CGCS2000]:null,[ye.GCSMARS2000]:null,[ye.GCSMOON2000]:Zt,[ye.LON_LAT]:Zt,[ye.WGS84_COMPARABLE_LON_LAT]:null,[ye.SPHERICAL_ECEF]:null,[ye.SPHERICAL_MARS_PCPF]:null,[ye.SPHERICAL_MOON_PCPF]:xt,[ye.UNKNOWN]:null,[ye.WEB_MERCATOR]:null,[ye.PLATE_CARREE]:null,[ye.WGS84]:null,[ye.WGS84_ECEF]:null},[ye.WEB_MERCATOR]:{[ye.CGCS2000]:null,[ye.GCSMARS2000]:null,[ye.GCSMOON2000]:null,[ye.LON_LAT]:gn,[ye.WGS84_COMPARABLE_LON_LAT]:gn,[ye.SPHERICAL_ECEF]:function dn(_t,It,mt,Rt){gn(_t,It,mt,Rt),ot(mt,Rt,mt,Rt)},[ye.SPHERICAL_MARS_PCPF]:null,[ye.SPHERICAL_MOON_PCPF]:null,[ye.UNKNOWN]:null,[ye.WEB_MERCATOR]:Zt,[ye.PLATE_CARREE]:function Pt(_t,It,mt,Rt){gn(_t,It,mt,Rt),fn(mt,Rt,mt,Rt)},[ye.WGS84]:gn,[ye.WGS84_ECEF]:function wn(_t,It,mt,Rt){gn(_t,It,mt,Rt),Un(mt,Rt,mt,Rt)}},[ye.WGS84_ECEF]:{[ye.CGCS2000]:lr,[ye.GCSMARS2000]:null,[ye.GCSMOON2000]:null,[ye.LON_LAT]:lr,[ye.WGS84_COMPARABLE_LON_LAT]:lr,[ye.SPHERICAL_ECEF]:function Or(_t,It,mt,Rt){lr(_t,It,mt,Rt),ot(mt,Rt,mt,Rt)},[ye.SPHERICAL_MARS_PCPF]:null,[ye.SPHERICAL_MOON_PCPF]:null,[ye.UNKNOWN]:null,[ye.WEB_MERCATOR]:function Zr(_t,It,mt,Rt){lr(_t,It,mt,Rt),Et(mt,Rt,mt,Rt)},[ye.PLATE_CARREE]:function $t(_t,It,mt,Rt){lr(_t,It,mt,Rt),fn(mt,Rt,mt,Rt)},[ye.WGS84]:lr,[ye.WGS84_ECEF]:Zt},[ye.SPHERICAL_ECEF]:{[ye.CGCS2000]:En,[ye.GCSMARS2000]:null,[ye.GCSMOON2000]:null,[ye.LON_LAT]:En,[ye.WGS84_COMPARABLE_LON_LAT]:En,[ye.SPHERICAL_ECEF]:Zt,[ye.SPHERICAL_MARS_PCPF]:null,[ye.SPHERICAL_MOON_PCPF]:null,[ye.UNKNOWN]:null,[ye.WEB_MERCATOR]:function xn(_t,It,mt,Rt){En(_t,It,mt,Rt),Et(mt,Rt,mt,Rt)},[ye.PLATE_CARREE]:function tn(_t,It,mt,Rt){En(_t,It,mt,Rt),fn(mt,Rt,mt,Rt)},[ye.WGS84]:En,[ye.WGS84_ECEF]:function nr(_t,It,mt,Rt){En(_t,It,mt,Rt),Un(mt,Rt,mt,Rt)}},[ye.SPHERICAL_MARS_PCPF]:{[ye.CGCS2000]:null,[ye.GCSMARS2000]:pn,[ye.GCSMOON2000]:null,[ye.LON_LAT]:pn,[ye.WGS84_COMPARABLE_LON_LAT]:null,[ye.SPHERICAL_ECEF]:null,[ye.SPHERICAL_MARS_PCPF]:Zt,[ye.SPHERICAL_MOON_PCPF]:null,[ye.UNKNOWN]:null,[ye.WEB_MERCATOR]:null,[ye.PLATE_CARREE]:null,[ye.WGS84]:null,[ye.WGS84_ECEF]:null},[ye.SPHERICAL_MOON_PCPF]:{[ye.CGCS2000]:null,[ye.GCSMARS2000]:null,[ye.GCSMOON2000]:Vt,[ye.LON_LAT]:Vt,[ye.WGS84_COMPARABLE_LON_LAT]:null,[ye.SPHERICAL_ECEF]:null,[ye.SPHERICAL_MARS_PCPF]:null,[ye.SPHERICAL_MOON_PCPF]:Zt,[ye.UNKNOWN]:null,[ye.WEB_MERCATOR]:null,[ye.PLATE_CARREE]:null,[ye.WGS84]:null,[ye.WGS84_ECEF]:null},[ye.UNKNOWN]:{[ye.CGCS2000]:null,[ye.GCSMARS2000]:null,[ye.GCSMOON2000]:null,[ye.LON_LAT]:null,[ye.WGS84_COMPARABLE_LON_LAT]:null,[ye.SPHERICAL_ECEF]:null,[ye.SPHERICAL_MARS_PCPF]:null,[ye.SPHERICAL_MOON_PCPF]:null,[ye.UNKNOWN]:Zt,[ye.WEB_MERCATOR]:null,[ye.PLATE_CARREE]:null,[ye.WGS84]:null,[ye.WGS84_ECEF]:null},[ye.LON_LAT]:{[ye.CGCS2000]:Zt,[ye.GCSMARS2000]:Zt,[ye.GCSMOON2000]:Zt,[ye.LON_LAT]:Zt,[ye.WGS84_COMPARABLE_LON_LAT]:Zt,[ye.SPHERICAL_ECEF]:ot,[ye.SPHERICAL_MARS_PCPF]:Ye,[ye.SPHERICAL_MOON_PCPF]:xt,[ye.UNKNOWN]:null,[ye.WEB_MERCATOR]:Et,[ye.PLATE_CARREE]:fn,[ye.WGS84]:Zt,[ye.WGS84_ECEF]:Un},[ye.WGS84_COMPARABLE_LON_LAT]:{[ye.CGCS2000]:null,[ye.GCSMARS2000]:null,[ye.GCSMOON2000]:null,[ye.LON_LAT]:Zt,[ye.WGS84_COMPARABLE_LON_LAT]:Zt,[ye.SPHERICAL_ECEF]:ot,[ye.SPHERICAL_MARS_PCPF]:null,[ye.SPHERICAL_MOON_PCPF]:null,[ye.UNKNOWN]:null,[ye.WEB_MERCATOR]:null,[ye.PLATE_CARREE]:fn,[ye.WGS84]:Zt,[ye.WGS84_ECEF]:Un},[ye.PLATE_CARREE]:{[ye.CGCS2000]:dt,[ye.GCSMARS2000]:null,[ye.GCSMOON2000]:null,[ye.LON_LAT]:dt,[ye.WGS84_COMPARABLE_LON_LAT]:dt,[ye.SPHERICAL_ECEF]:function Cn(_t,It,mt,Rt){dt(_t,It,mt,Rt),ot(mt,Rt,mt,Rt)},[ye.SPHERICAL_MARS_PCPF]:null,[ye.SPHERICAL_MOON_PCPF]:null,[ye.UNKNOWN]:null,[ye.WEB_MERCATOR]:function Yn(_t,It,mt,Rt){dt(_t,It,mt,Rt),Et(mt,Rt,mt,Rt)},[ye.PLATE_CARREE]:Zt,[ye.WGS84]:dt,[ye.WGS84_ECEF]:function dr(_t,It,mt,Rt){dt(_t,It,mt,Rt),Un(mt,Rt,mt,Rt)}}};function ds(_t,It,mt=ti()){return(0,Z.Wi)(_t)||(0,Z.Wi)(It)?null:function Br(_t,It,mt){if((0,Z.Wi)(_t)||(0,Z.Wi)(It)||mt.source.spatialReference===_t&&mt.dest.spatialReference===It)return mt;const Rt=Wt(_t,mt.source),en=Wt(It,mt.dest);return mt.projector=Rt===ye.UNKNOWN&&en===ye.UNKNOWN?(0,he.fS)(_t,It)?Zt:null:Qn[Rt][en],mt}(_t,It,mt).projector}function ti(){return{source:{spatialReference:null,spatialReferenceId:ye.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:ye.UNKNOWN,metersPerUnit:1},projector:Zt}}const $s={spatialReference:null,spatialReferenceId:ye.UNKNOWN},zr={spatialReference:null,spatialReferenceId:ye.UNKNOWN},Ut=ti(),_r=(ti(),(0,te.Vl)(1)),Wr=(0,te.BV)(1),wr=(0,V.c)(),Ht=(0,V.c)(),jr=(0,V.c)(),Dn=(0,V.c)();(0,V.c)()},94425:(nt,Te,M)=>{"use strict";M.d(Te,{Z1:()=>Z,sv:()=>T,yr:()=>te});class D{constructor(ie,k,B,R){this.semiMajorAxis=ie,this.flattening=k,this.outerAtmosphereRimWidth=B,this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening),this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=R||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const T=new D(6378137,1/298.257223563,3e5,.006694379990137799),te=new D(3396190,1/169.8944472236118,23e4),Z=new D(1737400,0,0)},98346:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>te});let D=0;class T{static fromGE(U){const ie=new T;return ie._wkt=U.wkt,ie._wkid=U.wkid,ie._isInverse=U.isInverse,ie}constructor(U){this.uid=D++,U?(this._wkt=null!=U.wkt?U.wkt:null,this._wkid=null!=U.wkid?U.wkid:-1,this._isInverse=null!=U.isInverse&&!0===U.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(U){this._wkt=U,this.uid=D++}get wkid(){return this._wkid}set wkid(U){this._wkid=U,this.uid=D++}get isInverse(){return this._isInverse}set isInverse(U){this._isInverse=U,this.uid=D++}getInverse(){const U=new T;return U._wkt=this.wkt,U._wkid=this._wkid,U._isInverse=!this.isInverse,U}}class te{static cacheKey(U,ie){return[null!=U.wkid?U.wkid.toString():"-1",null!=U.wkt?U.wkt.toString():"",null!=ie.wkid?ie.wkid.toString():"-1",null!=ie.wkt?ie.wkt.toString():""].join(",")}static fromGE(U){const ie=new te;let k="";for(const B of U.steps){const R=T.fromGE(B);ie.steps.push(R),k+=R.uid.toString()+","}return ie._cachedProjection={},ie._gtlistentry=null,ie._chain=k,ie}constructor(U){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,U&&U.steps)for(const ie of U.steps)this.steps.push(ie instanceof T?ie:new T({wkid:ie.wkid,wkt:ie.wkt,isInverse:ie.isInverse}))}getInverse(){const U=new te;U.steps=[];for(let ie=this.steps.length-1;ie>=0;ie--)U.steps.push(this.steps[ie].getInverse());return U}getGTListEntry(){let U="";for(const ie of this.steps)U+=ie.uid.toString()+",";return U!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=U),this._gtlistentry}assignCachedGe(U,ie,k){this._cachedProjection[te.cacheKey(U,ie)]=k}getCachedGeTransformation(U,ie){let k="";for(const R of this.steps)k+=R.uid.toString()+",";k!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=k);const B=this._cachedProjection[te.cacheKey(U,ie)];return void 0===B?null:B}}},6178:(nt,Te,M)=>{"use strict";var D,T;M.d(Te,{W:()=>D}),(T=D||(D={}))[T.CGCS2000=4490]="CGCS2000",T[T.GCSMARS2000=104971]="GCSMARS2000",T[T.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",T[T.GCSMOON2000=104903]="GCSMOON2000"},84029:(nt,Te,M)=>{"use strict";let D;M.d(Te,{Z:()=>T});const T={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(D=2e3;D<=2045;D++)T[D]=0;for(D=2056;D<=2065;D++)T[D]=0;for(D=2067;D<=2135;D++)T[D]=0;for(D=2137;D<=2154;D++)T[D]=0;for(D=2161;D<=2170;D++)T[D]=0;for(D=2172;D<=2193;D++)T[D]=0;for(D=2195;D<=2198;D++)T[D]=0;for(D=2200;D<=2203;D++)T[D]=0;for(D=2205;D<=2217;D++)T[D]=0;for(D=2222;D<=2224;D++)T[D]=1;for(D=2225;D<=2250;D++)T[D]=2;for(D=2251;D<=2253;D++)T[D]=1;for(D=2257;D<=2264;D++)T[D]=2;for(D=2274;D<=2279;D++)T[D]=2;for(D=2280;D<=2282;D++)T[D]=1;for(D=2283;D<=2289;D++)T[D]=2;for(D=2290;D<=2292;D++)T[D]=0;for(D=2308;D<=2313;D++)T[D]=0;for(D=2315;D<=2491;D++)T[D]=0;for(D=2494;D<=2866;D++)T[D]=0;for(D=2867;D<=2869;D++)T[D]=1;for(D=2870;D<=2888;D++)T[D]=2;for(D=2891;D<=2895;D++)T[D]=2;for(D=2896;D<=2898;D++)T[D]=1;for(D=2902;D<=2908;D++)T[D]=2;for(D=2915;D<=2920;D++)T[D]=2;for(D=2921;D<=2923;D++)T[D]=1;for(D=2924;D<=2930;D++)T[D]=2;for(D=2931;D<=2962;D++)T[D]=0;for(D=2964;D<=2968;D++)T[D]=2;for(D=2969;D<=2973;D++)T[D]=0;for(D=2975;D<=2991;D++)T[D]=0;for(D=2995;D<=3051;D++)T[D]=0;for(D=3054;D<=3079;D++)T[D]=0;for(D=3081;D<=3088;D++)T[D]=0;for(D=3092;D<=3101;D++)T[D]=0;for(D=3106;D<=3138;D++)T[D]=0;for(D=3146;D<=3151;D++)T[D]=0;for(D=3153;D<=3166;D++)T[D]=0;for(D=3168;D<=3172;D++)T[D]=0;for(D=3174;D<=3203;D++)T[D]=0;for(D=3294;D<=3358;D++)T[D]=0;for(D=3367;D<=3403;D++)T[D]=0;for(D=3408;D<=3416;D++)T[D]=0;for(D=3417;D<=3438;D++)T[D]=2;for(D=3441;D<=3446;D++)T[D]=2;for(D=3447;D<=3450;D++)T[D]=0;for(D=3451;D<=3459;D++)T[D]=2;for(D=3460;D<=3478;D++)T[D]=0;for(D=3554;D<=3559;D++)T[D]=0;for(D=3560;D<=3570;D++)T[D]=2;for(D=3571;D<=3581;D++)T[D]=0;for(D=3594;D<=3597;D++)T[D]=0;for(D=3601;D<=3604;D++)T[D]=0;for(D=3637;D<=3639;D++)T[D]=0;for(D=3665;D<=3667;D++)T[D]=0;for(D=3693;D<=3695;D++)T[D]=0;for(D=3701;D<=3727;D++)T[D]=0;for(D=3728;D<=3739;D++)T[D]=2;for(D=3740;D<=3751;D++)T[D]=0;for(D=3753;D<=3760;D++)T[D]=2;for(D=3761;D<=3773;D++)T[D]=0;for(D=3775;D<=3777;D++)T[D]=0;for(D=3779;D<=3781;D++)T[D]=0;for(D=3783;D<=3785;D++)T[D]=0;for(D=3788;D<=3791;D++)T[D]=0;for(D=3797;D<=3802;D++)T[D]=0;for(D=3814;D<=3816;D++)T[D]=0;for(D=3825;D<=3829;D++)T[D]=0;for(D=3832;D<=3841;D++)T[D]=0;for(D=3844;D<=3852;D++)T[D]=0;for(D=3873;D<=3885;D++)T[D]=0;for(D=3890;D<=3893;D++)T[D]=0;for(D=3907;D<=3912;D++)T[D]=0;for(D=3942;D<=3950;D++)T[D]=0;for(D=3968;D<=3970;D++)T[D]=0;for(D=3973;D<=3976;D++)T[D]=0;for(D=3986;D<=3989;D++)T[D]=0;for(D=3994;D<=3997;D++)T[D]=0;for(D=4048;D<=4051;D++)T[D]=0;for(D=4056;D<=4063;D++)T[D]=0;for(D=4093;D<=4096;D++)T[D]=0;for(D=4390;D<=4398;D++)T[D]=0;for(D=4399;D<=4413;D++)T[D]=2;for(D=4418;D<=4433;D++)T[D]=2;for(D=4455;D<=4457;D++)T[D]=2;for(D=4484;D<=4489;D++)T[D]=0;for(D=4491;D<=4554;D++)T[D]=0;for(D=4568;D<=4589;D++)T[D]=0;for(D=4652;D<=4656;D++)T[D]=0;for(D=4766;D<=4800;D++)T[D]=0;for(D=5014;D<=5016;D++)T[D]=0;for(D=5069;D<=5072;D++)T[D]=0;for(D=5105;D<=5130;D++)T[D]=0;for(D=5173;D<=5188;D++)T[D]=0;for(D=5253;D<=5259;D++)T[D]=0;for(D=5269;D<=5275;D++)T[D]=0;for(D=5292;D<=5311;D++)T[D]=0;for(D=5329;D<=5331;D++)T[D]=0;for(D=5343;D<=5349;D++)T[D]=0;for(D=5355;D<=5357;D++)T[D]=0;for(D=5387;D<=5389;D++)T[D]=0;for(D=5459;D<=5463;D++)T[D]=0;for(D=5479;D<=5482;D++)T[D]=0;for(D=5518;D<=5520;D++)T[D]=0;for(D=5530;D<=5539;D++)T[D]=0;for(D=5550;D<=5552;D++)T[D]=0;for(D=5562;D<=5583;D++)T[D]=0;for(D=5623;D<=5625;D++)T[D]=2;for(D=5631;D<=5639;D++)T[D]=0;for(D=5649;D<=5653;D++)T[D]=0;for(D=5663;D<=5680;D++)T[D]=0;for(D=5682;D<=5685;D++)T[D]=0;for(D=5875;D<=5877;D++)T[D]=0;for(D=5896;D<=5899;D++)T[D]=0;for(D=5921;D<=5940;D++)T[D]=0;for(D=6050;D<=6125;D++)T[D]=0;for(D=6244;D<=6275;D++)T[D]=0;for(D=6328;D<=6348;D++)T[D]=0;for(D=6350;D<=6356;D++)T[D]=0;for(D=6366;D<=6372;D++)T[D]=0;for(D=6381;D<=6387;D++)T[D]=0;for(D=6393;D<=6404;D++)T[D]=0;for(D=6480;D<=6483;D++)T[D]=0;for(D=6511;D<=6514;D++)T[D]=0;for(D=6579;D<=6581;D++)T[D]=0;for(D=6619;D<=6624;D++)T[D]=0;for(D=6625;D<=6627;D++)T[D]=2;for(D=6628;D<=6632;D++)T[D]=0;for(D=6634;D<=6637;D++)T[D]=0;for(D=6669;D<=6692;D++)T[D]=0;for(D=6707;D<=6709;D++)T[D]=0;for(D=6720;D<=6723;D++)T[D]=0;for(D=6732;D<=6738;D++)T[D]=0;for(D=6931;D<=6933;D++)T[D]=0;for(D=6956;D<=6959;D++)T[D]=0;for(D=7005;D<=7007;D++)T[D]=0;for(D=7057;D<=7070;D++)T[D]=2;for(D=7074;D<=7082;D++)T[D]=0;for(D=7109;D<=7118;D++)T[D]=0;for(D=7119;D<=7127;D++)T[D]=1;for(D=7374;D<=7376;D++)T[D]=0;for(D=7528;D<=7586;D++)T[D]=0;for(D=7587;D<=7645;D++)T[D]=2;for(D=7692;D<=7696;D++)T[D]=0;for(D=7755;D<=7787;D++)T[D]=0;for(D=7791;D<=7795;D++)T[D]=0;for(D=7799;D<=7801;D++)T[D]=0;for(D=7803;D<=7805;D++)T[D]=0;for(D=7825;D<=7831;D++)T[D]=0;for(D=7845;D<=7859;D++)T[D]=0;for(D=8013;D<=8032;D++)T[D]=0;for(D=8065;D<=8068;D++)T[D]=1;for(D=8518;D<=8529;D++)T[D]=2;for(D=8533;D<=8536;D++)T[D]=2;for(D=8538;D<=8540;D++)T[D]=2;for(D=8677;D<=8679;D++)T[D]=0;for(D=8836;D<=8840;D++)T[D]=0;for(D=8857;D<=8859;D++)T[D]=0;for(D=8908;D<=8910;D++)T[D]=0;for(D=9154;D<=9159;D++)T[D]=0;for(D=9205;D<=9218;D++)T[D]=0;for(D=9271;D<=9273;D++)T[D]=0;for(D=9295;D<=9297;D++)T[D]=0;for(D=9356;D<=9360;D++)T[D]=0;for(D=9404;D<=9407;D++)T[D]=0;for(D=9476;D<=9482;D++)T[D]=0;for(D=9487;D<=9494;D++)T[D]=0;for(D=9697;D<=9699;D++)T[D]=0;for(D=9821;D<=9865;D++)T[D]=0;for(D=20002;D<=20032;D++)T[D]=0;for(D=20047;D<=20049;D++)T[D]=0;for(D=20062;D<=20092;D++)T[D]=0;for(D=20135;D<=20138;D++)T[D]=0;for(D=20248;D<=20258;D++)T[D]=0;for(D=20348;D<=20358;D++)T[D]=0;for(D=20436;D<=20440;D++)T[D]=0;for(D=20822;D<=20824;D++)T[D]=0;for(D=20904;D<=20932;D++)T[D]=0;for(D=20934;D<=20936;D++)T[D]=0;for(D=21004;D<=21032;D++)T[D]=0;for(D=21035;D<=21037;D++)T[D]=0;for(D=21095;D<=21097;D++)T[D]=0;for(D=21148;D<=21150;D++)T[D]=0;for(D=21207;D<=21264;D++)T[D]=0;for(D=21307;D<=21364;D++)T[D]=0;for(D=21413;D<=21423;D++)T[D]=0;for(D=21453;D<=21463;D++)T[D]=0;for(D=21473;D<=21483;D++)T[D]=0;for(D=21780;D<=21782;D++)T[D]=0;for(D=21891;D<=21894;D++)T[D]=0;for(D=21896;D<=21899;D++)T[D]=0;for(D=22171;D<=22177;D++)T[D]=0;for(D=22181;D<=22187;D++)T[D]=0;for(D=22191;D<=22197;D++)T[D]=0;for(D=22207;D<=22222;D++)T[D]=0;for(D=22234;D<=22236;D++)T[D]=0;for(D=22243;D<=22250;D++)T[D]=0;for(D=22262;D<=22265;D++)T[D]=0;for(D=22307;D<=22322;D++)T[D]=0;for(D=22348;D<=22357;D++)T[D]=0;for(D=22407;D<=22422;D++)T[D]=0;for(D=22462;D<=22465;D++)T[D]=0;for(D=22521;D<=22525;D++)T[D]=0;for(D=22607;D<=22622;D++)T[D]=0;for(D=22641;D<=22646;D++)T[D]=0;for(D=22648;D<=22657;D++)T[D]=0;for(D=22707;D<=22722;D++)T[D]=0;for(D=22762;D<=22765;D++)T[D]=0;for(D=22991;D<=22994;D++)T[D]=0;for(D=23028;D<=23038;D++)T[D]=0;for(D=23830;D<=23853;D++)T[D]=0;for(D=23866;D<=23872;D++)T[D]=0;for(D=23877;D<=23884;D++)T[D]=0;for(D=23886;D<=23894;D++)T[D]=0;for(D=23946;D<=23948;D++)T[D]=0;for(D=24311;D<=24313;D++)T[D]=0;for(D=24342;D<=24347;D++)T[D]=0;for(D=24370;D<=24374;D++)T[D]=10;for(D=24375;D<=24381;D++)T[D]=0;for(D=24718;D<=24721;D++)T[D]=0;for(D=24817;D<=24821;D++)T[D]=0;for(D=24877;D<=24882;D++)T[D]=0;for(D=24891;D<=24893;D++)T[D]=0;for(D=25391;D<=25395;D++)T[D]=0;for(D=25828;D<=25838;D++)T[D]=0;for(D=26191;D<=26195;D++)T[D]=0;for(D=26391;D<=26393;D++)T[D]=0;for(D=26701;D<=26722;D++)T[D]=0;for(D=26729;D<=26799;D++)T[D]=2;for(D=26801;D<=26803;D++)T[D]=2;for(D=26811;D<=26813;D++)T[D]=2;for(D=26847;D<=26870;D++)T[D]=2;for(D=26891;D<=26899;D++)T[D]=0;for(D=26901;D<=26923;D++)T[D]=0;for(D=26929;D<=26946;D++)T[D]=0;for(D=26948;D<=26998;D++)T[D]=0;for(D=27037;D<=27040;D++)T[D]=0;for(D=27205;D<=27232;D++)T[D]=0;for(D=27258;D<=27260;D++)T[D]=0;for(D=27391;D<=27398;D++)T[D]=0;for(D=27561;D<=27564;D++)T[D]=0;for(D=27571;D<=27574;D++)T[D]=0;for(D=27581;D<=27584;D++)T[D]=0;for(D=27591;D<=27594;D++)T[D]=0;for(D=28191;D<=28193;D++)T[D]=0;for(D=28348;D<=28358;D++)T[D]=0;for(D=28402;D<=28432;D++)T[D]=0;for(D=28462;D<=28492;D++)T[D]=0;for(D=29118;D<=29122;D++)T[D]=0;for(D=29168;D<=29172;D++)T[D]=0;for(D=29177;D<=29185;D++)T[D]=0;for(D=29187;D<=29195;D++)T[D]=0;for(D=29900;D<=29903;D++)T[D]=0;for(D=30161;D<=30179;D++)T[D]=0;for(D=30491;D<=30494;D++)T[D]=0;for(D=30729;D<=30732;D++)T[D]=0;for(D=31251;D<=31259;D++)T[D]=0;for(D=31265;D<=31268;D++)T[D]=0;for(D=31275;D<=31279;D++)T[D]=0;for(D=31281;D<=31297;D++)T[D]=0;for(D=31461;D<=31469;D++)T[D]=0;for(D=31491;D<=31495;D++)T[D]=0;for(D=31917;D<=31922;D++)T[D]=0;for(D=31965;D<=32e3;D++)T[D]=0;for(D=32001;D<=32003;D++)T[D]=2;for(D=32005;D<=32031;D++)T[D]=2;for(D=32033;D<=32060;D++)T[D]=2;for(D=32064;D<=32067;D++)T[D]=2;for(D=32074;D<=32077;D++)T[D]=2;for(D=32081;D<=32086;D++)T[D]=0;for(D=32107;D<=32130;D++)T[D]=0;for(D=32133;D<=32159;D++)T[D]=0;for(D=32164;D<=32167;D++)T[D]=2;for(D=32180;D<=32199;D++)T[D]=0;for(D=32201;D<=32260;D++)T[D]=0;for(D=32301;D<=32360;D++)T[D]=0;for(D=32601;D<=32662;D++)T[D]=0;for(D=32664;D<=32667;D++)T[D]=2;for(D=32701;D<=32761;D++)T[D]=0;for(D=53001;D<=53004;D++)T[D]=0;for(D=53008;D<=53019;D++)T[D]=0;for(D=53021;D<=53032;D++)T[D]=0;for(D=53034;D<=53037;D++)T[D]=0;for(D=53042;D<=53046;D++)T[D]=0;for(D=53074;D<=53080;D++)T[D]=0;for(D=54001;D<=54004;D++)T[D]=0;for(D=54008;D<=54019;D++)T[D]=0;for(D=54021;D<=54032;D++)T[D]=0;for(D=54034;D<=54037;D++)T[D]=0;for(D=54042;D<=54046;D++)T[D]=0;for(D=54048;D<=54053;D++)T[D]=0;for(D=54074;D<=54080;D++)T[D]=0;for(D=54098;D<=54101;D++)T[D]=0;for(D=102001;D<=102040;D++)T[D]=0;for(D=102042;D<=102063;D++)T[D]=0;for(D=102065;D<=102067;D++)T[D]=0;for(D=102070;D<=102117;D++)T[D]=0;for(D=102122;D<=102216;D++)T[D]=0;for(D=102221;D<=102377;D++)T[D]=0;for(D=102382;D<=102388;D++)T[D]=0;for(D=102389;D<=102398;D++)T[D]=2;for(D=102399;D<=102444;D++)T[D]=0;for(D=102445;D<=102447;D++)T[D]=2;for(D=102448;D<=102458;D++)T[D]=0;for(D=102459;D<=102468;D++)T[D]=2;for(D=102469;D<=102499;D++)T[D]=0;for(D=102500;D<=102519;D++)T[D]=1;for(D=102520;D<=102524;D++)T[D]=0;for(D=102525;D<=102529;D++)T[D]=2;for(D=102530;D<=102588;D++)T[D]=0;for(D=102590;D<=102598;D++)T[D]=0;for(D=102601;D<=102603;D++)T[D]=0;for(D=102605;D<=102628;D++)T[D]=0;for(D=102629;D<=102646;D++)T[D]=2;for(D=102648;D<=102700;D++)T[D]=2;for(D=102701;D<=102703;D++)T[D]=0;for(D=102707;D<=102730;D++)T[D]=2;for(D=102733;D<=102758;D++)T[D]=2;for(D=102767;D<=102900;D++)T[D]=0;for(D=102901;D<=102933;D++)T[D]=2;for(D=102934;D<=102950;D++)T[D]=13;for(D=102951;D<=102955;D++)T[D]=0;for(D=102961;D<=102963;D++)T[D]=0;for(D=102965;D<=102969;D++)T[D]=0;for(D=102971;D<=102973;D++)T[D]=0;for(D=102975;D<=102989;D++)T[D]=0;for(D=102990;D<=102992;D++)T[D]=1;for(D=102997;D<=103002;D++)T[D]=0;for(D=103003;D<=103008;D++)T[D]=2;for(D=103009;D<=103011;D++)T[D]=0;for(D=103012;D<=103014;D++)T[D]=2;for(D=103019;D<=103021;D++)T[D]=0;for(D=103022;D<=103024;D++)T[D]=2;for(D=103029;D<=103031;D++)T[D]=0;for(D=103032;D<=103034;D++)T[D]=2;for(D=103065;D<=103068;D++)T[D]=0;for(D=103074;D<=103076;D++)T[D]=0;for(D=103077;D<=103079;D++)T[D]=1;for(D=103080;D<=103082;D++)T[D]=0;for(D=103083;D<=103085;D++)T[D]=2;for(D=103090;D<=103093;D++)T[D]=0;for(D=103097;D<=103099;D++)T[D]=0;for(D=103100;D<=103102;D++)T[D]=2;for(D=103107;D<=103109;D++)T[D]=0;for(D=103110;D<=103112;D++)T[D]=2;for(D=103113;D<=103116;D++)T[D]=0;for(D=103117;D<=103120;D++)T[D]=2;for(D=103153;D<=103157;D++)T[D]=0;for(D=103158;D<=103162;D++)T[D]=2;for(D=103163;D<=103165;D++)T[D]=0;for(D=103166;D<=103168;D++)T[D]=1;for(D=103169;D<=103171;D++)T[D]=2;for(D=103186;D<=103188;D++)T[D]=0;for(D=103189;D<=103191;D++)T[D]=2;for(D=103192;D<=103195;D++)T[D]=0;for(D=103196;D<=103199;D++)T[D]=2;for(D=103200;D<=103224;D++)T[D]=0;for(D=103225;D<=103227;D++)T[D]=1;for(D=103232;D<=103237;D++)T[D]=0;for(D=103238;D<=103243;D++)T[D]=2;for(D=103244;D<=103246;D++)T[D]=0;for(D=103247;D<=103249;D++)T[D]=2;for(D=103254;D<=103256;D++)T[D]=0;for(D=103257;D<=103259;D++)T[D]=2;for(D=103264;D<=103266;D++)T[D]=0;for(D=103267;D<=103269;D++)T[D]=2;for(D=103300;D<=103375;D++)T[D]=0;for(D=103381;D<=103383;D++)T[D]=0;for(D=103384;D<=103386;D++)T[D]=1;for(D=103387;D<=103389;D++)T[D]=0;for(D=103390;D<=103392;D++)T[D]=2;for(D=103397;D<=103399;D++)T[D]=0;for(D=103400;D<=103471;D++)T[D]=2;for(D=103476;D<=103478;D++)T[D]=0;for(D=103479;D<=103481;D++)T[D]=2;for(D=103486;D<=103488;D++)T[D]=0;for(D=103489;D<=103491;D++)T[D]=2;for(D=103492;D<=103495;D++)T[D]=0;for(D=103496;D<=103499;D++)T[D]=2;for(D=103528;D<=103543;D++)T[D]=0;for(D=103544;D<=103548;D++)T[D]=2;for(D=103549;D<=103551;D++)T[D]=0;for(D=103552;D<=103554;D++)T[D]=1;for(D=103555;D<=103557;D++)T[D]=2;for(D=103558;D<=103560;D++)T[D]=0;for(D=103571;D<=103573;D++)T[D]=0;for(D=103574;D<=103576;D++)T[D]=2;for(D=103577;D<=103580;D++)T[D]=0;for(D=103581;D<=103583;D++)T[D]=2;for(D=103595;D<=103694;D++)T[D]=0;for(D=103696;D<=103699;D++)T[D]=0;for(D=103700;D<=103793;D++)T[D]=2;for(D=103794;D<=103890;D++)T[D]=0;for(D=103891;D<=103896;D++)T[D]=2;for(D=103900;D<=103971;D++)T[D]=2;for(D=103972;D<=103977;D++)T[D]=0;for(D=112e3;D<=112101;D++)T[D]=0},5548:(nt,Te,M)=>{"use strict";M.d(Te,{Gv:()=>ye,HH:()=>B,JR:()=>De,TC:()=>W,Tn:()=>Oe,Ue:()=>U,al:()=>ie,bZ:()=>xe,cS:()=>de,dp:()=>q,fS:()=>we,is:()=>Ce,op:()=>me,pp:()=>Q,t8:()=>oe});var D=M(62208),T=M(2004);function U(Ie=je){return[Ie[0],Ie[1],Ie[2],Ie[3],Ie[4],Ie[5]]}function ie(Ie,Le,Ve,st,ce,Se,ze=U()){return ze[0]=Ie,ze[1]=Le,ze[2]=Ve,ze[3]=st,ze[4]=ce,ze[5]=Se,ze}function B(Ie,Le){const Ve=isFinite(Ie[2])||isFinite(Ie[5]);return new T.Z(Ve?{xmin:Ie[0],xmax:Ie[3],ymin:Ie[1],ymax:Ie[4],zmin:Ie[2],zmax:Ie[5],spatialReference:Le}:{xmin:Ie[0],xmax:Ie[3],ymin:Ie[1],ymax:Ie[4],spatialReference:Le})}function W(Ie,Le){Ie[0]=Math.min(Ie[0],Le[0]),Ie[1]=Math.min(Ie[1],Le[1]),Ie[2]=Math.min(Ie[2],Le[2]),Ie[3]=Math.max(Ie[3],Le[3]),Ie[4]=Math.max(Ie[4],Le[4]),Ie[5]=Math.max(Ie[5],Le[5])}function Q(Ie,Le){Ie[0]=Math.min(Ie[0],Le[0]),Ie[1]=Math.min(Ie[1],Le[1]),Ie[2]=Math.min(Ie[2],Le[2]),Ie[3]=Math.max(Ie[3],Le[0]),Ie[4]=Math.max(Ie[4],Le[1]),Ie[5]=Math.max(Ie[5],Le[2])}function q(Ie,Le=[0,0,0]){return Le[0]=function F(Ie){return Ie[0]>=Ie[3]?0:Ie[3]-Ie[0]}(Ie),Le[1]=function x(Ie){return Ie[1]>=Ie[4]?0:Ie[4]-Ie[1]}(Ie),Le[2]=function $(Ie){return Ie[2]>=Ie[5]?0:Ie[5]-Ie[2]}(Ie),Le}function me(Ie,Le,Ve=Ie){return Ve[0]=Le[0],Ve[1]=Le[1],Ve[2]=Le[2],Ve!==Ie&&(Ve[3]=Ie[3],Ve[4]=Ie[4],Ve[5]=Ie[5]),Ve}function Oe(Ie,Le,Ve=Ie){return Ve[3]=Le[0],Ve[4]=Le[1],Ve[5]=Le[2],Ve!==Ie&&(Ve[0]=Ie[0],Ve[1]=Ie[1],Ve[2]=Ie[2]),Ie}function oe(Ie,Le){return Ie[0]=Le[0],Ie[1]=Le[1],Ie[2]=Le[2],Ie[3]=Le[3],Ie[4]=Le[4],Ie[5]=Le[5],Ie}function de(Ie){return Ie?oe(Ie,ye):U(ye)}function De(Ie,Le){return Ie[0]=Le[0],Ie[1]=Le[1],Ie[2]=Number.NEGATIVE_INFINITY,Ie[3]=Le[2],Ie[4]=Le[3],Ie[5]=Number.POSITIVE_INFINITY,Ie}function xe(Ie,Le,Ve,st,ce){return Ie[0]=Le,Ie[1]=Ve,Ie[2]=Number.NEGATIVE_INFINITY,Ie[3]=st,Ie[4]=ce,Ie[5]=Number.POSITIVE_INFINITY,Ie}function Ce(Ie){return 6===Ie.length}function we(Ie,Le,Ve){if((0,D.Wi)(Ie)||(0,D.Wi)(Le))return Ie===Le;if(!Ce(Ie)||!Ce(Le))return!1;if(Ve){for(let st=0;st<Ie.length;st++)if(!Ve(Ie[st],Le[st]))return!1}else for(let st=0;st<Ie.length;st++)if(Ie[st]!==Le[st])return!1;return!0}M(65401);const ye=[1/0,1/0,1/0,-1/0,-1/0,-1/0],je=[0,0,0,0,0,0];U()},65401:(nt,Te,M)=>{"use strict";M.d(Te,{Cb:()=>F,Gv:()=>Re,HH:()=>V,Ho:()=>Q,SO:()=>x,Ue:()=>ie,Zm:()=>_e,al:()=>R,bf:()=>Y,cS:()=>de,d9:()=>k,fS:()=>xe,jE:()=>re,jn:()=>ne,kK:()=>ae,oJ:()=>W,r3:()=>he}),M(8314),M(21286);var te=M(62208),Z=M(2004);function ie(fe=we){return[fe[0],fe[1],fe[2],fe[3]]}function k(fe){return[fe[0],fe[1],fe[2],fe[3]]}function B(fe,ye){return fe!==ye&&(fe[0]=ye[0],fe[1]=ye[1],fe[2]=ye[2],fe[3]=ye[3]),fe}function R(fe,ye,je,Je,Ie=ie()){return Ie[0]=fe,Ie[1]=ye,Ie[2]=je,Ie[3]=Je,Ie}function W(fe,ye=ie()){return ye[0]=fe.xmin,ye[1]=fe.ymin,ye[2]=fe.xmax,ye[3]=fe.ymax,ye}function V(fe,ye){return new Z.Z({xmin:fe[0],ymin:fe[1],xmax:fe[2],ymax:fe[3],spatialReference:ye})}function Q(fe,ye){ye[0]<fe[0]&&(fe[0]=ye[0]),ye[0]>fe[2]&&(fe[2]=ye[0]),ye[1]<fe[1]&&(fe[1]=ye[1]),ye[1]>fe[3]&&(fe[3]=ye[1])}function ne(fe,ye,je){if((0,te.Wi)(ye))B(je,fe);else if("length"in ye)ve(ye)?(je[0]=Math.min(fe[0],ye[0]),je[1]=Math.min(fe[1],ye[1]),je[2]=Math.max(fe[2],ye[2]),je[3]=Math.max(fe[3],ye[3])):2!==ye.length&&3!==ye.length||(je[0]=Math.min(fe[0],ye[0]),je[1]=Math.min(fe[1],ye[1]),je[2]=Math.max(fe[2],ye[0]),je[3]=Math.max(fe[3],ye[1]));else switch(ye.type){case"extent":je[0]=Math.min(fe[0],ye.xmin),je[1]=Math.min(fe[1],ye.ymin),je[2]=Math.max(fe[2],ye.xmax),je[3]=Math.max(fe[3],ye.ymax);break;case"point":je[0]=Math.min(fe[0],ye.x),je[1]=Math.min(fe[1],ye.y),je[2]=Math.max(fe[2],ye.x),je[3]=Math.max(fe[3],ye.y)}}function Y(fe){return(0,te.Wi)(fe)||fe[0]>=fe[2]?0:fe[2]-fe[0]}function F(fe){return fe[1]>=fe[3]?0:fe[3]-fe[1]}function x(fe){return Y(fe)*F(fe)}function re(fe,ye,je){return ye>=fe[0]&&je>=fe[1]&&ye<=fe[2]&&je<=fe[3]}function _e(fe,ye,je){return ye[0]>=fe[0]-je&&ye[1]>=fe[1]-je&&ye[0]<=fe[2]+je&&ye[1]<=fe[3]+je}function ae(fe,ye){return Math.max(ye[0],fe[0])<=Math.min(ye[2],fe[2])&&Math.max(ye[1],fe[1])<=Math.min(ye[3],fe[3])}function he(fe,ye){return ye[0]>=fe[0]&&ye[2]<=fe[2]&&ye[1]>=fe[1]&&ye[3]<=fe[3]}function de(fe){return fe?B(fe,Re):ie(Re)}function ve(fe){return null!=fe&&4===fe.length}function xe(fe,ye){return ve(fe)&&ve(ye)?fe[0]===ye[0]&&fe[1]===ye[1]&&fe[2]===ye[2]&&fe[3]===ye[3]:fe===ye}const Re=[1/0,1/0,-1/0,-1/0],we=[0,0,0,0]},32442:(nt,Te,M)=>{"use strict";function D(J){return void 0!==J.xmin&&void 0!==J.ymin&&void 0!==J.xmax&&void 0!==J.ymax}function T(J){return void 0!==J.points}function te(J){return void 0!==J.x&&void 0!==J.y}function Z(J){return void 0!==J.paths}function U(J){return void 0!==J.rings}function ie(J){return function X(Y,F){return null==Y?F:null==F?Y:J(Y,F)}}M.d(Te,{$P:()=>R,C6:()=>V,Yg:()=>W,lC:()=>ne});const k=ie(Math.min),B=ie(Math.max);function R(J,X){return Z(X)?V(J,X.paths,!1,!1):U(X)?V(J,X.rings,!1,!1):T(X)?ne(J,X.points,!1,!1,!1,!1):D(X)?Q(J,X):(te(X)&&(J[0]=X.x,J[1]=X.y,J[2]=X.x,J[3]=X.y),J)}function W(J,X){return Z(X)?V(J,X.paths,!0,!1):U(X)?V(J,X.rings,!0,!1):T(X)?ne(J,X.points,!0,!1,!0,!1):D(X)?Q(J,X,0,0,!0,!1):(te(X)&&(J[0]=X.x,J[1]=X.y,J[2]=X.z,J[3]=X.x,J[4]=X.y,J[5]=X.z),J)}function V(J,X,Y,F){const x=Y?3:2;if(!X.length||!X[0].length)return null;let $,N,z,q,[ee,re]=X[0][0],[le,_e]=X[0][0];for(let ae=0;ae<X.length;ae++){const he=X[ae];for(let se=0;se<he.length;se++){const ue=he[se],[ge,be]=ue;if(ee=k(ee,ge),re=k(re,be),le=B(le,ge),_e=B(_e,be),Y&&ue.length>2){const me=ue[2];$=k($,me),N=B(N,me)}if(F&&ue.length>x){const me=ue[x];z=k($,me),q=B(N,me)}}}return Y?F?(J[0]=ee,J[1]=re,J[2]=$,J[3]=z,J[4]=le,J[5]=_e,J[6]=N,J[7]=q,J.length=8,J):(J[0]=ee,J[1]=re,J[2]=$,J[3]=le,J[4]=_e,J[5]=N,J.length=6,J):F?(J[0]=ee,J[1]=re,J[2]=z,J[3]=le,J[4]=_e,J[5]=q,J.length=6,J):(J[0]=ee,J[1]=re,J[2]=le,J[3]=_e,J.length=4,J)}function Q(J,X,Y,F,x,$){const N=X.xmin,z=X.xmax,q=X.ymin,ee=X.ymax;let re=X.zmin,le=X.zmax,_e=X.mmin,ae=X.mmax;return x?(re=re||0,le=le||0,$?(_e=_e||0,ae=ae||0,J[0]=N,J[1]=q,J[2]=re,J[3]=_e,J[4]=z,J[5]=ee,J[6]=le,J[7]=ae,J):(J[0]=N,J[1]=q,J[2]=re,J[3]=z,J[4]=ee,J[5]=le,J)):$?(_e=_e||0,ae=ae||0,J[0]=N,J[1]=q,J[2]=_e,J[3]=z,J[4]=ee,J[5]=ae,J):(J[0]=N,J[1]=q,J[2]=z,J[3]=ee,J)}function ne(J,X,Y,F,x,$){const N=Y?3:2,z=F&&$,q=Y&&x;if(!X.length||!X[0].length)return null;let ee,re,le,_e,[ae,he]=X[0],[se,ue]=X[0];for(let ge=0;ge<X.length;ge++){const be=X[ge],[me,Oe]=be;if(ae=k(ae,me),he=k(he,Oe),se=B(se,me),ue=B(ue,Oe),q&&be.length>2){const oe=be[2];ee=k(ee,oe),re=B(re,oe)}if(z&&be.length>N){const oe=be[N];le=k(ee,oe),_e=B(re,oe)}}return x?(ee=ee||0,re=re||0,$?(le=le||0,_e=_e||0,J[0]=ae,J[1]=he,J[2]=ee,J[3]=le,J[4]=se,J[5]=ue,J[6]=re,J[7]=_e,J):(J[0]=ae,J[1]=he,J[2]=ee,J[3]=se,J[4]=ue,J[5]=re,J)):$?(le=le||0,_e=_e||0,J[0]=ae,J[1]=he,J[2]=le,J[3]=se,J[4]=ue,J[5]=_e,J):(J[0]=ae,J[1]=he,J[2]=se,J[3]=ue,J)}},27105:(nt,Te,M)=>{"use strict";M.d(Te,{$G:()=>T,DS:()=>U,NA:()=>B,a:()=>Z,tO:()=>te});var D=M(25748);function T(V){return V?V.hasZ?[V.xmax-V.xmin/2,V.ymax-V.ymin/2,V.zmax-V.zmin/2]:[V.xmax-V.xmin/2,V.ymax-V.ymin/2]:null}function te(V){return V?Z(V.rings,V.hasZ??!1):null}function Z(V,Q){if(!V||!V.length)return null;const ne=[],J=[],X=Q?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let Y=0,F=V.length;Y<F;Y++){const x=U(V[Y],Q,X);x&&J.push(x)}if(J.sort((Y,F)=>{let x=Y[2]-F[2];return 0===x&&Q&&(x=Y[4]-F[4]),x}),J.length&&(ne[0]=J[0][0],ne[1]=J[0][1],Q&&(ne[2]=J[0][3]),(ne[0]<X[0]||ne[0]>X[1]||ne[1]<X[2]||ne[1]>X[3]||Q&&(ne[2]<X[4]||ne[2]>X[5]))&&(ne.length=0)),!ne.length){const Y=V[0]&&V[0].length?function ie(V,Q){const ne=Q?[0,0,0]:[0,0],J=Q?[0,0,0]:[0,0];let X=0,Y=0,F=0,x=0;for(let $=0,N=V.length;$<N-1;$++){const z=V[$],q=V[$+1];if(z&&q){ne[0]=z[0],ne[1]=z[1],J[0]=q[0],J[1]=q[1],Q&&z.length>2&&q.length>2&&(ne[2]=z[2],J[2]=q[2]);const ee=(0,D.xA)(ne,J);if(ee){X+=ee;const re=(0,D.Gi)(z,q);Y+=ee*re[0],F+=ee*re[1],Q&&re.length>2&&(x+=ee*re[2])}}}return X>0?Q?[Y/X,F/X,x/X]:[Y/X,F/X]:V.length?V[0]:null}(V[0],Q):null;if(!Y)return null;ne[0]=Y[0],ne[1]=Y[1],Q&&Y.length>2&&(ne[2]=Y[2])}return ne}function U(V,Q,ne){let J=0,X=0,Y=0,F=0,x=0;const $=V.length?V[0][0]:0,N=V.length?V[0][1]:0,z=V.length&&Q?V[0][2]:0;for(let ee=0;ee<V.length;ee++){const re=V[ee],le=V[(ee+1)%V.length],[_e,ae,he]=re,se=_e-$,ue=ae-N,[ge,be,me]=le,Oe=ge-$,oe=be-N,de=se*oe-Oe*ue;if(F+=de,J+=(se+Oe)*de,X+=(ue+oe)*de,Q&&re.length>2&&le.length>2){const ve=he-z,De=me-z,xe=se*De-Oe*ve;Y+=(ve+De)*xe,x+=xe}_e<ne[0]&&(ne[0]=_e),_e>ne[1]&&(ne[1]=_e),ae<ne[2]&&(ne[2]=ae),ae>ne[3]&&(ne[3]=ae),Q&&(he<ne[4]&&(ne[4]=he),he>ne[5]&&(ne[5]=he))}if(F>0&&(F*=-1),x>0&&(x*=-1),!F)return null;F*=.5,x*=.5;const q=[J/(6*F)+$,X/(6*F)+N,F];return Q&&(ne[4]===ne[5]||0===x?(q[3]=(ne[4]+ne[5])/2,q[4]=0):(q[3]=Y/(6*x)+z,q[4]=x)),q}const k=1e-6;function B(V){if(!V||!V.rings)return null;const{rings:Q}=V;let ne=0;for(let Y=0;Y<Q.length;Y++)ne+=(0,D.Sm)(Q[Y]);if(ne<k)return Z(Q,!1);const J=[0,0],X=Q[0][0];for(let Y=0;Y<Q.length;Y++)W(J,X,Q[Y]);return J[0]*=1/ne,J[1]*=1/ne,J[0]+=X[0],J[1]+=X[1],J}const R=1/3;function W(V,Q,ne){if(!V||!ne||ne.length<3)return null;const J=ne[0],X=[0,0],Y=[ne[1][0]-J[0],ne[1][1]-J[1]];let F;for(let N=2;N<ne.length;N++)X[0]=ne[N][0]-J[0],X[1]=ne[N][1]-J[1],F=.5*R*(X[0]*Y[1]-X[1]*Y[0]),V[0]+=F*(Y[0]+X[0]),V[1]+=F*(Y[1]+X[1]),Y[0]=X[0],Y[1]=X[1];const x=(0,D.Sm)(ne),$=[J[0],J[1]];return $[0]-=Q[0],$[1]-=Q[1],$[0]*=x,$[1]*=x,V[0]+=$[0],V[1]+=$[1],V}},33190:(nt,Te,M)=>{"use strict";M.d(Te,{CI:()=>R,OQ:()=>ie,Qg:()=>k,aV:()=>te,lQ:()=>Z,uP:()=>U,wP:()=>V});var D=M(62208);const T=[0,0];function te(J,X){return!!(0,D.pC)(X)&&B(J,X.x,X.y,X.z)}function Z(J,X){if(!X.points||X.points.length)return!1;for(const Y of X.points)if(!ie(J,Y))return!1;return!0}function U(J,X){const{xmin:Y,ymin:F,zmin:x,xmax:$,ymax:N,zmax:z}=X;return J.hasZ&&X.hasZ?B(J,Y,F,x)&&B(J,Y,N,x)&&B(J,$,N,x)&&B(J,$,F,x)&&B(J,Y,F,z)&&B(J,Y,N,z)&&B(J,$,N,z)&&B(J,$,F,z):B(J,Y,F)&&B(J,Y,N)&&B(J,$,N)&&B(J,$,F)}function ie(J,X){return B(J,X[0],X[1])}function k(J,X){return B(J,X[0],X[1],X[2])}function B(J,X,Y,F){return X>=J.xmin&&X<=J.xmax&&Y>=J.ymin&&Y<=J.ymax&&(null==F||!J.hasZ||F>=J.zmin&&F<=J.zmax)}function R(J,X){return T[1]=X.y,T[0]=X.x,function W(J,X){return V(J.rings,X)}(J,T)}function V(J,X){if(!J)return!1;if(function Q(J){return!Array.isArray(J[0][0])}(J))return ne(!1,J,X);let Y=!1;for(let F=0,x=J.length;F<x;F++)Y=ne(Y,J[F],X);return Y}function ne(J,X,Y){const[F,x]=Y;let $=J,N=0;for(let z=0,q=X.length;z<q;z++){N++,N===q&&(N=0);const[ee,re]=X[z],[le,_e]=X[N];(re<x&&_e>=x||_e<x&&re>=x)&&ee+(x-re)/(_e-re)*(le-ee)<F&&($=!$)}return $}},25748:(nt,Te,M)=>{"use strict";M.d(Te,{Gi:()=>R,Sm:()=>$,Tx:()=>ie,Zy:()=>X,bu:()=>Q,ko:()=>k,pW:()=>J,xA:()=>Z});var D=M(85931);function Z(z,q){const ee=q[0]-z[0],re=q[1]-z[1];if(z.length>2&&q.length>2){const le=z[2]-q[2];return Math.sqrt(ee*ee+re*re+le*le)}return Math.sqrt(ee*ee+re*re)}function ie(z,q,ee,re){const[le,_e]=q,[ae,he]=ee[re],[se,ue]=ee[re+1],ge=se-ae,be=ue-he,oe=Math.min(1,Math.max(0,((le-ae)*ge+(_e-he)*be)/(ge*ge+be*be)));return z[0]=ae+ge*oe,z[1]=he+be*oe,z}function k(z,q,ee){const re=ee.rings;let le,_e,ae=!1,he=1/0;for(let se=0;se<re.length;se++){const ue=re[se];for(let ge=0,be=ue.length-1;ge<ue.length;be=ge++)le=ue[ge],_e=ue[be],le[1]>q!=_e[1]>q&&z<(_e[0]-le[0])*(q-le[1])/(_e[1]-le[1])+le[0]&&(ae=!ae),he=Math.min(he,B(z,q,le,_e))}return 0===he?0:(ae?1:-1)*Math.sqrt(he)}function B(z,q,ee,re){let le=ee[0],_e=ee[1],ae=re[0]-le,he=re[1]-_e;if(0!==ae||0!==he){const se=((z-le)*ae+(q-_e)*he)/(ae*ae+he*he);se>1?(le=re[0],_e=re[1]):se>0&&(le+=ae*se,_e+=he*se)}return ae=z-le,he=q-_e,ae*ae+he*he}function R(z,q){return function U(z,q,ee){const re=z[0]+ee*(q[0]-z[0]),le=z[1]+ee*(q[1]-z[1]);return z.length>2&&q.length>2?[re,le,z[2]+ee*(q[2]-z[2])]:[re,le]}(z,q,.5)}function Q(z,q,ee){const re=z.length;let le=0,_e=0,ae=0;for(let he=0;he<re;he++){const se=z[he],ue=z[(he+1)%re];let ge=2;le+=se[0]*ue[1]-ue[0]*se[1],se.length>2&&ue.length>2&&ee&&(_e+=se[0]*ue[2]-ue[0]*se[2],ge=3),se.length>ge&&ue.length>ge&&q&&(ae+=se[0]*ue[ge]-ue[0]*se[ge])}return le<=0&&_e<=0&&ae<=0}function ne(z){const q=z.length;return q>2&&(0,D.fS)(z[0],z[q-1])}function J(z){if("rings"in z&&(X(z),z.rings.length>0&&!Q(z.rings[0],z.hasM??!1,z.hasZ??!1)))for(const q of z.rings)q.reverse()}function X(z){if("rings"in z)for(const q of z.rings)ne(q)||q.push(q[0].slice())}function $(z){if(!z||z.length<3)return 0;let q=0;const ee=z.length-1;for(let re=0;re<ee;re++)q+=(z[re][0]-z[re+1][0])*(z[re][1]+z[re+1][1]);return q+=(z[ee][0]-z[0][0])*(z[ee][1]+z[0][1]),-.5*q}M(37053)},15176:(nt,Te,M)=>{"use strict";M.d(Te,{Wn:()=>F,_w:()=>Y,aO:()=>ne});var D=M(32442);const k=[];function B(x,$,N,z){return{xmin:x,ymin:$,xmax:N,ymax:z}}function R(x,$,N,z,q,ee){return{xmin:x,ymin:$,zmin:N,xmax:z,ymax:q,zmax:ee}}function W(x,$,N,z,q,ee){return{xmin:x,ymin:$,mmin:N,xmax:z,ymax:q,mmax:ee}}function V(x,$,N,z,q,ee,re,le){return{xmin:x,ymin:$,zmin:N,mmin:z,xmax:q,ymax:ee,zmax:re,mmax:le}}function Q(x,$=!1,N=!1){return $?N?V(x[0],x[1],x[2],x[3],x[4],x[5],x[6],x[7]):R(x[0],x[1],x[2],x[3],x[4],x[5]):N?W(x[0],x[1],x[2],x[3],x[4],x[5]):B(x[0],x[1],x[2],x[3])}function ne(x){return x?function T(x){return void 0!==x.xmin&&void 0!==x.ymin&&void 0!==x.xmax&&void 0!==x.ymax}(x)?x:function Z(x){return void 0!==x.x&&void 0!==x.y}(x)?function X(x){const{x:$,y:N,z,m:q}=x,ee=null!=q;return null!=z?ee?V($,N,z,q,$,N,z,q):R($,N,z,$,N,z):ee?W($,N,q,$,N,q):B($,N,$,N)}(x):function ie(x){return void 0!==x.rings}(x)?Y(x):function U(x){return void 0!==x.paths}(x)?F(x):function te(x){return void 0!==x.points}(x)?function J(x){const{hasZ:$,hasM:N,points:z}=x;return Q((0,D.lC)(k,z,$??!1,N??!1),$,N)}(x):null:null}function Y(x){const{hasZ:$,hasM:N,rings:z}=x,q=(0,D.C6)(k,z,$??!1,N??!1);return q?Q(q,$,N):null}function F(x){const{hasZ:$,hasM:N,paths:z}=x,q=(0,D.C6)(k,z,$??!1,N??!1);return q?Q(q,$,N):null}},11519:(nt,Te,M)=>{"use strict";M.d(Te,{Ff:()=>X,IY:()=>x,Nl:()=>V,UT:()=>F,h_:()=>te});var D=M(33190);function T($,N){return(0,D.aV)($,N)}function te($,N){let q,ee,re;if($.xmin<=N.xmin){if(q=N.xmin,$.xmax<q)return!1}else if(q=$.xmin,N.xmax<q)return!1;if($.ymin<=N.ymin){if(ee=N.ymin,$.ymax<ee)return!1}else if(ee=$.ymin,N.ymax<ee)return!1;if($.hasZ&&N.hasZ&&N.hasZ)if($.zmin<=N.zmin){if(re=N.zmin,$.zmax<re)return!1}else if(re=$.zmin,N.zmax<re)return!1;return!0}function Z($,N){const{points:z,hasZ:q}=N,ee=q?D.Qg:D.OQ;for(const re of z)if(ee($,re))return!0;return!1}const U=[0,0],ie=[0,0],k=[0,0],B=[0,0],R=[U,ie,k,B],W=[[k,U],[U,ie],[ie,B],[B,k]];function V($,N){return function Q($,N){U[0]=$.xmin,U[1]=$.ymax,ie[0]=$.xmax,ie[1]=$.ymax,k[0]=$.xmin,k[1]=$.ymin,B[0]=$.xmax,B[1]=$.ymin;for(const z of R)if((0,D.wP)(N,z))return!0;for(const z of N){if(!z.length)continue;let q=z[0];if((0,D.OQ)($,q))return!0;for(let ee=1;ee<z.length;ee++){const re=z[ee];if((0,D.OQ)($,re)||Y(q,re,W))return!0;q=re}}return!1}($,N.rings)}function ne($,N){U[0]=$.xmin,U[1]=$.ymax,ie[0]=$.xmax,ie[1]=$.ymax,k[0]=$.xmin,k[1]=$.ymin,B[0]=$.xmax,B[1]=$.ymin;const z=N.paths;for(const q of z){if(!z.length)continue;let ee=q[0];if((0,D.OQ)($,ee))return!0;for(let re=1;re<q.length;re++){const le=q[re];if((0,D.OQ)($,le)||Y(ee,le,W))return!0;ee=le}}return!1}const J=[0,0];function X($){for(let N=0;N<$.length;N++){const z=$[N];for(let ee=0;ee<z.length-1;ee++){const re=z[ee],le=z[ee+1];for(let _e=N+1;_e<$.length;_e++)for(let ae=0;ae<$[_e].length-1;ae++){const he=$[_e][ae],se=$[_e][ae+1];if(F(re,le,he,se,J)&&!(J[0]===re[0]&&J[1]===re[1]||J[0]===he[0]&&J[1]===he[1]||J[0]===le[0]&&J[1]===le[1]||J[0]===se[0]&&J[1]===se[1]))return!0}}const q=z.length;if(!(q<=4))for(let ee=0;ee<q-3;ee++){let re=q-1;0===ee&&(re=q-2);const le=z[ee],_e=z[ee+1];for(let ae=ee+2;ae<re;ae++){const he=z[ae],se=z[ae+1];if(F(le,_e,he,se,J)&&!(J[0]===le[0]&&J[1]===le[1]||J[0]===he[0]&&J[1]===he[1]||J[0]===_e[0]&&J[1]===_e[1]||J[0]===se[0]&&J[1]===se[1]))return!0}}}return!1}function Y($,N,z){for(let q=0;q<z.length;q++)if(F($,N,z[q][0],z[q][1]))return!0;return!1}function F($,N,z,q,ee){const[re,le]=$,[_e,ae]=N,[he,se]=z,[ue,ge]=q,be=ue-he,me=re-he,Oe=_e-re,oe=ge-se,de=le-se,ve=ae-le,De=oe*Oe-be*ve;if(0===De)return!1;const xe=(be*de-oe*me)/De,Ce=(Oe*de-ve*me)/De;return xe>=0&&xe<=1&&Ce>=0&&Ce<=1&&(ee&&(ee[0]=re+xe*(_e-re),ee[1]=le+xe*(ae-le)),!0)}function x($){switch($){case"esriGeometryEnvelope":case"extent":return te;case"esriGeometryMultipoint":case"multipoint":return Z;case"esriGeometryPoint":case"point":return T;case"esriGeometryPolygon":case"polygon":return V;case"esriGeometryPolyline":case"polyline":return ne}}},91179:(nt,Te,M)=>{"use strict";M.d(Te,{Ji:()=>X,YX:()=>B,aW:()=>R,im:()=>J,l9:()=>V,oU:()=>Q,q9:()=>F,wp:()=>W});var D=M(62208),T=M(2004),te=M(21674),Z=M(72854),U=M(72642),ie=M(37118),k=M(55214);function B(x){return void 0!==x.xmin&&void 0!==x.ymin&&void 0!==x.xmax&&void 0!==x.ymax}function R(x){return void 0!==x.points}function W(x){return void 0!==x.x&&void 0!==x.y}function V(x){return void 0!==x.paths}function Q(x){return void 0!==x.rings}function J(x){return(0,D.Wi)(x)?null:x instanceof te.Z?x:W(x)?U.Z.fromJSON(x):V(x)?k.Z.fromJSON(x):Q(x)?ie.Z.fromJSON(x):R(x)?Z.Z.fromJSON(x):B(x)?T.Z.fromJSON(x):null}function X(x){return x?W(x)?"esriGeometryPoint":V(x)?"esriGeometryPolyline":Q(x)?"esriGeometryPolygon":B(x)?"esriGeometryEnvelope":R(x)?"esriGeometryMultipoint":null:null}const Y={esriGeometryPoint:U.Z,esriGeometryPolyline:k.Z,esriGeometryPolygon:ie.Z,esriGeometryEnvelope:T.Z,esriGeometryMultipoint:Z.Z};function F(x){return x&&Y[x]||null}},93555:(nt,Te,M)=>{"use strict";M.d(Te,{aX:()=>ue,or:()=>me});var D=M(15861),T=M(59318),te=M(26584),Z=M(63290),U=M(62208),ie=M(37118),k=M(55214),B=M(74618),R=M(37053),W=M(46367),Q=(M(29132),M(84792)),ne=M(91179),J=M(2618);function Y(){return(Y=(0,D.Z)(function*(Oe,oe,de,ve){const De=(0,J.en)(Oe),xe=oe[0].spatialReference,Ce={...ve,query:{...De.query,f:"json",sr:JSON.stringify(xe),target:JSON.stringify({geometryType:(0,ne.Ji)(oe[0]),geometries:oe}),cutter:JSON.stringify(de)}},Re=yield(0,Q.default)(De.path+"/cut",Ce),{cutIndexes:we,geometries:Me=[]}=Re.data;return{cutIndexes:we,geometries:Me.map(fe=>{const ye=(0,ne.im)(fe);return ye.spatialReference=xe,ye})}})).apply(this,arguments)}var F=M(21726),x=M(10920);function N(){return(N=(0,D.Z)(function*(Oe,oe,de){const ve="string"==typeof Oe?(0,F.mN)(Oe):Oe,De=oe[0].spatialReference,xe=(0,ne.Ji)(oe[0]),Ce={...de,query:{...ve.query,f:"json",sr:De.wkid?De.wkid:JSON.stringify(De),geometries:JSON.stringify((0,x.F)(oe))}},{data:Re}=yield(0,Q.default)(ve.path+"/simplify",Ce);return(0,x.o)(Re.geometries,xe,De)})).apply(this,arguments)}const z=Z.Z.getLogger("esri.geometry.support.normalizeUtils");function ee(Oe){return"polygon"===Oe[0].type}function re(Oe){return"polyline"===Oe[0].type}function ae(Oe,oe,de){if(oe){const ve=function _e(Oe,oe){if(!(Oe instanceof k.Z||Oe instanceof ie.Z)){const De="straightLineDensify: the input geometry is neither polyline nor polygon";throw z.error(De),new te.Z(De)}const de=(0,B.x3)(Oe),ve=[];for(const De of de){const xe=[];ve.push(xe),xe.push([De[0][0],De[0][1]]);for(let Ce=0;Ce<De.length-1;Ce++){const Re=De[Ce][0],we=De[Ce][1],Me=De[Ce+1][0],fe=De[Ce+1][1],ye=Math.sqrt((Me-Re)*(Me-Re)+(fe-we)*(fe-we)),je=(fe-we)/ye,Je=(Me-Re)/ye,Ie=ye/oe;if(Ie>1){for(let ce=1;ce<=Ie-1;ce++){const Se=ce*oe;xe.push([Je*Se+Re,je*Se+we])}const Le=(ye+Math.floor(Ie-1)*oe)/2;xe.push([Je*Le+Re,je*Le+we])}xe.push([Me,fe])}}return function q(Oe){return"polygon"===Oe.type}(Oe)?new ie.Z({rings:ve,spatialReference:Oe.spatialReference}):new k.Z({paths:ve,spatialReference:Oe.spatialReference})}(Oe,1e6);Oe=(0,W.Sx)(ve,!0)}return de&&(Oe=(0,B.Sy)(Oe,de)),Oe}function he(Oe,oe,de){if(Array.isArray(Oe)){const ve=Oe[0];if(ve>oe){const De=(0,B.XZ)(ve,oe);Oe[0]=ve+De*(-2*oe)}else if(ve<de){const De=(0,B.XZ)(ve,de);Oe[0]=ve+De*(-2*de)}}else{const ve=Oe.x;if(ve>oe){const De=(0,B.XZ)(ve,oe);Oe=Oe.clone().offset(De*(-2*oe),0)}else if(ve<de){const De=(0,B.XZ)(ve,de);Oe=Oe.clone().offset(De*(-2*de),0)}}return Oe}function ue(Oe,oe,de){return ge.apply(this,arguments)}function ge(){return ge=(0,D.Z)(function*(Oe,oe,de){if(!Array.isArray(Oe))return ue([Oe],oe);oe&&"string"!=typeof oe&&z.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const ve="string"==typeof oe?oe:oe?.url??T.Z.geometryServiceUrl;let De,xe,Ce,Re,we,Me,fe,ye,je=0;const Je=[],Ie=[];for(const ze of Oe)if((0,U.Wi)(ze))Ie.push(ze);else if(De||(De=ze.spatialReference,xe=(0,R.C5)(De),Ce=De.isWebMercator,Me=Ce?102100:4326,Re=B.UZ[Me].maxX,we=B.UZ[Me].minX,fe=B.UZ[Me].plus180Line,ye=B.UZ[Me].minus180Line),xe)if("mesh"===ze.type)Ie.push(ze);else if("point"===ze.type)Ie.push(he(ze.clone(),Re,we));else if("multipoint"===ze.type){const Ke=ze.clone();Ke.points=Ke.points.map(Xe=>he(Xe,Re,we)),Ie.push(Ke)}else if("extent"===ze.type){const Ke=ze.clone()._normalize(!1,!1,xe);Ie.push(Ke.rings?new ie.Z(Ke):Ke)}else if(ze.extent){const Ke=ze.extent,Xe=(0,B.XZ)(Ke.xmin,we)*(2*Re);let et=0===Xe?ze.clone():(0,B.Sy)(ze.clone(),Xe);Ke.offset(Xe,0),Ke.intersects(fe)&&Ke.xmax!==Re?(je=Ke.xmax>je?Ke.xmax:je,et=ae(et,Ce),Je.push(et),Ie.push("cut")):Ke.intersects(ye)&&Ke.xmin!==we?(je=Ke.xmax*(2*Re)>je?Ke.xmax*(2*Re):je,et=ae(et,Ce,360),Je.push(et),Ie.push("cut")):Ie.push(et)}else Ie.push(ze.clone());else Ie.push(ze);let Le=(0,B.XZ)(je,Re),Ve=-90;const st=Le,ce=new k.Z;for(;Le>0;){const ze=360*Le-180;ce.addPath([[ze,Ve],[ze,-1*Ve]]),Ve*=-1,Le--}if(Je.length>0&&st>0){const ze=function se(Oe,oe){let de=-1;for(let ve=0;ve<oe.cutIndexes.length;ve++){const De=oe.cutIndexes[ve],xe=oe.geometries[ve],Ce=(0,B.x3)(xe);for(let Re=0;Re<Ce.length;Re++){const we=Ce[Re];we.some(Me=>{if(Me[0]<180)return!0;{let fe=0;for(let je=0;je<we.length;je++){const Je=we[je][0];fe=Je>fe?Je:fe}fe=Number(fe.toFixed(9));const ye=-360*(0,B.XZ)(fe,180);for(let je=0;je<we.length;je++){const Je=xe.getPoint(Re,je);xe.setPoint(Re,je,Je.clone().offset(ye,0))}return!0}})}if(De===de){if(ee(Oe))for(const Re of(0,B.x3)(xe))Oe[De]=Oe[De].addRing(Re);else if(re(Oe))for(const Re of(0,B.x3)(xe))Oe[De]=Oe[De].addPath(Re)}else de=De,Oe[De]=xe}return Oe}(Je,yield function X(Oe,oe,de,ve){return Y.apply(this,arguments)}(ve,Je,ce,de)),Ke=[],Xe=[];for(let ft=0;ft<Ie.length;ft++){const $e=Ie[ft];if("cut"!==$e)Xe.push($e);else{const ut=ze.shift(),qe=Oe[ft];(0,U.pC)(qe)&&"polygon"===qe.type&&qe.rings&&qe.rings.length>1&&ut.rings.length>=qe.rings.length?(Ke.push(ut),Xe.push("simplify")):Xe.push(Ce?(0,W.$)(ut):ut)}}if(!Ke.length)return Xe;const et=yield function $(Oe,oe,de){return N.apply(this,arguments)}(ve,Ke,de),ct=[];for(let ft=0;ft<Xe.length;ft++){const $e=Xe[ft];ct.push("simplify"!==$e?$e:Ce?(0,W.$)(et.shift()):et.shift())}return ct}const Se=[];for(let ze=0;ze<Ie.length;ze++){const Ke=Ie[ze];if("cut"!==Ke)Se.push(Ke);else{const Xe=Je.shift();Se.push(!0===Ce?(0,W.$)(Xe):Xe)}}return Se}),ge.apply(this,arguments)}function me(Oe,oe){const de=(0,R.C5)(oe);if(de){const[ve,De]=de.valid,xe=De-ve;if(Oe<ve)for(;Oe<ve;)Oe+=xe;if(Oe>De)for(;Oe>De;)Oe-=xe}return Oe}},74618:(nt,Te,M)=>{"use strict";M.d(Te,{Sy:()=>ie,UZ:()=>Z,XZ:()=>U,x3:()=>k});var D=M(55214),T=M(65234),te=M(91179);const Z={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new D.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:T.Z.WebMercator}),minus180Line:new D.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:T.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new D.Z({paths:[[[180,-180],[180,180]]],spatialReference:T.Z.WGS84}),minus180Line:new D.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:T.Z.WGS84})}};function U(B,R){return Math.ceil((B-R)/(2*R))}function ie(B,R){const W=k(B);for(const V of W)for(const Q of V)Q[0]+=R;return B}function k(B){return(0,te.oU)(B)?B.rings:B.paths}},83137:(nt,Te,M)=>{"use strict";M.d(Te,{dp:()=>Z,yZ:()=>te});var D=M(16730);const T=96;function te(B,R){const W=R||B.extent,V=B.width,Q=(0,D.c9)(W&&W.spatialReference);return W&&V?W.width/V*Q*D.hd*T:0}function Z(B,R){return B/((0,D.c9)(R)*D.hd*T)}},37053:(nt,Te,M)=>{"use strict";M.d(Te,{BZ:()=>N,C5:()=>Q,JY:()=>re,ME:()=>z,MP:()=>ee,N$:()=>J,QM:()=>x,R_:()=>_e,V2:()=>q,WR:()=>ae,Zn:()=>le,fS:()=>V,o$:()=>$,oR:()=>X,sS:()=>F,sT:()=>ne,yW:()=>Y});var D=M(62208),T=M(77275),te=M(6178),Z=M(84029);const U={102113:!0,102100:!0,3857:!0,3785:!0},ie={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},k='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',B=[-20037508.342788905,20037508.342788905],R=[-20037508.342787,20037508.342787],W={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:B,origin:R,dx:1e-5},102100:{wkTemplate:k,valid:B,origin:R,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:B,origin:R,dx:1e-5},3857:{wkTemplate:k,valid:B,origin:R,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function V(he,se){return he===se||!(0,D.Wi)(he)&&!(0,D.Wi)(se)&&(null!=he.wkid||null!=se.wkid?he.wkid===se.wkid||F(he)&&F(se)||null!=se.latestWkid&&he.wkid===se.latestWkid||null!=he.latestWkid&&se.wkid===he.latestWkid:!(!he.wkt||!se.wkt)&&he.wkt.toUpperCase()===se.wkt.toUpperCase())}function Q(he){return re(he)&&he.wkid&&W[he.wkid]||null}function ne(he){return!!re(he)&&(he.wkid?null==Z.Z[he.wkid]:!!he.wkt&&!!/^\s*GEOGCS/i.test(he.wkt))}function J(he){return!(N(he)||q(he))}function X(he){return re(he)&&4326===he.wkid}function Y(he){return re(he)&&he.wkid===te.W.CGCS2000}function F(he){return re(he)&&null!=he.wkid&&!0===U[he.wkid]}function x(he){return re(he)&&32662===he.wkid}function $(he){return he===te.W.GCSMARS2000||he===te.W.GCSMARS2000_SPHERE}function N(he){return re(he)&&null!=he.wkid&&$(he.wkid)}function z(he){return he===te.W.GCSMOON2000}function q(he){return re(he)&&null!=he.wkid&&z(he.wkid)}function ee(he){return re(he)&&null!=he.wkid&&!0===ie[he.wkid]}function re(he){return(0,D.pC)(he)&&(null!=he.wkid&&he.wkid>=2e3||null!=he.wkt)}const le={wkid:4326,wkt:(0,T.gx)(W[4326].wkTemplate,{Central_Meridian:"0.0"})},_e={wkid:102100,latestWkid:3857},ae={wkid:32662}},71774:(nt,Te,M)=>{"use strict";M.d(Te,{M:()=>T,P:()=>te});var D=M(2076);const T=(0,D.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),te=(0,D.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},46367:(nt,Te,M)=>{"use strict";M.d(Te,{$:()=>$,Q8:()=>X,R6:()=>x,Sx:()=>N,hG:()=>F,iV:()=>Y,mZ:()=>V});var D=M(58817),T=M(62208),te=M(65234),Z=M(94425),U=M(37053);const ie=57.29577951308232,k=.017453292519943;function B(z){return z*ie}function R(z){return z*k}function V(z){return Math.PI/2-2*Math.atan(Math.exp(-z/Z.sv.radius))}function Q(z){return null!=z.wkid||null!=z.wkt}const ne=[0,0];function J(z,q,ee,re,le){const _e=z,ae=le;if(ae.spatialReference=ee,"x"in _e&&"x"in ae)[ae.x,ae.y]=q(_e.x,_e.y,ne,re);else if("xmin"in _e&&"xmin"in ae)[ae.xmin,ae.ymin]=q(_e.xmin,_e.ymin,ne,re),[ae.xmax,ae.ymax]=q(_e.xmax,_e.ymax,ne,re);else if("paths"in _e&&"paths"in ae||"rings"in _e&&"rings"in ae){const he="paths"in _e?_e.paths:_e.rings,se=[];let ue;for(let ge=0;ge<he.length;ge++){const be=he[ge];ue=[],se.push(ue);for(let me=0;me<be.length;me++)ue.push(q(be[me][0],be[me][1],[0,0],re)),be[me].length>2&&ue[me].push(be[me][2]),be[me].length>3&&ue[me].push(be[me][3])}"paths"in ae?ae.paths=se:ae.rings=se}else if("points"in _e&&"points"in ae){const he=_e.points,se=[];for(let ue=0;ue<he.length;ue++)se[ue]=q(he[ue][0],he[ue][1],[0,0],re),he[ue].length>2&&se[ue].push(he[ue][2]),he[ue].length>3&&se[ue].push(he[ue][3]);ae.points=se}return le}function X(z,q){const ee=z&&(Q(z)?z:z.spatialReference),re=q&&(Q(q)?q:q.spatialReference);return!(z&&"type"in z&&"mesh"===z.type||q&&"type"in q&&"mesh"===q.type||!ee||!re)&&(!!(0,U.fS)(re,ee)||(0,U.sS)(re)&&(0,U.oR)(ee)||(0,U.sS)(ee)&&(0,U.oR)(re))}function Y(z,q){if((0,T.Wi)(z))return null;const ee=z.spatialReference,re=q&&(Q(q)?q:q.spatialReference);return X(ee,re)?(0,U.fS)(ee,re)?(0,D.d9)(z):(0,U.sS)(re)?J(z,F,te.Z.WebMercator,!1,(0,D.d9)(z)):(0,U.oR)(re)?J(z,x,te.Z.WGS84,!1,(0,D.d9)(z)):null:null}function F(z,q,ee=[0,0]){q>89.99999?q=89.99999:q<-89.99999&&(q=-89.99999);const re=R(q);return ee[0]=R(z)*Z.sv.radius,ee[1]=Z.sv.halfSemiMajorAxis*Math.log((1+Math.sin(re))/(1-Math.sin(re))),ee}function x(z,q,ee=[0,0],re=!1){const le=B(z/Z.sv.radius);return ee[0]=re?le:le-360*Math.floor((le+180)/360),ee[1]=B(Math.PI/2-2*Math.atan(Math.exp(-q/Z.sv.radius))),ee}function $(z,q=!1,ee=(0,D.d9)(z)){return J(z,F,te.Z.WebMercator,q,ee)}function N(z,q=!1,ee=(0,D.d9)(z)){return J(z,x,te.Z.WGS84,q,ee)}},18945:(nt,Te,M)=>{"use strict";function D(T,te,Z=!1){let{hasM:U,hasZ:ie}=T;Array.isArray(te)?4!==te.length||U||ie?3===te.length&&Z&&!U?(ie=!0,U=!1):3===te.length&&U&&ie&&(U=!1,ie=!1):(U=!0,ie=!0):(ie=!ie&&te.hasZ&&(!U||te.hasM),U=!U&&te.hasM&&(!ie||te.hasZ)),T.hasZ=ie,T.hasM=U}M.d(Te,{l:()=>D})},33696:(nt,Te,M)=>{"use strict";M.d(Te,{k:()=>Z});var D=M(62208),T=M(16730),te=M(37053);function Z(W,V,Q){if((0,D.Wi)(V)||(0,D.Wi)(Q)||Q.vcsWkid||(0,te.fS)(V,Q))return null;const ne=(0,T._R)(V)/(0,T._R)(Q);if(1===ne)return null;switch(W){case"point":case"esriGeometryPoint":return J=>function U(W,V){W&&null!=W.z&&(W.z*=V)}(J,ne);case"polyline":case"esriGeometryPolyline":return J=>function k(W,V){if(W)for(const Q of W.paths)for(const ne of Q)ne.length>2&&(ne[2]*=V)}(J,ne);case"polygon":case"esriGeometryPolygon":return J=>function ie(W,V){if(W)for(const Q of W.rings)for(const ne of Q)ne.length>2&&(ne[2]*=V)}(J,ne);case"multipoint":case"esriGeometryMultipoint":return J=>function B(W,V){if(W)for(const Q of W.points)Q.length>2&&(Q[2]*=V)}(J,ne);case"extent":case"esriGeometryExtent":return J=>function R(W,V){W&&null!=W.zmin&&null!=W.zmax&&(W.zmin*=V,W.zmax*=V)}(J,ne);default:return null}}},52515:(nt,Te,M)=>{"use strict";M(88411),M(15348),M(97059),M(56683);var U=M(41840),ie=M(15861),k=M(84792),B=M(26584),R=M(62208);function V(){return(V=(0,ie.Z)(function*(x,$,N,z){const q=$.exec(N);if(!q)throw new B.Z("esri-intl:invalid-bundle",`Bundle id "${N}" is not compatible with the pattern "${$}"`);const ee=q[1]?`${q[1]}/`:"",re=q[2],le=(0,U.Su)(z),_e=`${ee}${re}.json`,ae=le?`${ee}${re}_${le}.json`:_e;let he;try{he=yield Q(x(ae))}catch(se){if(ae===_e)throw new B.Z("intl:unknown-bundle",`Bundle "${N}" cannot be loaded`,{error:se});try{he=yield Q(x(_e))}catch(ue){throw new B.Z("intl:unknown-bundle",`Bundle "${N}" cannot be loaded`,{error:ue})}}return he})).apply(this,arguments)}function Q(x){return ne.apply(this,arguments)}function ne(){return(ne=(0,ie.Z)(function*(x){if((0,R.pC)(Y.fetchBundleAsset))return Y.fetchBundleAsset(x);const $=yield(0,k.default)(x,{responseType:"text"});return JSON.parse($.data)})).apply(this,arguments)}class J{constructor({base:$="",pattern:N,location:z=new URL(window.location.href)}){let q;q="string"==typeof z?ee=>new URL(ee,new URL(z,window.location.href)).href:z instanceof URL?ee=>new URL(ee,z).href:z,this.pattern="string"==typeof N?new RegExp(`^${N}`):N,this.getAssetUrl=q,$=$?$.endsWith("/")?$:$+"/":"",this.matcher=new RegExp(`^${$}(?:(.*)/)?(.*)$`)}fetchMessageBundle($,N){return function W(x,$,N,z){return V.apply(this,arguments)}(this.getAssetUrl,this.matcher,$,N)}}const Y={};var F=M(54346);(0,U.tz)(function X(x){return new J(x)}({pattern:"esri/",location:F.V}))},88411:(nt,Te,M)=>{"use strict";M.d(Te,{Ze:()=>x,p6:()=>$});var D=M(2076),T=M(56683);const te={year:"numeric",month:"numeric",day:"numeric"},Z={year:"numeric",month:"long",day:"numeric"},U={year:"numeric",month:"short",day:"numeric"},ie={year:"numeric",month:"long",weekday:"long",day:"numeric"},k={hour:"numeric",minute:"numeric"},B={...k,second:"numeric"},R={"short-date":te,"short-date-short-time":{...te,...k},"short-date-short-time-24":{...te,...k,hour12:!1},"short-date-long-time":{...te,...B},"short-date-long-time-24":{...te,...B,hour12:!1},"short-date-le":te,"short-date-le-short-time":{...te,...k},"short-date-le-short-time-24":{...te,...k,hour12:!1},"short-date-le-long-time":{...te,...B},"short-date-le-long-time-24":{...te,...B,hour12:!1},"long-month-day-year":Z,"long-month-day-year-short-time":{...Z,...k},"long-month-day-year-short-time-24":{...Z,...k,hour12:!1},"long-month-day-year-long-time":{...Z,...B},"long-month-day-year-long-time-24":{...Z,...B,hour12:!1},"day-short-month-year":U,"day-short-month-year-short-time":{...U,...k},"day-short-month-year-short-time-24":{...U,...k,hour12:!1},"day-short-month-year-long-time":{...U,...B},"day-short-month-year-long-time-24":{...U,...B,hour12:!1},"long-date":ie,"long-date-short-time":{...ie,...k},"long-date-short-time-24":{...ie,...k,hour12:!1},"long-date-long-time":{...ie,...B},"long-date-long-time-24":{...ie,...B,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":k,"long-time":B},W=(0,D.w)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),J=(W.toJSON.bind(W),W.fromJSON.bind(W),{ar:"ar-u-nu-latn-ca-gregory"});let X=new WeakMap,Y=R["short-date-short-time"];function x(N){return N?R[N]:null}function $(N,z){return function F(N){const z=N||Y;let q=X.get(z);if(!q){const ee=(0,T.Kd)(),re=J[(0,T.Kd)()]||ee;q=new Intl.DateTimeFormat(re,z),X.set(z,q)}return q}(z).format(N)}(0,T.Ze)(()=>{X=new WeakMap,Y=R["short-date-short-time"]})},56683:(nt,Te,M)=>{"use strict";let D,T;M.d(Te,{Kd:()=>U,Ze:()=>ne,qe:()=>V});const te=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale;function Z(){return te??globalThis.navigator?.language??"en"}function U(){return void 0===T&&(T=Z()),T}const W=[];function V(X){return W.push(X),{remove(){W.splice(W.indexOf(X),1)}}}const Q=[];function ne(X){return Q.push(X),{remove(){W.splice(Q.indexOf(X),1)}}}globalThis.addEventListener?.("languagechange",function J(){const X=D??Z();T!==X&&(T=X,[...Q].forEach(Y=>{Y.call(null,X)}),[...W].forEach(Y=>{Y.call(null,X)}))})},41840:(nt,Te,M)=>{"use strict";M.d(Te,{ME:()=>Q,Su:()=>J,tz:()=>V});var D=M(15861),T=M(26584),te=M(10699),Z=M(56683);const U=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,ie={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function k(N){return ie[N]??!1}const B=[],R=new Map;function W(N){for(const z of R.keys())F(N.pattern,z)&&R.delete(z)}function V(N){return B.includes(N)||(W(N),B.unshift(N)),{remove(){const z=B.indexOf(N);z>-1&&(B.splice(z,1),W(N))}}}function Q(N){return ne.apply(this,arguments)}function ne(){return ne=(0,D.Z)(function*(N){const z=(0,Z.Kd)();R.has(N)||R.set(N,function X(N,z){return Y.apply(this,arguments)}(N,z));const q=R.get(N);return q&&(yield x.add(q)),q}),ne.apply(this,arguments)}function J(N){if(!U.test(N))return null;const z=U.exec(N);if(null===z)return null;const[,q,ee]=z,re=q+(ee?"-"+ee.toUpperCase():"");return k(re)?re:k(q)?q:null}function Y(){return(Y=(0,D.Z)(function*(N,z){const q=[];for(const ee of B)if(F(ee.pattern,N))try{return yield ee.fetchMessageBundle(N,z)}catch(re){q.push(re)}throw q.length?new T.Z("intl:message-bundle-error",`Errors occurred while loading "${N}"`,{errors:q}):new T.Z("intl:no-message-bundle-loader",`No loader found for message bundle "${N}"`)})).apply(this,arguments)}function F(N,z){return"string"==typeof N?z.startsWith(N):N.test(z)}(0,Z.Ze)(()=>{R.clear()});const x=new class{constructor(){this._numLoading=0,this._dfd=null}waitForAll(){var N=this;return(0,D.Z)(function*(){N._dfd&&(yield N._dfd.promise)})()}add(N){return this._increase(),N.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=(0,te.dD)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},15348:(nt,Te,M)=>{"use strict";M.d(Te,{sh:()=>k,uf:()=>B});var D=M(62208),T=M(56683);const te={ar:"ar-u-nu-latn"};let Z=new WeakMap,U={};function k(R={}){const W={};return null!=R.digitSeparator&&(W.useGrouping=R.digitSeparator),null!=R.places&&(W.minimumFractionDigits=W.maximumFractionDigits=R.places),W}function B(R,W){return-0===R&&(R=0),function ie(R){const W=R||U;if(!Z.has(W)){const V=(0,T.Kd)(),Q=te[(0,T.Kd)()]||V;Z.set(W,new Intl.NumberFormat(Q,R))}return(0,D.j0)(Z.get(W))}(W).format(R)}(0,T.Ze)(()=>{Z=new WeakMap,U={}})},97059:(nt,Te,M)=>{"use strict";M.d(Te,{n:()=>k});var D=M(63290),T=M(94113),te=M(77275),Z=M(88411),U=M(15348);const ie=D.Z.getLogger("esri.intl.substitute");function k(Q,ne,J={}){const{format:X={}}=J;return(0,te.gx)(Q,Y=>function B(Q,ne,J){let X,Y;const F=Q.indexOf(":");if(-1===F?X=Q.trim():(X=Q.slice(0,F).trim(),Y=Q.slice(F+1).trim()),!X)return"";const x=(0,T.hS)(X,ne);if(null==x)return"";const $=(Y?J?.[Y]:null)??J?.[X];return $?function R(Q,ne){switch(ne.type){case"date":return(0,Z.p6)(Q,ne.intlOptions);case"number":return(0,U.uf)(Q,ne.intlOptions);default:return ie.warn("missing format descriptor for key {key}"),V(Q)}}(x,$):Y?function W(Q,ne){switch(ne.toLowerCase()){case"dateformat":return(0,Z.p6)(Q);case"numberformat":return(0,U.uf)(Q);default:return ie.warn(`inline format is unsupported since 4.12: ${ne}`),/^(dateformat|datestring)/i.test(ne)?(0,Z.p6)(Q):/^numberformat/i.test(ne)?(0,U.uf)(Q):V(Q)}}(x,Y):V(x)}(Y,ne,X))}function V(Q){switch(typeof Q){case"string":return Q;case"number":return(0,U.uf)(Q);case"boolean":return""+Q;default:return Q instanceof Date?(0,Z.p6)(Q):""}}},24263:(nt,Te,M)=>{"use strict";M.d(Te,{Dp:()=>B,Nv:()=>U,i8:()=>Z,id:()=>ie,qh:()=>k});var D=M(15861),T=M(8314),te=M(21726);const Z="4.26",U={request:(R,W)=>(0,D.Z)(function*(){const{default:V}=yield Promise.resolve().then(M.bind(M,84792)),Q=R.options,ne=Q.responseType;Q.signal=W?.signal,Q.responseType="native"===ne||"native-request-init"===ne?"native-request-init":ne&&["blob","json","text"].includes(ne)&&(0,te.oh)(R.url)?.after?ne:"array-buffer";const J=yield V(R.url,Q),X={data:J.data,httpStatus:J.httpStatus,ssl:J.ssl};switch(J.requestOptions?.responseType){case"native-request-init":return delete X.data.signal,X;case"blob":X.data=yield X.data.arrayBuffer();break;case"json":X.data=(new TextEncoder).encode(JSON.stringify(X.data)).buffer;break;case"text":X.data=(new TextEncoder).encode(X.data).buffer}return{result:X,transferList:[X.data]}})()};let ie;function k(R){ie=R}function B(R){const W=ie&&ie.findCredential(R);return W&&W.token?(0,te.ZN)(R,"token",W.token):R}(0,T.Z)("host-webworker")},80415:(nt,Te,M)=>{"use strict";M.r(Te),M.d(Te,{default:()=>xt});var D=M(15861),T=M(17626),te=M(73281),W=(M(4832),M(49067),M(96794),M(69747),M(40425),M(69357),M(40342)),V=M(73640),Q=M(33474),ne=M(32088),J=M(84792),X=M(20383),Y=M(79608),F=M(74333),x=M(26584),$=M(72392),N=M(58817),z=M(63290),q=M(62208),ee=M(99959),re=M(94113),le=M(10699),_e=M(95737),ae=M(21726),he=M(77712),se=M(66656),ue=M(68653),ge=M(76898),be=M(99433),me=M(383),Oe=M(27402),oe=M(65234),de=M(44917),De=(M(29132),M(88879)),xe=M(80542),Ce=M(8314),Re=M(47996),we=M(60330),Me=M(59289),fe=M(90912),je=(M(85931),M(61039)),Je=M(20514),Ie=M(61515),Le=M(17253),Ve=M(2004),st=M(37118),ce=M(71774);let Se=0;const ze="esri.layers.graphics.sources.MemorySource",Ke=z.Z.getLogger(ze);let Xe=class extends(Re.Z.LoadableMixin((0,we.v)((0,xe.p)(F.Z)))){constructor(Ye){super(Ye),this._idToClientGraphic=null,this.type="memory"}load(Ye){const ot=(0,q.pC)(Ye)?Ye.signal:null;return this.addResolvingPromise(this._startWorker(ot)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}get _workerGeometryType(){const Ye=this.layer?.geometryType;return Ye?this._geometryTypeRequiresClientGraphicMapping(Ye)?"polygon":Ye:null}applyEdits(Ye){return this.load().then(()=>this._applyEdits(Ye))}openPorts(){return this.load().then(()=>this._connection.openPorts())}queryFeatures(Ye,ot={}){var Ot=this;return(0,D.Z)(function*(){yield Ot.load(ot);const Vt=yield Ot._connection.invoke("queryFeatures",Ye?Ye.toJSON():null,ot);(0,Ie.p)(Ye,Ot.layer.spatialReference,Vt);const pn=Le.Z.fromJSON(Vt);if(!Ot._requiresClientGraphicMapping())return pn;const En=Ot.layer.objectIdField;for(const xn of pn.features){const rr=Ot._idToClientGraphic.get(xn.attributes[En]);rr&&(xn.geometry=rr.geometry)}return pn.geometryType=Ot.layer.geometryType,pn})()}queryFeaturesJSON(Ye,ot={}){var Ot=this;return(0,D.Z)(function*(){if(Ot._requiresClientGraphicMapping())throw new x.Z("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");yield Ot.load(ot);const Vt=yield Ot._connection.invoke("queryFeatures",Ye?Ye.toJSON():null,ot);return(0,Ie.p)(Ye,Ot.layer.spatialReference,Vt),Vt})()}queryFeatureCount(Ye,ot={}){return this.load(ot).then(()=>this._connection.invoke("queryFeatureCount",Ye?Ye.toJSON():null,ot))}queryObjectIds(Ye,ot={}){return this.load(ot).then(()=>this._connection.invoke("queryObjectIds",Ye?Ye.toJSON():null,ot))}queryExtent(Ye,ot={}){return this.load(ot).then(()=>this._connection.invoke("queryExtent",Ye?Ye.toJSON():null,ot)).then(Ot=>({count:Ot.count,extent:Ve.Z.fromJSON(Ot.extent)}))}querySnapping(Ye,ot={}){return this.load(ot).then(()=>this._connection.invoke("querySnapping",Ye,ot))}_applyEdits(Ye){var ot=this;return(0,D.Z)(function*(){if(!ot._connection)throw new x.Z("feature-layer-source:edit-failure","Memory source not loaded");const Ot=ot.layer.objectIdField;let Vt=null;const pn=[],En=[];yield Promise.all([ot._prepareClientMapping(Ye.addFeatures,null),ot._prepareClientMapping(Ye.updateFeatures,null)]);const xn=lr=>"objectId"in lr&&null!=lr.objectId?lr.objectId:"attributes"in lr&&null!=lr.attributes[Ot]?lr.attributes[Ot]:null;if(Ye.addFeatures&&(Vt=ot._prepareAddFeatures(Ye.addFeatures)),Ye.deleteFeatures)for(const lr of Ye.deleteFeatures){const Or=xn(lr);null!=Or&&pn.push(Or)}const nr=Ye.updateFeatures&&ot._idToClientGraphic?new Map:null;if(Ye.updateFeatures)for(const lr of Ye.updateFeatures)if(En.push(ot._serializeFeature(lr)),nr){const Or=xn(lr);null!=Or&&nr.set(Or,lr)}(0,Je.P)(Vt?Vt.features:null,En,ot.layer.spatialReference);const{fullExtent:rr,featureEditResults:Un}=yield ot._connection.invoke("applyEdits",{adds:Vt?Vt.features:[],updates:En,deletes:pn});return ot.fullExtent=rr,Vt&&Vt.finish(Un.uidToObjectId),ot._updateClientGraphicIds(nr,Un),ot._createEditsResult(Un)})()}_prepareClientMapping(Ye,ot){var Ot=this;return(0,D.Z)(function*(){if("mesh"!==Ot._layerOrSourceGeometryType||(0,q.Wi)(Ye))return;const Vt=[];for(const{geometry:pn}of Ye)!(0,q.pC)(pn)||"mesh"!==pn.type||pn.hasExtent||pn.loaded||Vt.push(pn.load({signal:ot}));Vt.length&&(yield Promise.all(Vt))})()}_updateClientGraphicIds(Ye,ot){if(this._idToClientGraphic){if(Ye)for(const Ot of ot.updateResults){if(!Ot.success)continue;const Vt=Ye.get(Ot.objectId);null!=Vt&&this._addIdToClientGraphic(Vt)}for(const Ot of ot.deleteResults)Ot.success&&this._idToClientGraphic.delete(Ot.objectId)}}_createEditsResult(Ye){return{addFeatureResults:Ye.addResults?Ye.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:Ye.updateResults?Ye.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:Ye.deleteResults?Ye.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(Ye){const ot=!0===Ye.success?null:Ye.error||{code:void 0,description:void 0};return{objectId:Ye.objectId,globalId:Ye.globalId,error:ot?new x.Z("feature-layer-source:edit-failure",ot.description,{code:ot.code}):null}}_prepareAddFeatures(Ye){const ot=new Map,Ot=new Array(Ye.length);let Vt=null;for(let En=0;En<Ye.length;En++){const xn=Ye[En],nr=this._serializeFeature(xn);!Vt&&(0,q.pC)(xn.geometry)&&(Vt=xn.geometry.type),Ot[En]=nr,ot.set(`${nr.uid}`,xn)}const pn=this;return{features:Ot,inferredGeometryType:Vt,finish(En){const xn=pn.sourceJSON.objectIdField;for(const nr in En){const rr=En[nr],Un=ot.get(nr);Un&&(Un.attributes||(Un.attributes={}),-1===rr?delete Un.attributes[xn]:Un.attributes[xn]=rr,pn._addIdToClientGraphic(Un))}}}}_addIdToClientGraphic(Ye){if(!this._idToClientGraphic)return;const Ot=Ye.attributes&&Ye.attributes[this.sourceJSON.objectIdField];null!=Ot&&this._idToClientGraphic.set(Ot,Ye)}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(Ye){return this._geometryTypeRequiresClientGraphicMapping(Ye.type)}_geometryTypeRequiresClientGraphicMapping(Ye){return"mesh"===Ye||"multipatch"===Ye||"extent"===Ye}_serializeFeature(Ye){const{attributes:ot}=Ye,Ot=this._geometryForSerialization(Ye),Vt=(Se++).toString();return Ot?{uid:Vt,geometry:Ot.toJSON(),attributes:ot}:{uid:Vt,attributes:ot}}_geometryForSerialization(Ye){const{geometry:ot}=Ye;return(0,q.Wi)(ot)?null:this._geometryRequiresClientGraphicMapping(ot)?ot.extent?st.Z.fromExtent(ot.extent):null:ot}_startWorker(Ye){var ot=this;return(0,D.Z)(function*(){ot._connection=yield(0,Me.bA)("MemorySourceWorker",{strategy:(0,Ce.Z)("feature-layers-workers")?"dedicated":"local",signal:Ye});const{fields:Ot,spatialReference:Vt,objectIdField:pn,hasM:En,hasZ:xn,timeInfo:nr}=ot.layer,rr="defaults"===ot.layer.originOf("spatialReference");yield ot._prepareClientMapping(ot.items,Ye);const Un=ot._prepareAddFeatures(ot.items);ot.handles.add(ot.on("before-changes",Qn=>{Ke.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),Qn.preventDefault()}));const lr={features:Un.features,fields:Ot&&Ot.map(Qn=>Qn.toJSON()),geometryType:ce.P.toJSON(ot._workerGeometryType),hasM:"mesh"!==ot._layerOrSourceGeometryType&&En,hasZ:"mesh"===ot._layerOrSourceGeometryType||xn,objectIdField:pn,spatialReference:rr?null:Vt&&Vt.toJSON(),timeInfo:nr?nr.toJSON():null},Or=yield ot._connection.invoke("load",lr,{signal:Ye});for(const Qn of Or.warnings)Ke.warn(Qn.message,{layer:ot.layer,warning:Qn});Or.featureErrors.length&&Ke.warn(`Encountered ${Or.featureErrors.length} validation errors while loading features`,Or.featureErrors);const Zr=Or.layerDefinition;ot._geometryTypeRequiresClientGraphicMapping(Un.inferredGeometryType)&&(Zr.geometryType=ce.P.toJSON(Un.inferredGeometryType)),ot.sourceJSON=Zr,ot._requiresClientGraphicMapping()&&(ot._idToClientGraphic=new Map),Un.finish(Or.assignedObjectIds)})()}};(0,T._)([(0,je.c)({Type:De.Z,ensureType:(0,fe.se)(De.Z)})],Xe.prototype,"itemType",void 0),(0,T._)([(0,he.Cb)()],Xe.prototype,"type",void 0),(0,T._)([(0,he.Cb)({constructOnly:!0})],Xe.prototype,"layer",void 0),(0,T._)([(0,he.Cb)({readOnly:!0})],Xe.prototype,"_workerGeometryType",null),(0,T._)([(0,he.Cb)()],Xe.prototype,"sourceJSON",void 0),Xe=(0,T._)([(0,ge.j)(ze)],Xe);var et=M(50085),ct=M(65088),ft=M(552),$e=M(50107),ut=M(6733),qe=M(35126),ke=M(27123),Ge=M(15008),We=M(49286),tt=M(32629),at=M(6647),yt=M(14517);let Mt=class extends yt.Z{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};(0,T._)([(0,he.Cb)()],Mt.prototype,"updating",void 0),(0,T._)([(0,he.Cb)()],Mt.prototype,"status",void 0),Mt=(0,T._)([(0,ge.j)("esri.layers.support.PublishingInfo")],Mt);const Yt=Mt,sn="esri.layers.mixins.PublishableLayer",un=Symbol(sn),zt=Ye=>{var ot;let Ot=class extends Ye{constructor(){super(...arguments),this[ot]=!0}get publishingInfo(){if(this.destroyed)return null;const Vt=this._get("publishingInfo");if(Vt)return Vt;const pn=new Yt;return this._checkPublishingStatus(pn),pn}_checkPublishingStatus(Vt){var pn=this;let nr=0;const rr=function(){var lr=(0,D.Z)(function*(Or){let Zr;Vt.updating=!0;try{Zr=yield pn.fetchPublishingStatus()}catch{Zr="unavailable"}"published"!==Zr&&"unavailable"!==Zr||("publishing"===Vt.status&&pn.refresh(),Un.remove()),Vt.status=Zr,Vt.updating=!1,Un.removed||(nr=setTimeout(rr,Or,Or+125))});return function(Zr){return lr.apply(this,arguments)}}(),Un={removed:!1,remove(){this.removed=!0,clearTimeout(nr)}};this.when().catch(()=>Un.remove()),rr(250),this.own(Un)}};return ot=un,(0,T._)([(0,he.Cb)({readOnly:!0,clonable:!1})],Ot.prototype,"publishingInfo",null),Ot=(0,T._)([(0,ge.j)(sn)],Ot),Ot};var hn=M(30346),bn=M(99555),jn=M(97941),zn=M(38305),pt=M(13812),bt=M(26331),Lt=M(32777),Ft=M(41638),Xt=M(55911),Jt=M(36630),Wt=M(170),Zt=M(62667),gn=M(94138),dn=M(73917),wn=M(5676),Wn=M(15283),Et=M(39683),Tt=M(96854),Bt=M(6871),fn=M(49430),dt=M(92236);const Pt="FeatureLayer",$t="esri.layers.FeatureLayer",tn=z.Z.getLogger($t);function Cn(Ye,ot){return new x.Z("layer:unsupported",`Layer (${Ye.title}, ${Ye.id}) of type '${Ye.declaredClass}' ${ot}`,{layer:Ye})}function Yn(Ye){return Ye&&Ye instanceof F.Z}const dr=(0,Xt.v)();function ts(Ye,ot,Ot){const Vt=!!Ot?.writeLayerSchema;return{enabled:Vt,ignoreOrigin:Vt}}let Fn=class extends((0,ke.B)((0,Ge.M)((0,qe.b)(zt((0,ut.o1)((0,ft.h)((0,tt.c)((0,jn.n)((0,bn.M)((0,hn.Q)((0,ct.Y)((0,We.q)((0,at.I)((0,ee.R)((0,$e.N)((0,et.V)((0,Y.J)(de.Z)))))))))))))))))){constructor(...Ye){super(...Ye),this._handles=new $.Z,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=oe.Z.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0}destroy(){this.source?.destroy(),this._handles=(0,q.SC)(this._handles)}normalizeCtorArgs(Ye,ot){return"string"==typeof Ye?{url:Ye,...ot}:Ye}load(Ye){var ot=this;const Ot=(0,q.pC)(Ye)?Ye.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(Ot).then(pn=>this.initLayerProperties(pn))),Promise.resolve(this);const Vt=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},Ye).catch(le.r9).then((0,D.Z)(function*(){if(ot.url&&null==ot.layerId&&/FeatureServer|MapServer\/*$/i.test(ot.url)){const pn=yield ot._fetchFirstLayerId(Ot);null!=pn&&(ot.layerId=pn)}if(!ot.url&&!ot._hasMemorySource())throw new x.Z("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return ot.initLayerProperties(yield ot.createGraphicsSource(Ot))})).then(()=>this._setUserPrivileges(this.serviceItemId,Ye)).then(()=>(0,bt.nU)(this,Ye));return this.addResolvingPromise(Vt),Promise.resolve(this)}readCapabilities(Ye,ot){return(0,gn.h)(ot=ot.layerDefinition||ot,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities?.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(Ye){this._overrideIfSome("editingEnabled",Ye)}readEditingEnabled(Ye,ot){return this._readEditingEnabled(ot,!1)}readEditingEnabledFromWebMap(Ye,ot,Ot){return this._readEditingEnabled(ot,!0,Ot)}writeEditingEnabled(Ye,ot){this._writeEditingEnabled(Ye,ot,!1)}writeEditingEnabledToWebMap(Ye,ot,Ot,Vt){this._writeEditingEnabled(Ye,ot,!0,Vt)}get effectiveEditingEnabled(){return(0,bt.sX)(this)}readIsTable(Ye,ot){return"Table"===(ot=ot?.layerDefinition??ot).type||!ot.geometryType}writeIsTable(Ye,ot,Ot,Vt){Vt?.writeLayerSchema&&(0,re.RB)(Ot,Ye?"Table":"Feature Layer",ot)}readGlobalIdField(Ye,ot){return(0,bt.rk)(ot.layerDefinition||ot)}readObjectIdField(Ye,ot){return(0,bt.kZ)(ot.layerDefinition||ot)}get parsedUrl(){const Ye=(0,ae.mN)(this.url);return null!=Ye&&(null!=this.dynamicDataSource?Ye.path=(0,ae.v_)(Ye.path,"dynamicLayer"):null!=this.layerId&&(Ye.path=(0,ae.v_)(Ye.path,this.layerId.toString()))),Ye}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(Ye){(0,Jt.YN)(Ye,this.fieldsIndex),this._set("renderer",Ye)}readRenderer(Ye,ot,Ot){const Vt=(ot=ot.layerDefinition||ot).drawingInfo?.renderer;if(Vt){const pn=(0,Q.a)(Vt,ot,Ot)??void 0;return pn||tn.error("Failed to create renderer",{rendererDefinition:ot.drawingInfo.renderer,layer:this,context:Ot}),pn}if(ot.defaultSymbol)return ot.types&&ot.types.length?new V.Z({defaultSymbol:Ne(ot.defaultSymbol,ot,Ot),field:ot.typeIdField,uniqueValueInfos:ot.types.map(pn=>({id:pn.id,symbol:Ne(pn.symbol,pn,Ot)}))}):new W.Z({symbol:Ne(ot.defaultSymbol,ot,Ot)})}set source(Ye){const ot=this._get("source");ot!==Ye&&(Yn(ot)&&this._resetMemorySource(ot),Yn(Ye)&&this._initMemorySource(Ye),this._set("source",Ye))}castSource(Ye){return Ye?Array.isArray(Ye)||Ye instanceof F.Z?new Xe({layer:this,items:Ye}):Ye:null}readSource(Ye,ot){const Ot=Le.Z.fromJSON(ot.featureSet);return new Xe({layer:this,items:Ot?.features??[]})}readTemplates(Ye,ot){const Ot=ot.editFieldsInfo,Vt=Ot&&Ot.creatorField,pn=Ot&&Ot.editorField;return Ye=Ye&&Ye.map(En=>Lt.Z.fromJSON(En)),this._fixTemplates(Ye,Vt),this._fixTemplates(Ye,pn),Ye}readTitle(Ye,ot){const Ot=ot.layerDefinition?.name??ot.name,Vt=ot.title||ot.layerDefinition&&ot.layerDefinition.title;if(Ot){const pn=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?(0,zn.a7)(this.url,Ot):Ot;let En=Ot;if(!En&&this.url){const xn=(0,zn.Qc)(this.url);(0,q.pC)(xn)&&(En=xn.title)}return En?("item-title-and-service-name"===this.sublayerTitleMode&&pn&&pn!==En&&(En=pn+" - "+En),(0,zn.ld)(En)):void 0}if("item-title"===this.sublayerTitleMode&&Vt)return Vt}readTitleFromWebMap(Ye,ot){return ot.title||ot.layerDefinition&&ot.layerDefinition.name}readTypeIdField(Ye,ot){let Ot=(ot=ot.layerDefinition||ot).typeIdField;if(Ot&&ot.fields){Ot=Ot.toLowerCase();const Vt=ot.fields.find(pn=>pn.name.toLowerCase()===Ot);Vt&&(Ot=Vt.name)}return Ot}readTypes(Ye,ot){Ye=(ot=ot.layerDefinition||ot).types;const Ot=ot.editFieldsInfo,Vt=Ot&&Ot.creatorField,pn=Ot&&Ot.editorField;return Ye&&Ye.map(En=>(En=Ft.Z.fromJSON(En),this._fixTemplates(En.templates,Vt),this._fixTemplates(En.templates,pn),En))}readVisible(Ye,ot){return ot.layerDefinition&&null!=ot.layerDefinition.defaultVisibility?!!ot.layerDefinition.defaultVisibility:null!=ot.visibility?!!ot.visibility:void 0}addAttachment(Ye,ot){var Ot=this;return(0,D.Z)(function*(){return(0,bt.JD)(Ot,Ye,ot,Pt)})()}updateAttachment(Ye,ot,Ot){var Vt=this;return(0,D.Z)(function*(){return(0,bt.Y5)(Vt,Ye,ot,Ot,Pt)})()}applyEdits(Ye,ot){var Ot=this;return(0,D.Z)(function*(){return(0,bt.Jj)(Ot,Ye,ot)})()}on(Ye,ot){return super.on(Ye,ot)}createPopupTemplate(Ye){return(0,fn.eZ)(this,Ye)}createGraphicsSource(Ye){var ot=this;return(0,D.Z)(function*(){if(ot._hasMemorySource()&&ot.source)return ot.source.load({signal:Ye});const{default:Ot}=yield(0,le.Hl)(Promise.all([M.e(8592),M.e(5547)]).then(M.bind(M,45547)),Ye);return new Ot({layer:ot}).load({signal:Ye})})()}createQuery(){const Ye=(0,bt.rP)(this);Ye.dynamicDataSource=this.dynamicDataSource;const ot=(0,q.pC)(this.subtypeCode)?`${this.subtypeField} = ${this.subtypeCode}`:null,Ot=(0,_e._)(this.definitionExpression,ot);return Ye.where=Ot||"1=1",Ye}deleteAttachments(Ye,ot){var Ot=this;return(0,D.Z)(function*(){return(0,bt.FV)(Ot,Ye,ot,Pt)})()}fetchRecomputedExtents(Ye){var ot=this;return(0,D.Z)(function*(){return(0,bt.Ci)(ot,Ye,Pt)})()}getFeatureType(Ye){const{typeIdField:ot,types:Ot}=this;if(!ot||!Ye)return null;const Vt=Ye.attributes?Ye.attributes[ot]:void 0;if(null==Vt)return null;let pn=null;return Ot?.some(En=>{const{id:xn}=En;return null!=xn&&(xn.toString()===Vt.toString()&&(pn=En),!!pn)}),pn}getFieldDomain(Ye,ot){const Vt=this.getFeatureType(ot&&ot.feature);if(Vt){const pn=Vt.domains&&Vt.domains[Ye];if(pn&&"inherited"!==pn.type)return pn}return this._getLayerDomain(Ye)}getField(Ye){return this.fieldsIndex.get(Ye)}queryAttachments(Ye,ot){var Ot=this;return(0,D.Z)(function*(){return(0,bt.SU)(Ot,Ye,ot,Pt)})()}queryFeatures(Ye,ot){var Ot=this;return(0,D.Z)(function*(){const Vt=yield Ot.load(),pn=yield Vt.source.queryFeatures(Tt.Z.from(Ye)??Vt.createQuery(),ot);if(pn?.features)for(const En of pn.features)En.layer=En.sourceLayer=Vt;return pn})()}queryObjectIds(Ye,ot){var Ot=this;return(0,D.Z)(function*(){return(0,bt.tD)(Ot,Ye,ot,Pt)})()}queryFeatureCount(Ye,ot){var Ot=this;return(0,D.Z)(function*(){return(0,bt.VG)(Ot,Ye,ot,Pt)})()}queryExtent(Ye,ot){var Ot=this;return(0,D.Z)(function*(){return(0,bt.KE)(Ot,Ye,ot,Pt)})()}queryRelatedFeatures(Ye,ot){var Ot=this;return(0,D.Z)(function*(){return(0,bt.kp)(Ot,Ye,ot,Pt)})()}queryRelatedFeaturesCount(Ye,ot){var Ot=this;return(0,D.Z)(function*(){return(0,bt.C9)(Ot,Ye,ot,Pt)})()}queryTopFeatures(Ye,ot){var Ot=this;return(0,D.Z)(function*(){const{source:Vt,capabilities:pn}=yield Ot.load();if(!Vt.queryTopFeatures||!pn?.query?.supportsTopFeaturesQuery)throw new x.Z(Pt,"Layer source does not support queryTopFeatures capability");const En=yield Vt.queryTopFeatures(Bt.Z.from(Ye),ot);if(En?.features)for(const xn of En.features)xn.layer=xn.sourceLayer=Ot;return En})()}queryTopObjectIds(Ye,ot){var Ot=this;return(0,D.Z)(function*(){const{source:Vt,capabilities:pn}=yield Ot.load();if(!Vt.queryTopObjectIds||!pn?.query.supportsTopFeaturesQuery)throw new x.Z(Pt,"Layer source does not support queryTopObjectIds capability");return Vt.queryTopObjectIds(Bt.Z.from(Ye),ot)})()}queryTopFeaturesExtent(Ye,ot){var Ot=this;return(0,D.Z)(function*(){const{source:Vt,capabilities:pn}=yield Ot.load();if(!Vt.queryTopExtents||!pn?.query?.supportsTopFeaturesQuery)throw new x.Z(Pt,"Layer source does not support queryTopExtents capability");return Vt.queryTopExtents(Bt.Z.from(Ye),ot)})()}queryTopFeatureCount(Ye,ot){var Ot=this;return(0,D.Z)(function*(){const{source:Vt,capabilities:pn}=yield Ot.load();if(!Vt.queryTopCount||!pn?.query?.supportsTopFeaturesQuery)throw new x.Z(Pt,"Layer source does not support queryFeatureCount capability");return Vt.queryTopCount(Bt.Z.from(Ye),ot)})()}read(Ye,ot){const Ot=Ye.featureCollection;if(Ot){const Vt=Ot.layers;Vt&&1===Vt.length&&(super.read(Vt[0],ot),null!=Ot.showLegend&&super.read({showLegend:Ot.showLegend},ot))}super.read(Ye,ot),ot&&"service"===ot.origin&&(this.revert(["objectIdField","fields","timeInfo"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(Ye,ot){ot={...ot,origin:ot?.origin??void 0,writeLayerSchema:ot?.writeLayerSchema??this._hasMemorySource()};const{origin:Ot,layerContainerType:Vt,messages:pn}=ot;if(this.dynamicDataSource)return pn?.push(Cn(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if("web-scene"===Ot||"web-map"===Ot&&"tables"!==Vt)return pn?.push(Cn(this,"using a table source cannot be written to web scenes and web maps")),null;if(this._hasMemorySource())return pn?.push(Cn(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&"web-map"===Ot&&"tables"===Vt)return pn?.push(Cn(this,"using a non-table source cannot be written to tables in web maps")),null;return super.write(Ye,ot)}clone(){if(this._hasMemorySource())throw new x.Z(Pt,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(Ye){return!!this.loaded&&("memory"===this.source?.type||(0,wn.D)(this,Ye))}save(Ye){var ot=this;return(0,D.Z)(function*(){return(yield M.e(6912).then(M.bind(M,36912))).save(ot,Ye)})()}saveAs(Ye,ot){var Ot=this;return(0,D.Z)(function*(){return(yield M.e(6912).then(M.bind(M,36912))).saveAs(Ot,Ye,ot)})()}_readEditingEnabled(Ye,ot,Ot){let Vt=Ye.layerDefinition?.capabilities;return Vt?this._hasEditingCapability(Vt):(Vt=Ye.capabilities,ot&&"web-map"===Ot?.origin&&!this._hasMemorySource()&&Vt?this._hasEditingCapability(Vt):void 0)}_hasEditingCapability(Ye){return Ye.toLowerCase().split(",").map(ot=>ot.trim()).includes("editing")}_writeEditingEnabled(Ye,ot,Ot,Vt){if(!Ye){const pn=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query";(0,re.RB)("layerDefinition.capabilities",pn,ot),Ot&&!Vt?.writeLayerSchema&&(ot.capabilities=pn)}}_getLayerDomain(Ye){const ot=this.fieldsIndex.get(Ye);return ot?ot.domain:null}_fetchFirstLayerId(Ye){return(0,J.default)(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:Ye}).then(ot=>{const Ot=ot.data;if(Ot)return Array.isArray(Ot.layers)&&Ot.layers.length>0?Ot.layers[0].id:Array.isArray(Ot.tables)&&Ot.tables.length>0?Ot.tables[0].id:void 0})}initLayerProperties(Ye){var ot=this;return(0,D.Z)(function*(){return ot._set("source",Ye),Ye.sourceJSON&&(ot.sourceJSON=Ye.sourceJSON,ot.read(Ye.sourceJSON,{origin:"service",portalItem:ot.portalItem,portal:ot.portalItem?.portal,url:ot.parsedUrl})),ot._verifySource(),ot._verifyFields(),(0,Jt.YN)(ot.renderer,ot.fieldsIndex),(0,Jt.UF)(ot.timeInfo,ot.fieldsIndex),(0,Et.y)(ot,{origin:"service"})})()}hasDataChanged(){var Ye=this;return(0,D.Z)(function*(){return(0,bt.gG)(Ye)})()}fetchPublishingStatus(){var Ye=this;return(0,D.Z)(function*(){const ot=Ye.source;return ot?.fetchPublishingStatus?ot.fetchPublishingStatus():"unavailable"})()}_verifyFields(){const Ye=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+Ye+")"),this.isTable||this._hasMemorySource()||-1!==Ye.search(/\/FeatureServer\//i)||this.fields?.some(ot=>"geometry"===ot.type)||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+Ye+")")}_fixTemplates(Ye,ot){Ye&&Ye.forEach(Ot=>{const Vt=Ot.prototype&&Ot.prototype.attributes;Vt&&ot&&delete Vt[ot]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new x.Z("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new x.Z("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(Ye){Ye.forEach(ot=>{ot.layer=this,ot.sourceLayer=this}),this._handles.add([Ye.on("after-add",ot=>{ot.item.layer=this,ot.item.sourceLayer=this}),Ye.on("after-remove",ot=>{ot.item.layer=null,ot.item.sourceLayer=null})],"fl-source")}_resetMemorySource(Ye){Ye.forEach(ot=>{ot.layer=null,ot.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}};(0,T._)([(0,ue.r)("service","capabilities")],Fn.prototype,"readCapabilities",null),(0,T._)([(0,he.Cb)({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Fn.prototype,"charts",void 0),(0,T._)([(0,he.Cb)({readOnly:!0})],Fn.prototype,"createQueryVersion",null),(0,T._)([(0,he.Cb)({json:{read:{source:"layerDefinition.copyrightText"}}})],Fn.prototype,"copyright",void 0),(0,T._)([(0,he.Cb)({json:{read:{source:"layerDefinition.displayField"}}})],Fn.prototype,"displayField",void 0),(0,T._)([(0,he.Cb)({types:X.LB,readOnly:!0})],Fn.prototype,"defaultSymbol",void 0),(0,T._)([(0,he.Cb)({type:Wn.n})],Fn.prototype,"dynamicDataSource",void 0),(0,T._)([(0,he.Cb)({type:Boolean})],Fn.prototype,"editingEnabled",null),(0,T._)([(0,ue.r)(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],Fn.prototype,"readEditingEnabled",null),(0,T._)([(0,ue.r)("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],Fn.prototype,"readEditingEnabledFromWebMap",null),(0,T._)([(0,be.c)(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],Fn.prototype,"writeEditingEnabled",null),(0,T._)([(0,be.c)("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],Fn.prototype,"writeEditingEnabledToWebMap",null),(0,T._)([(0,he.Cb)({readOnly:!0})],Fn.prototype,"effectiveEditingEnabled",null),(0,T._)([(0,he.Cb)({...dr.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:ts}}}}})],Fn.prototype,"fields",void 0),(0,T._)([(0,he.Cb)(dr.fieldsIndex)],Fn.prototype,"fieldsIndex",void 0),(0,T._)([(0,he.Cb)({type:Oe.Z,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Fn.prototype,"formTemplate",void 0),(0,T._)([(0,he.Cb)({json:{read:{source:"layerDefinition.extent"}}})],Fn.prototype,"fullExtent",void 0),(0,T._)([(0,he.Cb)({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:ts,writer(Ye,ot,Ot){const Vt=Ye?bt.Fr.toJSON(Ye):null;Vt&&(0,re.RB)(Ot,Vt,ot)}}}},read:{source:"layerDefinition.geometryType",reader:bt.Fr.read}}})],Fn.prototype,"geometryType",void 0),(0,T._)([(0,he.Cb)({json:{read:{source:"layerDefinition.hasM"}}})],Fn.prototype,"hasM",void 0),(0,T._)([(0,he.Cb)({json:{read:{source:"layerDefinition.hasZ"}}})],Fn.prototype,"hasZ",void 0),(0,T._)([(0,he.Cb)(pt.id)],Fn.prototype,"id",void 0),(0,T._)([(0,he.Cb)({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],Fn.prototype,"infoFor3D",void 0),(0,T._)([(0,he.Cb)({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],Fn.prototype,"isTable",void 0),(0,T._)([(0,ue.r)("service","isTable",["type","geometryType"]),(0,ue.r)("isTable",["layerDefinition.type","layerDefinition.geometryType"])],Fn.prototype,"readIsTable",null),(0,T._)([(0,be.c)("web-map","isTable")],Fn.prototype,"writeIsTable",null),(0,T._)([(0,he.Cb)(pt.iR)],Fn.prototype,"labelsVisible",void 0),(0,T._)([(0,he.Cb)({type:[Wt.Z],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:Zt.r},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:Zt.r},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],Fn.prototype,"labelingInfo",void 0),(0,T._)([(0,he.Cb)((()=>{const Ye=(0,N.d9)(pt.bT);return Ye.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(ot,Ot,Vt){(0,re.RB)(Vt,(0,dt.a)(ot),Ot)}}},Ye})())],Fn.prototype,"opacity",void 0),(0,T._)([(0,he.Cb)(pt.rn)],Fn.prototype,"legendEnabled",void 0),(0,T._)([(0,he.Cb)({type:["show","hide"],json:(()=>{const Ye=(0,N.d9)(pt.rT.json);return Ye.origins["portal-item"]={read:!1,write:!1},Ye})()})],Fn.prototype,"listMode",void 0),(0,T._)([(0,ue.r)("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],Fn.prototype,"readGlobalIdField",null),(0,T._)([(0,he.Cb)({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:ts}}}}})],Fn.prototype,"objectIdField",void 0),(0,T._)([(0,ue.r)("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],Fn.prototype,"readObjectIdField",null),(0,T._)([(0,he.Cb)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],Fn.prototype,"operationalLayerType",void 0),(0,T._)([(0,he.Cb)(dr.outFields)],Fn.prototype,"outFields",void 0),(0,T._)([(0,he.Cb)({readOnly:!0})],Fn.prototype,"parsedUrl",null),(0,T._)([(0,he.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],Fn.prototype,"path",void 0),(0,T._)([(0,he.Cb)(pt.C_)],Fn.prototype,"popupEnabled",void 0),(0,T._)([(0,he.Cb)({type:te.Z,json:{name:"popupInfo",write:!0}})],Fn.prototype,"popupTemplate",void 0),(0,T._)([(0,he.Cb)({readOnly:!0})],Fn.prototype,"defaultPopupTemplate",null),(0,T._)([(0,he.Cb)({types:ne.A,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:ne.o,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(Ye,ot,Ot)=>({ignoreOrigin:Ot?.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(Ye,ot,Ot)=>({ignoreOrigin:Ot?.writeLayerSchema})}}})],Fn.prototype,"renderer",null),(0,T._)([(0,ue.r)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),(0,ue.r)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],Fn.prototype,"readRenderer",null),(0,T._)([(0,he.Cb)((()=>{const Ye=(0,N.d9)(pt.YI);return Ye.json.origins["portal-item"]={read:!1,write:!1},Ye})())],Fn.prototype,"screenSizePerspectiveEnabled",void 0),(0,T._)([(0,he.Cb)({clonable:!1})],Fn.prototype,"source",null),(0,T._)([(0,se.p)("source")],Fn.prototype,"castSource",null),(0,T._)([(0,ue.r)("portal-item","source",["featureSet"]),(0,ue.r)("web-map","source",["featureSet"])],Fn.prototype,"readSource",null),(0,T._)([(0,he.Cb)({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],Fn.prototype,"spatialReference",void 0),(0,T._)([(0,he.Cb)({type:Number})],Fn.prototype,"subtypeCode",void 0),(0,T._)([(0,he.Cb)({type:[Lt.Z]})],Fn.prototype,"templates",void 0),(0,T._)([(0,ue.r)("templates",["editFieldsInfo","creatorField","editorField","templates"])],Fn.prototype,"readTemplates",null),(0,T._)([(0,he.Cb)({type:dn.Z})],Fn.prototype,"timeInfo",void 0),(0,T._)([(0,he.Cb)()],Fn.prototype,"title",void 0),(0,T._)([(0,ue.r)("service","title",["name"]),(0,ue.r)("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],Fn.prototype,"readTitle",null),(0,T._)([(0,ue.r)("web-map","title",["layerDefinition.name","title"])],Fn.prototype,"readTitleFromWebMap",null),(0,T._)([(0,he.Cb)({type:String})],Fn.prototype,"sublayerTitleMode",void 0),(0,T._)([(0,he.Cb)({json:{read:!1}})],Fn.prototype,"type",void 0),(0,T._)([(0,he.Cb)({type:String})],Fn.prototype,"typeIdField",void 0),(0,T._)([(0,ue.r)("service","typeIdField"),(0,ue.r)("typeIdField",["layerDefinition.typeIdField"])],Fn.prototype,"readTypeIdField",null),(0,T._)([(0,he.Cb)({type:[Ft.Z]})],Fn.prototype,"types",void 0),(0,T._)([(0,ue.r)("service","types",["types"]),(0,ue.r)("types",["layerDefinition.types"])],Fn.prototype,"readTypes",null),(0,T._)([(0,he.Cb)({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],Fn.prototype,"visible",void 0),(0,T._)([(0,ue.r)("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],Fn.prototype,"readVisible",null),Fn=(0,T._)([(0,ge.j)($t)],Fn);const Ne=(0,me.d)({types:X.QT}),xt=Fn},44917:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ee});var D=M(15861),T=M(17626),Z=(M(29132),M(84792)),U=M(26584),ie=M(61885),k=M(61996),B=M(47996),R=M(63290),W=M(10699),V=M(21726),Q=M(77712),X=(M(90912),M(85931),M(76898)),Y=M(59318);function x(){return(x=(0,D.Z)(function*(re){const le="portalItem"in re?re:{portalItem:re},_e=yield M.e(7534).then(M.bind(M,7534));try{return yield _e.fromItem(le)}catch(ae){const he=le&&le.portalItem,se=he&&he.id||"unset",ue=he&&he.portal&&he.portal.url||Y.Z.portalUrl;throw R.Z.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+ue+"', id: '"+se+"')",ae),ae}})).apply(this,arguments)}var $=M(2004),N=M(65234);let z=0,q=class extends(ie.Z.EventedMixin((0,k.IG)(B.Z))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new $.Z(-180,-90,180,90,N.Z.WGS84),this.id=Date.now().toString(16)+"-layer-"+z++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=N.Z.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static fromArcGISServerUrl(re){return(0,D.Z)(function*(){const le="string"==typeof re?{url:re}:re;return(yield M.e(4578).then(M.bind(M,24578))).fromUrl(le)})()}static fromPortalItem(re){return function F(re){return x.apply(this,arguments)}(re)}initialize(){this.when().catch(re=>{(0,W.D_)(re)||R.Z.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:re})})}destroy(){if(this.parent){const re=this,le=this.parent;"layers"in le&&le.layers.includes(re)?le.layers.remove(re):"tables"in le&&le.tables.includes(re)?le.tables.remove(re):"baseLayers"in le&&le.baseLayers.includes(re)?le.baseLayers.remove(re):"baseLayers"in le&&le.referenceLayers.includes(re)&&le.referenceLayers.remove(re)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,V.mN)(this.url)}fetchAttributionData(){var re=this;return(0,D.Z)(function*(){const le=re.attributionDataUrl;if(re.hasAttributionData&&le)return(yield(0,Z.default)(le,{query:{f:"json"},responseType:"json"})).data;throw new U.Z("layer:no-attribution-data","Layer does not have attribution data")})()}};(0,T._)([(0,Q.Cb)({type:String})],q.prototype,"attributionDataUrl",void 0),(0,T._)([(0,Q.Cb)({type:$.Z})],q.prototype,"fullExtent",void 0),(0,T._)([(0,Q.Cb)({readOnly:!0})],q.prototype,"hasAttributionData",null),(0,T._)([(0,Q.Cb)({type:String,clonable:!1})],q.prototype,"id",void 0),(0,T._)([(0,Q.Cb)({type:Boolean,nonNullable:!0})],q.prototype,"legendEnabled",void 0),(0,T._)([(0,Q.Cb)({type:["show","hide","hide-children"]})],q.prototype,"listMode",void 0),(0,T._)([(0,Q.Cb)({type:Number,range:{min:0,max:1},nonNullable:!0})],q.prototype,"opacity",void 0),(0,T._)([(0,Q.Cb)({clonable:!1})],q.prototype,"parent",void 0),(0,T._)([(0,Q.Cb)({readOnly:!0})],q.prototype,"parsedUrl",null),(0,T._)([(0,Q.Cb)({type:Boolean})],q.prototype,"popupEnabled",void 0),(0,T._)([(0,Q.Cb)({type:Boolean})],q.prototype,"attributionVisible",void 0),(0,T._)([(0,Q.Cb)({type:N.Z})],q.prototype,"spatialReference",void 0),(0,T._)([(0,Q.Cb)({type:String})],q.prototype,"title",void 0),(0,T._)([(0,Q.Cb)({readOnly:!0,json:{read:!1}})],q.prototype,"type",void 0),(0,T._)([(0,Q.Cb)()],q.prototype,"url",void 0),(0,T._)([(0,Q.Cb)({type:Boolean,nonNullable:!0})],q.prototype,"visible",void 0),q=(0,T._)([(0,X.j)("esri.layers.Layer")],q);const ee=q},48887:(nt,Te,M)=>{"use strict";M.r(Te),M.d(Te,{default:()=>Ce});var D=M(15861),T=M(17626),te=M(84792),Z=M(97478),U=M(26584),ie=M(80542),k=M(47877),B=M(62208),R=M(99959),W=M(10699),V=M(77712),Q=M(90912),J=(M(85931),M(68653)),X=M(76898),Y=M(99433),F=M(31283),x=M(2004),$=M(83137),N=M(44917),z=M(50085),q=M(19027),ee=M(65088),re=M(552),le=M(50107),_e=M(49286),ae=M(6647),he=M(30346),se=M(99555),ue=M(66120),ge=M(97941),be=M(13812),me=M(14772),Oe=M(12585),oe=M(39058),de=M(13410),ve=M(5676),De=M(41039);let xe=class extends((0,re.h)((0,ge.n)((0,se.M)((0,ue.x)((0,q.O)((0,ee.Y)((0,_e.q)((0,ae.I)((0,R.R)((0,he.Q)((0,z.V)((0,le.N)((0,ie.p)(N.Z)))))))))))))){constructor(...Re){super(...Re),this.dateFieldsTimeReference=null,this.datesInUnknownTimezone=!1,this.dpi=96,this.gdbVersion=null,this.imageFormat="png24",this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.isReference=null,this.labelsVisible=!1,this.operationalLayerType="ArcGISMapServiceLayer",this.preferredTimeReference=null,this.sourceJSON=null,this.sublayers=null,this.type="map-image",this.url=null}normalizeCtorArgs(Re,we){return"string"==typeof Re?{url:Re,...we}:Re}load(Re){const we=(0,B.pC)(Re)?Re.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},Re).catch(W.r9).then(()=>this._fetchService(we))),Promise.resolve(this)}readImageFormat(Re,we){const Me=we.supportedImageFormatTypes;return Me&&Me.includes("PNG32")?"png32":"png24"}writeSublayers(Re,we,Me,fe){if(!this.loaded||!Re)return;const ye=Re.slice().reverse().flatten(({sublayers:Ve})=>Ve&&Ve.toArray().reverse()).toArray();let je=!1;if(this.capabilities&&this.capabilities.operations.supportsExportMap&&this.capabilities.exportMap?.supportsDynamicLayers){const Ve=(0,F.M9)(fe.origin);if(Ve===F.s3.PORTAL_ITEM){const st=this.createSublayersForOrigin("service").sublayers;je=(0,de.QV)(ye,st,F.s3.SERVICE)}else if(Ve>F.s3.PORTAL_ITEM){const st=this.createSublayersForOrigin("portal-item");je=(0,de.QV)(ye,st.sublayers,(0,F.M9)(st.origin))}}const Je=[],Ie={writeSublayerStructure:je,...fe};let Le=je;ye.forEach(Ve=>{const st=Ve.write({},Ie);Je.push(st),Le=Le||"user"===Ve.originOf("visible")}),Je.some(Ve=>Object.keys(Ve).length>1)&&(we.layers=Je),Le&&(we.visibleLayers=ye.filter(Ve=>Ve.visible).map(Ve=>Ve.id))}createExportImageParameters(Re,we,Me,fe){const ye=fe&&fe.pixelRatio||1;Re&&this.version>=10&&(Re=Re.clone().shiftCentralMeridian());const je=new me.R({layer:this,floors:fe?.floors,scale:(0,$.yZ)({extent:Re,width:we})*ye}),Je=je.toJSON();je.destroy();const Ie=!fe||!fe.rotation||this.version<10.3?{}:{rotation:-fe.rotation},Le=Re&&Re.spatialReference,Ve=Le.wkid||JSON.stringify(Le.toJSON());Je.dpi*=ye;const st={};if(fe?.timeExtent){const{start:ce,end:Se}=fe.timeExtent.toJSON();st.time=ce&&Se&&ce===Se?""+ce:`${ce??"null"},${Se??"null"}`}else this.timeInfo&&!this.timeInfo.hasLiveData&&(st.time="null,null");return{bbox:Re&&Re.xmin+","+Re.ymin+","+Re.xmax+","+Re.ymax,bboxSR:Ve,imageSR:Ve,size:we+","+Me,...Je,...Ie,...st}}fetchImage(Re,we,Me,fe){var ye=this;return(0,D.Z)(function*(){const{data:je}=yield ye._fetchImage("image",Re,we,Me,fe);return je})()}fetchImageBitmap(Re,we,Me,fe){var ye=this;return(0,D.Z)(function*(){const{data:je,url:Je}=yield ye._fetchImage("blob",Re,we,Me,fe);return(0,Oe.g)(je,Je)})()}fetchRecomputedExtents(Re={}){var we=this;return(0,D.Z)(function*(){const Me={...Re,query:{returnUpdates:!0,f:"json",...we.customParameters,token:we.apiKey}},{data:fe}=yield(0,te.default)(we.url,Me),{extent:ye,fullExtent:je,timeExtent:Je}=fe,Ie=ye||je;return{fullExtent:Ie&&x.Z.fromJSON(Ie),timeExtent:Je&&Z.Z.fromJSON({start:Je[0],end:Je[1]})}})()}loadAll(){return(0,k.G)(this,Re=>{Re(this.allSublayers)})}serviceSupportsSpatialReference(Re){return(0,ve.D)(this,Re)}_fetchImage(Re,we,Me,fe,ye){var je=this;return(0,D.Z)(function*(){const Je={responseType:Re,signal:ye?.signal??null,query:{...je.parsedUrl.query,...je.createExportImageParameters(we,Me,fe,ye),f:"image",...je.refreshParameters,...je.customParameters,token:je.apiKey}},Ie=je.parsedUrl.path+"/export";if(null!=Je.query?.dynamicLayers&&!je.capabilities?.exportMap?.supportsDynamicLayers)throw new U.Z("mapimagelayer:dynamiclayer-not-supported",`service ${je.url} doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source.`,{query:Je.query});try{const{data:Le}=yield(0,te.default)(Ie,Je);return{data:Le,url:Ie}}catch(Le){throw(0,W.D_)(Le)?Le:new U.Z("mapimagelayer:image-fetch-error",`Unable to load image: ${Ie}`,{error:Le})}})()}_fetchService(Re){var we=this;return(0,D.Z)(function*(){if(we.sourceJSON)return void we.read(we.sourceJSON,{origin:"service",url:we.parsedUrl});const{data:Me,ssl:fe}=yield(0,te.default)(we.parsedUrl.path,{query:{f:"json",...we.parsedUrl.query,...we.customParameters,token:we.apiKey},signal:Re});fe&&(we.url=we.url.replace(/^http:/i,"https:")),we.sourceJSON=Me,we.read(Me,{origin:"service",url:we.parsedUrl})})()}};(0,T._)([(0,V.Cb)({type:De.Z})],xe.prototype,"dateFieldsTimeReference",void 0),(0,T._)([(0,V.Cb)({type:Boolean})],xe.prototype,"datesInUnknownTimezone",void 0),(0,T._)([(0,V.Cb)()],xe.prototype,"dpi",void 0),(0,T._)([(0,V.Cb)()],xe.prototype,"gdbVersion",void 0),(0,T._)([(0,V.Cb)()],xe.prototype,"imageFormat",void 0),(0,T._)([(0,J.r)("imageFormat",["supportedImageFormatTypes"])],xe.prototype,"readImageFormat",null),(0,T._)([(0,V.Cb)({json:{origins:{service:{read:{source:"maxImageHeight"}}}}})],xe.prototype,"imageMaxHeight",void 0),(0,T._)([(0,V.Cb)({json:{origins:{service:{read:{source:"maxImageWidth"}}}}})],xe.prototype,"imageMaxWidth",void 0),(0,T._)([(0,V.Cb)()],xe.prototype,"imageTransparency",void 0),(0,T._)([(0,V.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],xe.prototype,"isReference",void 0),(0,T._)([(0,V.Cb)({json:{read:!1,write:!1}})],xe.prototype,"labelsVisible",void 0),(0,T._)([(0,V.Cb)({type:["ArcGISMapServiceLayer"]})],xe.prototype,"operationalLayerType",void 0),(0,T._)([(0,V.Cb)({json:{read:!1,write:!1}})],xe.prototype,"popupEnabled",void 0),(0,T._)([(0,V.Cb)({type:De.Z})],xe.prototype,"preferredTimeReference",void 0),(0,T._)([(0,V.Cb)()],xe.prototype,"sourceJSON",void 0),(0,T._)([(0,V.Cb)({json:{write:{ignoreOrigin:!0}}})],xe.prototype,"sublayers",void 0),(0,T._)([(0,Y.c)("sublayers",{layers:{type:[oe.Z]},visibleLayers:{type:[Q.z8]}})],xe.prototype,"writeSublayers",null),(0,T._)([(0,V.Cb)({type:["show","hide","hide-children"]})],xe.prototype,"listMode",void 0),(0,T._)([(0,V.Cb)({json:{read:!1},readOnly:!0,value:"map-image"})],xe.prototype,"type",void 0),(0,T._)([(0,V.Cb)(be.HQ)],xe.prototype,"url",void 0),xe=(0,T._)([(0,X.j)("esri.layers.MapImageLayer")],xe);const Ce=xe},58141:(nt,Te,M)=>{"use strict";M.d(Te,{rk:()=>Q,Tj:()=>ne,GI:()=>J,CE:()=>X,Tq:()=>Y,Zx:()=>F,Ee:()=>N});var D=M(20414),T=M(23841),te=M(55494),Z=M(28347);class Q{constructor(q,ee,re){this.strength=q,this.radius=ee,this.threshold=re,this.type="bloom"}interpolate(q,ee,re){this.strength=x(q.strength,ee.strength,re),this.radius=x(q.radius,ee.radius,re),this.threshold=x(q.threshold,ee.threshold,re)}clone(){return new Q(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:$(this.radius),strength:this.strength,threshold:this.threshold}}}class ne{constructor(q){this.radius=q,this.type="blur"}interpolate(q,ee,re){this.radius=Math.round(x(q.radius,ee.radius,re))}clone(){return new ne(this.radius)}toJSON(){return{type:"blur",radius:$(this.radius)}}}class J{constructor(q,ee){this.type=q,this.amount=ee,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(q,ee,re){this.amount=x(q.amount,ee.amount,re),this._updateMatrix()}clone(){return new J(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const q=this._colorMatrix||(0,te.c)();switch(this.type){case"brightness":this._colorMatrix=((z,q)=>{const ee=(0,Z.s)(z,q,0,0,0,0,q,0,0,0,0,q,0,0,0,0,1);return(0,Z.t)(ee,ee)})(q,this.amount);break;case"contrast":this._colorMatrix=((z,q)=>{const ee=(0,Z.s)(z,q,0,0,.5-.5*q,0,q,0,.5-.5*q,0,0,q,.5-.5*q,0,0,0,1);return(0,Z.t)(ee,ee)})(q,this.amount);break;case"grayscale":this._colorMatrix=((z,q)=>{const ee=1-this.amount,re=(0,Z.s)(z,.2126+.7874*ee,.7152-.7152*ee,.0722-.0722*ee,0,.2126-.2126*ee,.7152+.2848*ee,.0722-.0722*ee,0,.2126-.2126*ee,.7152-.7152*ee,.0722+.9278*ee,0,0,0,0,1);return(0,Z.t)(re,re)})(q);break;case"invert":this._colorMatrix=((z,q)=>{const ee=1-2*q,re=(0,Z.s)(z,ee,0,0,q,0,ee,0,q,0,0,ee,q,0,0,0,1);return(0,Z.t)(re,re)})(q,this.amount);break;case"saturate":this._colorMatrix=((z,q)=>{const ee=(0,Z.s)(z,.213+.787*q,.715-.715*q,.072-.072*q,0,.213-.213*q,.715+.285*q,.072-.072*q,0,.213-.213*q,.715-.715*q,.072+.928*q,0,0,0,0,1);return(0,Z.t)(ee,ee)})(q,this.amount);break;case"sepia":this._colorMatrix=((z,q)=>{const ee=1-this.amount,re=(0,Z.s)(z,.393+.607*ee,.769-.769*ee,.189-.189*ee,0,.349-.349*ee,.686+.314*ee,.168-.168*ee,0,.272-.272*ee,.534-.534*ee,.131+.869*ee,0,0,0,0,1);return(0,Z.t)(re,re)})(q)}}}class X{constructor(q,ee,re,le){this.offsetX=q,this.offsetY=ee,this.blurRadius=re,this.color=le,this.type="drop-shadow"}interpolate(q,ee,re){this.offsetX=x(q.offsetX,ee.offsetX,re),this.offsetY=x(q.offsetY,ee.offsetY,re),this.blurRadius=x(q.blurRadius,ee.blurRadius,re),this.color[0]=Math.round(x(q.color[0],ee.color[0],re)),this.color[1]=Math.round(x(q.color[1],ee.color[1],re)),this.color[2]=Math.round(x(q.color[2],ee.color[2],re)),this.color[3]=x(q.color[3],ee.color[3],re)}clone(){return new X(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const q=[...this.color];return q[3]*=255,{type:"drop-shadow",xoffset:$(this.offsetX),yoffset:$(this.offsetY),blurRadius:$(this.blurRadius),color:q}}}class Y{constructor(q){this.angle=q,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(q,ee,re){this.angle=x(q.angle,ee.angle,re),this._updateMatrix()}clone(){return new Y(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const q=this._colorMatrix||(0,te.c)();this._colorMatrix=((z,q)=>{const ee=Math.sin(q*Math.PI/180),re=Math.cos(q*Math.PI/180),le=(0,Z.s)(z,.213+.787*re-.213*ee,.715-.715*re-.715*ee,.072-.072*re+.928*ee,0,.213-.213*re+.143*ee,.715+.285*re+.14*ee,.072-.072*re-.283*ee,0,.213-.213*re-.787*ee,.715-.715*re+.715*ee,.072+.928*re+.072*ee,0,0,0,0,1);return(0,Z.t)(le,le)})(q,this.angle)}}class F{constructor(q){this.amount=q,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(q,ee,re){this.amount=x(q.amount,ee.amount,re)}clone(){return new F(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function x(z,q,ee){return z+(q-z)*ee}function $(z){return Math.round(1e3*(0,T.Wz)(z))/1e3}function N(z){switch(z.type){case"grayscale":case"sepia":case"invert":return new J(z.type,0);case"saturate":case"brightness":case"contrast":return new J(z.type,1);case"opacity":return new F(1);case"hue-rotate":return new Y(0);case"blur":return new ne(0);case"drop-shadow":return new X(0,0,0,[...(0,D.h$)("transparent")]);case"bloom":return new Q(0,0,1)}}},71149:(nt,Te,M)=>{"use strict";M.d(Te,{cW:()=>ie,ij:()=>U,rM:()=>W});var D=M(26584),T=M(94113),te=M(29538),Z=M(53390);function U(ne,J,X){try{return function B(ne){if(!ne||0===ne.length)return null;if(function R(ne){const J=ne[0];return!!J&&"scale"in J}(ne)){const J=[];for(const X of ne)J.push({scale:X.scale,value:W(X.value)});return J}return W(ne)}(ne)}catch(Y){X?.messages?.push(Y)}return null}function ie(ne,J,X,Y){try{const F=function k(ne){const J=(0,te.Q)(ne);return J?(0,Z.Cb)(J)?J.map(X=>X.toJSON()):J.map(({scale:X,effects:Y})=>({scale:X,value:Y.map(F=>F.toJSON())})):null}(ne);(0,T.RB)(X,F,J)}catch(F){Y.messages&&Y.messages.push(F)}}function W(ne){if(!ne||!ne.length)return"";const J=[];for(const X of ne){let Y=[];switch(X.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":Y=[V(X,"amount")];break;case"blur":Y=[V(X,"radius","pt")];break;case"hue-rotate":Y=[V(X,"angle","deg")];break;case"drop-shadow":Y=[V(X,"xoffset","pt"),V(X,"yoffset","pt"),V(X,"blurRadius","pt"),Q(X,"color")];break;case"bloom":Y=[V(X,"strength"),V(X,"radius","pt"),V(X,"threshold")]}const F=`${X.type}(${Y.filter(Boolean).join(" ")})`;(0,te.Q)(F),J.push(F)}return J.join(" ")}function V(ne,J,X){if(null==ne[J])throw new D.Z("effect:missing-parameter",`Missing parameter '${J}' in ${ne.type} effect`,{effect:ne});return X?ne[J]+X:""+ne[J]}function Q(ne,J){if(null==ne[J])throw new D.Z("effect:missing-parameter",`Missing parameter '${J}' in ${ne.type} effect`,{effect:ne});const X=ne[J];return`rgba(${X[0]||0}, ${X[1]||0}, ${X[2]||0}, ${X[3]/255||0})`}},29538:(nt,Te,M)=>{"use strict";M.d(Te,{Q:()=>R});var ie,D=M(20414),T=M(26584),te=M(58141),U=(M(1719),M(53390)),B={};function R(de){if(!de||0===de.length)return null;if("string"==typeof de){const De=W(de);return De&&0!==De.length?De:null}const ve=de.map(De=>{if(!Number.isFinite(De.scale)||De.scale<=0)throw new T.Z("effect:invalid-scale","scale must be finite and greater than 0",{stop:De});return{scale:De.scale,effects:W(De.value)}});ve.sort((De,xe)=>xe.effects.length-De.effects.length);for(let De=0;De<ve.length-1;De++){if(!(0,U.AS)(ve[De].effects,ve[De+1].effects))throw new T.Z("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:ve[De].effects,b:ve[De+1].effects});(0,U.uF)(ve[De].effects,ve[De+1].effects)}return ve.sort((De,xe)=>xe.scale-De.scale),ve}function W(de){let ve;if(!de)return[];try{ve=B.parse(de)}catch(De){throw new T.Z("effect:invalid-syntax","Invalid effect syntax",{value:de,error:De})}return ve.map(De=>function V(de){try{switch(de.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return function Q(de){let ve=1;return x(de.parameters,1),1===de.parameters.length&&(ve=ae(de.parameters[0])),new te.GI(de.name,ve)}(de);case"opacity":return function ne(de){let ve=1;return x(de.parameters,1),1===de.parameters.length&&(ve=ae(de.parameters[0])),new te.Zx(ve)}(de);case"hue-rotate":return function J(de){let ve=0;return x(de.parameters,1),1===de.parameters.length&&(ve=function se(de){return function re(de){if("quantity"!==de.type||!(0===de.value&&null===de.unit||de.unit&&null!=ee[de.unit]))throw new T.Z("effect:type-error",`Expected <angle>, Actual: ${$(de)}`,{term:de})}(de),de.value*ee[de.unit]||0}(de.parameters[0])),new te.Tq(ve)}(de);case"blur":return function X(de){let ve=0;return x(de.parameters,1),1===de.parameters.length&&(ve=ue(de.parameters[0]),N(ve,de.parameters[0])),new te.Tj(ve)}(de);case"drop-shadow":return function Y(de){const ve=[];let De=null;for(const xe of de.parameters)if("color"===xe.type){if(ve.length&&Object.freeze(ve),De)throw new T.Z("effect:type-error","Accepts only one color",{});De=ge(xe)}else{const Ce=ue(xe);if(Object.isFrozen(ve))throw new T.Z("effect:type-error","<length> parameters not consecutive",{lengths:ve});ve.push(Ce),3===ve.length&&N(Ce,xe)}if(ve.length<2||ve.length>3)throw new T.Z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${ve.length}}`,{lengths:ve});return new te.CE(ve[0],ve[1],ve[2]||0,De||be("black"))}(de);case"bloom":return function F(de){let ve=1,De=0,xe=0;return x(de.parameters,3),de.parameters[0]&&(ve=ae(de.parameters[0])),de.parameters[1]&&(De=ue(de.parameters[1]),N(De,de.parameters[1])),de.parameters[2]&&(xe=ae(de.parameters[2])),new te.rk(ve,De,xe)}(de)}}catch(ve){throw ve.details.filter=de,ve}throw new T.Z("effect:unknown-effect",`Effect '${de.name}' is not supported`,{effect:de})}(De))}function x(de,ve){if(de.length>ve)throw new T.Z("effect:type-error",`Function supports up to ${ve} parameters, Actual: ${de.length}`,{parameters:de})}function $(de){if("color"===de.type)return"<color>";if(de.unit){if(le[de.unit])return"<length>";if(ee[de.unit])return"<angle>";if("%"===de.unit)return"<percentage>"}return"<double>"}function N(de,ve){if(de<0)throw new T.Z("effect:type-error",`Negative values are not allowed, Actual: ${de}`,{term:ve})}(ie={get exports(){return B},set exports(de){B=de}}).exports&&(ie.exports=function(){function ve(Ce,Re,we,Me){var fe=Error.call(this,Ce);return Object.setPrototypeOf&&Object.setPrototypeOf(fe,ve.prototype),fe.expected=Re,fe.found=we,fe.location=Me,fe.name="SyntaxError",fe}function De(Ce,Re,we){return we=we||" ",Ce.length>Re?Ce:Ce+(we+=we.repeat(Re-=Ce.length)).slice(0,Re)}return function de(Ce,Re){function we(){this.constructor=Ce}we.prototype=Re.prototype,Ce.prototype=new we}(ve,Error),ve.prototype.format=function(Ce){var Re="Error: "+this.message;if(this.location){var we,Me=null;for(we=0;we<Ce.length;we++)if(Ce[we].source===this.location.source){Me=Ce[we].text.split(/\r\n|\n|\r/g);break}var fe=this.location.start,ye=this.location.source+":"+fe.line+":"+fe.column;if(Me){var je=this.location.end,Je=De("",fe.line.toString().length," "),Ie=Me[fe.line-1],Le=(fe.line===je.line?je.column:Ie.length+1)-fe.column||1;Re+="\n --\x3e "+ye+"\n"+Je+" |\n"+fe.line+" | "+Ie+"\n"+Je+" | "+De("",fe.column-1," ")+De("",Le,"^")}else Re+="\n at "+ye}return Re},ve.buildMessage=function(Ce,Re){var we={literal:function(Le){return'"'+fe(Le.text)+'"'},class:function(Le){var Ve=Le.parts.map(function(st){return Array.isArray(st)?ye(st[0])+"-"+ye(st[1]):ye(st)});return"["+(Le.inverted?"^":"")+Ve.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(Le){return Le.description}};function Me(Le){return Le.charCodeAt(0).toString(16).toUpperCase()}function fe(Le){return Le.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(Ve){return"\\x0"+Me(Ve)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(Ve){return"\\x"+Me(Ve)})}function ye(Le){return Le.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(Ve){return"\\x0"+Me(Ve)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(Ve){return"\\x"+Me(Ve)})}function je(Le){return we[Le.type](Le)}return"Expected "+function Je(Le){var Ve,st,ce=Le.map(je);if(ce.sort(),ce.length>0){for(Ve=1,st=1;Ve<ce.length;Ve++)ce[Ve-1]!==ce[Ve]&&(ce[st]=ce[Ve],st++);ce.length=st}switch(ce.length){case 1:return ce[0];case 2:return ce[0]+" or "+ce[1];default:return ce.slice(0,-1).join(", ")+", or "+ce[ce.length-1]}}(Ce)+" but "+function Ie(Le){return Le?'"'+fe(Le)+'"':"end of input"}(Re)+" found."},{SyntaxError:ve,parse:function xe(Ce,Re){var we,Me={},fe=(Re=void 0!==Re?Re:{}).grammarSource,ye={start:Zn},je=Zn,Je="none",Ie=")",Le=",",Ve="(",st="%",ce="px",Se="cm",ze="mm",Ke="in",Xe="pt",et="pc",ct="deg",ft="rad",$e="grad",ut="turn",qe="#",ke=".",Ge="e",We=/^[ \t\n\r]/,tt=/^[a-z\-]/,at=/^[0-9a-fA-F]/,yt=/^[+\-]/,Mt=/^[0-9]/,Yt=It("none"),sn=Dn("none",!1),un=Dn(")",!1),Sn=Dn(",",!1),zt=It("whitespace"),hn=vr([" ","\t","\n","\r"],!1,!1),bn=It("function"),jn=Dn("(",!1),zn=It("identifier"),pt=vr([["a","z"],"-"],!1,!1),bt=It("percentage"),Lt=Dn("%",!1),Ft=It("length"),Xt=Dn("px",!1),Jt=Dn("cm",!1),Wt=Dn("mm",!1),Zt=Dn("in",!1),gn=Dn("pt",!1),dn=Dn("pc",!1),wn=It("angle"),Wn=Dn("deg",!1),Et=Dn("rad",!1),Tt=Dn("grad",!1),Bt=Dn("turn",!1),fn=It("number"),dt=It("color"),Pt=Dn("#",!1),$t=vr([["0","9"],["a","f"],["A","F"]],!1,!1),tn=vr(["+","-"],!1,!1),Cn=vr([["0","9"]],!1,!1),Yn=Dn(".",!1),dr=Dn("e",!1),ts=function(){return[]},Fn=function(Dt,ln){return{type:"function",name:Dt,parameters:ln||[]}},Ne=function(Dt,ln){return ln.length>0?function kn(Dt,ln,vn){return[Dt].concat(function Ii(Dt,ln){return Dt.map(function(vn){return vn[ln]})}(ln,vn))}(Dt,ln,3):[Dt]},xt=function(Dt){return{type:"quantity",value:Dt.value,unit:Dt.unit}},Ye=function(Dt){return{type:"color",colorType:Dt.type,value:Dt.value}},ot=function(Dt){return Dt},Ot=function(){return jr()},Vt=function(Dt){return{value:Dt,unit:"%"}},pn=function(Dt){return{value:Dt,unit:"px"}},En=function(Dt){return{value:Dt,unit:"cm"}},xn=function(Dt){return{value:Dt,unit:"mm"}},nr=function(Dt){return{value:Dt,unit:"in"}},rr=function(Dt){return{value:Dt,unit:"pt"}},Un=function(Dt){return{value:Dt,unit:"pc"}},lr=function(Dt){return{value:Dt,unit:"deg"}},Or=function(Dt){return{value:Dt,unit:"rad"}},Zr=function(Dt){return{value:Dt,unit:"grad"}},Qn=function(Dt){return{value:Dt,unit:"turn"}},ds=function(Dt){return{value:Dt,unit:null}},Br=function(){return{type:"hex",value:jr()}},ti=function(Dt){return{type:"function",value:Dt}},$s=function(){return{type:"named",value:jr()}},zr=function(){return parseFloat(jr())},Ut=0,Jr=0,_r=[{line:1,column:1}],Wr=0,wr=[],Ht=0;if("startRule"in Re){if(!(Re.startRule in ye))throw new Error("Can't start parsing from rule \""+Re.startRule+'".');je=ye[Re.startRule]}function jr(){return Ce.substring(Jr,Ut)}function Dn(Dt,ln){return{type:"literal",text:Dt,ignoreCase:ln}}function vr(Dt,ln,vn){return{type:"class",parts:Dt,inverted:ln,ignoreCase:vn}}function It(Dt){return{type:"other",description:Dt}}function mt(Dt){var ln,vn=_r[Dt];if(vn)return vn;for(ln=Dt-1;!_r[ln];)ln--;for(vn={line:(vn=_r[ln]).line,column:vn.column};ln<Dt;)10===Ce.charCodeAt(ln)?(vn.line++,vn.column=1):vn.column++,ln++;return _r[Dt]=vn,vn}function en(Dt){Ut<Wr||(Ut>Wr&&(Wr=Ut,wr=[]),wr.push(Dt))}function Zn(){var Dt;return(Dt=function Tn(){var Dt,ln;return Ht++,Dt=Ut,Xr(),Ce.substr(Ut,4)===Je?(ln=Je,Ut+=4):(ln=Me,0===Ht&&en(sn)),ln!==Me?(Xr(),Jr=Dt,Dt=ts()):(Ut=Dt,Dt=Me),Ht--,Dt===Me&&0===Ht&&en(Yt),Dt}())===Me&&(Dt=function $n(){var Dt,ln;if(Dt=[],(ln=ur())!==Me)for(;ln!==Me;)Dt.push(ln),ln=ur();else Dt=Me;return Dt}()),Dt}function ur(){var Dt,ln,vn,or;return Dt=Ut,Xr(),(ln=function Cr(){var Dt,ln,vn;return Ht++,Dt=Ut,(ln=li())!==Me?(40===Ce.charCodeAt(Ut)?(vn=Ve,Ut++):(vn=Me,0===Ht&&en(jn)),vn!==Me?(Jr=Dt,Dt=ot(ln)):(Ut=Dt,Dt=Me)):(Ut=Dt,Dt=Me),Ht--,Dt===Me&&(ln=Me,0===Ht&&en(bn)),Dt}())!==Me?(Xr(),(vn=function gr(){var Dt,ln,vn,or,ls,Qr,ks,vo;if(Dt=Ut,(ln=Er())!==Me){for(vn=[],or=Ut,ls=Xr(),44===Ce.charCodeAt(Ut)?(Qr=Le,Ut++):(Qr=Me,0===Ht&&en(Sn)),Qr===Me&&(Qr=null),ks=Xr(),(vo=Er())!==Me?or=ls=[ls,Qr,ks,vo]:(Ut=or,or=Me);or!==Me;)vn.push(or),or=Ut,ls=Xr(),44===Ce.charCodeAt(Ut)?(Qr=Le,Ut++):(Qr=Me,0===Ht&&en(Sn)),Qr===Me&&(Qr=null),ks=Xr(),(vo=Er())!==Me?or=ls=[ls,Qr,ks,vo]:(Ut=or,or=Me);Jr=Dt,Dt=Ne(ln,vn)}else Ut=Dt,Dt=Me;return Dt}())===Me&&(vn=null),Xr(),41===Ce.charCodeAt(Ut)?(or=Ie,Ut++):(or=Me,0===Ht&&en(un)),or!==Me?(Xr(),Jr=Dt,Dt=Fn(ln,vn)):(Ut=Dt,Dt=Me)):(Ut=Dt,Dt=Me),Dt}function Er(){var Dt,ln;return Dt=Ut,(ln=function qn(){var Dt,ln,vn;return Ht++,Dt=Ut,Xr(),(ln=Fs())!==Me?(37===Ce.charCodeAt(Ut)?(vn=st,Ut++):(vn=Me,0===Ht&&en(Lt)),vn!==Me?(Jr=Dt,Dt=Vt(ln)):(Ut=Dt,Dt=Me)):(Ut=Dt,Dt=Me),Ht--,Dt===Me&&0===Ht&&en(bt),Dt}())===Me&&(ln=function ni(){var Dt,ln,vn;return Ht++,Dt=Ut,Xr(),(ln=Fs())!==Me?(Ce.substr(Ut,2)===ce?(vn=ce,Ut+=2):(vn=Me,0===Ht&&en(Xt)),vn!==Me?(Jr=Dt,Dt=pn(ln)):(Ut=Dt,Dt=Me)):(Ut=Dt,Dt=Me),Dt===Me&&(Dt=Ut,Xr(),(ln=Fs())!==Me?(Ce.substr(Ut,2)===Se?(vn=Se,Ut+=2):(vn=Me,0===Ht&&en(Jt)),vn!==Me?(Jr=Dt,Dt=En(ln)):(Ut=Dt,Dt=Me)):(Ut=Dt,Dt=Me),Dt===Me&&(Dt=Ut,Xr(),(ln=Fs())!==Me?(Ce.substr(Ut,2)===ze?(vn=ze,Ut+=2):(vn=Me,0===Ht&&en(Wt)),vn!==Me?(Jr=Dt,Dt=xn(ln)):(Ut=Dt,Dt=Me)):(Ut=Dt,Dt=Me),Dt===Me&&(Dt=Ut,Xr(),(ln=Fs())!==Me?(Ce.substr(Ut,2)===Ke?(vn=Ke,Ut+=2):(vn=Me,0===Ht&&en(Zt)),vn!==Me?(Jr=Dt,Dt=nr(ln)):(Ut=Dt,Dt=Me)):(Ut=Dt,Dt=Me),Dt===Me&&(Dt=Ut,Xr(),(ln=Fs())!==Me?(Ce.substr(Ut,2)===Xe?(vn=Xe,Ut+=2):(vn=Me,0===Ht&&en(gn)),vn!==Me?(Jr=Dt,Dt=rr(ln)):(Ut=Dt,Dt=Me)):(Ut=Dt,Dt=Me),Dt===Me&&(Dt=Ut,Xr(),(ln=Fs())!==Me?(Ce.substr(Ut,2)===et?(vn=et,Ut+=2):(vn=Me,0===Ht&&en(dn)),vn!==Me?(Jr=Dt,Dt=Un(ln)):(Ut=Dt,Dt=Me)):(Ut=Dt,Dt=Me)))))),Ht--,Dt===Me&&0===Ht&&en(Ft),Dt}())===Me&&(ln=function Yr(){var Dt,ln,vn;return Ht++,Dt=Ut,(ln=Fs())!==Me?(Ce.substr(Ut,3)===ct?(vn=ct,Ut+=3):(vn=Me,0===Ht&&en(Wn)),vn!==Me?(Jr=Dt,Dt=lr(ln)):(Ut=Dt,Dt=Me)):(Ut=Dt,Dt=Me),Dt===Me&&(Dt=Ut,(ln=Fs())!==Me?(Ce.substr(Ut,3)===ft?(vn=ft,Ut+=3):(vn=Me,0===Ht&&en(Et)),vn!==Me?(Jr=Dt,Dt=Or(ln)):(Ut=Dt,Dt=Me)):(Ut=Dt,Dt=Me),Dt===Me&&(Dt=Ut,(ln=Fs())!==Me?(Ce.substr(Ut,4)===$e?(vn=$e,Ut+=4):(vn=Me,0===Ht&&en(Tt)),vn!==Me?(Jr=Dt,Dt=Zr(ln)):(Ut=Dt,Dt=Me)):(Ut=Dt,Dt=Me),Dt===Me&&(Dt=Ut,(ln=Fs())!==Me?(Ce.substr(Ut,4)===ut?(vn=ut,Ut+=4):(vn=Me,0===Ht&&en(Bt)),vn!==Me?(Jr=Dt,Dt=Qn(ln)):(Ut=Dt,Dt=Me)):(Ut=Dt,Dt=Me)))),Ht--,Dt===Me&&(ln=Me,0===Ht&&en(wn)),Dt}())===Me&&(ln=function Nr(){var Dt,ln;return Ht++,Dt=Ut,Xr(),(ln=Fs())!==Me?(Jr=Dt,Dt=ds(ln)):(Ut=Dt,Dt=Me),Ht--,Dt===Me&&0===Ht&&en(fn),Dt}()),ln!==Me&&(Jr=Dt,ln=xt(ln)),(Dt=ln)===Me&&(Dt=Ut,(ln=function Ho(){var Dt,ln,vn,or;if(Ht++,Dt=Ut,35===Ce.charCodeAt(Ut)?(ln=qe,Ut++):(ln=Me,0===Ht&&en(Pt)),ln!==Me){if(vn=[],at.test(Ce.charAt(Ut))?(or=Ce.charAt(Ut),Ut++):(or=Me,0===Ht&&en($t)),or!==Me)for(;or!==Me;)vn.push(or),at.test(Ce.charAt(Ut))?(or=Ce.charAt(Ut),Ut++):(or=Me,0===Ht&&en($t));else vn=Me;vn!==Me?(Jr=Dt,Dt=Br()):(Ut=Dt,Dt=Me)}else Ut=Dt,Dt=Me;return Dt===Me&&(Dt=Ut,(ln=ur())!==Me&&(Jr=Dt,ln=ti(ln)),(Dt=ln)===Me&&(Dt=Ut,(ln=li())!==Me&&(Jr=Dt,ln=$s()),Dt=ln)),Ht--,Dt===Me&&(ln=Me,0===Ht&&en(dt)),Dt}())!==Me&&(Jr=Dt,ln=Ye(ln)),Dt=ln),Dt}function Xr(){var Dt,ln;for(Ht++,Dt=[],We.test(Ce.charAt(Ut))?(ln=Ce.charAt(Ut),Ut++):(ln=Me,0===Ht&&en(hn));ln!==Me;)Dt.push(ln),We.test(Ce.charAt(Ut))?(ln=Ce.charAt(Ut),Ut++):(ln=Me,0===Ht&&en(hn));return Ht--,ln=Me,0===Ht&&en(zt),Dt}function li(){var Dt,ln,vn;if(Ht++,Dt=Ut,ln=[],tt.test(Ce.charAt(Ut))?(vn=Ce.charAt(Ut),Ut++):(vn=Me,0===Ht&&en(pt)),vn!==Me)for(;vn!==Me;)ln.push(vn),tt.test(Ce.charAt(Ut))?(vn=Ce.charAt(Ut),Ut++):(vn=Me,0===Ht&&en(pt));else ln=Me;return ln!==Me&&(Jr=Dt,ln=Ot()),Ht--,(Dt=ln)===Me&&(ln=Me,0===Ht&&en(zn)),Dt}function Fs(){var Dt,ln,vn,or,ls,Qr,ks;for(Dt=Ut,yt.test(Ce.charAt(Ut))?(Ce.charAt(Ut),Ut++):0===Ht&&en(tn),ln=Ut,vn=[],Mt.test(Ce.charAt(Ut))?(or=Ce.charAt(Ut),Ut++):(or=Me,0===Ht&&en(Cn));or!==Me;)vn.push(or),Mt.test(Ce.charAt(Ut))?(or=Ce.charAt(Ut),Ut++):(or=Me,0===Ht&&en(Cn));if(46===Ce.charCodeAt(Ut)?(or=ke,Ut++):(or=Me,0===Ht&&en(Yn)),or!==Me){if(ls=[],Mt.test(Ce.charAt(Ut))?(Qr=Ce.charAt(Ut),Ut++):(Qr=Me,0===Ht&&en(Cn)),Qr!==Me)for(;Qr!==Me;)ls.push(Qr),Mt.test(Ce.charAt(Ut))?(Qr=Ce.charAt(Ut),Ut++):(Qr=Me,0===Ht&&en(Cn));else ls=Me;ls!==Me?ln=vn=[vn,or,ls]:(Ut=ln,ln=Me)}else Ut=ln,ln=Me;if(ln===Me)if(ln=[],Mt.test(Ce.charAt(Ut))?(vn=Ce.charAt(Ut),Ut++):(vn=Me,0===Ht&&en(Cn)),vn!==Me)for(;vn!==Me;)ln.push(vn),Mt.test(Ce.charAt(Ut))?(vn=Ce.charAt(Ut),Ut++):(vn=Me,0===Ht&&en(Cn));else ln=Me;if(ln!==Me){if(vn=Ut,101===Ce.charCodeAt(Ut)?(or=Ge,Ut++):(or=Me,0===Ht&&en(dr)),or!==Me){if(yt.test(Ce.charAt(Ut))?(ls=Ce.charAt(Ut),Ut++):(ls=Me,0===Ht&&en(tn)),ls===Me&&(ls=null),Qr=[],Mt.test(Ce.charAt(Ut))?(ks=Ce.charAt(Ut),Ut++):(ks=Me,0===Ht&&en(Cn)),ks!==Me)for(;ks!==Me;)Qr.push(ks),Mt.test(Ce.charAt(Ut))?(ks=Ce.charAt(Ut),Ut++):(ks=Me,0===Ht&&en(Cn));else Qr=Me;Qr!==Me?vn=or=[or,ls,Qr]:(Ut=vn,vn=Me)}else Ut=vn,vn=Me;vn===Me&&(vn=null),Jr=Dt,Dt=zr()}else Ut=Dt,Dt=Me;return Dt}if((we=je())!==Me&&Ut===Ce.length)return we;throw we!==Me&&Ut<Ce.length&&en({type:"end"}),function Bn(Dt,ln,vn){return new ve(ve.buildMessage(Dt,ln),Dt,ln,vn)}(wr,Wr<Ce.length?Ce.charAt(Wr):null,function Rt(Dt,ln){var vn=mt(Dt),or=mt(ln);return{source:fe,start:{offset:Dt,line:vn.line,column:vn.column},end:{offset:ln,line:or.line,column:or.column}}}(Wr,Wr<Ce.length?Wr+1:Wr))}}}());const ee={deg:1,grad:.9,rad:180/Math.PI,turn:360},le={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function ae(de){!function q(de){if("quantity"!==de.type||null!==de.unit&&"%"!==de.unit)throw new T.Z("effect:type-error",`Expected <double> or <percentage>, Actual: ${$(de)}`,{term:de})}(de);const ve=de.value;return N(ve,de),"%"===de.unit?.01*ve:ve}function ue(de){return function _e(de){if("quantity"!==de.type||!(0===de.value&&null===de.unit||de.unit&&null!=le[de.unit]))throw new T.Z("effect:type-error",`Expected <length>, Actual: ${$(de)}`,{term:de})}(de),de.value*le[de.unit]||0}function ge(de){switch(de.colorType){case"hex":return(0,D.rW)(de.value);case"named":return be(de.value);case"function":return function oe(de){if(x(de.parameters,4),me.test(de.name))return[ae(de.parameters[0]),ae(de.parameters[1]),ae(de.parameters[2]),de.parameters[3]?ae(de.parameters[3]):1];if(Oe.test(de.name))return(0,D.B7)(function he(de){return function z(de){if("quantity"!==de.type||null!==de.unit)throw new T.Z("effect:type-error",`Expected <double>, Actual: ${$(de)}`,{term:de})}(de),N(de.value,de),de.value}(de.parameters[0]),ae(de.parameters[1]),ae(de.parameters[2]),de.parameters[3]?ae(de.parameters[3]):1);throw new T.Z("effect:syntax-error",`Invalid color function '${de.name}'`,{colorFunction:de})}(de.value)}}function be(de){if(!(0,D.St)(de))throw new T.Z("effect:unknown-color",`color '${de}' isn't valid`,{namedColor:de});return(0,D.VL)(de)}const me=/^rgba?/i,Oe=/^hsla?/i},53390:(nt,Te,M)=>{"use strict";M.d(Te,{AS:()=>T,Cb:()=>Z,uF:()=>te});var D=M(58141);function T(U,ie){const k=U.length>ie.length?U:ie;return(U.length>ie.length?ie:U).every((B,R)=>B.type===k[R].type)}function te(U,ie){const k=U.length>ie.length?U:ie,B=U.length>ie.length?ie:U;for(let R=B.length;R<k.length;R++)B.push((0,D.Ee)(k[R]))}function Z(U){const ie=U[0];return!!ie&&"type"in ie}},66385:(nt,Te,M)=>{"use strict";M.d(Te,{S6:()=>te,nd:()=>Z,u_:()=>T});var D=M(62208);class T{constructor(ie=null,k={},B,R){this.geometry=ie,this.attributes=k,this.centroid=B,this.objectId=R,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const ie=new T(this.geometry,this.attributes,this.centroid,this.objectId);return ie.displayId=this.displayId,ie.geohashX=this.geohashX,ie.geohashY=this.geohashY,ie}}function te(U){return!((0,D.Wi)(U.geometry)||!U.geometry.coords||!U.geometry.coords.length)}class Z extends T{}},95786:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>D});class D{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const te=new D;return te.objectIdFieldName=this.objectIdFieldName,te.globalIdFieldName=this.globalIdFieldName,te.geohashFieldName=this.geohashFieldName,te.geometryProperties=this.geometryProperties,te.geometryType=this.geometryType,te.spatialReference=this.spatialReference,te.hasZ=this.hasZ,te.hasM=this.hasM,te.features=this.features,te.fields=this.fields,te.transform=this.transform,te.exceededTransferLimit=this.exceededTransferLimit,te.uniqueIdField=this.uniqueIdField,te.queryGeometry=this.queryGeometry,te.queryGeometryType=this.queryGeometryType,te}}},88071:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>D});class D{constructor(te=[],Z=[],U=!1){this.lengths=te??[],this.coords=Z??[],this.hasIndeterminateRingOrder=U}static fromRect(te){const[Z,U,ie,k]=te,B=ie-Z,R=k-U;return new D([5],[Z,U,B,0,0,R,-B,0,0,-R])}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((te,Z)=>te+Z)}forEachVertex(te){let Z=0;this.lengths.length||te(this.coords[0],this.coords[1]);for(let U=0;U<this.lengths.length;U++){const ie=this.lengths[U];for(let k=0;k<ie;k++)te(this.coords[2*(k+Z)],this.coords[2*(k+Z)+1]);Z+=ie}}clone(te){return te?(te.set(this.coords),new D(this.lengths.slice(),te,this.hasIndeterminateRingOrder)):new D(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}},82054:(nt,Te,M)=>{"use strict";M.d(Te,{$:()=>at,$g:()=>Mt,E7:()=>Se,EI:()=>ze,GH:()=>Ke,IN:()=>$,Iv:()=>ve,J6:()=>Re,Jd:()=>x,Nh:()=>ke,RZ:()=>qe,Uy:()=>Je,XA:()=>st,Yn:()=>ce,cn:()=>ft,dd:()=>oe,di:()=>Xe,eG:()=>ye,fQ:()=>ee,hY:()=>Yt,h_:()=>$e,ks:()=>Ie,lM:()=>ut,lz:()=>Sn,oB:()=>hn,u0:()=>Me,zj:()=>Ge});var D=M(26584),T=M(63290),te=M(62208),Z=M(5548),U=M(65401),ie=M(91179),k=M(66385),B=M(95786),R=M(88071);function W(pt,bt){return pt?bt?4:3:bt?3:2}const V=T.Z.getLogger("esri.layers.graphics.featureConversionUtils"),Q={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},ne=(pt,bt,Lt,Ft,Xt,Jt)=>{pt[Lt]=Xt,pt[Lt+1]=Jt},J=(pt,bt,Lt,Ft,Xt,Jt)=>{pt[Lt]=Xt,pt[Lt+1]=Jt,pt[Lt+2]=bt[Ft+2]},X=(pt,bt,Lt,Ft,Xt,Jt)=>{pt[Lt]=Xt,pt[Lt+1]=Jt,pt[Lt+2]=bt[Ft+3]},Y=(pt,bt,Lt,Ft,Xt,Jt)=>{pt[Lt]=Xt,pt[Lt+1]=Jt,pt[Lt+2]=bt[Ft+2],pt[Lt+3]=bt[Ft+3]};function F(pt,bt,Lt,Ft){if(pt){if(Lt)return bt&&Ft?Y:J;if(bt&&Ft)return X}else if(bt&&Ft)return J;return ne}function x({scale:pt,translate:bt},Lt){return Math.round((Lt-bt[0])/pt[0])}function $({scale:pt,translate:bt},Lt){return Math.round((bt[1]-Lt)/pt[1])}function q({scale:pt,translate:bt},Lt,Ft){return Lt*pt[Ft]+bt[Ft]}function ee(pt,bt,Lt){return pt?bt?Lt?ue(pt):_e(pt):Lt?he(pt):re(pt):null}function re(pt){const bt=pt.coords;return{x:bt[0],y:bt[1]}}function le(pt,bt){return pt.coords[0]=bt.x,pt.coords[1]=bt.y,pt}function _e(pt){const bt=pt.coords;return{x:bt[0],y:bt[1],z:bt[2]}}function ae(pt,bt){return pt.coords[0]=bt.x,pt.coords[1]=bt.y,pt.coords[2]=bt.z,pt}function he(pt){const bt=pt.coords;return{x:bt[0],y:bt[1],m:bt[2]}}function se(pt,bt){return pt.coords[0]=bt.x,pt.coords[1]=bt.y,pt.coords[2]=bt.m,pt}function ue(pt){const bt=pt.coords;return{x:bt[0],y:bt[1],z:bt[2],m:bt[3]}}function ge(pt,bt){return pt.coords[0]=bt.x,pt.coords[1]=bt.y,pt.coords[2]=bt.z,pt.coords[3]=bt.m,pt}function me(pt,bt){return pt&&bt?ge:pt?ae:bt?se:le}function Oe(pt,bt,Lt,Ft,Xt){const Jt=me(Lt,Ft);for(const{geometry:Wt,attributes:Zt}of bt){const gn=(0,te.pC)(Wt)?Jt(new R.Z,Wt):null;pt.push(new k.u_(gn,Zt,null,Xt?Zt[Xt]:void 0))}return pt}function oe(pt,bt,Lt=me(null!=bt.z,null!=bt.m)){return Lt(pt,bt)}function ve(pt,bt,Lt){if((0,te.Wi)(pt))return null;const Ft=W(bt,Lt),Xt=[];for(let Jt=0;Jt<pt.coords.length;Jt+=Ft){const Wt=[];for(let Zt=0;Zt<Ft;Zt++)Wt.push(pt.coords[Jt+Zt]);Xt.push(Wt)}return bt?Lt?{points:Xt,hasZ:bt,hasM:Lt}:{points:Xt,hasZ:bt}:Lt?{points:Xt,hasM:Lt}:{points:Xt}}function De(pt,bt,Lt,Ft,Xt){const Jt=W(Lt,Ft);for(const{geometry:Wt,attributes:Zt}of bt){const gn=(0,te.pC)(Wt)?xe(new R.Z,Wt,Jt):null;pt.push(new k.u_(gn,Zt,null,Xt?Zt[Xt]:void 0))}return pt}function xe(pt,bt,Lt=W(bt.hasZ,bt.hasM)){pt.lengths[0]=bt.points.length;const Ft=pt.coords;let Xt=0;for(const Jt of bt.points)for(let Wt=0;Wt<Lt;Wt++)Ft[Xt++]=Jt[Wt];return pt}function Re(pt,bt,Lt){if(!pt)return null;const Ft=W(bt,Lt),{coords:Xt,lengths:Jt}=pt,Wt=[];let Zt=0;for(const gn of Jt){const dn=[];for(let wn=0;wn<gn;wn++){const Wn=[];for(let Et=0;Et<Ft;Et++)Wn.push(Xt[Zt++]);dn.push(Wn)}Wt.push(dn)}return bt?Lt?{paths:Wt,hasZ:bt,hasM:Lt}:{paths:Wt,hasZ:bt}:Lt?{paths:Wt,hasM:Lt}:{paths:Wt}}function we(pt,bt,Lt,Ft,Xt){const Jt=W(Lt,Ft);for(const{geometry:Wt,attributes:Zt}of bt){const gn=(0,te.pC)(Wt)?Me(new R.Z,Wt,Jt):null;pt.push(new k.u_(gn,Zt,null,Xt?Zt[Xt]:void 0))}return pt}function Me(pt,bt,Lt=W(bt.hasZ,bt.hasM)){const{lengths:Ft,coords:Xt}=pt;let Jt=0;for(const Wt of bt.paths){for(const Zt of Wt)for(let gn=0;gn<Lt;gn++)Xt[Jt++]=Zt[gn];Ft.push(Wt.length)}return pt}function ye(pt,bt,Lt){if(!pt)return null;const Ft=W(bt,Lt),{coords:Xt,lengths:Jt}=pt,Wt=[];let Zt=0;for(const gn of Jt){const dn=[];for(let wn=0;wn<gn;wn++){const Wn=[];for(let Et=0;Et<Ft;Et++)Wn.push(Xt[Zt++]);dn.push(Wn)}Wt.push(dn)}return bt?Lt?{rings:Wt,hasZ:bt,hasM:Lt}:{rings:Wt,hasZ:bt}:Lt?{rings:Wt,hasM:Lt}:{rings:Wt}}function je(pt,bt,Lt,Ft,Xt){for(const{geometry:Jt,centroid:Wt,attributes:Zt}of bt){const gn=(0,te.pC)(Jt)?Je(new R.Z,Jt,Lt,Ft):null,dn=Xt?Zt[Xt]:void 0;(0,te.pC)(Wt)?pt.push(new k.u_(gn,Zt,le(new R.Z,Wt),dn)):pt.push(new k.u_(gn,Zt,null,dn))}return pt}function Je(pt,bt,Lt=bt.hasZ,Ft=bt.hasM){return Ie(pt,bt.rings,Lt,Ft),pt}function Ie(pt,bt,Lt,Ft){const Xt=W(Lt,Ft),{lengths:Jt,coords:Wt}=pt;let Zt=0;bn(pt);for(const gn of bt){for(const dn of gn)for(let wn=0;wn<Xt;wn++)Wt[Zt++]=dn[wn];Jt.push(gn.length)}return pt}const Le=[],Ve=[];function st(pt,bt,Lt,Ft,Xt){Le[0]=pt;const[Jt]=ce(Ve,Le,bt,Lt,Ft,Xt);return jn(Le),jn(Ve),Jt}function ce(pt,bt,Lt,Ft,Xt,Jt){if(jn(pt),!Lt){for(const Wt of bt)pt.push(new k.u_(null,Wt.attributes,null,Jt?Wt.attributes[Jt]:void 0));return pt}switch(Lt){case"esriGeometryPoint":return Oe(pt,bt,Ft,Xt,Jt);case"esriGeometryMultipoint":return De(pt,bt,Ft,Xt,Jt);case"esriGeometryPolyline":return we(pt,bt,Ft,Xt,Jt);case"esriGeometryPolygon":return je(pt,bt,Ft,Xt,Jt);default:V.error("convertToFeatureSet:unknown-geometry",new D.Z(`Unable to parse unknown geometry type '${Lt}'`)),jn(pt)}return pt}function Se(pt,bt,Lt,Ft,Xt,Jt){const Wt=pt.length;switch(Lt){case"esriGeometryPoint":Oe(pt,bt,Ft,Xt,Jt);break;case"esriGeometryMultipoint":De(pt,bt,Ft,Xt,Jt);break;case"esriGeometryPolyline":we(pt,bt,Ft,Xt,Jt);break;case"esriGeometryPolygon":je(pt,bt,Ft,Xt,Jt);break;default:V.error("convertToFeatureSet:unknown-geometry",new D.Z(`Unable to parse unknown geometry type '${Lt}'`))}for(let Zt=0;Zt<bt.length;Zt++)pt[Zt+Wt].geometryType=Lt,pt[Zt+Wt].insertAfter=bt[Zt].insertAfter,pt[Zt+Wt].groupId=bt[Zt].groupId;return pt}function ze(pt,bt,Lt,Ft){Ve[0]=pt,ct(Le,Ve,bt,Lt,Ft);const Xt=Le[0];return jn(Le),jn(Ve),Xt}function Ke(pt,bt,Lt){if((0,te.Wi)(pt))return null;const Ft=new R.Z;return"hasZ"in pt&&null==bt&&(bt=pt.hasZ),"hasM"in pt&&null==Lt&&(Lt=pt.hasM),(0,ie.wp)(pt)?me(bt??null!=pt.z,Lt??null!=pt.m)(Ft,pt):(0,ie.oU)(pt)?Je(Ft,pt,bt,Lt):(0,ie.l9)(pt)?Me(Ft,pt,W(bt,Lt)):(0,ie.aW)(pt)?xe(Ft,pt,W(bt,Lt)):void V.error("convertFromGeometry:unknown-geometry",new D.Z(`Unable to parse unknown geometry type '${pt}'`))}function Xe(pt,bt,Lt,Ft){const Xt=pt&&("coords"in pt?pt:pt.geometry);if((0,te.Wi)(Xt))return null;switch(bt){case"esriGeometryPoint":{let Jt=re;return Lt&&Ft?Jt=ue:Lt?Jt=_e:Ft&&(Jt=he),Jt(Xt)}case"esriGeometryMultipoint":return ve(Xt,Lt,Ft);case"esriGeometryPolyline":return Re(Xt,Lt,Ft);case"esriGeometryPolygon":return ye(Xt,Lt,Ft);default:return V.error("convertToGeometry:unknown-geometry",new D.Z(`Unable to parse unknown geometry type '${bt}'`)),null}}function ct(pt,bt,Lt,Ft,Xt){if(jn(pt),(0,te.Wi)(Lt))return function et(pt,bt){for(const Lt of bt)pt.push({attributes:Lt.attributes});return pt}(pt,bt);switch(Lt){case"esriGeometryPoint":return function be(pt,bt,Lt,Ft){let Xt=re;Lt&&Ft?Xt=ue:Lt?Xt=_e:Ft&&(Xt=he);for(const Jt of bt){const{geometry:Wt,attributes:Zt}=Jt,gn=(0,te.pC)(Wt)?Xt(Wt):null;pt.push({attributes:Zt,geometry:gn})}return pt}(pt,bt,Ft,Xt);case"esriGeometryMultipoint":return function de(pt,bt,Lt,Ft){for(const{geometry:Xt,attributes:Jt}of bt)pt.push({attributes:Jt,geometry:(0,te.pC)(Xt)?ve(Xt,Lt,Ft):null});return pt}(pt,bt,Ft,Xt);case"esriGeometryPolyline":return function Ce(pt,bt,Lt,Ft){for(const{geometry:Xt,attributes:Jt}of bt)pt.push({attributes:Jt,geometry:(0,te.pC)(Xt)?Re(Xt,Lt,Ft):null});return pt}(pt,bt,Ft,Xt);case"esriGeometryPolygon":return function fe(pt,bt,Lt,Ft){for(const{geometry:Xt,attributes:Jt,centroid:Wt}of bt){const Zt=(0,te.pC)(Xt)?ye(Xt,Lt,Ft):null;if((0,te.pC)(Wt)){const gn=re(Wt);pt.push({attributes:Jt,centroid:gn,geometry:Zt})}else pt.push({attributes:Jt,geometry:Zt})}return pt}(pt,bt,Ft,Xt);default:V.error("convertToFeatureSet:unknown-geometry",new D.Z(`Unable to parse unknown geometry type '${Lt}'`))}return pt}function ft(pt){const{objectIdFieldName:bt,spatialReference:Lt,transform:Ft,fields:Xt,hasM:Jt,hasZ:Wt,features:Zt,geometryType:gn,exceededTransferLimit:dn,uniqueIdField:wn,queryGeometry:Wn,queryGeometryType:Et}=pt,Tt={features:ct([],Zt,gn,Wt,Jt),fields:Xt,geometryType:gn,objectIdFieldName:bt,spatialReference:Lt,uniqueIdField:wn,queryGeometry:Xe(Wn,Et,!1,!1)};return Ft&&(Tt.transform=Ft),dn&&(Tt.exceededTransferLimit=dn),Jt&&(Tt.hasM=Jt),Wt&&(Tt.hasZ=Wt),Tt}function $e(pt,bt){const Lt=new B.Z,{hasM:Ft,hasZ:Xt,features:Jt,objectIdFieldName:Wt,spatialReference:Zt,geometryType:gn,exceededTransferLimit:dn,transform:wn,fields:Wn}=pt;return Wn&&(Lt.fields=Wn),Lt.geometryType=gn??null,Lt.objectIdFieldName=Wt??bt??null,Lt.spatialReference=Zt??null,Lt.objectIdFieldName?(Jt&&ce(Lt.features,Jt,gn,Xt,Ft,Lt.objectIdFieldName),dn&&(Lt.exceededTransferLimit=dn),Ft&&(Lt.hasM=Ft),Xt&&(Lt.hasZ=Xt),wn&&(Lt.transform=wn),Lt):(V.error(new D.Z("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),Lt)}function ut(pt){const{transform:bt,features:Lt,hasM:Ft,hasZ:Xt}=pt;if(!bt)return pt;for(const Jt of Lt)(0,te.pC)(Jt.geometry)&&Mt(Jt.geometry,Jt.geometry,Ft,Xt,bt),(0,te.pC)(Jt.centroid)&&Mt(Jt.centroid,Jt.centroid,Ft,Xt,bt);return pt.transform=null,pt}function qe(pt,bt){const{geometryType:Lt,features:Ft,hasM:Xt,hasZ:Jt}=bt;if(!pt)return bt;for(let Wt=0;Wt<Ft.length;Wt++){const Zt=Ft[Wt],gn=Zt.weakClone();gn.geometry=new R.Z,ke(gn.geometry,Zt.geometry,Xt,Jt,Lt,pt),Zt.centroid&&(gn.centroid=new R.Z,ke(gn.centroid,Zt.centroid,Xt,Jt,"esriGeometryPoint",pt)),Ft[Wt]=gn}return bt.transform=pt,bt}function ke(pt,bt,Lt,Ft,Xt,Jt,Wt=Lt,Zt=Ft){if(bn(pt),(0,te.Wi)(bt)||!bt.coords.length)return null;const gn=Q[Xt],{coords:dn,lengths:wn}=bt,Wn=W(Lt,Ft),Et=W(Lt&&Wt,Ft&&Zt),Tt=F(Lt,Ft,Wt,Zt);if(!wn.length)return Tt(pt.coords,dn,0,0,x(Jt,dn[0]),$(Jt,dn[1])),bn(pt,Wn,0),pt;let Bt,fn,dt,Pt,$t=0,tn=0,Cn=tn;for(const Yn of wn){if(Yn<gn)continue;let dr=0;tn=Cn,dt=Bt=x(Jt,dn[$t]),Pt=fn=$(Jt,dn[$t+1]),Tt(pt.coords,dn,tn,$t,dt,Pt),dr++,$t+=Wn,tn+=Et;for(let ts=1;ts<Yn;ts++,$t+=Wn)dt=x(Jt,dn[$t]),Pt=$(Jt,dn[$t+1]),dt===Bt&&Pt===fn||(Tt(pt.coords,dn,tn,$t,dt-Bt,Pt-fn),tn+=Et,dr++,Bt=dt,fn=Pt);dr>=gn&&(pt.lengths.push(dr),Cn=tn)}return jn(pt.coords,Cn),pt.coords.length?pt:null}function Ge(pt,bt,Lt,Ft,Xt,Jt,Wt=Lt,Zt=Ft){if(bn(pt),!bt||!bt.coords.length)return null;const gn=Q[Xt],{coords:dn,lengths:wn}=bt,Wn=W(Lt,Ft),Et=W(Lt&&Wt,Ft&&Zt),Tt=F(Lt,Ft,Wt,Zt);if(!wn.length)return Tt(pt.coords,dn,0,0,dn[0],dn[1]),bn(pt,Wn,0),pt;let Bt=0;const fn=Jt*Jt;for(const dt of wn){if(dt<gn){Bt+=dt*Wn;continue}const Pt=pt.coords.length/Et,$t=Bt,tn=Bt+(dt-1)*Wn;Tt(pt.coords,dn,pt.coords.length,$t,dn[$t],dn[$t+1]),tt(pt.coords,dn,Wn,fn,Tt,$t,tn),Tt(pt.coords,dn,pt.coords.length,tn,dn[tn],dn[tn+1]);const Cn=pt.coords.length/Et-Pt;Cn>=gn?pt.lengths.push(Cn):jn(pt.coords,Pt*Et),Bt+=dt*Wn}return pt.coords.length?pt:null}function We(pt,bt,Lt,Ft){const Xt=pt[bt],Jt=pt[bt+1],gn=pt[Ft],dn=pt[Ft+1];let wn=pt[Lt],Wn=pt[Lt+1],Et=gn-wn,Tt=dn-Wn;if(0!==Et||0!==Tt){const Bt=((Xt-wn)*Et+(Jt-Wn)*Tt)/(Et*Et+Tt*Tt);Bt>1?(wn=gn,Wn=dn):Bt>0&&(wn+=Et*Bt,Wn+=Tt*Bt)}return Et=Xt-wn,Tt=Jt-Wn,Et*Et+Tt*Tt}function tt(pt,bt,Lt,Ft,Xt,Jt,Wt){let Zt,gn=Ft,dn=0;for(let wn=Jt+Lt;wn<Wt;wn+=Lt)Zt=We(bt,wn,Jt,Wt),Zt>gn&&(dn=wn,gn=Zt);gn>Ft&&(dn-Jt>Lt&&tt(pt,bt,Lt,Ft,Xt,Jt,dn),Xt(pt,bt,pt.length,dn,bt[dn],bt[dn+1]),Wt-dn>Lt&&tt(pt,bt,Lt,Ft,Xt,dn,Wt))}function at(pt,bt,Lt,Ft){if((0,te.Wi)(bt)||!bt.coords||!bt.coords.length)return null;const Xt=W(Lt,Ft);let Jt=Number.POSITIVE_INFINITY,Wt=Number.POSITIVE_INFINITY,Zt=Number.NEGATIVE_INFINITY,gn=Number.NEGATIVE_INFINITY;if(bt&&bt.coords){const dn=bt.coords;for(let wn=0;wn<dn.length;wn+=Xt){const Wn=dn[wn],Et=dn[wn+1];Jt=Math.min(Jt,Wn),Zt=Math.max(Zt,Wn),Wt=Math.min(Wt,Et),gn=Math.max(gn,Et)}}return(0,Z.is)(pt)?(0,Z.bZ)(pt,Jt,Wt,Zt,gn):(0,U.al)(Jt,Wt,Zt,gn,pt),pt}function Mt(pt,bt,Lt,Ft,Xt){const{coords:Jt,lengths:Wt}=bt,Zt=W(Lt,Ft);if(!Jt.length)return pt!==bt&&bn(pt),pt;(0,te.O3)(Xt);const{originPosition:gn,scale:dn,translate:wn}=Xt,Wn=zn;Wn.originPosition=gn;const Et=Wn.scale;Et[0]=dn[0]??1,Et[1]=-(dn[1]??1),Et[2]=dn[2]??1,Et[3]=dn[3]??1;const Tt=Wn.translate;if(Tt[0]=wn[0]??0,Tt[1]=wn[1]??0,Tt[2]=wn[2]??0,Tt[3]=wn[3]??0,!Wt.length){for(let fn=0;fn<Zt;++fn)pt.coords[fn]=q(Wn,Jt[fn],fn);return pt!==bt&&bn(pt,Zt,0),pt}let Bt=0;for(let fn=0;fn<Wt.length;fn++){const dt=Wt[fn];pt.lengths[fn]=dt;for(let tn=0;tn<Zt;++tn)pt.coords[Bt+tn]=q(Wn,Jt[Bt+tn],tn);let Pt=pt.coords[Bt],$t=pt.coords[Bt+1];Bt+=Zt;for(let tn=1;tn<dt;tn++,Bt+=Zt){Pt+=Jt[Bt]*Et[0],$t+=Jt[Bt+1]*Et[1],pt.coords[Bt]=Pt,pt.coords[Bt+1]=$t;for(let Cn=2;Cn<Zt;++Cn)pt.coords[Bt+Cn]=q(Wn,Jt[Bt+Cn],Cn)}}return pt!==bt&&bn(pt,Jt.length,Wt.length),pt}function Yt(pt,bt,Lt,Ft,Xt,Jt){if(bn(pt),pt.lengths.push(...bt.lengths),Lt===Xt&&Ft===Jt)for(let Wt=0;Wt<bt.coords.length;Wt++)pt.coords.push(bt.coords[Wt]);else{const Wt=W(Lt,Ft),Zt=F(Lt,Ft,Xt,Jt),gn=bt.coords;for(let dn=0;dn<gn.length;dn+=Wt)Zt(pt.coords,gn,pt.coords.length,dn,gn[dn],gn[dn+1])}return pt}function un(pt,bt,Lt,Ft){let Xt=0,Jt=pt[Ft*bt],Wt=pt[Ft*(bt+1)];for(let Zt=1;Zt<Lt;Zt++){const gn=Jt+pt[Ft*(bt+Zt)],dn=Wt+pt[Ft*(bt+Zt)+1],wn=(gn-Jt)*(dn+Wt);Jt=gn,Wt=dn,Xt+=wn}return.5*Xt}function Sn(pt,bt){const{coords:Lt,lengths:Ft}=pt;let Xt=0,Jt=0;for(let Wt=0;Wt<Ft.length;Wt++){const Zt=Ft[Wt];Jt+=un(Lt,Xt,Zt,bt),Xt+=Zt}return Math.abs(Jt)}function hn(pt,bt){if((0,te.Wi)(pt))return null;const Lt=pt.clone(),Ft=pt.coords,Xt=pt.lengths;let Jt=0;for(let Wt=0;Wt<Xt.length;Wt++){const Zt=Xt[Wt];let gn=Ft[bt*Jt],dn=Ft[bt*Jt+1];for(let wn=1;wn<Zt;wn++){const Wn=gn+Ft[bt*(Jt+wn)],Et=dn+Ft[bt*(Jt+wn)+1];Lt.coords[bt*(Jt+wn)]=Wn,Lt.coords[bt*(Jt+wn)+1]=Et,gn=Wn,dn=Et}Jt+=Zt}return Lt}function bn(pt,bt=0,Lt=0){jn(pt.lengths,Lt),jn(pt.coords,bt)}function jn(pt,bt=0){pt.length!==bt&&(pt.length=bt)}const zn={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]}},57092:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Ce});var D=M(15861),T=M(17626),te=M(14517),Z=M(26584),U=M(8314),ie=M(62208),k=M(10699),B=M(21726),R=M(77712),Q=(M(90912),M(85931),M(76898)),ne=M(15283),J=M(2618),X=M(90463),F=(M(29132),M(20477)),x=M(96854),$=M(2004);function z(){return(z=(0,D.Z)(function*(Re,we,Me){const fe=(0,J.en)(Re);return(0,F.Vr)(fe,x.Z.from(we),{...Me}).then(ye=>({count:ye.data.count,extent:$.Z.fromJSON(ye.data.extent)}))})).apply(this,arguments)}var q=M(24865),ee=M(2865),re=M(33696),le=M(82054);function _e(Re,we){return we}function ae(Re,we,Me,fe){switch(Me){case 0:return ge(Re,we+fe,0);case 1:return"lowerLeft"===Re.originPosition?ge(Re,we+fe,1):function be({translate:Re,scale:we},Me,fe){return Re[fe]-Me*we[fe]}(Re,we+fe,1)}}function he(Re,we,Me,fe){return 2===Me?ge(Re,we,2):ae(Re,we,Me,fe)}function se(Re,we,Me,fe){return 2===Me?ge(Re,we,3):ae(Re,we,Me,fe)}function ue(Re,we,Me,fe){return 3===Me?ge(Re,we,3):he(Re,we,Me,fe)}function ge({translate:Re,scale:we},Me,fe){return Re[fe]+Me*we[fe]}class me{constructor(we){this._options=we,this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],this._previousCoordinate=[0,0],this._transform=null,this._applyTransform=_e,this._lengths=[],this._currentLengthIndex=0,this._toAddInCurrentPath=0,this._vertexDimension=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,this._attributesConstructor=class{}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(we){if(this._options.applyTransform&&(we.transform=null),this._attributesConstructor=class{},this._coordinateBuffer=null,this._lengths.length=0,!we.hasZ)return;const Me=(0,re.k)(we.geometryType,this._options.sourceSpatialReference,we.spatialReference);if(!(0,ie.Wi)(Me))for(const fe of we.features)Me(fe.geometry)}createSpatialReference(){return{}}addField(we,Me){const fe=we.fields;(0,ie.O3)(fe),fe.push(Me);const ye=fe.map(je=>je.name);this._attributesConstructor=function(){for(const je of ye)this[je]=null}}addFeature(we,Me){we.features.push(Me)}prepareFeatures(we){switch(this._transform=we.transform,this._options.applyTransform&&we.transform&&(this._applyTransform=this._deriveApplyTransform(we)),this._vertexDimension=2,we.hasZ&&this._vertexDimension++,we.hasM&&this._vertexDimension++,we.geometryType){case"esriGeometryPoint":this.addCoordinate=(Me,fe,ye)=>this.addCoordinatePoint(Me,fe,ye),this.createGeometry=Me=>this.createPointGeometry(Me);break;case"esriGeometryPolygon":this.addCoordinate=(Me,fe,ye)=>this._addCoordinatePolygon(Me,fe,ye),this.createGeometry=Me=>this._createPolygonGeometry(Me);break;case"esriGeometryPolyline":this.addCoordinate=(Me,fe,ye)=>this._addCoordinatePolyline(Me,fe,ye),this.createGeometry=Me=>this._createPolylineGeometry(Me);break;case"esriGeometryMultipoint":this.addCoordinate=(Me,fe,ye)=>this._addCoordinateMultipoint(Me,fe,ye),this.createGeometry=Me=>this._createMultipointGeometry(Me)}}createFeature(){return this._lengths.length=0,this._currentLengthIndex=0,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(we,Me,fe){0===this._lengths.length&&(this._toAddInCurrentPath=Me),this._lengths.push(Me)}addQueryGeometry(we,Me){const{queryGeometry:fe,queryGeometryType:ye}=Me,je=(0,le.$g)(fe.clone(),fe,!1,!1,this._transform),Je=(0,le.di)(je,ye,!1,!1);we.queryGeometryType=ye,we.queryGeometry={...Je}}createPointGeometry(we){const Me={x:0,y:0,spatialReference:we.spatialReference};return we.hasZ&&(Me.z=0),we.hasM&&(Me.m=0),Me}addCoordinatePoint(we,Me,fe){const ye=(0,ie.s3)(this._transform,"transform");switch(Me=this._applyTransform(ye,Me,fe,0),fe){case 0:we.x=Me;break;case 1:we.y=Me;break;case 2:"z"in we?we.z=Me:we.m=Me;break;case 3:we.m=Me}}_transformPathLikeValue(we,Me){let fe=0;Me<=1&&(fe=this._previousCoordinate[Me],this._previousCoordinate[Me]+=we);const ye=(0,ie.s3)(this._transform,"transform");return this._applyTransform(ye,we,Me,fe)}_addCoordinatePolyline(we,Me,fe){this._dehydratedAddPointsCoordinate(we.paths,Me,fe)}_addCoordinatePolygon(we,Me,fe){this._dehydratedAddPointsCoordinate(we.rings,Me,fe)}_addCoordinateMultipoint(we,Me,fe){0===fe&&we.points.push([]);const ye=this._transformPathLikeValue(Me,fe);we.points[we.points.length-1].push(ye)}_createPolygonGeometry(we){return{rings:[[]],spatialReference:we.spatialReference,hasZ:!!we.hasZ,hasM:!!we.hasM}}_createPolylineGeometry(we){return{paths:[[]],spatialReference:we.spatialReference,hasZ:!!we.hasZ,hasM:!!we.hasM}}_createMultipointGeometry(we){return{points:[],spatialReference:we.spatialReference,hasZ:!!we.hasZ,hasM:!!we.hasM}}_dehydratedAddPointsCoordinate(we,Me,fe){0===fe&&0==this._toAddInCurrentPath--&&(we.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);const ye=this._transformPathLikeValue(Me,fe),je=we[we.length-1];0===fe&&(this._coordinateBufferPtr=0,this._coordinateBuffer=new Array(this._vertexDimension),je.push(this._coordinateBuffer)),this._coordinateBuffer[this._coordinateBufferPtr++]=ye}_deriveApplyTransform(we){const{hasZ:Me,hasM:fe}=we;return Me&&fe?ue:Me?he:fe?se:ae}}var Oe=M(17253);function ve(Re,we,Me){return De.apply(this,arguments)}function De(){return(De=(0,D.Z)(function*(Re,we,Me){const fe=(0,J.en)(Re),ye={...Me},je=x.Z.from(we),Je=!je.quantizationParameters,{data:Ie}=yield(0,F.qp)(fe,je,new me({sourceSpatialReference:je.sourceSpatialReference,applyTransform:Je}),ye);return Ie})).apply(this,arguments)}let xe=class extends te.Z{constructor(Re){super(Re),this.dynamicDataSource=null,this.fieldsIndex=null,this.gdbVersion=null,this.infoFor3D=null,this.pbfSupported=!1,this.queryAttachmentsSupported=!1,this.sourceSpatialReference=null,this.url=null}get parsedUrl(){return(0,B.mN)(this.url)}execute(Re,we){var Me=this;return(0,D.Z)(function*(){const fe=yield Me.executeJSON(Re,we);return Me.featureSetFromJSON(Re,fe,we)})()}executeJSON(Re,we){var Me=this;return(0,D.Z)(function*(){const fe=Me._normalizeQuery(Re),ye=null!=Re.outStatistics?.[0],je=(0,U.Z)("featurelayer-pbf-statistics"),Je=!ye||je;let Ie;if(Me.pbfSupported&&Je)try{Ie=yield ve(Me.url,fe,we)}catch(Le){if("query:parsing-pbf"!==Le.name)throw Le;Me.pbfSupported=!1}return Me.pbfSupported&&Je||(Ie=yield(0,ee.F)(Me.url,fe,we)),Me._normalizeFields(Ie.fields),Ie})()}featureSetFromJSON(Re,we,Me){var fe=this;return(0,D.Z)(function*(){if(!fe._queryIs3DObjectFormat(Re)||(0,ie.Wi)(fe.infoFor3D)||!we.assetMaps||!we.features||!we.features.length)return Oe.Z.fromJSON(we);const{meshFeatureSetFromJSON:ye}=yield(0,k.Hl)(Promise.all([M.e(479),M.e(853),M.e(8592),M.e(5350)]).then(M.bind(M,45350)),Me);return ye(Re,fe.infoFor3D,we)})()}executeForCount(Re,we){return(0,X.P)(this.url,this._normalizeQuery(Re),we)}executeForExtent(Re,we){return function N(Re,we,Me){return z.apply(this,arguments)}(this.url,this._normalizeQuery(Re),we)}executeForIds(Re,we){return(0,q.G)(this.url,this._normalizeQuery(Re),we)}executeRelationshipQuery(Re,we){var Me=this;return(0,D.Z)(function*(){const[{default:fe},{executeRelationshipQuery:ye}]=yield(0,k.Hl)(Promise.all([Promise.resolve().then(M.bind(M,67010)),M.e(8727).then(M.bind(M,78727))]),we);return Re=fe.from(Re),(Me.gdbVersion||Me.dynamicDataSource)&&((Re=Re.clone()).gdbVersion=Re.gdbVersion||Me.gdbVersion,Re.dynamicDataSource=Re.dynamicDataSource||Me.dynamicDataSource),ye(Me.url,Re,we)})()}executeRelationshipQueryForCount(Re,we){var Me=this;return(0,D.Z)(function*(){const[{default:fe},{executeRelationshipQueryForCount:ye}]=yield(0,k.Hl)(Promise.all([Promise.resolve().then(M.bind(M,67010)),M.e(8727).then(M.bind(M,78727))]),we);return Re=fe.from(Re),(Me.gdbVersion||Me.dynamicDataSource)&&((Re=Re.clone()).gdbVersion=Re.gdbVersion||Me.gdbVersion,Re.dynamicDataSource=Re.dynamicDataSource||Me.dynamicDataSource),ye(Me.url,Re,we)})()}executeAttachmentQuery(Re,we){var Me=this;return(0,D.Z)(function*(){const{executeAttachmentQuery:fe,fetchAttachments:ye,processAttachmentQueryResult:je}=yield(0,k.Hl)(M.e(5531).then(M.bind(M,85531)),we),Je=(0,J.en)(Me.url);return je(Je,yield Me.queryAttachmentsSupported?fe(Je,Re,we):ye(Je,Re,we))})()}executeTopFeaturesQuery(Re,we){var Me=this;return(0,D.Z)(function*(){const{executeTopFeaturesQuery:fe}=yield(0,k.Hl)(Promise.all([M.e(8592),M.e(8628)]).then(M.bind(M,28628)),we);return fe(Me.parsedUrl,Re,Me.sourceSpatialReference,we)})()}executeForTopIds(Re,we){var Me=this;return(0,D.Z)(function*(){const{executeForTopIds:fe}=yield(0,k.Hl)(Promise.all([M.e(8592),M.e(9931)]).then(M.bind(M,39931)),we);return fe(Me.parsedUrl,Re,we)})()}executeForTopExtents(Re,we){var Me=this;return(0,D.Z)(function*(){const{executeForTopExtents:fe}=yield(0,k.Hl)(Promise.all([M.e(8592),M.e(4080)]).then(M.bind(M,14080)),we);return fe(Me.parsedUrl,Re,we)})()}executeForTopCount(Re,we){var Me=this;return(0,D.Z)(function*(){const{executeForTopCount:fe}=yield(0,k.Hl)(Promise.all([M.e(8592),M.e(1147)]).then(M.bind(M,91147)),we);return fe(Me.parsedUrl,Re,we)})()}_normalizeQuery(Re){let we=x.Z.from(Re);if(we.sourceSpatialReference=we.sourceSpatialReference||this.sourceSpatialReference,(this.gdbVersion||this.dynamicDataSource)&&(we=we===Re?we.clone():we,we.gdbVersion=Re.gdbVersion||this.gdbVersion,we.dynamicDataSource=Re.dynamicDataSource?ne.n.from(Re.dynamicDataSource):this.dynamicDataSource),(0,ie.pC)(this.infoFor3D)&&this._queryIs3DObjectFormat(Re)){we=we===Re?we.clone():we,we.formatOf3DObjects=null;for(const Me of this.infoFor3D.queryFormats){if("3D_glb"===Me){we.formatOf3DObjects=Me;break}"3D_gltf"!==Me||we.formatOf3DObjects||(we.formatOf3DObjects=Me)}if(!we.formatOf3DObjects)throw new Z.Z("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if((0,ie.Wi)(we.outFields)||!we.outFields.includes("*")){we=we===Re?we.clone():we,(0,ie.Wi)(we.outFields)&&(we.outFields=[]);const{originX:Me,originY:fe,originZ:ye,translationX:je,translationY:Je,translationZ:Ie,scaleX:Le,scaleY:Ve,scaleZ:st,rotationX:ce,rotationY:Se,rotationZ:ze,rotationDeg:Ke}=this.infoFor3D.transformFieldRoles;we.outFields.push(Me,fe,ye,je,Je,Ie,Le,Ve,st,ce,Se,ze,Ke)}}return we}_normalizeFields(Re){if((0,ie.pC)(this.fieldsIndex)&&(0,ie.pC)(Re))for(const we of Re){const Me=this.fieldsIndex.get(we.name);Me&&Object.assign(we,Me.toJSON())}}_queryIs3DObjectFormat(Re){return(0,ie.pC)(this.infoFor3D)&&!0===Re.returnGeometry&&"xyFootprint"!==Re.multipatchOption&&!Re.outStatistics}};(0,T._)([(0,R.Cb)({type:ne.n})],xe.prototype,"dynamicDataSource",void 0),(0,T._)([(0,R.Cb)()],xe.prototype,"fieldsIndex",void 0),(0,T._)([(0,R.Cb)()],xe.prototype,"gdbVersion",void 0),(0,T._)([(0,R.Cb)()],xe.prototype,"infoFor3D",void 0),(0,T._)([(0,R.Cb)({readOnly:!0})],xe.prototype,"parsedUrl",null),(0,T._)([(0,R.Cb)()],xe.prototype,"pbfSupported",void 0),(0,T._)([(0,R.Cb)()],xe.prototype,"queryAttachmentsSupported",void 0),(0,T._)([(0,R.Cb)()],xe.prototype,"sourceSpatialReference",void 0),(0,T._)([(0,R.Cb)({type:String})],xe.prototype,"url",void 0),xe=(0,T._)([(0,Q.j)("esri.tasks.QueryTask")],xe);const Ce=xe},50085:(nt,Te,M)=>{"use strict";M.d(Te,{V:()=>k});var D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898));const k=B=>{let R=class extends B{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):function ie(B){return"portalItem"in B}(this)?this.portalItem?.apiKey:null}set apiKey(W){null!=W?this._override("apiKey",W):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,D._)([(0,T.Cb)({type:String})],R.prototype,"apiKey",null),R=(0,D._)([(0,U.j)("esri.layers.mixins.APIKeyMixin")],R),R}},19027:(nt,Te,M)=>{"use strict";M.d(Te,{O:()=>X});var D=M(15861),T=M(17626),te=M(84792),Z=M(10699),U=M(21726),ie=M(10349),k=M(77712),W=(M(90912),M(85931),M(68653)),V=M(76898),Q=M(2004),ne=M(65234),J=M(13812);const X=Y=>{let F=class extends Y{constructor(){super(...arguments),this.capabilities=void 0,this.copyright=null,this.fullExtent=null,this.legendEnabled=!0,this.spatialReference=null,this.version=void 0,this._allLayersAndTablesPromise=null,this._allLayersAndTablesMap=null}readCapabilities(x,$){const N=$.capabilities&&$.capabilities.split(",").map(Oe=>Oe.toLowerCase().trim());if(!N)return{operations:{supportsExportMap:!1,supportsExportTiles:!1,supportsIdentify:!1,supportsQuery:!1,supportsTileMap:!1},exportMap:null,exportTiles:null};const z=this.type,q="tile"!==z&&!!$.supportsDynamicLayers,ee=N.includes("query"),re=N.includes("map"),le=!!$.exportTilesAllowed,_e=N.includes("tilemap"),ae=N.includes("data"),he="tile"!==z&&(!$.tileInfo||q),se="tile"!==z&&(!$.tileInfo||q),ue="tile"!==z,ge=$.cimVersion&&ie.G.parse($.cimVersion),be=ge?.since(1,4)??!1,me=ge?.since(2,0)??!1;return{operations:{supportsExportMap:re,supportsExportTiles:le,supportsIdentify:ee,supportsQuery:ae,supportsTileMap:_e},exportMap:re?{supportsArcadeExpressionForLabeling:be,supportsSublayersChanges:ue,supportsDynamicLayers:q,supportsSublayerVisibility:he,supportsSublayerDefinitionExpression:se,supportsCIMSymbols:me}:null,exportTiles:le?{maxExportTilesCount:+$.maxExportTilesCount}:null}}readVersion(x,$){let N=$.currentVersion;return N||(N=$.hasOwnProperty("capabilities")||$.hasOwnProperty("tables")?10:$.hasOwnProperty("supportedImageFormatTypes")?9.31:9.3),N}fetchSublayerInfo(x,$){var N=this;return(0,D.Z)(function*(){try{return yield N.fetchAllLayersAndTables($),N._allLayersAndTablesMap?.get(x)}catch{return}})()}fetchAllLayersAndTables(x){var $=this;return(0,D.Z)(function*(){yield $.load(x),$._allLayersAndTablesPromise||($._allLayersAndTablesPromise=(0,te.default)((0,U.mN)($.url).path+"/layers",{responseType:"json",query:{f:"json",...$.customParameters,token:$.apiKey}}).then(z=>{$._allLayersAndTablesMap=new Map;for(const q of z.data.layers)$._allLayersAndTablesMap.set(q.id,q);return{result:z.data}},z=>({error:z})));const N=yield $._allLayersAndTablesPromise;if((0,Z.k_)(x),"result"in N)return N.result;throw N.error})()}};return(0,T._)([(0,k.Cb)({readOnly:!0})],F.prototype,"capabilities",void 0),(0,T._)([(0,W.r)("service","capabilities",["capabilities","exportTilesAllowed","maxExportTilesCount","supportsDynamicLayers","tileInfo"])],F.prototype,"readCapabilities",null),(0,T._)([(0,k.Cb)({json:{read:{source:"copyrightText"}}})],F.prototype,"copyright",void 0),(0,T._)([(0,k.Cb)({type:Q.Z})],F.prototype,"fullExtent",void 0),(0,T._)([(0,k.Cb)(J.id)],F.prototype,"id",void 0),(0,T._)([(0,k.Cb)({type:Boolean,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}})],F.prototype,"legendEnabled",void 0),(0,T._)([(0,k.Cb)(J.C_)],F.prototype,"popupEnabled",void 0),(0,T._)([(0,k.Cb)({type:ne.Z})],F.prototype,"spatialReference",void 0),(0,T._)([(0,k.Cb)({readOnly:!0})],F.prototype,"version",void 0),(0,T._)([(0,W.r)("version",["currentVersion","capabilities","tables","supportedImageFormatTypes"])],F.prototype,"readVersion",null),F=(0,T._)([(0,V.j)("esri.layers.mixins.ArcGISMapService")],F),F}},65088:(nt,Te,M)=>{"use strict";M.d(Te,{Y:()=>R});var D=M(17626),T=M(63290),te=M(62208),Z=M(77712),k=(M(90912),M(85931),M(76898)),B=M(38305);const R=W=>{let V=class extends W{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const Q=(0,B.Qc)(this.url);if((0,te.pC)(Q)&&Q.title)return Q.title}return this._get("title")||""}set title(Q){this._set("title",Q)}set url(Q){this._set("url",(0,B.Nm)(Q,T.Z.getLogger(this.declaredClass)))}};return(0,D._)([(0,Z.Cb)()],V.prototype,"title",null),(0,D._)([(0,Z.Cb)({type:String})],V.prototype,"url",null),V=(0,D._)([(0,k.j)("esri.layers.mixins.ArcGISService")],V),V}},552:(nt,Te,M)=>{"use strict";M.d(Te,{h:()=>B});var D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898)),ie=M(71149);const k={read:{reader:ie.ij},write:{allowNull:!0,writer:ie.cW}},B=R=>{let W=class extends R{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,D._)([(0,T.Cb)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],W.prototype,"blendMode",void 0),(0,D._)([(0,T.Cb)({json:{read:!1,write:!1,origins:{"web-map":k,"portal-item":k}}})],W.prototype,"effect",void 0),W=(0,D._)([(0,U.j)("esri.layers.mixins.BlendLayer")],W),W}},50107:(nt,Te,M)=>{"use strict";M.d(Te,{N:()=>ie});var D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898));const ie=k=>{let B=class extends k{constructor(){super(...arguments),this.customParameters=null}};return(0,D._)([(0,T.Cb)({type:Object,json:{write:{overridePolicy:R=>({enabled:!!(R&&Object.keys(R).length>0)})}}})],B.prototype,"customParameters",void 0),B=(0,D._)([(0,U.j)("esri.layers.mixins.CustomParametersMixin")],B),B}},6733:(nt,Te,M)=>{"use strict";M.d(Te,{dU:()=>R,lQ:()=>Q,o1:()=>ne});var D=M(17626),T=M(61885),te=M(58817),B=(M(63290),M(90912),M(26584),M(8314),M(76898));const R=new T.Z.EventEmitter,W="esri.layers.mixins.EditBusLayer",V=Symbol(W);function Q(J){return null!=J&&"object"==typeof J&&V in J}const ne=J=>{var X;let Y=class extends J{constructor(...F){super(...F),this[X]=!0,this.when().then(()=>{this.own([R.on("edits",x=>{const z="layer"in x?x.layer?.layerId:x.layerId,q=x.event;if(("layer"in x?x.layer:null)===this||("layer"in x?x.layer?.url:x.serviceUrl)!==this.url)return;if(null!=z&&null!=this.layerId&&z===this.layerId)return void this.emit("edits",(0,te.d9)(q));const ee=q.editedFeatures?.find(({layerId:re})=>re===this.layerId);if(ee){const{adds:re,updates:le,deletes:_e}=ee.editedFeatures,ae={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:re?re.map(({attributes:he})=>({objectId:this.objectIdField&&he[this.objectIdField],globalId:this.globalIdField&&he[this.globalIdField]})):[],deletedFeatures:_e?_e.map(({attributes:he})=>({objectId:this.objectIdField&&he[this.objectIdField],globalId:this.globalIdField&&he[this.globalIdField]})):[],updatedFeatures:le?le.map(({current:{attributes:he}})=>({objectId:this.objectIdField&&he[this.objectIdField],globalId:this.globalIdField&&he[this.globalIdField]})):[],editedFeatures:(0,te.d9)(q.editedFeatures),exceededTransferLimit:!1};this.emit("edits",ae)}})])},()=>{})}};return X=V,Y=(0,D._)([(0,B.j)(W)],Y),Y}},35126:(nt,Te,M)=>{"use strict";M.d(Te,{b:()=>B});var D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898)),ie=M(2319);const k={write:{allowNull:!0}},B=R=>{let W=class extends R{constructor(){super(...arguments),this.featureEffect=null}};return(0,D._)([(0,T.Cb)({type:ie.Z,json:{origins:{"web-map":k,"portal-item":k}}})],W.prototype,"featureEffect",void 0),W=(0,D._)([(0,U.j)("esri.layers.mixins.FeatureEffectLayer")],W),W}},27123:(nt,Te,M)=>{"use strict";M.d(Te,{B:()=>me});var D=M(17626),T=M(74333),te=M(58817),Z=M(63290),U=M(77712),k=(M(90912),M(68653)),B=M(76898),R=M(99433),W=M(2004),V=M(79334),Q=M(65234),ne=M(38305),J=M(13812),X=M(79608),Y=M(86810),x=(M(85931),M(41039));let $=class extends((0,X.J)(Y.wq)){constructor(Oe){super(Oe),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.dateFieldsTimeReference=null}};(0,D._)([(0,U.Cb)()],$.prototype,"creatorField",void 0),(0,D._)([(0,U.Cb)()],$.prototype,"creationDateField",void 0),(0,D._)([(0,U.Cb)()],$.prototype,"editorField",void 0),(0,D._)([(0,U.Cb)()],$.prototype,"editDateField",void 0),(0,D._)([(0,U.Cb)()],$.prototype,"realm",void 0),(0,D._)([(0,U.Cb)({type:x.Z})],$.prototype,"dateFieldsTimeReference",void 0),$=(0,D._)([(0,B.j)("esri.layers.support.EditFieldsInfo")],$);const N=$;let z=class extends((0,X.J)(Y.wq)){constructor(Oe){super(Oe)}};(0,D._)([(0,U.Cb)({constructOnly:!0,json:{write:!0}})],z.prototype,"name",void 0),(0,D._)([(0,U.Cb)({constructOnly:!0,json:{write:!0}})],z.prototype,"fields",void 0),(0,D._)([(0,U.Cb)({constructOnly:!0,json:{write:!0}})],z.prototype,"isAscending",void 0),(0,D._)([(0,U.Cb)({constructOnly:!0,json:{write:!0}})],z.prototype,"indexType",void 0),(0,D._)([(0,U.Cb)({constructOnly:!0,json:{write:!0}})],z.prototype,"isUnique",void 0),(0,D._)([(0,U.Cb)({constructOnly:!0,json:{write:!0}})],z.prototype,"description",void 0),z=(0,D._)([(0,B.j)("esri.layers.support.FeatureIndex")],z);var q=M(26331),ee=M(16730);let re=class extends((0,X.J)(Y.wq)){constructor(Oe){super(Oe),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};(0,D._)([(0,U.Cb)({type:String,json:{read:{source:"shapeAreaFieldName"}}})],re.prototype,"shapeAreaField",void 0),(0,D._)([(0,U.Cb)({type:String,json:{read:{source:"shapeLengthFieldName"}}})],re.prototype,"shapeLengthField",void 0),(0,D._)([(0,U.Cb)({type:String,json:{read:Oe=>ee.gV.read(Oe)||ee.Jo.read(Oe)}})],re.prototype,"units",void 0),re=(0,D._)([(0,B.j)("esri.layers.support.GeometryFieldsInfo")],re);const le=re;var _e=M(2430),ae=M(2076);const he=new ae.X({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),se=new ae.X({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let ue=class extends((0,X.J)(Y.wq)){constructor(Oe){super(Oe),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};(0,D._)([(0,U.Cb)({json:{read:he.read,write:he.write}})],ue.prototype,"cardinality",void 0),(0,D._)([(0,U.Cb)({json:{read:!0,write:!0}})],ue.prototype,"composite",void 0),(0,D._)([(0,U.Cb)({json:{read:!0,write:!0}})],ue.prototype,"id",void 0),(0,D._)([(0,U.Cb)({json:{read:!0,write:!0}})],ue.prototype,"keyField",void 0),(0,D._)([(0,U.Cb)({json:{read:!0,write:!0}})],ue.prototype,"keyFieldInRelationshipTable",void 0),(0,D._)([(0,U.Cb)({json:{read:!0,write:!0}})],ue.prototype,"name",void 0),(0,D._)([(0,U.Cb)({json:{read:!0,write:!0}})],ue.prototype,"relatedTableId",void 0),(0,D._)([(0,U.Cb)({json:{read:!0,write:!0}})],ue.prototype,"relationshipTableId",void 0),(0,D._)([(0,U.Cb)({json:{read:se.read,write:se.write}})],ue.prototype,"role",void 0),ue=(0,D._)([(0,B.j)("esri.layers.support.Relationship")],ue);const ge=ue;var be=M(94138);const me=Oe=>{let oe=class extends Oe{constructor(){super(...arguments),this.capabilities=null,this.copyright=null,this.dateFieldsTimeReference=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.isTable=!1,this.layerId=void 0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.preferredTimeReference=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.spatialReference=Q.Z.WGS84,this.subtypeField=null,this.trackIdField=null,this.indexes=new(T.Z.ofType(z)),this.version=void 0}readCapabilitiesFromService(de,ve){return(0,be.h)(ve,this.url)}get effectiveCapabilities(){const de=this.capabilities;if(!de)return null;const ve=(0,te.d9)(de),{operations:De,editing:xe}=ve;return this.sourceJSON?.isMultiServicesView?(this.userHasUpdateItemPrivileges&&(De.supportsQuery=!0),ve):this.userHasUpdateItemPrivileges?(De.supportsAdd=De.supportsDelete=De.supportsEditing=De.supportsQuery=De.supportsUpdate=xe.supportsDeleteByOthers=xe.supportsGeometryUpdate=xe.supportsUpdateByOthers=!0,ve):(this.userHasFullEditingPrivileges&&De.supportsEditing&&(De.supportsAdd=De.supportsDelete=De.supportsUpdate=xe.supportsGeometryUpdate=!0),ve)}readEditingInfo(de,ve){const{editingInfo:De}=ve;return De?{lastEditDate:null!=De.lastEditDate?new Date(De.lastEditDate):null}:null}readIsTableFromService(de,ve){return"Table"===ve.type}readMinScale(de,ve){return ve.effectiveMinScale||de||0}readMaxScale(de,ve){return ve.effectiveMaxScale||de||0}readGlobalIdFieldFromService(de,ve){return(0,q.rk)(ve)}readObjectIdFieldFromService(de,ve){return(0,q.kZ)(ve)}readServiceDefinitionExpression(de,ve){return ve.definitionQuery||ve.definitionExpression}set url(de){const ve=(0,ne.XG)({layer:this,url:de,nonStandardUrlAllowed:!0,logger:Z.Z.getLogger(this.declaredClass)});this._set("url",ve.url),null!=ve.layerId&&this._set("layerId",ve.layerId)}writeUrl(de,ve,De,xe){(0,ne.wH)(this,de,null,ve,xe)}readVersion(de,ve){return(0,q.JY)(ve)}};return(0,D._)([(0,U.Cb)({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],oe.prototype,"capabilities",void 0),(0,D._)([(0,k.r)("service","capabilities")],oe.prototype,"readCapabilitiesFromService",null),(0,D._)([(0,U.Cb)({readOnly:!0})],oe.prototype,"effectiveCapabilities",null),(0,D._)([(0,U.Cb)({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],oe.prototype,"copyright",void 0),(0,D._)([(0,U.Cb)({type:x.Z})],oe.prototype,"dateFieldsTimeReference",void 0),(0,D._)([(0,U.Cb)({type:Boolean})],oe.prototype,"datesInUnknownTimezone",void 0),(0,D._)([(0,U.Cb)({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],oe.prototype,"displayField",void 0),(0,D._)([(0,U.Cb)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],oe.prototype,"definitionExpression",void 0),(0,D._)([(0,U.Cb)({readOnly:!0,type:N})],oe.prototype,"editFieldsInfo",void 0),(0,D._)([(0,U.Cb)({readOnly:!0})],oe.prototype,"editingInfo",void 0),(0,D._)([(0,k.r)("editingInfo")],oe.prototype,"readEditingInfo",null),(0,D._)([(0,U.Cb)((()=>{const de=(0,te.d9)(J.PV),ve=de.json.origins;return ve["web-map"]={read:!1,write:!1},ve["portal-item"]={read:!1,write:!1},de})())],oe.prototype,"elevationInfo",void 0),(0,D._)([(0,U.Cb)({type:_e.Z,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],oe.prototype,"floorInfo",void 0),(0,D._)([(0,U.Cb)({type:W.Z,json:{origins:{service:{read:{source:"extent"}}}}})],oe.prototype,"fullExtent",void 0),(0,D._)([(0,U.Cb)()],oe.prototype,"gdbVersion",void 0),(0,D._)([(0,U.Cb)({readOnly:!0,type:le,json:{read:{source:"geometryProperties"}}})],oe.prototype,"geometryFieldsInfo",void 0),(0,D._)([(0,U.Cb)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:q.Fr.read}}}})],oe.prototype,"geometryType",void 0),(0,D._)([(0,U.Cb)({type:Boolean,json:{origins:{service:{read:!0}}}})],oe.prototype,"hasM",void 0),(0,D._)([(0,U.Cb)({type:Boolean,json:{origins:{service:{read:!0}}}})],oe.prototype,"hasZ",void 0),(0,D._)([(0,U.Cb)({readOnly:!0,type:V.Z})],oe.prototype,"heightModelInfo",void 0),(0,D._)([(0,U.Cb)({type:Date})],oe.prototype,"historicMoment",void 0),(0,D._)([(0,U.Cb)({readOnly:!0})],oe.prototype,"isTable",void 0),(0,D._)([(0,k.r)("service","isTable",["type"])],oe.prototype,"readIsTableFromService",null),(0,D._)([(0,U.Cb)({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],oe.prototype,"layerId",void 0),(0,D._)([(0,U.Cb)(J.rO)],oe.prototype,"minScale",void 0),(0,D._)([(0,k.r)("service","minScale",["minScale","effectiveMinScale"])],oe.prototype,"readMinScale",null),(0,D._)([(0,U.Cb)(J.u1)],oe.prototype,"maxScale",void 0),(0,D._)([(0,k.r)("service","maxScale",["maxScale","effectiveMaxScale"])],oe.prototype,"readMaxScale",null),(0,D._)([(0,U.Cb)({type:String})],oe.prototype,"globalIdField",void 0),(0,D._)([(0,k.r)("service","globalIdField",["globalIdField","fields"])],oe.prototype,"readGlobalIdFieldFromService",null),(0,D._)([(0,U.Cb)({type:String})],oe.prototype,"objectIdField",void 0),(0,D._)([(0,k.r)("service","objectIdField",["objectIdField","fields"])],oe.prototype,"readObjectIdFieldFromService",null),(0,D._)([(0,U.Cb)({type:x.Z})],oe.prototype,"preferredTimeReference",void 0),(0,D._)([(0,U.Cb)({type:[ge],readOnly:!0})],oe.prototype,"relationships",void 0),(0,D._)([(0,U.Cb)()],oe.prototype,"sourceJSON",void 0),(0,D._)([(0,U.Cb)({type:Boolean})],oe.prototype,"returnM",void 0),(0,D._)([(0,U.Cb)({type:Boolean})],oe.prototype,"returnZ",void 0),(0,D._)([(0,U.Cb)({readOnly:!0})],oe.prototype,"serviceDefinitionExpression",void 0),(0,D._)([(0,k.r)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],oe.prototype,"readServiceDefinitionExpression",null),(0,D._)([(0,U.Cb)({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],oe.prototype,"serviceItemId",void 0),(0,D._)([(0,U.Cb)({type:Q.Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],oe.prototype,"spatialReference",void 0),(0,D._)([(0,U.Cb)({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],oe.prototype,"subtypeField",void 0),(0,D._)([(0,U.Cb)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],oe.prototype,"trackIdField",void 0),(0,D._)([(0,U.Cb)({readOnly:!0,json:{write:!1}})],oe.prototype,"serverGens",void 0),(0,D._)([(0,U.Cb)({type:T.Z.ofType(z),readOnly:!0})],oe.prototype,"indexes",void 0),(0,D._)([(0,U.Cb)(J.HQ)],oe.prototype,"url",null),(0,D._)([(0,R.c)("url")],oe.prototype,"writeUrl",null),(0,D._)([(0,U.Cb)({json:{origins:{service:{read:!0}},read:!1}})],oe.prototype,"version",void 0),(0,D._)([(0,k.r)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],oe.prototype,"readVersion",null),oe=(0,D._)([(0,B.j)("esri.layers.mixins.FeatureLayerBase")],oe),oe}},15008:(nt,Te,M)=>{"use strict";M.d(Te,{M:()=>ye});var he,D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898)),ie=M(43149),k=M(83989),B=M(73281),X=(M(4832),M(49067),M(96794),M(69747),M(40425),M(69357),M(40342)),Y=M(73640),F=M(33474),x=M(32088),$=M(20383),N=M(58817),z=M(94113),q=M(55342),ee=M(68653),re=M(99433),le=M(383),_e=M(13812),ae=M(170);const se=(0,le.d)({types:$.QT});let ge=he=class extends k.B{constructor(je){super(je),this.type="binning",this.binType="geohash",this.fixedBinLevel=3,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.fields=[],this.renderer=null}writeFields(je,Je,Ie){const Le=je.filter(Ve=>"avg_angle"!==Ve.statisticType).map(Ve=>Ve.toJSON());(0,z.RB)(Ie,Le,Je)}readRenderer(je,Je,Ie){const Le=Je.drawingInfo?.renderer;return Le?(0,F.a)(Le,Je,Ie)??void 0:Je.defaultSymbol?Je.types&&Je.types.length?new Y.Z({defaultSymbol:se(Je.defaultSymbol,Je,Ie),field:Je.typeIdField,uniqueValueInfos:Je.types.map(Ve=>({id:Ve.id,symbol:se(Ve.symbol,Ve,Ie)}))}):new X.Z({symbol:se(Je.defaultSymbol,Je,Ie)}):null}clone(){return new he({fields:(0,N.d9)(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:(0,N.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:(0,N.d9)(this.popupTemplate),renderer:(0,N.d9)(this.renderer)})}};(0,D._)([(0,q.J)({binning:"binning"})],ge.prototype,"type",void 0),(0,D._)([(0,q.J)({geohash:"geohash"})],ge.prototype,"binType",void 0),(0,D._)([(0,T.Cb)({type:Number,range:{min:1,max:9},json:{write:!0}})],ge.prototype,"fixedBinLevel",void 0),(0,D._)([(0,T.Cb)({type:[ae.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],ge.prototype,"labelingInfo",void 0),(0,D._)([(0,T.Cb)(_e.iR)],ge.prototype,"labelsVisible",void 0),(0,D._)([(0,T.Cb)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],ge.prototype,"maxScale",void 0),(0,D._)([(0,T.Cb)(_e.C_)],ge.prototype,"popupEnabled",void 0),(0,D._)([(0,T.Cb)({type:B.Z,json:{name:"popupInfo",write:!0}})],ge.prototype,"popupTemplate",void 0),(0,D._)([(0,T.Cb)({type:[ie.Z],json:{write:!0}})],ge.prototype,"fields",void 0),(0,D._)([(0,re.c)("fields")],ge.prototype,"writeFields",null),(0,D._)([(0,T.Cb)({types:x.A,json:{write:{target:"drawingInfo.renderer"}}})],ge.prototype,"renderer",void 0),(0,D._)([(0,ee.r)("renderer",["drawingInfo.renderer"])],ge.prototype,"readRenderer",null),ge=he=(0,D._)([(0,U.j)("esri.layers.support.FeatureReductionBinning")],ge);const be=ge;var oe,me=M(86810),Oe=M(23841);const de=(0,le.d)({types:$.QT});function De(je){return"simple"===je.type&&!je.visualVariables?.length}let xe=oe=class extends me.wq{constructor(je){super(je),this.type="cluster",this.clusterRadius=(0,Oe.t_)("80px"),this.clusterMinSize=(0,Oe.t_)("12px"),this.clusterMaxSize=(0,Oe.t_)("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}readRenderer(je,Je,Ie){const Le=Je.drawingInfo?.renderer;return Le?.authoringInfo?.isAutoGenerated?null:Le?De(Le)?null:(0,F.a)(Le,Je,Ie)??void 0:Je.defaultSymbol?Je.types&&Je.types.length?new Y.Z({defaultSymbol:de(Je.defaultSymbol,Je,Ie),field:Je.typeIdField,uniqueValueInfos:Je.types.map(Ve=>({id:Ve.id,symbol:de(Ve.symbol,Ve,Ie)}))}):new X.Z({symbol:de(Je.defaultSymbol,Je,Ie)}):null}readSymbol(je,Je,Ie){const Le=Je.drawingInfo?.renderer;return Le?.authoringInfo?.isAutoGenerated?null:Le&&De(Le)?(0,F.a)(Le,Je,Ie)?.symbol:null}writeSymbol(je,Je,Ie,Le){const Ve=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||Ve){const st=new X.Z({symbol:je});Je.drawingInfo={renderer:st.write({},Le)}}}writeFields(je,Je,Ie){const Le=je.filter(Ve=>"avg_angle"!==Ve.statisticType).map(Ve=>Ve.toJSON());(0,z.RB)(Ie,Le,Je)}readFields(je,Je,Ie){return je.filter(Le=>!Le.isAutoGenerated).map(Le=>ie.Z.fromJSON(Le))}clone(){return new oe({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,N.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,N.d9)(this.fields),maxScale:this.maxScale,renderer:(0,N.d9)(this.renderer),symbol:(0,N.d9)(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:(0,N.d9)(this.popupTemplate)})}};(0,D._)([(0,T.Cb)({type:["cluster"],readOnly:!0,json:{write:!0}})],xe.prototype,"type",void 0),(0,D._)([(0,T.Cb)({type:Number,cast:je=>"auto"===je?je:(0,Oe.t_)(je),json:{write:!0}})],xe.prototype,"clusterRadius",void 0),(0,D._)([(0,T.Cb)({type:Number,cast:Oe.t_,json:{write:!0}})],xe.prototype,"clusterMinSize",void 0),(0,D._)([(0,T.Cb)({type:Number,cast:Oe.t_,json:{write:!0}})],xe.prototype,"clusterMaxSize",void 0),(0,D._)([(0,T.Cb)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],xe.prototype,"maxScale",void 0),(0,D._)([(0,T.Cb)(_e.C_)],xe.prototype,"popupEnabled",void 0),(0,D._)([(0,T.Cb)({type:B.Z,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],xe.prototype,"popupTemplate",void 0),(0,D._)([(0,T.Cb)({types:x.A,json:{write:{target:"drawingInfo.renderer"}}})],xe.prototype,"renderer",void 0),(0,D._)([(0,ee.r)("renderer",["drawingInfo.renderer"])],xe.prototype,"readRenderer",null),(0,D._)([(0,T.Cb)({types:$.AH})],xe.prototype,"symbol",void 0),(0,D._)([(0,ee.r)("symbol",["drawingInfo.renderer"])],xe.prototype,"readSymbol",null),(0,D._)([(0,re.c)("symbol")],xe.prototype,"writeSymbol",null),(0,D._)([(0,T.Cb)({type:[ae.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],xe.prototype,"labelingInfo",void 0),(0,D._)([(0,T.Cb)(_e.iR)],xe.prototype,"labelsVisible",void 0),(0,D._)([(0,T.Cb)({type:[ie.Z],json:{write:!0}})],xe.prototype,"fields",void 0),(0,D._)([(0,re.c)("fields")],xe.prototype,"writeFields",null),(0,D._)([(0,ee.r)("fields")],xe.prototype,"readFields",null),xe=oe=(0,D._)([(0,U.j)("esri.layers.support.FeatureReductionCluster")],xe);const Ce=xe;var Re=M(47058);const we={key:"type",base:k.B,typeMap:{cluster:Ce,binning:be}},Me={types:{key:"type",base:k.B,typeMap:{selection:Re.Z,cluster:Ce,binning:be}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:we},"portal-item":{types:we},"web-scene":{types:{key:"type",base:k.B,typeMap:{selection:Re.Z}}}}}};var fe=M(62192);const ye=je=>{let Je=class extends je{constructor(...Ie){super(...Ie),this.own(this.watch("renderer",()=>{if(this.featureReduction){const Le=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",Le)}},!0))}set featureReduction(Ie){const Le=this._normalizeFeatureReduction(Ie);this._set("featureReduction",Le)}set renderer(Ie){}_normalizeFeatureReduction(Ie){if("cluster"!==Ie?.type)return Ie;const Le=Ie.clone(),Ve=[new ie.Z({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],st=(Le.fields??[]).filter(Se=>!Se.isAutoGenerated);if(Ie.renderer&&!Ie.renderer.authoringInfo?.isAutoGenerated)return Le.fields=[...Ve,...st],Le;if(Ie.symbol)return Le.fields=[...Ve,...st],Le.renderer=null,Le;if(!this.renderer)return Ie;const ce=(0,fe.S1)(Ve,this.renderer,Ie,null,!1);return Le.fields=[...Ve,...st],Le.renderer=ce,Le}};return(0,D._)([(0,T.Cb)(Me)],Je.prototype,"featureReduction",null),Je=(0,D._)([(0,U.j)("esri.layers.mixins.FeatureReductionLayer")],Je),Je}},49286:(nt,Te,M)=>{"use strict";M.d(Te,{q:()=>ne});var D=M(17626),T=M(26584),te=M(21726),Z=M(77712),k=(M(90912),M(85931),M(76898)),B=M(99433),R=M(29338),W=M(36054);const V={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0,OrientedImageryLayer:!0}};var Q=M(13812);const ne=X=>{let Y=class extends X{constructor(){super(...arguments),this.title=null}writeListMode(F,x,$,N){(N&&"ground"===N.layerContainerType||F&&(0,W.d)(this,$,{},N))&&(x[$]=F)}writeOperationalLayerType(F,x,$,N){!F||N&&"tables"===N.layerContainerType||(x.layerType=F)}writeTitle(F,x){x.title=F??"Layer"}read(F,x){x&&(x.layer=this),(0,R.$)(this,F,$=>super.read(F,$),x)}write(F,x){if(x?.origin){const z=`${x.origin}/${x.layerContainerType||"operational-layers"}`,q=V[z];let ee=q&&q[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===z&&(ee=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===z&&(ee=!1),!ee)return x.messages?.push(new T.Z("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${z}'`,{layer:this})),null}const $=super.write(F,{...x,layer:this}),N=!!x&&!!x.messages&&!!x.messages.filter(z=>z instanceof T.Z&&"web-document-write:property-required"===z.name).length;return(0,te.jc)($?.url)?(x?.messages?.push(new T.Z("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&N?null:$}beforeSave(){}};return(0,D._)([(0,Z.Cb)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],Y.prototype,"id",void 0),(0,D._)([(0,Z.Cb)(Q.rT)],Y.prototype,"listMode",void 0),(0,D._)([(0,B.c)("listMode")],Y.prototype,"writeListMode",null),(0,D._)([(0,Z.Cb)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],Y.prototype,"operationalLayerType",void 0),(0,D._)([(0,B.c)("operationalLayerType")],Y.prototype,"writeOperationalLayerType",null),(0,D._)([(0,Z.Cb)(Q.Oh)],Y.prototype,"opacity",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],Y.prototype,"title",void 0),(0,D._)([(0,B.c)("title"),(0,B.c)(["web-scene"],"title")],Y.prototype,"writeTitle",null),(0,D._)([(0,Z.Cb)({type:Boolean,json:{name:"visibility"}})],Y.prototype,"visible",void 0),Y=(0,D._)([(0,k.j)("esri.layers.mixins.OperationalLayer")],Y),Y}},32629:(nt,Te,M)=>{"use strict";M.d(Te,{c:()=>X});var R,D=M(17626),T=M(94113),te=M(77712),ie=(M(90912),M(85931),M(76898)),k=M(2076),B=M(86810);const W=new k.X({asc:"ascending",desc:"descending"});let V=R=class extends B.wq{constructor(Y){super(Y),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new R({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],V.prototype,"field",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],V.prototype,"valueExpression",void 0),(0,D._)([(0,te.Cb)({type:W.apiValues,json:{read:W.read,write:W.write}})],V.prototype,"order",void 0),V=R=(0,D._)([(0,ie.j)("esri.layers.support.OrderByInfo")],V);const Q=V;function ne(Y,F,x){if(!Y)return null;const $=Y.find(z=>!!z.field);if(!$)return null;const N=new Q;return N.read($,x),[N]}function J(Y,F,x,$){const N=Y.find(z=>!!z.field);N&&(0,T.RB)(x,[N.toJSON()],F)}const X=Y=>{let F=class extends Y{constructor(){super(...arguments),this.orderBy=null}};return(0,D._)([(0,te.Cb)({type:[Q],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:ne},write:{target:"layerDefinition.orderBy",writer:J}}})],F.prototype,"orderBy",void 0),F=(0,D._)([(0,ie.j)("esri.layers.mixins.OrderedLayer")],F),F}},6647:(nt,Te,M)=>{"use strict";M.d(Te,{I:()=>ee});var D=M(15861),T=M(17626),te=M(59318),Z=M(24263),U=M(84792),ie=M(59213),k=M(26584),B=M(63290),R=M(62208),W=M(10699),V=M(21726),Q=M(77712),X=(M(90912),M(85931),M(68653)),Y=M(76898),F=M(99433),x=M(72469),$=M(84687),N=M(55463),z=M(94508),q=M(37281);const ee=le=>{let _e=class extends le{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,R.SC)(this.portalItem)}set portalItem(ae){ae!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",ae))}readPortalItem(ae,he,se){if(he.itemId)return new N.default({id:he.itemId,portal:se&&se.portal})}writePortalItem(ae,he){ae&&ae.id&&(he.itemId=ae.id)}loadFromPortal(ae,he){var se=this;return(0,D.Z)(function*(){if(se.portalItem&&se.portalItem.id)try{const ue=yield M.e(3705).then(M.bind(M,83705));return(0,W.k_)(he),yield ue.load({instance:se,supportedTypes:ae.supportedTypes,validateItem:ae.validateItem,supportsData:ae.supportsData,layerModuleTypeMap:ae.layerModuleTypeMap},he)}catch(ue){throw(0,W.D_)(ue)||B.Z.getLogger(se.declaredClass).warn(`Failed to load layer (${se.title}, ${se.id}) portal item (${se.portalItem.id})\n  ${ue}`),ue}})()}finishLoadEditablePortalLayer(ae){var he=this;return(0,D.Z)(function*(){he._set("userHasEditingPrivileges",yield he._fetchUserHasEditingPrivileges(ae).catch(se=>((0,W.r9)(se),!0)))})()}_setUserPrivileges(ae,he){var se=this;return(0,D.Z)(function*(){if(!te.Z.userPrivilegesApplied)return se.finishLoadEditablePortalLayer(he);if(se.url)try{const{features:{edit:ue,fullEdit:ge},content:{updateItem:be}}=yield se._fetchUserPrivileges(ae,he);se._set("userHasEditingPrivileges",ue),se._set("userHasFullEditingPrivileges",ge),se._set("userHasUpdateItemPrivileges",be)}catch(ue){(0,W.r9)(ue)}})()}_fetchUserPrivileges(ae,he){var se=this;return(0,D.Z)(function*(){let ue=se.portalItem;if(!ae||!ue||!ue.loaded||ue.sourceUrl)return se._fetchFallbackUserPrivileges(he);const ge=ae===ue.id;if(ge&&ue.portal.user)return(0,q.Ss)(ue);let be,me;if(ge)be=ue.portal.url;else try{be=yield(0,x.oP)(se.url,he)}catch(ve){(0,W.r9)(ve)}if(!be||!(0,V.Zo)(be,ue.portal.url))return se._fetchFallbackUserPrivileges(he);try{const ve=(0,R.pC)(he)?he.signal:null;me=yield Z.id?.getCredential(`${be}/sharing`,{prompt:!1,signal:ve})}catch(ve){(0,W.r9)(ve)}if(!me)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(ge?yield ue.reload():(ue=new N.default({id:ae,portal:{url:be}}),yield ue.load(he)),ue.portal.user)return(0,q.Ss)(ue)}catch(ve){(0,W.r9)(ve)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}})()}_fetchFallbackUserPrivileges(ae){var he=this;return(0,D.Z)(function*(){let se=!0;try{se=yield he._fetchUserHasEditingPrivileges(ae)}catch(ue){(0,W.r9)(ue)}return{features:{edit:se,fullEdit:!1},content:{updateItem:!1}}})()}_fetchUserHasEditingPrivileges(ae){var he=this;return(0,D.Z)(function*(){const se=he.url?Z.id?.findCredential(he.url):null;if(!se)return!0;const ue=re.credential===se?re.user:yield he._fetchEditingUser(ae);return re.credential=se,re.user=ue,(0,R.Wi)(ue)||null==ue.privileges||ue.privileges.includes("features:user:edit")})()}_fetchEditingUser(ae){var he=this;return(0,D.Z)(function*(){const se=he.portalItem?.portal?.user;if(se)return se;const ue=Z.id.findServerInfo(he.url??"");if(!ue?.owningSystemUrl)return null;const ge=`${ue.owningSystemUrl}/sharing/rest`,be=$.Z.getDefault();if(be&&be.loaded&&(0,V.Fv)(be.restUrl)===(0,V.Fv)(ge))return be.user;const me=`${ge}/community/self`,Oe=(0,R.pC)(ae)?ae.signal:null,oe=yield(0,ie.q6)((0,U.default)(me,{authMode:"no-prompt",query:{f:"json"},signal:Oe}));return oe.ok?z.default.fromJSON(oe.value.data):null})()}read(ae,he){he&&(he.layer=this),super.read(ae,he)}write(ae,he){const se=he&&he.portal,ue=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||$.Z.getDefault());return se&&ue&&!(0,V.tm)(ue.restUrl,se.restUrl)?(he.messages&&he.messages.push(new k.Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(ae,{...he,layer:this})}};return(0,T._)([(0,Q.Cb)({type:N.default})],_e.prototype,"portalItem",null),(0,T._)([(0,X.r)("web-document","portalItem",["itemId"])],_e.prototype,"readPortalItem",null),(0,T._)([(0,F.c)("web-document","portalItem",{itemId:{type:String}})],_e.prototype,"writePortalItem",null),(0,T._)([(0,Q.Cb)({clonable:!1})],_e.prototype,"resourceReferences",void 0),(0,T._)([(0,Q.Cb)({type:Boolean,readOnly:!0})],_e.prototype,"userHasEditingPrivileges",void 0),(0,T._)([(0,Q.Cb)({type:Boolean,readOnly:!0})],_e.prototype,"userHasFullEditingPrivileges",void 0),(0,T._)([(0,Q.Cb)({type:Boolean,readOnly:!0})],_e.prototype,"userHasUpdateItemPrivileges",void 0),_e=(0,T._)([(0,Y.j)("esri.layers.mixins.PortalLayer")],_e),_e},re={credential:null,user:null}},30346:(nt,Te,M)=>{"use strict";M.d(Te,{Q:()=>le});var D=M(15861),T=M(17626),te=M(63290),Z=M(10699),U=M(77712),B=(M(90912),M(85931),M(76898)),R=M(74333),ne=(M(8314),M(26584),M(61972),M(21352));const J=new R.Z,X=new WeakMap;function x(_e){return null!=_e&&"object"==typeof _e&&"refreshInterval"in _e&&"refresh"in _e}function $(_e,ae){return Number.isFinite(_e)&&Number.isFinite(ae)?ae<=0?_e:$(ae,_e%ae):0}let N=0,z=0;function q(){const _e=Date.now();for(const ae of J)ae.refreshInterval&&_e-(X.get(ae)??0)+5>=6e4*ae.refreshInterval&&(X.set(ae,_e),ae.refresh(_e))}(0,ne.EH)(()=>{const _e=Date.now();let ae=0;for(const he of J)ae=$(Math.round(6e4*he.refreshInterval),ae),he.refreshInterval?X.get(he)||X.set(he,_e):X.delete(he);if(ae!==z){if(z=ae,clearInterval(N),0===z)return void(N=0);N=setInterval(q,z)}});const le=_e=>{let ae=class extends _e{constructor(...he){super(...he),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,Z.Ds)(()=>this.hasDataChanged()),this.when().then(()=>{!function Y(_e){x(_e)&&J.push(_e)}(this)},()=>{})}destroy(){!function F(_e){x(_e)&&J.includes(_e)&&J.remove(_e)}(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(he=Date.now()){(0,Z.R8)(this._debounceHasDataChanged()).then(se=>{se&&this._set("refreshTimestamp",he),this.emit("refresh",{dataChanged:se})},se=>{te.Z.getLogger(this.declaredClass).error(se),this.emit("refresh",{dataChanged:!1,error:se})})}hasDataChanged(){return(0,D.Z)(function*(){return!0})()}};return(0,T._)([(0,U.Cb)({type:Number,cast:he=>he>=.1?he:he<=0?0:.1,json:{write:!0}})],ae.prototype,"refreshInterval",void 0),(0,T._)([(0,U.Cb)({readOnly:!0})],ae.prototype,"refreshTimestamp",void 0),(0,T._)([(0,U.Cb)()],ae.prototype,"refreshParameters",null),ae=(0,T._)([(0,B.j)("esri.layers.mixins.RefreshableLayer")],ae),ae}},99555:(nt,Te,M)=>{"use strict";M.d(Te,{M:()=>ie});var D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898));const ie=B=>{let R=class extends B{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const W={minScale:this.minScale,maxScale:this.maxScale},V=this.parent;V&&"effectiveScaleRange"in V&&function k(B,R){B.minScale=B.minScale>0?R.minScale>0?Math.min(B.minScale,R.minScale):B.minScale:R.minScale,B.maxScale=B.maxScale>0?R.maxScale>0?Math.max(B.maxScale,R.maxScale):B.maxScale:R.maxScale}(W,V.effectiveScaleRange);const Q=this._get("effectiveScaleRange");return Q&&Q.minScale===W.minScale&&Q.maxScale===W.maxScale?Q:W}};return(0,D._)([(0,T.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],R.prototype,"minScale",void 0),(0,D._)([(0,T.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],R.prototype,"maxScale",void 0),(0,D._)([(0,T.Cb)({readOnly:!0})],R.prototype,"effectiveScaleRange",null),R=(0,D._)([(0,U.j)("esri.layers.mixins.ScaleRangeLayer")],R),R}},66120:(nt,Te,M)=>{"use strict";M.d(Te,{x:()=>$});var D=M(17626),T=M(74333),te=M(46882),Z=M(26584),U=M(63290),ie=M(32917),k=M(77712),W=(M(90912),M(85931),M(52323)),V=M(76898),Q=M(31283),ne=M(39058),J=M(13410);const X=U.Z.getLogger("esri.layers.TileLayer"),F=T.Z.ofType(ne.Z);function x(N,z){N&&N.forEach(q=>{z(q),q.sublayers&&q.sublayers.length&&x(q.sublayers,z)})}const $=N=>{let z=class extends N{constructor(...q){super(...q),this.allSublayers=new te.Z({getCollections:()=>[this.sublayers],getChildrenFunction:ee=>ee.sublayers}),this.sublayersSourceJSON={[Q.s3.SERVICE]:{},[Q.s3.PORTAL_ITEM]:{},[Q.s3.WEB_SCENE]:{},[Q.s3.WEB_MAP]:{}},this.addHandles((0,ie.YP)(()=>this.sublayers,(ee,re)=>this._handleSublayersChange(ee,re),ie.Z_))}readSublayers(q,ee){if(!ee||!q)return;const{sublayersSourceJSON:re}=this,le=(0,Q.M9)(ee.origin);if(le<Q.s3.SERVICE||(re[le]={context:ee,visibleLayers:q.visibleLayers||re[le].visibleLayers,layers:q.layers||re[le].layers},le>Q.s3.SERVICE))return;this._set("serviceSublayers",this.createSublayersForOrigin("service").sublayers);const{sublayers:_e,origin:ae}=this.createSublayersForOrigin("web-document"),he=(0,W.vw)(this);he.setDefaultOrigin(ae),this._set("sublayers",new F(_e)),he.setDefaultOrigin("user")}findSublayerById(q){return this.allSublayers.find(ee=>ee.id===q)}createServiceSublayers(){return this.createSublayersForOrigin("service").sublayers}createSublayersForOrigin(q){const ee=(0,Q.M9)("web-document"===q?"web-map":q);let re=Q.s3.SERVICE,le=this.sublayersSourceJSON[Q.s3.SERVICE].layers,_e=this.sublayersSourceJSON[Q.s3.SERVICE].context,ae=null;const he=[Q.s3.PORTAL_ITEM,Q.s3.WEB_SCENE,Q.s3.WEB_MAP].filter(Oe=>Oe<=ee);for(const Oe of he){const oe=this.sublayersSourceJSON[Oe];(0,J.ac)(oe.layers)&&(re=Oe,le=oe.layers,_e=oe.context,oe.visibleLayers&&(ae={visibleLayers:oe.visibleLayers,context:oe.context}))}const se=[Q.s3.PORTAL_ITEM,Q.s3.WEB_SCENE,Q.s3.WEB_MAP].filter(Oe=>Oe>re&&Oe<=ee);let ue=null;for(const Oe of se){const{layers:oe,visibleLayers:de,context:ve}=this.sublayersSourceJSON[Oe];oe&&(ue={layers:oe,context:ve}),de&&(ae={visibleLayers:de,context:ve})}const ge=function Y(N,z){const q=[],ee={};return N&&N.forEach(re=>{const le=new ne.Z;if(le.read(re,z),ee[le.id]=le,null!=re.parentLayerId&&-1!==re.parentLayerId){const _e=ee[re.parentLayerId];_e.sublayers||(_e.sublayers=[]),_e.sublayers.unshift(le)}else q.unshift(le)}),q}(le,_e),be=new Map,me=new Set;if(ue)for(const Oe of ue.layers)be.set(Oe.id,Oe);if(ae?.visibleLayers)for(const Oe of ae.visibleLayers)me.add(Oe);return x(ge,Oe=>{ue&&Oe.read(be.get(Oe.id),ue.context),ae&&Oe.read({defaultVisibility:me.has(Oe.id)},ae.context)}),{origin:(0,Q.x3)(re),sublayers:new F({items:ge})}}read(q,ee){super.read(q,ee),this.readSublayers(q,ee)}_handleSublayersChange(q,ee){ee&&(ee.forEach(re=>{re.parent=null,re.layer=null}),this.handles.remove("sublayers-owner")),q&&(q.forEach(re=>{re.parent=this,re.layer=this}),this.handles.add([q.on("after-add",({item:re})=>{re.parent=this,re.layer=this}),q.on("after-remove",({item:re})=>{re.parent=null,re.layer=null})],"sublayers-owner"),"tile"===this.type&&this.handles.add(q.on("before-changes",re=>{X.error(new Z.Z("tilelayer:sublayers-non-modifiable","ISublayer can't be added, moved, or removed from the layer's sublayers",{layer:this})),re.preventDefault()}),"sublayers-owner"))}};return(0,D._)([(0,k.Cb)({readOnly:!0})],z.prototype,"allSublayers",void 0),(0,D._)([(0,k.Cb)({readOnly:!0,type:T.Z.ofType(ne.Z)})],z.prototype,"serviceSublayers",void 0),(0,D._)([(0,k.Cb)({value:null,type:F,json:{read:!1,write:{allowNull:!0,ignoreOrigin:!0}}})],z.prototype,"sublayers",void 0),(0,D._)([(0,k.Cb)({readOnly:!0})],z.prototype,"sublayersSourceJSON",void 0),z=(0,D._)([(0,V.j)("esri.layers.mixins.SublayersOwner")],z),z}},97941:(nt,Te,M)=>{"use strict";M.d(Te,{n:()=>Q});var D=M(17626),T=M(97478),te=M(20849),Z=M(77712),k=(M(90912),M(85931),M(68653)),B=M(76898),R=M(36630),W=M(73917),V=M(58926);const Q=ne=>{let J=class extends ne{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(X,Y){const F=Y.timeInfo.exportOptions;if(!F)return null;const x=F.timeOffset,$=V.v.fromJSON(F.timeOffsetUnits);return x&&$?new te.Z({value:x,unit:$}):null}set timeInfo(X){(0,R.UF)(X,this.fieldsIndex),this._set("timeInfo",X)}};return(0,D._)([(0,Z.Cb)({type:T.Z,json:{write:!1}})],J.prototype,"timeExtent",void 0),(0,D._)([(0,Z.Cb)({type:te.Z})],J.prototype,"timeOffset",void 0),(0,D._)([(0,k.r)("service","timeOffset",["timeInfo.exportOptions"])],J.prototype,"readOffset",null),(0,D._)([(0,Z.Cb)({value:null,type:W.Z,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],J.prototype,"timeInfo",null),(0,D._)([(0,Z.Cb)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],J.prototype,"useViewTime",void 0),J=(0,D._)([(0,B.j)("esri.layers.mixins.TemporalLayer")],J),J}},43149:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var B,D=M(17626),T=M(86810),te=M(58817),Z=M(77712),ie=(M(90912),M(76898)),k=M(95778);let R=B=class extends T.wq{constructor(V){super(V),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new B({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:(0,te.d9)(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};(0,D._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],R.prototype,"isAutoGenerated",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],R.prototype,"name",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],R.prototype,"alias",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],R.prototype,"onStatisticField",void 0),(0,D._)([(0,Z.Cb)({type:k.Z,json:{write:!0}})],R.prototype,"onStatisticExpression",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],R.prototype,"statisticType",void 0),R=B=(0,D._)([(0,ie.j)("esri.layers.support.AggregateField")],R);const W=R},14772:(nt,Te,M)=>{"use strict";M.d(Te,{R:()=>J});var D=M(17626),T=M(14517),te=M(80542),Z=M(62208),U=M(95737),ie=M(77712),R=(M(90912),M(85931),M(76898)),W=M(13812),V=M(59990),Q=M(13410);const ne={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let J=class extends((0,te.p)(T.Z)){constructor(X){super(X),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const X=this.visibleSublayers.map(Y=>{const F=(0,V.f)(this.floors,Y);return Y.toExportImageJSON(F)});return X.length?JSON.stringify(X):null}get hasDynamicLayers(){return this.layer&&(0,Q.FN)(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(X){this._get("layer")!==X&&(this._set("layer",X),this.handles.remove("layer"),X&&this.handles.add([X.allSublayers.on("change",()=>this.notifyChange("visibleSublayers")),X.on("sublayer-update",Y=>this.notifyChange(ne[Y.propertyName]))],"layer"))}get layers(){const X=this.visibleSublayers;return X?X.length?"show:"+X.map(Y=>Y.id).join(","):"show:-1":null}get layerDefs(){const X=!!this.floors?.length,Y=this.visibleSublayers.filter(F=>null!=F.definitionExpression||X&&null!=F.floorInfo);return Y.length?JSON.stringify(Y.reduce((F,x)=>{const $=(0,V.f)(this.floors,x),N=(0,U._)($,x.definitionExpression);return(0,Z.pC)(N)&&(F[x.id]=N),F},{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers"),this.commitProperty("timeExtent");const X=this.layer;return X&&(X.commitProperty("dpi"),X.commitProperty("imageFormat"),X.commitProperty("imageTransparency"),X.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const X=[];if(!this.layer)return X;const Y=this.layer.sublayers,F=$=>{const N=this.scale;$.visible&&(0===N||(0===$.minScale||N<=$.minScale)&&(0===$.maxScale||N>=$.maxScale))&&($.sublayers?$.sublayers.forEach(F):X.unshift($))};Y&&Y.forEach(F);const x=this._get("visibleSublayers");return!x||x.length!==X.length||x.some(($,N)=>X[N]!==$)?X:x}toJSON(){const X=this.layer;let Y={dpi:X.dpi,format:X.imageFormat,transparent:X.imageTransparency,gdbVersion:X.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?Y.dynamicLayers=this.dynamicLayers:Y={...Y,layers:this.layers,layerDefs:this.layerDefs},Y}};(0,D._)([(0,ie.Cb)({readOnly:!0})],J.prototype,"dynamicLayers",null),(0,D._)([(0,ie.Cb)()],J.prototype,"floors",void 0),(0,D._)([(0,ie.Cb)({readOnly:!0})],J.prototype,"hasDynamicLayers",null),(0,D._)([(0,ie.Cb)()],J.prototype,"layer",null),(0,D._)([(0,ie.Cb)({readOnly:!0})],J.prototype,"layers",null),(0,D._)([(0,ie.Cb)({readOnly:!0})],J.prototype,"layerDefs",null),(0,D._)([(0,ie.Cb)({type:Number})],J.prototype,"scale",void 0),(0,D._)([(0,ie.Cb)(W.qG)],J.prototype,"timeExtent",void 0),(0,D._)([(0,ie.Cb)({readOnly:!0})],J.prototype,"version",null),(0,D._)([(0,ie.Cb)({readOnly:!0})],J.prototype,"visibleSublayers",null),J=(0,D._)([(0,R.j)("esri.layers.mixins.ExportImageParameters")],J)},95778:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>R});var D=M(17626),T=M(79608),te=M(86810),Z=M(77712),k=(M(90912),M(85931),M(76898));let B=class extends((0,T.J)(te.wq)){constructor(W){super(W),this.expression=null,this.title=null,this.returnType=null}};(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],B.prototype,"expression",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],B.prototype,"title",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],B.prototype,"returnType",void 0),B=(0,D._)([(0,k.j)("esri.layers.support.ExpressionInfo")],B);const R=B},2319:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>F});var Q,D=M(17626),T=M(26584),te=M(86810),Z=M(62208),U=M(94113),ie=M(77712),R=(M(90912),M(85931),M(76898)),W=M(71149),V=M(98624);const ne={read:{reader:W.ij},write:{writer:W.cW,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},J={read:{reader:W.ij},write:{writer:W.cW,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},X={name:"showExcludedLabels",default:!0};let Y=Q=class extends te.wq{constructor(x){super(x),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(x,$){const N=super.write(x,$);if($?.origin){if(N.filter){const z=Object.keys(N.filter);if(z.length>1||"where"!==z[0])return $.messages?.push(new T.Z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:$.layer,effect:this})),null}if("showExcludedLabels"in N)return $.messages?.push(new T.Z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:$.layer,effect:this})),null}return N}clone(){return new Q({filter:(0,Z.pC)(this.filter)?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,D._)([(0,ie.Cb)({type:V.Z,json:{write:{allowNull:!0,writer(x,$,N,z){const q=x?.write({},z);q&&0!==Object.keys(q).length?(0,U.RB)(N,q,$):(0,U.RB)(N,null,$)}}}})],Y.prototype,"filter",void 0),(0,D._)([(0,ie.Cb)({json:{write:!0,origins:{"web-map":ne,"portal-item":ne}}})],Y.prototype,"includedEffect",void 0),(0,D._)([(0,ie.Cb)({json:{write:!0,origins:{"web-map":J,"portal-item":J}}})],Y.prototype,"excludedEffect",void 0),(0,D._)([(0,ie.Cb)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":X,"portal-item":X}}})],Y.prototype,"excludedLabelsVisible",void 0),Y=Q=(0,D._)([(0,R.j)("esri.layers.support.FeatureEffect")],Y);const F=Y},98624:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Y});var Q,D=M(17626),T=M(29132),te=M(97478),Z=M(2076),U=M(86810),ie=M(58817),k=M(62208),B=M(77712),W=(M(90912),M(76898)),V=M(96854);const ne=new Z.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),J=new Z.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let X=Q=class extends U.wq{constructor(F){super(F),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(F={}){const{where:x,geometry:$,spatialRelationship:N,timeExtent:z,objectIds:q,units:ee,distance:re}=this;return new V.Z({geometry:(0,ie.d9)($),objectIds:(0,ie.d9)(q),spatialRelationship:N,timeExtent:(0,ie.d9)(z),where:x,units:ee,distance:re,...F})}clone(){const{where:F,geometry:x,spatialRelationship:$,timeExtent:N,objectIds:z,units:q,distance:ee}=this;return new Q({geometry:(0,ie.d9)(x),objectIds:(0,ie.d9)(z),spatialRelationship:$,timeExtent:(0,ie.d9)(N),where:F,units:q,distance:ee})}};(0,D._)([(0,B.Cb)({type:String,json:{write:!0}})],X.prototype,"where",void 0),(0,D._)([(0,B.Cb)({types:T.qM,json:{write:!0}})],X.prototype,"geometry",void 0),(0,D._)([(0,B.Cb)({type:ne.apiValues,json:{name:"spatialRel",read:{reader:ne.read},write:{allowNull:!1,writer:ne.write,overridePolicy(){return{enabled:(0,k.pC)(this.geometry)}}}}})],X.prototype,"spatialRelationship",void 0),(0,D._)([(0,B.Cb)({type:Number,json:{write:{overridePolicy(F){return{enabled:null!=F&&null!=this.geometry}}}}})],X.prototype,"distance",void 0),(0,D._)([(0,B.Cb)({type:[Number],json:{write:!0}})],X.prototype,"objectIds",void 0),(0,D._)([(0,B.Cb)({type:J.apiValues,json:{read:J.read,write:{writer:J.write,overridePolicy(F){return{enabled:null!=F&&null!=this.geometry}}}}})],X.prototype,"units",void 0),(0,D._)([(0,B.Cb)({type:te.Z,json:{write:!0}})],X.prototype,"timeExtent",void 0),X=Q=(0,D._)([(0,W.j)("esri.layers.support.FeatureFilter")],X);const Y=X},83989:(nt,Te,M)=>{"use strict";M.d(Te,{B:()=>k});var D=M(17626),T=M(86810),te=M(77712),ie=(M(90912),M(85931),M(76898));let k=class extends T.wq{constructor(){super(...arguments),this.type=null}};(0,D._)([(0,te.Cb)({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],k.prototype,"type",void 0),k=(0,D._)([(0,ie.j)("esri.layers.support.FeatureReduction")],k)},47058:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>R});var k,D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898)),ie=M(83989);let B=k=class extends ie.B{constructor(W){super(W),this.type="selection"}clone(){return new k}};(0,D._)([(0,T.Cb)({type:["selection"]})],B.prototype,"type",void 0),B=k=(0,D._)([(0,U.j)("esri.layers.support.FeatureReductionSelection")],B);const R=B},32777:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>V});var D=M(17626),T=M(79608),te=M(2076),Z=M(86810),U=M(77712),B=(M(90912),M(85931),M(76898));const R=new te.X({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let W=class extends((0,T.J)(Z.wq)){constructor(Q){super(Q),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};(0,D._)([(0,U.Cb)({json:{write:!0}})],W.prototype,"name",void 0),(0,D._)([(0,U.Cb)({json:{write:!0}})],W.prototype,"description",void 0),(0,D._)([(0,U.Cb)({json:{read:R.read,write:R.write}})],W.prototype,"drawingTool",void 0),(0,D._)([(0,U.Cb)({json:{write:!0}})],W.prototype,"prototype",void 0),(0,D._)([(0,U.Cb)({json:{write:!0}})],W.prototype,"thumbnail",void 0),W=(0,D._)([(0,B.j)("esri.layers.support.FeatureTemplate")],W);const V=W},41638:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ne});var D=M(17626),T=M(79608),te=M(86810),Z=M(77712),k=(M(90912),M(85931),M(68653)),B=M(76898),R=M(99433),W=M(26141),V=M(32777);let Q=class extends((0,T.J)(te.wq)){constructor(J){super(J),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(J){const X={};for(const Y of Object.keys(J))X[Y]=(0,W.im)(J[Y]);return X}writeDomains(J,X){const Y={};for(const F of Object.keys(J))J[F]&&(Y[F]=J[F]?.toJSON());X.domains=Y}};(0,D._)([(0,Z.Cb)({json:{write:!0}})],Q.prototype,"id",void 0),(0,D._)([(0,Z.Cb)({json:{write:!0}})],Q.prototype,"name",void 0),(0,D._)([(0,Z.Cb)({json:{write:!0}})],Q.prototype,"domains",void 0),(0,D._)([(0,k.r)("domains")],Q.prototype,"readDomains",null),(0,D._)([(0,R.c)("domains")],Q.prototype,"writeDomains",null),(0,D._)([(0,Z.Cb)({type:[V.Z],json:{write:!0}})],Q.prototype,"templates",void 0),Q=(0,D._)([(0,B.j)("esri.layers.support.FeatureType")],Q);const ne=Q},36255:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>X});var Q,D=M(17626),T=M(2076),te=M(86810),Z=M(77712),U=M(90912),k=(M(85931),M(55342)),B=M(68653),R=M(76898),W=M(26141),V=M(85);const ne=new T.X({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let J=Q=class extends te.wq{constructor(Y){super(Y),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(Y,{description:F}){let x=null;try{x=F?JSON.parse(F):null}catch{}return x?.value??null}readValueType(Y,{description:F}){let x=null;try{x=F?JSON.parse(F):null}catch{}return x?ne.fromJSON(x.fieldValueType):null}clone(){return new Q({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],J.prototype,"alias",void 0),(0,D._)([(0,Z.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],J.prototype,"defaultValue",void 0),(0,D._)([(0,Z.Cb)()],J.prototype,"description",void 0),(0,D._)([(0,B.r)("description")],J.prototype,"readDescription",null),(0,D._)([(0,Z.Cb)({types:W.V5,json:{read:{reader:W.im},write:!0}})],J.prototype,"domain",void 0),(0,D._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],J.prototype,"editable",void 0),(0,D._)([(0,Z.Cb)({type:U.z8,json:{write:!0}})],J.prototype,"length",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],J.prototype,"name",void 0),(0,D._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],J.prototype,"nullable",void 0),(0,D._)([(0,k.J)(V.v)],J.prototype,"type",void 0),(0,D._)([(0,Z.Cb)()],J.prototype,"valueType",void 0),(0,D._)([(0,B.r)("valueType",["description"])],J.prototype,"readValueType",null),(0,D._)([(0,Z.Cb)({type:Boolean,json:{read:!1}})],J.prototype,"visible",void 0),J=Q=(0,D._)([(0,R.j)("esri.layers.support.Field")],J);const X=J},60466:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>U});var D=M(36630);function te(B){return"oid"===B.type||"esriFieldTypeOID"===B.type}function Z(B){return"global-id"===B.type||"esriFieldTypeGlobalID"===B.type}class U{constructor(R=[]){if(this.fields=[],this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!R)return;this.fields=R;const W=[];for(const V of R){const Q=V?.name,ne=k(V?.name);if(Q&&ne){const J=ie(Q);this._fieldsMap.set(Q,V),this._fieldsMap.set(J,V),this._normalizedFieldsMap.set(ne,V),W.push(J),"date"===(B=V).type||"esriFieldTypeDate"===B.type?(this.dateFields.push(V),this._dateFieldsSet.add(V)):(0,D.H7)(V)&&(this._numericFieldsSet.add(V),this.numericFields.push(V)),te(V)||Z(V)||(V.editable=null==V.editable||!!V.editable,V.nullable=null==V.nullable||!!V.nullable)}}var B;W.sort(),this.uid=W.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const R of this.fields)te(R)||Z(R)||R.nullable||void 0!==(0,D.os)(R)||this._requiredFields.push(R)}return this._requiredFields}has(R){return null!=this.get(R)}get(R){if(!R)return;let W=this._fieldsMap.get(R);return W||(W=this._fieldsMap.get(ie(R))??this._normalizedFieldsMap.get(k(R)),W&&this._fieldsMap.set(R,W),W)}isDateField(R){return this._dateFieldsSet.has(this.get(R))}isNumericField(R){return this._numericFieldsSet.has(this.get(R))}normalizeFieldName(R){const W=this.get(R);if(W)return W.name??void 0}}function ie(B){return B.trim().toLowerCase()}function k(B){return(0,D.q6)(B)?.toLowerCase()??""}},72258:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>R});var k,D=M(17626),T=M(86810),te=M(77712),Z=M(90912),ie=(M(85931),M(76898));let B=k=class extends T.wq{constructor(W){super(W),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new k({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,D._)([(0,te.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],B.prototype,"cols",void 0),(0,D._)([(0,te.Cb)({type:Z.z8,json:{write:!0}})],B.prototype,"level",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],B.prototype,"levelValue",void 0),(0,D._)([(0,te.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],B.prototype,"origin",void 0),(0,D._)([(0,te.Cb)({type:Number,json:{write:!0}})],B.prototype,"resolution",void 0),(0,D._)([(0,te.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],B.prototype,"rows",void 0),(0,D._)([(0,te.Cb)({type:Number,json:{write:!0}})],B.prototype,"scale",void 0),B=k=(0,D._)([(0,ie.j)("esri.layers.support.LOD")],B);const R=B},170:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>he});var J,D=M(17626),T=M(20383),te=M(2076),Z=M(86810),U=M(58817),ie=M(23841),k=M(77712),R=(M(90912),M(68653)),W=M(76898),V=M(99433),ne=(M(85931),M(86793));let X=J=class extends Z.wq{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(se,ue){return ue.value?(0,ne.dI)(ue.value):se}writeExpression(se,ue,ge){null!=this.value&&(se=(0,ne.dI)(this.value)),null!=se&&(ue[ge]=se)}clone(){return new J({expression:this.expression,title:this.title,value:this.value})}};(0,D._)([(0,k.Cb)({type:String,json:{write:{writerEnsuresNonNull:!0}}})],X.prototype,"expression",void 0),(0,D._)([(0,R.r)("expression",["expression","value"])],X.prototype,"readExpression",null),(0,D._)([(0,V.c)("expression")],X.prototype,"writeExpression",null),(0,D._)([(0,k.Cb)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],X.prototype,"title",void 0),(0,D._)([(0,k.Cb)({json:{read:!1,write:!1}})],X.prototype,"value",void 0),X=J=(0,D._)([(0,W.j)("esri.layers.support.LabelExpressionInfo")],X);const Y=X;var N,F=M(72469),x=M(8080),$=M(65270);const z=new te.X({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function q(se,ue,ge){return{enabled:!(0,F.A2)(ge?.layer)}}function ee(se){return!se||"service"!==se.origin&&"map-image"!==se.layer?.type}function le(se){return!!function re(se){return"map-image"===se?.type}(se)&&!!se.capabilities?.exportMap?.supportsArcadeExpressionForLabeling}let ae=N=class extends Z.wq{static evaluateWhere(se,ue){const ge=(be,me,Oe)=>{switch(me){case"=":return be==Oe;case"<>":return be!=Oe;case">":return be>Oe;case">=":return be>=Oe;case"<":return be<Oe;case"<=":return be<=Oe}return!1};try{if(null==se)return!0;const be=se.split(" ");if(3===be.length)return ge(ue[be[0]],be[1],be[2]);if(7===be.length){const me=ge(ue[be[0]],be[1],be[2]),Oe=be[3],oe=ge(ue[be[4]],be[5],be[6]);switch(Oe){case"AND":return me&&oe;case"OR":return me||oe}}return!1}catch{console.log("Error.: can't parse = "+se)}}constructor(se){super(se),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=x.Rz,this.useCodedValues=void 0,this.where=null}readLabelExpression(se,ue){const ge=ue.labelExpressionInfo;if(!ge||!ge.value&&!ge.expression)return se}writeLabelExpression(se,ue,ge){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)se=(0,ne.z7)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const be=(0,ne.el)(this.labelExpressionInfo.expression);be&&(se="["+be+"]")}null!=se&&(ue[ge]=se)}writeLabelExpressionInfo(se,ue,ge,be){if(null==se&&null!=this.labelExpression&&ee(be))se=new Y({expression:this.getLabelExpressionArcade()});else if(!se)return;const me=se.toJSON(be);me.expression&&(ue[ge]=me)}writeMaxScale(se,ue){(se||this.minScale)&&(ue.maxScale=se)}writeMinScale(se,ue){(se||this.maxScale)&&(ue.minScale=se)}getLabelExpression(){return(0,ne.hV)(this)}getLabelExpressionArcade(){return(0,ne.YI)(this)}getLabelExpressionSingleField(){return(0,ne.UO)(this)}hash(){return JSON.stringify(this)}clone(){return new N({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,U.d9)(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:(0,U.d9)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,D._)([(0,k.Cb)({type:String,json:{write:!0}})],ae.prototype,"name",void 0),(0,D._)([(0,k.Cb)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:q}}}}})],ae.prototype,"allowOverrun",void 0),(0,D._)([(0,k.Cb)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:q}}}}})],ae.prototype,"deconflictionStrategy",void 0),(0,D._)([(0,k.Cb)({type:String,json:{write:{overridePolicy(se,ue,ge){return this.labelExpressionInfo&&"service"===ge?.origin&&le(ge.layer)?{enabled:!1}:{allowNull:!0}}}}})],ae.prototype,"labelExpression",void 0),(0,D._)([(0,R.r)("labelExpression")],ae.prototype,"readLabelExpression",null),(0,D._)([(0,V.c)("labelExpression")],ae.prototype,"writeLabelExpression",null),(0,D._)([(0,k.Cb)({type:Y,json:{write:{overridePolicy:(se,ue,ge)=>function _e(se){return ee(se)||le(se?.layer)}(ge)?{allowNull:!0}:{enabled:!1}}}})],ae.prototype,"labelExpressionInfo",void 0),(0,D._)([(0,V.c)("labelExpressionInfo")],ae.prototype,"writeLabelExpressionInfo",null),(0,D._)([(0,k.Cb)({type:z.apiValues,json:{type:z.jsonValues,read:z.read,write:z.write}})],ae.prototype,"labelPlacement",void 0),(0,D._)([(0,k.Cb)({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],ae.prototype,"labelPosition",void 0),(0,D._)([(0,k.Cb)({type:Number})],ae.prototype,"maxScale",void 0),(0,D._)([(0,V.c)("maxScale")],ae.prototype,"writeMaxScale",null),(0,D._)([(0,k.Cb)({type:Number})],ae.prototype,"minScale",void 0),(0,D._)([(0,V.c)("minScale")],ae.prototype,"writeMinScale",null),(0,D._)([(0,k.Cb)({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:q}}}}})],ae.prototype,"repeatLabel",void 0),(0,D._)([(0,k.Cb)({type:Number,cast:ie.t_,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:q}}}}})],ae.prototype,"repeatLabelDistance",void 0),(0,D._)([(0,k.Cb)({types:T.yK,json:{origins:{"web-scene":{types:T.S6,write:$.vX,default:null}},write:$.vX,default:null}})],ae.prototype,"symbol",void 0),(0,D._)([(0,k.Cb)({type:Boolean,json:{write:!0}})],ae.prototype,"useCodedValues",void 0),(0,D._)([(0,k.Cb)({type:String,json:{write:!0}})],ae.prototype,"where",void 0),ae=N=(0,D._)([(0,W.j)("esri.layers.support.LabelClass")],ae);const he=ae},2430:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var B,D=M(17626),T=M(74333),te=M(86810),Z=M(77712),k=(M(90912),M(85931),M(76898));let R=B=class extends te.wq{constructor(V){super(V),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new T.Z}clone(){return new B({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],R.prototype,"floorField",void 0),(0,D._)([(0,Z.Cb)({json:{read:!1,write:!1}})],R.prototype,"viewAllMode",void 0),(0,D._)([(0,Z.Cb)({json:{read:!1,write:!1}})],R.prototype,"viewAllLevelIds",void 0),R=B=(0,D._)([(0,k.j)("esri.layers.support.LayerFloorInfo")],R);const W=R},39058:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ut});var ce,D=M(15861),T=M(17626),Z=(M(29132),M(73281)),J=(M(4832),M(49067),M(96794),M(69747),M(40425),M(69357),M(40342),M(73640),M(33474),M(32088)),X=M(84792),Y=M(20383),F=M(74333),x=M(26584),$=M(80542),N=M(8314),z=M(61996),q=M(58817),ee=M(47996),re=M(63290),le=M(62208),_e=M(99959),ae=M(95737),he=M(21726),se=M(77712),ue=M(66656),ge=M(68653),be=M(76898),me=M(99433),Oe=M(90912),oe=M(31283),de=M(52323),ve=M(57092),De=M(41638),xe=M(36255),Ce=M(60466),Re=M(170),we=M(62667),Me=M(2430),fe=M(94138),ye=M(15283),je=M(48370),Je=M(67736),Ie=M(96854),Le=M(49430),Ve=M(2004),st=M(71774);function Se(qe){return null!=qe&&"esriSMS"===qe.type}function ze(qe,ke,Ge){const We=this.originIdOf(ke)>=(0,oe.M9)(Ge.origin);return{ignoreOrigin:!0,allowNull:We,enabled:!!Ge&&"map-image"===Ge.layer?.type&&(Ge.writeSublayerStructure||We)}}function Ke(qe,ke,Ge){return{enabled:!!Ge&&"tile"===Ge.layer?.type&&this._isOverridden(ke)}}function Xe(qe,ke,Ge){return{ignoreOrigin:!0,enabled:Ge&&Ge.writeSublayerStructure||!1}}function et(qe,ke,Ge){return{ignoreOrigin:!0,enabled:!!Ge&&(Ge.writeSublayerStructure||this.originIdOf(ke)>=(0,oe.M9)(Ge.origin))}}let ct=0;const ft=new Set;ft.add("layer"),ft.add("parent"),ft.add("loaded"),ft.add("loadStatus"),ft.add("loadError"),ft.add("loadWarnings");let $e=ce=class extends((0,$.p)((0,_e.R)((0,z.IG)(ee.Z)))){constructor(qe){super(qe),this.capabilities=void 0,this.fields=null,this.fullExtent=null,this.geometryType=null,this.globalIdField=null,this.legendEnabled=!0,this.objectIdField=null,this.popupEnabled=!0,this.popupTemplate=null,this.sourceJSON=null,this.title=null,this.typeIdField=null,this.types=null,this._lastParsedUrl=null}load(qe){var ke=this;return(0,D.Z)(function*(){return ke.addResolvingPromise((0,D.Z)(function*(){const{layer:Ge,source:We,url:tt}=ke;if(!Ge&&!tt)throw new x.Z("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:ke});let at=null;if(!Ge||ke.originIdOf("url")>oe.s3.SERVICE||"data-layer"===We?.type)at=(yield(0,X.default)(tt,{responseType:"json",query:{f:"json"},...qe})).data;else{let yt=ke.id;"map-layer"===We?.type&&(yt=We.mapLayerId),at=yield Ge.fetchSublayerInfo(yt,qe)}at&&(ke.sourceJSON=at,ke.read({layerDefinition:at},{origin:"service"}))})()),ke})()}readCapabilities(qe,ke){ke=ke.layerDefinition||ke;const{operations:{supportsQuery:Ge,supportsQueryAttachments:We},query:{supportsFormatPBF:tt},data:{supportsAttachment:at}}=(0,fe.h)(ke,this.url);return{exportMap:{supportsModification:!!ke.canModifyLayer},operations:{supportsQuery:Ge,supportsQueryAttachments:We},data:{supportsAttachment:at},query:{supportsFormatPBF:tt}}}get defaultPopupTemplate(){return this.createPopupTemplate()}set definitionExpression(qe){this._setAndNotifyLayer("definitionExpression",qe)}get fieldsIndex(){return new Ce.Z(this.fields||[])}set floorInfo(qe){this._setAndNotifyLayer("floorInfo",qe)}readGlobalIdFieldFromService(qe,ke){if((ke=ke.layerDefinition||ke).globalIdField)return ke.globalIdField;if(ke.fields)for(const Ge of ke.fields)if("esriFieldTypeGlobalID"===Ge.type)return Ge.name}get id(){return this._get("id")??ct++}set id(qe){this._get("id")!==qe&&(!1!==this.layer?.capabilities?.exportMap?.supportsDynamicLayers?this._set("id",qe):this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"))}set labelingInfo(qe){this._setAndNotifyLayer("labelingInfo",qe)}writeLabelingInfo(qe,ke,Ge,We){qe&&qe.length&&(ke.layerDefinition={drawingInfo:{labelingInfo:qe.map(tt=>tt.write({},We))}})}set labelsVisible(qe){this._setAndNotifyLayer("labelsVisible",qe)}set layer(qe){this._set("layer",qe),this.sublayers&&this.sublayers.forEach(ke=>ke.layer=qe)}set listMode(qe){this._set("listMode",qe)}set minScale(qe){this._setAndNotifyLayer("minScale",qe)}readMinScale(qe,ke){return ke.minScale||ke.layerDefinition&&ke.layerDefinition.minScale||0}set maxScale(qe){this._setAndNotifyLayer("maxScale",qe)}readMaxScale(qe,ke){return ke.maxScale||ke.layerDefinition&&ke.layerDefinition.maxScale||0}get effectiveScaleRange(){const{minScale:qe,maxScale:ke}=this;return{minScale:qe,maxScale:ke}}readObjectIdFieldFromService(qe,ke){if((ke=ke.layerDefinition||ke).objectIdField)return ke.objectIdField;if(ke.fields)for(const Ge of ke.fields)if("esriFieldTypeOID"===Ge.type)return Ge.name}set opacity(qe){this._setAndNotifyLayer("opacity",qe)}readOpacity(qe,ke){const Ge=ke.layerDefinition;return 1-.01*((null!=Ge?.transparency?Ge.transparency:Ge?.drawingInfo?.transparency)??0)}writeOpacity(qe,ke,Ge,We){ke.layerDefinition={drawingInfo:{transparency:100-100*qe}}}writeParent(qe,ke){ke.parentLayerId=this.parent&&this.parent!==this.layer?(0,Oe.vU)(this.parent.id):-1}get queryTask(){if(!this.layer)return null;const{spatialReference:qe}=this.layer,ke="gdbVersion"in this.layer?this.layer.gdbVersion:void 0,{capabilities:Ge,fieldsIndex:We}=this,tt=(0,N.Z)("featurelayer-pbf")&&Ge?.query.supportsFormatPBF;return new ve.Z({url:this.url,pbfSupported:tt,fieldsIndex:We,gdbVersion:ke,sourceSpatialReference:qe,queryAttachmentsSupported:Ge?.operations?.supportsQueryAttachments??!1})}set renderer(qe){if(qe)for(const ke of qe.getSymbols())if((0,Y.dU)(ke)){re.Z.getLogger(this.declaredClass).warn("Sublayer renderer should use 2D symbols");break}this._setAndNotifyLayer("renderer",qe)}get source(){return this._get("source")||new je.R({mapLayerId:this.id})}set source(qe){this._setAndNotifyLayer("source",qe)}set sublayers(qe){this._handleSublayersChange(qe,this._get("sublayers")),this._set("sublayers",qe)}castSublayers(qe){return(0,Oe.se)(F.Z.ofType(ce),qe)}writeSublayers(qe,ke,Ge){this.sublayers?.length&&(ke[Ge]=this.sublayers.map(We=>We.id).toArray().reverse())}readTypeIdField(qe,ke){let Ge=(ke=ke.layerDefinition||ke).typeIdField;if(Ge&&ke.fields){Ge=Ge.toLowerCase();const We=ke.fields.find(tt=>tt.name.toLowerCase()===Ge);We&&(Ge=We.name)}return Ge}get url(){const qe=this.layer?.parsedUrl??this._lastParsedUrl,ke=this.source;if(!qe)return null;if(this._lastParsedUrl=qe,"map-layer"===ke?.type)return`${qe.path}/${ke.mapLayerId}`;const Ge={layer:JSON.stringify({source:this.source})};return`${qe.path}/dynamicLayer?${(0,he.B7)(Ge)}`}set url(qe){this._overrideIfSome("url",qe)}set visible(qe){this._setAndNotifyLayer("visible",qe)}writeVisible(qe,ke,Ge,We){ke[Ge]=this.getAtOrigin("defaultVisibility","service")||qe}clone(){const{store:qe}=(0,de.vw)(this),ke=new ce;return(0,de.vw)(ke).store=qe.clone(ft),this.commitProperty("url"),ke._lastParsedUrl=this._lastParsedUrl,ke}createPopupTemplate(qe){return(0,Le.eZ)(this,qe)}createQuery(){return new Ie.Z({returnGeometry:!0,where:this.definitionExpression||"1=1"})}createFeatureLayer(){var qe=this;return(0,D.Z)(function*(){if(qe.hasOwnProperty("sublayers"))return null;const{layer:ke}=qe,Ge=ke?.parsedUrl,We=new((yield Promise.resolve().then(M.bind(M,80415))).default)({url:Ge?.path});return Ge&&qe.source&&("map-layer"===qe.source.type?We.layerId=qe.source.mapLayerId:We.dynamicDataSource=qe.source),null!=ke?.refreshInterval&&(We.refreshInterval=ke.refreshInterval),qe.definitionExpression&&(We.definitionExpression=qe.definitionExpression),qe.floorInfo&&(We.floorInfo=(0,q.d9)(qe.floorInfo)),qe.originIdOf("labelingInfo")>oe.s3.SERVICE&&(We.labelingInfo=(0,q.d9)(qe.labelingInfo)),qe.originIdOf("labelsVisible")>oe.s3.DEFAULTS&&(We.labelsVisible=qe.labelsVisible),qe.originIdOf("legendEnabled")>oe.s3.DEFAULTS&&(We.legendEnabled=qe.legendEnabled),qe.originIdOf("visible")>oe.s3.DEFAULTS&&(We.visible=qe.visible),qe.originIdOf("minScale")>oe.s3.DEFAULTS&&(We.minScale=qe.minScale),qe.originIdOf("maxScale")>oe.s3.DEFAULTS&&(We.maxScale=qe.maxScale),qe.originIdOf("opacity")>oe.s3.DEFAULTS&&(We.opacity=qe.opacity),qe.originIdOf("popupTemplate")>oe.s3.DEFAULTS&&(We.popupTemplate=(0,q.d9)(qe.popupTemplate)),qe.originIdOf("renderer")>oe.s3.SERVICE&&(We.renderer=(0,q.d9)(qe.renderer)),"data-layer"===qe.source?.type&&(We.dynamicDataSource=qe.source.clone()),qe.originIdOf("title")>oe.s3.DEFAULTS&&(We.title=qe.title),"map-image"===ke?.type&&ke.originIdOf("customParameters")>oe.s3.DEFAULTS&&(We.customParameters=ke.customParameters),"tile"===ke?.type&&ke.originIdOf("customParameters")>oe.s3.DEFAULTS&&(We.customParameters=ke.customParameters),We})()}getField(qe){return this.fieldsIndex.get(qe)}getFeatureType(qe){const{typeIdField:ke,types:Ge}=this;if(!ke||!qe)return null;const We=qe.attributes?qe.attributes[ke]:void 0;if(null==We)return null;let tt=null;return Ge?.some(at=>{const{id:yt}=at;return null!=yt&&(yt.toString()===We.toString()&&(tt=at),!!tt)}),tt}getFieldDomain(qe,ke){const We=this.getFeatureType(ke&&ke.feature);if(We){const tt=We.domains&&We.domains[qe];if(tt&&"inherited"!==tt.type)return tt}return this._getLayerDomain(qe)}queryAttachments(qe,ke){var Ge=this;return(0,D.Z)(function*(){yield Ge.load(),qe=Je.Z.from(qe);const We=Ge.capabilities;if(!We?.data?.supportsAttachment)throw new x.Z("queryAttachments:not-supported","this layer doesn't support attachments");const{attachmentTypes:tt,objectIds:at,globalIds:yt,num:Mt,size:Yt,start:sn,where:un}=qe;if(!We?.operations?.supportsQueryAttachments&&(tt?.length>0||yt?.length>0||Yt?.length>0||Mt||sn||un))throw new x.Z("queryAttachments:option-not-supported","when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",qe);if(!(at?.length||yt?.length||un))throw new x.Z("queryAttachments:invalid-query","'objectIds', 'globalIds', or 'where' are required to perform attachment query",qe);return Ge.queryTask.executeAttachmentQuery(qe,ke)})()}queryFeatures(qe=this.createQuery(),ke){var Ge=this;return(0,D.Z)(function*(){if(yield Ge.load(),!Ge.capabilities.operations.supportsQuery)throw new x.Z("queryFeatures:not-supported","this layer doesn't support queries.");if(!Ge.url)throw new x.Z("queryFeatures:not-supported","this layer has no url.");const We=yield Ge.queryTask.execute(qe,{...ke,query:{...Ge.layer?.customParameters,token:Ge.layer?.apiKey}});if(We?.features)for(const tt of We.features)tt.sourceLayer=Ge;return We})()}toExportImageJSON(qe){const ke={id:this.id,source:this.source?.toJSON()||{mapLayerId:this.id,type:"mapLayer"}},Ge=(0,ae._)(qe,this.definitionExpression);(0,le.pC)(Ge)&&(ke.definitionExpression=Ge);const We=["renderer","labelingInfo","opacity","labelsVisible"].reduce((at,yt)=>(at[yt]=this.originIdOf(yt),at),{});if(Object.keys(We).some(at=>We[at]>oe.s3.SERVICE)){const at=ke.drawingInfo={};if(We.renderer>oe.s3.SERVICE&&(at.renderer=this.renderer?this.renderer.toJSON():null),We.labelsVisible>oe.s3.SERVICE&&(at.showLabels=this.labelsVisible),this.labelsVisible&&We.labelingInfo>oe.s3.SERVICE){!this.loaded&&this.labelingInfo.some(Mt=>!Mt.labelPlacement)&&re.Z.getLogger(this.declaredClass).warnOnce(`A Sublayer (title: ${this.title}, id: ${this.id}) has an undefined 'labelPlacement' and so labels cannot be displayed. Either define a valid 'labelPlacement' or call Sublayer.load() to use a default value based on geometry type.`,{sublayer:this});let yt=this.labelingInfo;(0,le.pC)(this.geometryType)&&(yt=(0,we.a)(this.labelingInfo,st.M.toJSON(this.geometryType))),at.labelingInfo=yt.filter(Mt=>Mt.labelPlacement).map(Mt=>Mt.toJSON({origin:"service",layer:this.layer})),at.showLabels=!0}We.opacity>oe.s3.SERVICE&&(at.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(at.renderer)}return ke}_assignDefaultSymbolColors(qe){this._forEachSimpleMarkerSymbols(qe,ke=>{ke.color||"esriSMSX"!==ke.style&&"esriSMSCross"!==ke.style||(ke.color=ke.outline&&ke.outline.color?ke.outline.color:[0,0,0,0])})}_forEachSimpleMarkerSymbols(qe,ke){if(qe){const Ge=("uniqueValueInfos"in qe?qe.uniqueValueInfos:"classBreakInfos"in qe?qe.classBreakInfos:null)??[];for(const We of Ge)Se(We.symbol)&&ke(We.symbol);"symbol"in qe&&Se(qe.symbol)&&ke(qe.symbol),"defaultSymbol"in qe&&Se(qe.defaultSymbol)&&ke(qe.defaultSymbol)}}_setAndNotifyLayer(qe,ke){const Ge=this.layer,We=this._get(qe);let tt,at;switch(qe){case"definitionExpression":case"floorInfo":tt="supportsSublayerDefinitionExpression";break;case"minScale":case"maxScale":case"visible":tt="supportsSublayerVisibility";break;case"labelingInfo":case"labelsVisible":case"opacity":case"renderer":case"source":tt="supportsDynamicLayers",at="supportsModification"}const yt=(0,de.vw)(this).getDefaultOrigin();if("service"!==yt){if(tt&&!1===this.layer?.capabilities?.exportMap?.[tt])return void this._logLockedError(qe,`capability not available 'layer.capabilities.exportMap.${tt}'`);if(at&&!1===this.capabilities?.exportMap[at])return void this._logLockedError(qe,`capability not available 'capabilities.exportMap.${at}'`)}"source"!==qe||"not-loaded"===this.loadStatus?(this._set(qe,ke),"service"!==yt&&We!==ke&&Ge&&Ge.emit&&Ge.emit("sublayer-update",{propertyName:qe,target:this})):this._logLockedError(qe,"'source' can't be changed after calling sublayer.load()")}_handleSublayersChange(qe,ke){ke&&(ke.forEach(Ge=>{Ge.parent=null,Ge.layer=null}),this.handles.removeAll()),qe&&(qe.forEach(Ge=>{Ge.parent=this,Ge.layer=this.layer}),this.handles.add([qe.on("after-add",({item:Ge})=>{Ge.parent=this,Ge.layer=this.layer}),qe.on("after-remove",({item:Ge})=>{Ge.parent=null,Ge.layer=null}),qe.on("before-changes",Ge=>{const We=this.layer?.capabilities?.exportMap?.supportsSublayersChanges;null==We||We||(re.Z.getLogger(this.declaredClass).error(new x.Z("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:this,layer:this.layer})),Ge.preventDefault())})]))}_logLockedError(qe,ke){const{layer:Ge,declaredClass:We}=this;re.Z.getLogger(We).error(new x.Z("sublayer:locked",`Property '${String(qe)}' can't be changed on Sublayer from the layer '${Ge?.id}'`,{reason:ke,sublayer:this,layer:Ge}))}_getLayerDomain(qe){const ke=this.fieldsIndex.get(qe);return ke?ke.domain:null}};$e.test={isMapImageLayerOverridePolicy:qe=>qe===Xe||qe===ze,isTileImageLayerOverridePolicy:qe=>qe===Ke},(0,T._)([(0,se.Cb)({readOnly:!0})],$e.prototype,"capabilities",void 0),(0,T._)([(0,ge.r)("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],$e.prototype,"readCapabilities",null),(0,T._)([(0,se.Cb)()],$e.prototype,"defaultPopupTemplate",null),(0,T._)([(0,se.Cb)({type:String,value:null,json:{name:"layerDefinition.definitionExpression",write:{allowNull:!0,overridePolicy:ze}}})],$e.prototype,"definitionExpression",null),(0,T._)([(0,se.Cb)({type:[xe.Z],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],$e.prototype,"fields",void 0),(0,T._)([(0,se.Cb)({readOnly:!0})],$e.prototype,"fieldsIndex",null),(0,T._)([(0,se.Cb)({type:Me.Z,value:null,json:{name:"layerDefinition.floorInfo",read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo",overridePolicy:ze},origins:{"web-scene":{read:!1,write:!1}}}})],$e.prototype,"floorInfo",null),(0,T._)([(0,se.Cb)({type:Ve.Z,json:{read:{source:"layerDefinition.extent"}}})],$e.prototype,"fullExtent",void 0),(0,T._)([(0,se.Cb)({type:st.M.apiValues,json:{origins:{service:{name:"layerDefinition.geometryType",read:{reader:st.M.read}}}}})],$e.prototype,"geometryType",void 0),(0,T._)([(0,se.Cb)({type:String})],$e.prototype,"globalIdField",void 0),(0,T._)([(0,ge.r)("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],$e.prototype,"readGlobalIdFieldFromService",null),(0,T._)([(0,se.Cb)({type:Oe.z8,json:{write:{ignoreOrigin:!0}}})],$e.prototype,"id",null),(0,T._)([(0,se.Cb)({value:null,type:[Re.Z],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:Xe}}})],$e.prototype,"labelingInfo",null),(0,T._)([(0,me.c)("labelingInfo")],$e.prototype,"writeLabelingInfo",null),(0,T._)([(0,se.Cb)({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:Xe}}})],$e.prototype,"labelsVisible",null),(0,T._)([(0,se.Cb)({value:null})],$e.prototype,"layer",null),(0,T._)([(0,se.Cb)({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:et}}})],$e.prototype,"legendEnabled",void 0),(0,T._)([(0,se.Cb)({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],$e.prototype,"listMode",null),(0,T._)([(0,se.Cb)({type:Number,value:0,json:{write:{overridePolicy:Xe}}})],$e.prototype,"minScale",null),(0,T._)([(0,ge.r)("minScale",["minScale","layerDefinition.minScale"])],$e.prototype,"readMinScale",null),(0,T._)([(0,se.Cb)({type:Number,value:0,json:{write:{overridePolicy:Xe}}})],$e.prototype,"maxScale",null),(0,T._)([(0,ge.r)("maxScale",["maxScale","layerDefinition.maxScale"])],$e.prototype,"readMaxScale",null),(0,T._)([(0,se.Cb)({readOnly:!0})],$e.prototype,"effectiveScaleRange",null),(0,T._)([(0,se.Cb)({type:String})],$e.prototype,"objectIdField",void 0),(0,T._)([(0,ge.r)("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],$e.prototype,"readObjectIdFieldFromService",null),(0,T._)([(0,se.Cb)({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:Xe}}})],$e.prototype,"opacity",null),(0,T._)([(0,ge.r)("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],$e.prototype,"readOpacity",null),(0,T._)([(0,me.c)("opacity")],$e.prototype,"writeOpacity",null),(0,T._)([(0,se.Cb)({json:{type:Oe.z8,write:{target:"parentLayerId",writerEnsuresNonNull:!0,overridePolicy:Xe}}})],$e.prototype,"parent",void 0),(0,T._)([(0,me.c)("parent")],$e.prototype,"writeParent",null),(0,T._)([(0,se.Cb)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:(qe,ke)=>!ke.disablePopup},write:{target:"disablePopup",overridePolicy:et,writer(qe,ke,Ge){ke[Ge]=!qe}}}})],$e.prototype,"popupEnabled",void 0),(0,T._)([(0,se.Cb)({type:Z.Z,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:et}}})],$e.prototype,"popupTemplate",void 0),(0,T._)([(0,se.Cb)({readOnly:!0})],$e.prototype,"queryTask",null),(0,T._)([(0,se.Cb)({types:J.A,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:Xe},origins:{"web-scene":{types:J.o,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:Xe}}}}})],$e.prototype,"renderer",null),(0,T._)([(0,se.Cb)({types:{key:"type",base:null,typeMap:{"data-layer":ye.n,"map-layer":je.R}},cast(qe){if(qe){if("mapLayerId"in qe)return(0,Oe.TJ)(je.R,qe);if("dataSource"in qe)return(0,Oe.TJ)(ye.n,qe)}return qe},json:{name:"layerDefinition.source",write:{overridePolicy:Xe}}})],$e.prototype,"source",null),(0,T._)([(0,se.Cb)()],$e.prototype,"sourceJSON",void 0),(0,T._)([(0,se.Cb)({value:null,json:{type:[Oe.z8],write:{target:"subLayerIds",allowNull:!0,overridePolicy:Xe}}})],$e.prototype,"sublayers",null),(0,T._)([(0,ue.p)("sublayers")],$e.prototype,"castSublayers",null),(0,T._)([(0,me.c)("sublayers")],$e.prototype,"writeSublayers",null),(0,T._)([(0,se.Cb)({type:String,json:{name:"name",write:{overridePolicy:et}}})],$e.prototype,"title",void 0),(0,T._)([(0,se.Cb)({type:String})],$e.prototype,"typeIdField",void 0),(0,T._)([(0,ge.r)("typeIdField",["layerDefinition.typeIdField"])],$e.prototype,"readTypeIdField",null),(0,T._)([(0,se.Cb)({type:[De.Z],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],$e.prototype,"types",void 0),(0,T._)([(0,se.Cb)({type:String,json:{read:{source:"layerUrl"},write:{target:"layerUrl",overridePolicy:Ke}}})],$e.prototype,"url",null),(0,T._)([(0,se.Cb)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:Xe}}})],$e.prototype,"visible",null),(0,T._)([(0,me.c)("visible")],$e.prototype,"writeVisible",null),$e=ce=(0,T._)([(0,be.j)("esri.layers.support.Sublayer")],$e);const ut=$e},2584:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>q});var $,D=M(17626),T=M(2076),te=M(86810),Z=M(62208),U=M(16730),ie=M(77712),k=M(90912),R=(M(85931),M(68653)),W=M(76898),V=M(99433),Q=M(72642),ne=M(65234),J=M(65401),X=M(37053),Y=M(46367),F=M(72258),x=M(68511);const N=new T.X({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let z=$=class extends te.wq{static create(ee={}){const{resolutionFactor:re=1,scales:le,size:_e=256,spatialReference:ae=ne.Z.WebMercator,numLODs:he=24}=ee;if(!(0,X.JY)(ae)){const Oe=[];if(le)for(let oe=0;oe<le.length;oe++){const de=le[oe];Oe.push(new F.Z({level:oe,scale:de,resolution:de}))}else{let oe=5e-4;for(let de=he-1;de>=0;de--)Oe.unshift(new F.Z({level:de,scale:oe,resolution:oe})),oe*=2}return new $({dpi:96,lods:Oe,origin:new Q.Z(0,0,ae),size:[_e,_e],spatialReference:ae})}const se=(0,X.C5)(ae),ue=new Q.Z(ee.origin?{x:ee.origin.x,y:ee.origin.y,spatialReference:ae}:se?{x:se.origin[0],y:se.origin[1],spatialReference:ae}:{x:0,y:0,spatialReference:ae}),be=1/(39.37*(0,U.c9)(ae)*96),me=[];if(le)for(let Oe=0;Oe<le.length;Oe++){const oe=le[Oe];me.push(new F.Z({level:Oe,scale:oe,resolution:oe*be}))}else{let Oe=(0,X.sT)(ae)?512/_e*591657527.5917094:256/_e*591657527.591555;const oe=Math.ceil(he/re);me.push(new F.Z({level:0,scale:Oe,resolution:Oe*be}));for(let de=1;de<oe;de++){const ve=Oe/2**re;me.push(new F.Z({level:de,scale:ve,resolution:ve*be})),Oe=ve}}return new $({dpi:96,lods:me,origin:ue,size:[_e,_e],spatialReference:ae})}constructor(ee){super(ee),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:ee,origin:re}=this;if(ee&&re){const le=(0,X.C5)(ee);return ee.isWrappable&&!!le&&Math.abs(le.origin[0]-re.x)<=le.dx}return!1}readOrigin(ee,re){return Q.Z.fromJSON({spatialReference:re.spatialReference,...ee})}set lods(ee){let re=0,le=0;const _e=[],ae=this._levelToLOD={};ee&&(re=-1/0,le=1/0,ee.forEach(he=>{_e.push(he.scale),re=he.scale>re?he.scale:re,le=he.scale<le?he.scale:le,ae[he.level]=he})),this._set("scales",_e),this._set("minScale",re),this._set("maxScale",le),this._set("lods",ee),this._initializeUpsampleLevels()}readSize(ee,re){return[re.cols,re.rows]}writeSize(ee,re){re.cols=ee[0],re.rows=ee[1]}zoomToScale(ee){const re=this.scales;if(ee<=0)return re[0];if(ee>=re.length-1)return re[re.length-1];const le=Math.floor(ee);return re[le]/(re[le]/re[le+1])**(ee-le)}scaleToZoom(ee){const re=this.scales,le=re.length-1;let _e=0;for(;_e<le;_e++){const ae=re[_e],he=re[_e+1];if(ae<=ee)return _e;if(he===ee)return _e+1;if(ae>ee&&he<ee)return _e+Math.log(ae/ee)/Math.log(ae/he)}return _e}snapScale(ee,re=.95){const le=this.scaleToZoom(ee);return le%Math.floor(le)>=re?this.zoomToScale(Math.ceil(le)):this.zoomToScale(Math.floor(le))}tileAt(ee,re,le,_e){const ae=this.lodAt(ee);if(!ae)return null;let he,se;if("number"==typeof re)he=re,se=le;else if((0,X.fS)(re.spatialReference,this.spatialReference))he=re.x,se=re.y,_e=le;else{const be=(0,Y.iV)(re,this.spatialReference);if((0,Z.Wi)(be))return null;he=be.x,se=be.y,_e=le}const ue=ae.resolution*this.size[0],ge=ae.resolution*this.size[1];return _e||(_e=new x.f(null,0,0,0,(0,J.Ue)())),_e.level=ee,_e.row=Math.floor((this.origin.y-se)/ge+.001),_e.col=Math.floor((he-this.origin.x)/ue+.001),this.updateTileInfo(_e),_e}updateTileInfo(ee,re=$.ExtrapolateOptions.NONE){let le=this.lodAt(ee.level);if(!le&&re===$.ExtrapolateOptions.POWER_OF_TWO){const se=this.lods[this.lods.length-1];se.level<ee.level&&(le=se)}if(!le)return;const _e=ee.level-le.level,ae=le.resolution*this.size[0]/2**_e,he=le.resolution*this.size[1]/2**_e;ee.id=`${ee.level}/${ee.row}/${ee.col}`,ee.extent||(ee.extent=(0,J.Ue)()),ee.extent[0]=this.origin.x+ee.col*ae,ee.extent[1]=this.origin.y-(ee.row+1)*he,ee.extent[2]=ee.extent[0]+ae,ee.extent[3]=ee.extent[1]+he}upsampleTile(ee){const re=this._upsampleLevels[ee.level];return!(!re||-1===re.parentLevel||(ee.level=re.parentLevel,ee.row=Math.floor(ee.row/re.factor+.001),ee.col=Math.floor(ee.col/re.factor+.001),this.updateTileInfo(ee),0))}getTileBounds(ee,re){const le=this.lodAt(re.level);if(null==le)return null;const{resolution:_e}=le,ae=_e*this.size[0],he=_e*this.size[1];return ee[0]=this.origin.x+re.col*ae,ee[1]=this.origin.y-(re.row+1)*he,ee[2]=ee[0]+ae,ee[3]=ee[1]+he,ee}lodAt(ee){return this._levelToLOD?.[ee]??null}clone(){return $.fromJSON(this.write({}))}getOrCreateCompatible(ee,re){if(256===this.size[0]&&256===this.size[1])return 256===ee?this:null;const le=[],_e=this.lods.length;for(let ae=0;ae<_e;ae++){const he=this.lods[ae];le.push(new F.Z({level:he.level,scale:he.scale,resolution:he.resolution*re}))}return new $({size:[ee,ee],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:le})}_initializeUpsampleLevels(){const ee=this.lods;this._upsampleLevels=[];let re=null;for(let le=0;le<ee.length;le++){const _e=ee[le];this._upsampleLevels[_e.level]={parentLevel:re?re.level:-1,factor:re?re.resolution/_e.resolution:0},re=_e}}};var ee,re;(0,D._)([(0,ie.Cb)({type:Number,json:{write:!0}})],z.prototype,"compressionQuality",void 0),(0,D._)([(0,ie.Cb)({type:Number,json:{write:!0}})],z.prototype,"dpi",void 0),(0,D._)([(0,ie.Cb)({type:String,json:{read:N.read,write:N.write,origins:{"web-scene":{read:!1,write:!1}}}})],z.prototype,"format",void 0),(0,D._)([(0,ie.Cb)({readOnly:!0})],z.prototype,"isWrappable",null),(0,D._)([(0,ie.Cb)({type:Q.Z,json:{write:!0}})],z.prototype,"origin",void 0),(0,D._)([(0,R.r)("origin")],z.prototype,"readOrigin",null),(0,D._)([(0,ie.Cb)({type:[F.Z],value:null,json:{write:!0}})],z.prototype,"lods",null),(0,D._)([(0,ie.Cb)({readOnly:!0})],z.prototype,"minScale",void 0),(0,D._)([(0,ie.Cb)({readOnly:!0})],z.prototype,"maxScale",void 0),(0,D._)([(0,ie.Cb)({readOnly:!0})],z.prototype,"scales",void 0),(0,D._)([(0,ie.Cb)({cast:ee=>Array.isArray(ee)?ee:"number"==typeof ee?[ee,ee]:[256,256]})],z.prototype,"size",void 0),(0,D._)([(0,R.r)("size",["rows","cols"])],z.prototype,"readSize",null),(0,D._)([(0,V.c)("size",{cols:{type:k.z8},rows:{type:k.z8}})],z.prototype,"writeSize",null),(0,D._)([(0,ie.Cb)({type:ne.Z,json:{write:!0}})],z.prototype,"spatialReference",void 0),z=$=(0,D._)([(0,W.j)("esri.layers.support.TileInfo")],z),(re=(ee=z||(z={})).ExtrapolateOptions||(ee.ExtrapolateOptions={}))[re.NONE=0]="NONE",re[re.POWER_OF_TWO=1]="POWER_OF_TWO";const q=z},68511:(nt,Te,M)=>{"use strict";M.d(Te,{f:()=>D});class D{constructor(te,Z,U,ie,k){this.id=te,this.level=Z,this.row=U,this.col=ie,this.extent=k}}},73917:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Y});var D=M(17626),T=M(97478),te=M(20849),Z=M(79608),U=M(86810),ie=M(62208),k=M(77712),W=(M(90912),M(85931),M(68653)),V=M(76898),Q=M(99433),ne=M(41039);function J(F,x){return te.Z.fromJSON({value:F,unit:x})}let X=class extends((0,Z.J)(U.wq)){constructor(F){super(F),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(F,x){if(!x.timeExtent||!Array.isArray(x.timeExtent)||2!==x.timeExtent.length)return null;const $=new Date(x.timeExtent[0]),N=new Date(x.timeExtent[1]);return new T.Z({start:$,end:N})}writeFullTimeExtent(F,x){x.timeExtent=F&&(0,ie.pC)(F.start)&&(0,ie.pC)(F.end)?[F.start.getTime(),F.end.getTime()]:null}readInterval(F,x){return x.timeInterval&&x.timeIntervalUnits?J(x.timeInterval,x.timeIntervalUnits):x.defaultTimeInterval&&x.defaultTimeIntervalUnits?J(x.defaultTimeInterval,x.defaultTimeIntervalUnits):null}writeInterval(F,x){x.timeInterval=F?.toJSON().value??null,x.timeIntervalUnits=F?.toJSON().unit??null}};(0,D._)([(0,k.Cb)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],X.prototype,"cumulative",void 0),(0,D._)([(0,k.Cb)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],X.prototype,"endField",void 0),(0,D._)([(0,k.Cb)({type:T.Z,json:{write:{enabled:!0,allowNull:!0}}})],X.prototype,"fullTimeExtent",void 0),(0,D._)([(0,W.r)("fullTimeExtent",["timeExtent"])],X.prototype,"readFullTimeExtent",null),(0,D._)([(0,Q.c)("fullTimeExtent")],X.prototype,"writeFullTimeExtent",null),(0,D._)([(0,k.Cb)({type:Boolean,json:{write:!0}})],X.prototype,"hasLiveData",void 0),(0,D._)([(0,k.Cb)({type:te.Z,json:{write:{enabled:!0,allowNull:!0}}})],X.prototype,"interval",void 0),(0,D._)([(0,W.r)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],X.prototype,"readInterval",null),(0,D._)([(0,Q.c)("interval")],X.prototype,"writeInterval",null),(0,D._)([(0,k.Cb)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],X.prototype,"startField",void 0),(0,D._)([(0,k.Cb)({type:ne.Z,json:{write:{enabled:!0,allowNull:!0}}})],X.prototype,"timeReference",void 0),(0,D._)([(0,k.Cb)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],X.prototype,"trackIdField",void 0),(0,D._)([(0,k.Cb)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],X.prototype,"useTime",void 0),X=(0,D._)([(0,V.j)("esri.layers.support.TimeInfo")],X);const Y=X},38305:(nt,Te,M)=>{"use strict";M.d(Te,{B5:()=>R,DR:()=>V,G:()=>x,M8:()=>J,Nm:()=>X,Qc:()=>W,XG:()=>Y,a7:()=>ne,h3:()=>$,ld:()=>Q,wH:()=>F});var D=M(62208),T=M(21726),te=M(29840);const Z={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},U=Object.values(Z),ie=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${U.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),k=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${U.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),B=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function R(N){return!!ie.test(N)}function W(N){if((0,D.Wi)(N))return null;const z=(0,T.mN)(N),q=z.path.match(ie)||z.path.match(k);if(!q)return null;const[,ee,re,le,_e]=q,ae=re.indexOf("/");return{title:Q(-1!==ae?re.slice(ae+1):re),serverType:Z[le.toLowerCase()],sublayer:null!=_e&&""!==_e?parseInt(_e,10):null,url:{path:ee}}}function V(N){const z=(0,T.mN)(N).path.match(B);return z?{serviceUrl:z[1],sublayerId:Number(z[2])}:null}function Q(N){return(N=N.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+N.slice(1)}function ne(N,z){const q=[];if(N){const ee=W(N);(0,D.pC)(ee)&&ee.title&&q.push(ee.title)}if(z){const ee=Q(z);q.push(ee)}if(2===q.length){if(q[0].toLowerCase().includes(q[1].toLowerCase()))return q[0];if(q[1].toLowerCase().includes(q[0].toLowerCase()))return q[1]}return q.join(" - ")}function J(N){if(!N)return!1;const le=(N=N.toLowerCase()).includes(".arcgis.com/"),_e=N.includes("//services")||N.includes("//tiles")||N.includes("//features");return le&&_e}function X(N,z){return N&&(0,T.Qj)((0,T.Hu)(N,z))}function Y(N){let{url:z}=N;if(!z)return{url:z};z=(0,T.Hu)(z,N.logger);const q=(0,T.mN)(z),ee=W(q.path);let re;if((0,D.pC)(ee))null!=ee.sublayer&&null==N.layer.layerId&&(re=ee.sublayer),z=ee.url.path;else if(N.nonStandardUrlAllowed){const le=V(q.path);(0,D.pC)(le)&&(z=le.serviceUrl,re=le.sublayerId)}return{url:(0,T.Qj)(z),layerId:re}}function F(N,z,q,ee,re){(0,te.w)(z,ee,"url",re),ee.url&&null!=N.layerId&&(ee.url=(0,T.v_)(ee.url,q,N.layerId.toString()))}function x(N){if(!N)return!1;const z=N.toLowerCase(),q=z.includes("/services/"),ee=z.includes("/mapserver/wmsserver"),re=z.includes("/imageserver/wmsserver"),le=z.includes("/wmsserver");return q&&(ee||re||le)}function $(N){if(!N)return!1;const z=new T.R9((0,T.hF)(N)).authority?.toLowerCase();return"server.arcgisonline.com"===z||"services.arcgisonline.com"===z}},13812:(nt,Te,M)=>{"use strict";M.d(Te,{qG:()=>le,PV:()=>N,id:()=>ae,iR:()=>F,rn:()=>$,rT:()=>ue,u1:()=>se,rO:()=>he,Oh:()=>ee,bT:()=>re,C_:()=>Y,Lx:()=>z,vg:()=>_e,YI:()=>X,HQ:()=>x});var D=M(97478),T=M(2004),te=M(65234),Z=M(29840),U=M(62208),k=(M(10699),M(28170)),ne=M(82706),J=M(92236);const X={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},Y={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(ge,be)=>!be.disablePopup},write:{enabled:!0,writer(ge,be,me){be[me]=!ge}}}},F={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:!0}},x={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:Z.w}}},$={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},N={value:null,type:ne.Z,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function z(ge){return{type:ge,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const q={write:!0,read:!0},ee={type:Number,json:{origins:{"web-document":q,"portal-item":{write:!0}}}},re={...ee,json:{...ee.json,origins:{"web-document":{...q,write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(ge,be,me)=>me&&"service"!==me.origin||!be.drawingInfo||void 0===be.drawingInfo.transparency?be.layerDefinition&&be.layerDefinition.drawingInfo&&void 0!==be.layerDefinition.drawingInfo.transparency?(0,J.b)(be.layerDefinition.drawingInfo.transparency):void 0:(0,J.b)(be.drawingInfo.transparency)}}},le={type:D.Z,readOnly:!0,get(){if(!this.layer?.timeInfo)return null;const{datesInUnknownTimezone:ge,timeOffset:be,useViewTime:me}=this.layer,Oe=this.view?.timeExtent;let oe=this.layer.timeExtent;ge&&(oe=function Q(ge){if(!ge)return ge;const{start:be,end:me}=ge;return new D.Z({start:(0,U.pC)(be)?(0,k.Nm)(be,be.getTimezoneOffset(),"minutes"):be,end:(0,U.pC)(me)?(0,k.Nm)(me,me.getTimezoneOffset(),"minutes"):me})}(oe));let de=me?Oe&&oe?Oe.intersection(oe):Oe||oe:oe;if(!de||de.isEmpty||de.isAllTime)return de;be&&(de=de.offset(-be.value,be.unit)),ge&&(de=function V(ge){if(!ge)return ge;const{start:be,end:me}=ge;return new D.Z({start:(0,U.pC)(be)?(0,k.Nm)(be,-be.getTimezoneOffset(),"minutes"):be,end:(0,U.pC)(me)?(0,k.Nm)(me,-me.getTimezoneOffset(),"minutes"):me})}(de));const ve=this._get("timeExtent");return de.equals(ve)?ve:de}},_e={type:T.Z,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(ge,be)=>{const me=T.Z.fromJSON(ge);return null!=be.spatialReference&&"object"==typeof be.spatialReference&&(me.spatialReference=te.Z.fromJSON(be.spatialReference)),me}}}},read:!1}},ae={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},he={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},se={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}},ue={json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}}},26141:(nt,Te,M)=>{"use strict";M.d(Te,{im:()=>he,V5:()=>ae}),M(8314);var W,T=M(17626),te=M(58817),Z=M(77712),ie=(M(90912),M(55342)),k=M(76898),B=M(86810);M(85931);let V=W=class extends B.wq{constructor(se){super(se),this.name=null,this.code=null}clone(){return new W({name:this.name,code:this.code})}};(0,T._)([(0,Z.Cb)({type:String,json:{write:!0}})],V.prototype,"name",void 0),(0,T._)([(0,Z.Cb)({type:[String,Number],json:{write:!0}})],V.prototype,"code",void 0),V=W=(0,T._)([(0,k.j)("esri.layers.support.CodedValue")],V);const ne=new(M(2076).X)({inherited:"inherited",codedValue:"coded-value",range:"range"});let J=class extends B.wq{constructor(se){super(se),this.name=null,this.type=null}};(0,T._)([(0,Z.Cb)({type:String,json:{write:!0}})],J.prototype,"name",void 0),(0,T._)([(0,ie.J)(ne)],J.prototype,"type",void 0),J=(0,T._)([(0,k.j)("esri.layers.support.Domain")],J);const X=J;var Y;let F=Y=class extends X{constructor(se){super(se),this.codedValues=null,this.type="coded-value"}getName(se){let ue=null;if(this.codedValues){const ge=String(se);this.codedValues.some(be=>(String(be.code)===ge&&(ue=be.name),!!ue))}return ue}clone(){return new Y({codedValues:(0,te.d9)(this.codedValues),name:this.name})}};(0,T._)([(0,Z.Cb)({type:[V],json:{write:!0}})],F.prototype,"codedValues",void 0),(0,T._)([(0,ie.J)({codedValue:"coded-value"})],F.prototype,"type",void 0),F=Y=(0,T._)([(0,k.j)("esri.layers.support.CodedValueDomain")],F);const x=F;var z;M(63290),M(26584);let q=z=class extends X{constructor(se){super(se),this.type="inherited"}clone(){return new z}};(0,T._)([(0,ie.J)({inherited:"inherited"})],q.prototype,"type",void 0),q=z=(0,T._)([(0,k.j)("esri.layers.support.InheritedDomain")],q);const ee=q;var re;let le=re=class extends X{constructor(se){super(se),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new re({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,T._)([(0,Z.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:(se,ue)=>ue.range&&ue.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(se,ue,ge){ue[ge]=[this.minValue||0,se]}}}})],le.prototype,"maxValue",void 0),(0,T._)([(0,Z.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:(se,ue)=>ue.range&&ue.range[0]},write:{target:"range",writer(se,ue,ge){ue[ge]=[se,this.maxValue||0]}}}})],le.prototype,"minValue",void 0),(0,T._)([(0,ie.J)({range:"range"})],le.prototype,"type",void 0),le=re=(0,T._)([(0,k.j)("esri.layers.support.RangeDomain")],le);const _e=le,ae={key:"type",base:X,typeMap:{range:le,"coded-value":x,inherited:ee}};function he(se){if(!se||!se.type)return null;switch(se.type){case"range":return _e.fromJSON(se);case"codedValue":return x.fromJSON(se);case"inherited":return ee.fromJSON(se)}return null}},26331:(nt,Te,M)=>{"use strict";M.d(Te,{C9:()=>me,Ci:()=>z,FV:()=>$,Fr:()=>V,JD:()=>Q,JY:()=>Ce,Jj:()=>F,KE:()=>se,SU:()=>ee,VG:()=>ae,Y5:()=>X,gG:()=>oe,kZ:()=>xe,kp:()=>ge,nU:()=>ye,rP:()=>ve,rk:()=>De,sX:()=>Je,tD:()=>le});var D=M(15861),T=M(24263),te=M(26584),Z=M(2076),U=M(62208),ie=M(95737),k=M(72469),B=M(67736),R=M(96854),W=M(67010);const V=new Z.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});function Q(Ie,Le,Ve,st){return ne.apply(this,arguments)}function ne(){return(ne=(0,D.Z)(function*(Ie,Le,Ve,st){const ce=yield Re(Ie);if(yield J(Ie,Le,st),!ce.addAttachment)throw new te.Z(st,"Layer source does not support addAttachment capability");return ce.addAttachment(Le,Ve)})).apply(this,arguments)}function J(Ie,Le,Ve){const{attributes:st}=Le,{objectIdField:ce}=Ie;return Ie.get("capabilities.data.supportsAttachment")?Le?st?ce&&st[ce]?Promise.resolve():Promise.reject(new te.Z(Ve,`feature is missing the identifying attribute ${ce}`)):Promise.reject(new te.Z(Ve,"'attributes' are required on a feature to query attachments")):Promise.reject(new te.Z(Ve,"A feature is required to add/delete/update attachments")):Promise.reject(new te.Z(Ve,"this layer doesn't support attachments"))}function X(Ie,Le,Ve,st,ce){return Y.apply(this,arguments)}function Y(){return(Y=(0,D.Z)(function*(Ie,Le,Ve,st,ce){const Se=yield Re(Ie);if(yield J(Ie,Le,ce),!Se.updateAttachment)throw new te.Z(ce,"Layer source does not support updateAttachment capability");return Se.updateAttachment(Le,Ve,st)})).apply(this,arguments)}function F(Ie,Le,Ve){return x.apply(this,arguments)}function x(){return(x=(0,D.Z)(function*(Ie,Le,Ve){const st=yield Promise.all([M.e(8592),M.e(5362)]).then(M.bind(M,95362)),ce=yield Ie.load();return st.applyEdits(ce,ce.source,Le,Ve)})).apply(this,arguments)}function $(Ie,Le,Ve,st){return N.apply(this,arguments)}function N(){return(N=(0,D.Z)(function*(Ie,Le,Ve,st){const ce=yield Re(Ie);if(yield J(Ie,Le,st),!ce.deleteAttachments)throw new te.Z(st,"Layer source does not support deleteAttachments capability");return ce.deleteAttachments(Le,Ve)})).apply(this,arguments)}function z(Ie,Le,Ve){return q.apply(this,arguments)}function q(){return(q=(0,D.Z)(function*(Ie,Le,Ve){const st=(yield Ie.load({signal:Le?.signal})).source;if(!st.fetchRecomputedExtents)throw new te.Z(Ve,"Layer source does not support fetchUpdates capability");return st.fetchRecomputedExtents(Le)})).apply(this,arguments)}function ee(Ie,Le,Ve,st){return re.apply(this,arguments)}function re(){return(re=(0,D.Z)(function*(Ie,Le,Ve,st){Le=B.Z.from(Le),yield Ie.load();const ce=Ie.source,Se=Ie.capabilities;if(!Se?.data?.supportsAttachment)throw new te.Z(st,"this layer doesn't support attachments");const{attachmentTypes:ze,objectIds:Ke,globalIds:Xe,num:et,size:ct,start:ft,where:$e}=Le;if(!Se?.operations?.supportsQueryAttachments&&(ze?.length>0||Xe?.length>0||ct?.length>0||et||ft||$e))throw new te.Z(st,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",Le);if(!(Ke?.length||Xe?.length||$e))throw new te.Z(st,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",Le);if(!ce.queryAttachments)throw new te.Z(st,"Layer source does not support queryAttachments capability",Le);return ce.queryAttachments(Le)})).apply(this,arguments)}function le(Ie,Le,Ve,st){return _e.apply(this,arguments)}function _e(){return(_e=(0,D.Z)(function*(Ie,Le,Ve,st){const ce=yield Re(Ie);if(!ce.queryObjectIds)throw new te.Z(st,"Layer source does not support queryObjectIds capability");return ce.queryObjectIds(R.Z.from(Le)??Ie.createQuery(),Ve)})).apply(this,arguments)}function ae(Ie,Le,Ve,st){return he.apply(this,arguments)}function he(){return(he=(0,D.Z)(function*(Ie,Le,Ve,st){const ce=yield Re(Ie);if(!ce.queryFeatureCount)throw new te.Z(st,"Layer source does not support queryFeatureCount capability");return ce.queryFeatureCount(R.Z.from(Le)??Ie.createQuery(),Ve)})).apply(this,arguments)}function se(Ie,Le,Ve,st){return ue.apply(this,arguments)}function ue(){return(ue=(0,D.Z)(function*(Ie,Le,Ve,st){const ce=yield Re(Ie);if(!ce.queryExtent)throw new te.Z(st,"Layer source does not support queryExtent capability");return ce.queryExtent(R.Z.from(Le)??Ie.createQuery(),Ve)})).apply(this,arguments)}function ge(Ie,Le,Ve,st){return be.apply(this,arguments)}function be(){return(be=(0,D.Z)(function*(Ie,Le,Ve,st){const ce=yield Re(Ie);if(!ce.queryRelatedFeatures)throw new te.Z(st,"Layer source does not support queryRelatedFeatures capability");return ce.queryRelatedFeatures(W.default.from(Le),Ve)})).apply(this,arguments)}function me(Ie,Le,Ve,st){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,D.Z)(function*(Ie,Le,Ve,st){const ce=yield Re(Ie);if(!ce.queryRelatedFeaturesCount)throw new te.Z(st,"Layer source does not support queryRelatedFeaturesCount capability");return ce.queryRelatedFeaturesCount(W.default.from(Le),Ve)})).apply(this,arguments)}function oe(Ie){return de.apply(this,arguments)}function de(){return(de=(0,D.Z)(function*(Ie){const Le=Ie.source;if(Le?.refresh)try{const{dataChanged:Ve,updates:st}=yield Le.refresh();if((0,U.pC)(st)&&(Ie.sourceJSON={...Ie.sourceJSON,...st},Ie.read(st,{origin:"service",url:Ie.parsedUrl})),Ve)return!0}catch{}if(Ie.definitionExpression)try{return(yield(0,ie.E)(Ie.definitionExpression,Ie.fieldsIndex)).hasDateFunctions}catch{}return!1})).apply(this,arguments)}function ve(Ie){const Le=new R.Z,Ve=Ie.get("capabilities.data"),st=Ie.get("capabilities.query");Le.historicMoment=Ie.historicMoment,Le.gdbVersion=Ie.gdbVersion,Le.returnGeometry=!0,st&&(Le.compactGeometryEnabled=st.supportsCompactGeometry,Le.defaultSpatialReferenceEnabled=st.supportsDefaultSpatialReference),Ve&&(Ve.supportsZ&&null!=Ie.returnZ&&(Le.returnZ=Ie.returnZ),Ve.supportsM&&null!=Ie.returnM&&(Le.returnM=Ie.returnM)),Le.outFields=["*"];const{timeOffset:ce,timeExtent:Se}=Ie;return Le.timeExtent=null!=ce&&null!=Se?Se.offset(-ce.value,ce.unit):Se||null,Le.multipatchOption="multipatch"===Ie.geometryType?"xyFootprint":null,Le}function De(Ie){const{globalIdField:Le,fields:Ve}=Ie;if(Le)return Le;if(Ve)for(const st of Ve)if("esriFieldTypeGlobalID"===st.type)return st.name}function xe(Ie){const{objectIdField:Le,fields:Ve}=Ie;if(Le)return Le;if(Ve)for(const st of Ve)if("esriFieldTypeOID"===st.type)return st.name}function Ce(Ie){return Ie.currentVersion?Ie.currentVersion:Ie.hasOwnProperty("capabilities")||Ie.hasOwnProperty("drawingInfo")||Ie.hasOwnProperty("hasAttachments")||Ie.hasOwnProperty("htmlPopupType")||Ie.hasOwnProperty("relationships")||Ie.hasOwnProperty("timeInfo")||Ie.hasOwnProperty("typeIdField")||Ie.hasOwnProperty("types")?10:9.3}function Re(Ie){return we.apply(this,arguments)}function we(){return(we=(0,D.Z)(function*(Ie){return(yield Ie.load()).source})).apply(this,arguments)}function fe(){return(fe=(0,D.Z)(function*(Ie,Le){if(!T.id||T.id.findCredential(Ie))return;let Ve;try{const st=yield(0,k.oP)(Ie,Le);st&&(Ve=yield T.id.checkSignInStatus(`${st}/sharing`))}catch{}if(Ve)try{const st=(0,U.pC)(Le)?Le.signal:null;yield T.id.getCredential(Ie,{signal:st})}catch{}})).apply(this,arguments)}function ye(Ie,Le){return je.apply(this,arguments)}function je(){return je=(0,D.Z)(function*(Ie,Le){const Ve=Ie.parsedUrl?.path;if(!Ve)return;const st=Ie.editFieldsInfo;(Ie.userHasUpdateItemPrivileges||Ie.userHasFullEditingPrivileges&&Ie.capabilities.operations.supportsEditing||st?.creatorField||st?.editorField)&&(yield function Me(Ie,Le){return fe.apply(this,arguments)}(Ve,Le))}),je.apply(this,arguments)}function Je(Ie){return!Ie.sourceJSON?.isMultiServicesView&&(Ie.userHasUpdateItemPrivileges||Ie.editingEnabled)}},55911:(nt,Te,M)=>{"use strict";M.d(Te,{v:()=>U});var D=M(63290),T=M(36255),te=M(60466),Z=M(36630);function U(){return{fields:{type:[T.Z],value:null},fieldsIndex:{readOnly:!0,get(){return new te.Z(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(ie){this._userOutFields=ie,this.notifyChange("outFields")},get:function(){const ie=this._userOutFields;if(!ie||!ie.length)return null;if(ie.includes("*"))return["*"];if(!this.fields)return ie;for(const k of ie)this.fieldsIndex?.has(k)||D.Z.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${k} found in outFields`,{layer:this,outFields:ie});return(0,Z.Q0)(this.fieldsIndex,ie)}}}}},85:(nt,Te,M)=>{"use strict";M.d(Te,{v:()=>T});const T=new(M(2076).X)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},36630:(nt,Te,M)=>{"use strict";M.d(Te,{io:()=>_e,vl:()=>oe,ZV:()=>De,AB:()=>ee,gd:()=>q,Ll:()=>we,Mu:()=>ze,Qj:()=>fe,R9:()=>Zt,Q0:()=>z,YN:()=>F,UF:()=>$,O5:()=>ue,CH:()=>Ve,os:()=>ct,H7:()=>Mt,Ec:()=>Wn,qN:()=>Yt,q6:()=>J,Pz:()=>hn,Lk:()=>re,Qc:()=>bn,vP:()=>Wt});var U,Et,D=M(15861),T=M(26584),te=M(62208),Z=M(94113);(Et=U||(U={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",Et.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var B=M(46679);const R=/^([0-9])/,W=/[^a-z0-9_\u0080-\uffff]/gi,V=/_{2,}/g,Q=/^_/,ne=/_$/;function J(Et){return null==Et?null:Et.trim().replace(W,"_").replace(V,"_").replace(Q,"").replace(ne,"").replace(R,"F$1")||null}const X=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Y=["field","normalizationField"];function F(Et,Tt){if(null!=Et&&null!=Tt)for(const Bt of Array.isArray(Et)?Et:[Et])if(x(X,Bt,Tt),"visualVariables"in Bt&&Bt.visualVariables)for(const fn of Bt.visualVariables)x(Y,fn,Tt)}function x(Et,Tt,Bt){if(Et)for(const fn of Et){const dt=(0,Z.hS)(fn,Tt),Pt=dt&&"function"!=typeof dt&&Bt.get(dt);Pt&&(0,Z.RB)(fn,Pt.name,Tt)}}function $(Et,Tt){if(null!=Et&&Tt?.fields?.length)if("startField"in Et){const Bt=Tt.get(Et.startField),fn=Tt.get(Et.endField);Et.startField=Bt?.name??null,Et.endField=fn?.name??null}else{const Bt=Tt.get(Et.startTimeField),fn=Tt.get(Et.endTimeField);Et.startTimeField=Bt?.name??null,Et.endTimeField=fn?.name??null}}const N=new Set;function z(Et,Tt){return Et&&Tt?(N.clear(),q(N,Et,Tt),Array.from(N).sort()):[]}function q(Et,Tt,Bt){if(Bt)if(Tt?.fields?.length)if(Bt.includes("*"))for(const{name:fn}of Tt.fields)Et.add(fn);else for(const fn of Bt)ee(Et,Tt,fn);else{if(Bt.includes("*"))return Et.clear(),void Et.add("*");for(const fn of Bt)null!=fn&&Et.add(fn)}}function ee(Et,Tt,Bt){if("string"==typeof Bt)if(Tt){const fn=Tt.get(Bt);fn&&Et.add(fn.name)}else Et.add(Bt)}function re(Et,Tt){return(0,te.Wi)(Tt)||(0,te.Wi)(Et)?[]:Tt.includes("*")?(Et.fields??[]).map(Bt=>Bt.name):Tt}function _e(Et,Tt,Bt){return ae.apply(this,arguments)}function ae(){return ae=(0,D.Z)(function*(Et,Tt,Bt){if(!Bt)return;const{arcadeUtils:fn}=yield(0,B.LC)(),dt=fn.extractFieldNames(Bt,Tt?.fields?.map(Pt=>Pt.name));for(const Pt of dt)ee(Et,Tt,Pt)}),ae.apply(this,arguments)}function he(Et,Tt,Bt){return se.apply(this,arguments)}function se(){return se=(0,D.Z)(function*(Et,Tt,Bt){if(Bt&&"1=1"!==Bt){const fn=(yield Promise.all([M.e(410),M.e(5919)]).then(M.bind(M,10410))).WhereClause.create(Bt,Tt);if(!fn.isStandardized)throw new T.Z("fieldUtils:collectFilterFields","Where clause is not standardized",{where:Bt});q(Et,Tt,fn.fieldNames)}}),se.apply(this,arguments)}function ue({displayField:Et,fields:Tt}){return Et||(Tt&&Tt.length?be(Tt,"name-or-title")||be(Tt,"unique-identifier")||be(Tt,"type-or-category")||function ge(Et){for(const Tt of Et){if(!Tt||!Tt.name)continue;const Bt=Tt.name.toLowerCase();if(Bt.includes("name")||Bt.includes("title"))return Tt.name}return null}(Tt):null)}function be(Et,Tt){for(const Bt of Et)if(Bt&&Bt.valueType&&Bt.valueType===Tt)return Bt.name;return null}function oe(Et,Tt){return de.apply(this,arguments)}function de(){return de=(0,D.Z)(function*(Et,Tt){if(!Tt)return;const Bt=Tt.elevationInfo?.featureExpressionInfo;return Bt?Bt.collectRequiredFields(Et,Tt.fieldsIndex):void 0}),de.apply(this,arguments)}function De(Et,Tt,Bt){return xe.apply(this,arguments)}function xe(){return xe=(0,D.Z)(function*(Et,Tt,Bt){if(!Tt||!Bt||!("fields"in Bt))return;const fn=[];fn.push(function Ce(Et,Tt,Bt){return Re.apply(this,arguments)}(Et,Tt,Bt.popupTemplate)),Bt.fields&&fn.push(...Bt.fields.map(function(){var Pt=(0,D.Z)(function*($t){return function ve(Et,Tt,Bt){Bt.onStatisticExpression?_e(Et,Tt,Bt.onStatisticExpression.expression):Et.add(Bt.onStatisticField)}(Et,Tt.fieldsIndex,$t)});return function($t){return Pt.apply(this,arguments)}}())),yield Promise.all(fn)}),xe.apply(this,arguments)}function Re(){return Re=(0,D.Z)(function*(Et,Tt,Bt){const fn=[];Bt?.expressionInfos&&fn.push(...Bt.expressionInfos.map(Pt=>_e(Et,Tt.fieldsIndex,Pt.expression)));const dt=Bt?.content;if(Array.isArray(dt))for(const Pt of dt)"expression"===Pt.type&&Pt.expressionInfo&&fn.push(_e(Et,Tt.fieldsIndex,Pt.expressionInfo.expression));yield Promise.all(fn)}),Re.apply(this,arguments)}function we(Et,Tt,Bt){return Me.apply(this,arguments)}function Me(){return Me=(0,D.Z)(function*(Et,Tt,Bt){Tt&&(Tt.timeInfo&&(0,te.pC)(Bt)&&Bt.timeExtent&&q(Et,Tt.fieldsIndex,[Tt.timeInfo.startField,Tt.timeInfo.endField]),Tt.floorInfo&&q(Et,Tt.fieldsIndex,[Tt.floorInfo.floorField]),(0,te.pC)(Bt)&&(0,te.pC)(Bt.where)&&(yield he(Et,Tt.fieldsIndex,Bt.where)))}),Me.apply(this,arguments)}function fe(Et,Tt,Bt){return ye.apply(this,arguments)}function ye(){return ye=(0,D.Z)(function*(Et,Tt,Bt){Tt&&Bt&&(yield Promise.all(Bt.map(fn=>function je(Et,Tt,Bt){return Je.apply(this,arguments)}(Et,Tt,fn))))}),ye.apply(this,arguments)}function Je(){return Je=(0,D.Z)(function*(Et,Tt,Bt){Tt&&Bt&&(Bt.valueExpression?yield _e(Et,Tt.fieldsIndex,Bt.valueExpression):Bt.field&&ee(Et,Tt.fieldsIndex,Bt.field))}),Je.apply(this,arguments)}function Ve(Et){if(!Et)return[];const Tt="editFieldsInfo"in Et&&Et.editFieldsInfo;return Tt?z(Et.fieldsIndex,[Tt&&Tt.creatorField,Tt&&Tt.creationDateField,Tt&&Tt.editorField,Tt&&Tt.editDateField]):[]}function ze(Et,Tt){return Ke.apply(this,arguments)}function Ke(){return Ke=(0,D.Z)(function*(Et,Tt){const{labelingInfo:Bt,fieldsIndex:fn}=Tt;Bt&&Bt.length&&(yield Promise.all(Bt.map(dt=>function Xe(Et,Tt,Bt){return et.apply(this,arguments)}(Et,fn,dt))))}),Ke.apply(this,arguments)}function et(){return et=(0,D.Z)(function*(Et,Tt,Bt){if(!Bt)return;const fn=Bt.getLabelExpression(),dt=Bt.where;if("arcade"===fn.type)yield _e(Et,Tt,fn.expression);else{const Pt=fn.expression.match(/{[^}]*}/g);Pt&&Pt.forEach($t=>{ee(Et,Tt,$t.slice(1,-1))})}yield he(Et,Tt,dt)}),et.apply(this,arguments)}function ct(Et){const Tt=Et.defaultValue;return void 0!==Tt&&tt(Et,Tt)?Tt:Et.nullable?null:void 0}function ft(Et){return"number"==typeof Et&&!isNaN(Et)&&isFinite(Et)}function $e(Et){return null===Et||ft(Et)}const ut="isInteger"in Number?Number.isInteger:Et=>"number"==typeof Et&&isFinite(Et)&&Math.floor(Et)===Et;function qe(Et){return null===Et||ut(Et)}function ke(Et){return null!=Et&&"string"==typeof Et}function Ge(Et){return null===Et||ke(Et)}function We(){return!0}function tt(Et,Tt){let Bt;switch(Et.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":Bt=Et.nullable?qe:ut;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":Bt=Et.nullable?$e:ft;break;case"string":case"esriFieldTypeString":Bt=Et.nullable?Ge:ke;break;default:Bt=We}return 1===arguments.length?Bt:Bt(Tt)}const yt=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function Mt(Et){return null!=Et&&yt.has(Et.type)}function Yt(Et){return null!=Et&&("string"===Et.type||"esriFieldTypeString"===Et.type)}var Sn,zt;function hn(Et){return null==Et||"number"==typeof Et&&isNaN(Et)?null:Et}function bn(Et,Tt){return null==Et||Et.nullable&&null===Tt?null:Mt(Et)&&!function jn(Et,Tt){const Bt="string"==typeof Et?pt(Et):Et;if(!Bt)return!1;const fn=Bt.min,dt=Bt.max;return Bt.isInteger?ut(Tt)&&Tt>=fn&&Tt<=dt:Tt>=fn&&Tt<=dt}(Et.type,Number(Tt))?Sn.OUT_OF_RANGE:tt(Et,Tt)?Et.domain?function ie(Et,Tt){switch(Et.type){case"range":{const Bt="range"in Et?Et.range[0]:Et.minValue,fn="range"in Et?Et.range[1]:Et.maxValue;if(null!=Bt&&+Tt<Bt||null!=fn&&+Tt>fn)return U.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==Et.codedValues||Et.codedValues.every(Bt=>null==Bt||Bt.code!==Tt))return U.INVALID_CODED_VALUE}return null}(Et.domain,Tt):null:zt.INVALID_TYPE}function pt(Et){switch(Et){case"esriFieldTypeSmallInteger":case"small-integer":return Lt;case"esriFieldTypeInteger":case"integer":return Ft;case"esriFieldTypeSingle":case"single":return Xt;case"esriFieldTypeDouble":case"double":return Jt}}(function(Et){Et.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(Sn||(Sn={})),function(Et){Et.INVALID_TYPE="type-validation-error::invalid-type"}(zt||(zt={}));const Lt={min:-32768,max:32767,isInteger:!0},Ft={min:-2147483648,max:2147483647,isInteger:!0},Xt={min:-34e37,max:12e37,isInteger:!1},Jt={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function Wt(Et,Tt,Bt){switch(Et){case U.INVALID_CODED_VALUE:return`Value ${Bt} is not in the coded domain - field: ${Tt.name}, domain: ${JSON.stringify(Tt.domain)}`;case U.VALUE_OUT_OF_RANGE:return`Value ${Bt} is out of the range of valid values - field: ${Tt.name}, domain: ${JSON.stringify(Tt.domain)}`;case zt.INVALID_TYPE:return`Value ${Bt} is not a valid value for the field type - field: ${Tt.name}, type: ${Tt.type}, nullable: ${Tt.nullable}`;case Sn.OUT_OF_RANGE:{const{min:fn,max:dt}=pt(Tt.type);return`Value ${Bt} is out of range for the number type - field: ${Tt.name}, type: ${Tt.type}, value range is ${fn} to ${dt}`}}}function Zt(Et,Tt){return!function gn(Et,Tt,Bt){if(!Tt||!Tt.attributes||!Et){if((0,te.pC)(Bt))for(const Pt of Et??[])Bt.add(Pt);return!0}const fn=Tt.attributes;let dt=!1;for(const Pt of Et)if(!(Pt in fn)){if(dt=!0,!(0,te.pC)(Bt))break;Bt.add(Pt)}return dt}(Et,Tt,null)}function Wn(Et){return!!Et&&["raster.itempixelvalue","raster.servicepixelvalue"].some(Tt=>Et.toLowerCase().startsWith(Tt))}},59990:(nt,Te,M)=>{"use strict";function D(Z){const U=Z.layer;return"floorInfo"in U&&U.floorInfo?.floorField&&"floors"in Z.view?te(Z.view.floors,U.floorInfo.floorField):null}function T(Z,U){return"floorInfo"in U&&U.floorInfo?.floorField?te(Z,U.floorInfo.floorField):null}function te(Z,U){if(!Z?.length)return null;const ie=Z.filter(k=>""!==k).map(k=>`'${k}'`);return ie.push("''"),`${U} IN (${ie.join(",")}) OR ${U} IS NULL`}M.d(Te,{c:()=>D,f:()=>T})},12585:(nt,Te,M)=>{"use strict";M.d(Te,{g:()=>te});var D=M(15861),T=M(26584);function te(U,ie){return Z.apply(this,arguments)}function Z(){return(Z=(0,D.Z)(function*(U,ie){try{return yield createImageBitmap(U)}catch(k){throw new T.Z("request:server",`Unable to load ${ie}`,{url:ie,error:k})}})).apply(this,arguments)}},86793:(nt,Te,M)=>{"use strict";M.d(Te,{UO:()=>X,YI:()=>J,dI:()=>Y,el:()=>q,hV:()=>ne,z7:()=>Q});var D=M(77275);const T="__begin__",te="__end__",Z=new RegExp(T,"ig"),U=new RegExp(te,"ig"),ie=new RegExp("^"+T,"i"),k=new RegExp(te+"$","i"),B='"',R=B+" + ",W=" + "+B;function Q(ee){return ee.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function ne(ee){const re={expression:"",type:"none"};return ee.labelExpressionInfo?ee.labelExpressionInfo.value?(re.expression=ee.labelExpressionInfo.value,re.type="conventional"):ee.labelExpressionInfo.expression&&(re.expression=ee.labelExpressionInfo.expression,re.type="arcade"):null!=ee.labelExpression&&(re.expression=function V(ee){return ee.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(ee.labelExpression),re.type="conventional"),re}function J(ee){const re=ne(ee);if(!re)return null;switch(re.type){case"conventional":return Y(re.expression);case"arcade":return re.expression}return null}function X(ee){const re=ne(ee);if(!re)return null;switch(re.type){case"conventional":return function x(ee){const re=ee?.match(F);return re&&re[1].trim()||null}(re.expression);case"arcade":return q(re.expression)}return null}function Y(ee){let re;return ee?(re=(0,D.gx)(ee,le=>T+'$feature["'+le+'"]'+te),re=ie.test(re)?re.replace(ie,""):B+re,re=k.test(re)?re.replace(k,""):re+B,re=re.replace(Z,R).replace(U,W)):re='""',re}const F=/^\s*\{([^}]+)\}\s*$/i,$=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,N=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,z=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function q(ee){if(!ee)return null;let re=$.exec(ee)||N.exec(ee);return re?re[1]||re[3]:(re=z.exec(ee),re?re[2]:null)}},62667:(nt,Te,M)=>{"use strict";M.d(Te,{a:()=>W,r:()=>k});var D=M(26584),T=M(58817),te=M(63290),Z=M(170);const U=te.Z.getLogger("esri.layers.support.labelingInfo"),ie=/\[([^\[\]]+)\]/gi;function k(Q,ne,J){return Q?Q.map(X=>{const Y=new Z.Z;if(Y.read(X,J),Y.labelExpression){const F=ne.fields||ne.layerDefinition&&ne.layerDefinition.fields||this.fields;Y.labelExpression=Y.labelExpression.replace(ie,(x,$)=>`[${function B(Q,ne){if(!ne)return Q;const J=Q.toLowerCase();for(let X=0;X<ne.length;X++){const Y=ne[X].name;if(Y.toLowerCase()===J)return Y}return Q}($,F)}]`)}return Y}):null}const R={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null};function W(Q,ne){const J=(0,T.d9)(Q);return J.some(X=>function V(Q,ne){const J=Q.labelPlacement,X=R[ne];if(!Q.symbol)return U.warn("No ILabelClass symbol specified."),!0;if(!X)return U.error(new D.Z("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${ne}' is not supported`)),!0;if(!X.includes(J)){const Y=X[0];J&&U.warn(`Found invalid label placement type ${J} for ${ne}. Defaulting to ${Y}`),Q.labelPlacement=Y}return!1}(X,ne))?[]:J}},72469:(nt,Te,M)=>{"use strict";M.d(Te,{A2:()=>R,S1:()=>z,fb:()=>B,ln:()=>ee,oP:()=>x,rQ:()=>ne,y2:()=>J});var D=M(15861),T=M(24263),te=M(84792),Z=M(62208);const B={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function R(re){const le=re?.type;return"building-scene"===le||"integrated-mesh"===le||"point-cloud"===le||"scene"===le}function ne(re){return"feature"===re?.type&&!re.url&&"memory"===re.source?.type}function J(re){return"feature"===re?.type&&"feature-layer"===re.source?.type}function x(re,le){return $.apply(this,arguments)}function $(){return($=(0,D.Z)(function*(re,le){const _e=T.id?.findServerInfo(re);if(null!=_e?.currentVersion)return _e.owningSystemUrl||null;const ae=re.toLowerCase().indexOf("/rest/services");if(-1===ae)return null;const he=`${re.substring(0,ae)}/rest/info`,se=(0,Z.pC)(le)?le.signal:null,{data:ue}=yield(0,te.default)(he,{query:{f:"json"},responseType:"json",signal:se});return ue?.owningSystemUrl||null})).apply(this,arguments)}function z(re){return function N(re){if(!("capabilities"in re))return!1;switch(re.type){case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}(re)?"effectiveCapabilities"in re?re.effectiveCapabilities:re.capabilities:null}function ee(re){return!!function q(re){if(!("editingEnabled"in re))return!1;switch(re.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}(re)&&("effectiveEditingEnabled"in re?re.effectiveEditingEnabled:re.editingEnabled)}},94138:(nt,Te,M)=>{"use strict";M.d(Te,{h:()=>R});var D=M(8314),T=M(62208),te=M(38305);const Z={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function U($,N,z){return!!($&&$.hasOwnProperty(N)?$[N]:z)}function ie($,N,z){return $&&$.hasOwnProperty(N)?$[N]:z}function k($){const N=$?.supportedSpatialAggregationStatistics?.map(z=>z.toLowerCase());return{envelope:!!N?.includes("envelopeaggregate"),centroid:!!N?.includes("centroidaggregate"),convexHull:!!N?.includes("convexhullaggregate")}}function B($,N){return!!$?.supportedOperationsWithCacheHint?.map(q=>q.toLowerCase())?.includes(N.toLowerCase())}function R($,N){return{analytics:W($),attachment:V($),data:Q($),metadata:ne($),operations:J($.capabilities,$,N),query:X($,N),queryRelated:Y($),queryTopFeatures:F($),editing:x($)}}function W($){return{supportsCacheHint:B($.advancedQueryCapabilities,"queryAnalytics")}}function V($){const N=$.attachmentProperties,z={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:B($.advancedQueryCapabilities,"queryAttachments"),supportsResize:U($,"supportsAttachmentsResizing",!1)};return N&&Array.isArray(N)&&N.forEach(q=>{const ee=Z[q.name];ee&&(z[ee]=!!q.isEnabled)}),z}function Q($){return{isVersioned:U($,"isDataVersioned",!1),supportsAttachment:U($,"hasAttachments",!1),supportsM:U($,"hasM",!1),supportsZ:U($,"hasZ",!1)}}function ne($){return{supportsAdvancedFieldProperties:U($,"supportsFieldDescriptionProperty",!1)}}function J($,N,z){const q=$?$.toLowerCase().split(",").map(ge=>ge.trim()):[],ee=z?(0,te.Qc)(z):null,re=q.includes((0,T.pC)(ee)&&"MapServer"===ee.serverType?"data":"query"),le=q.includes("editing")&&!N.datesInUnknownTimezone;let _e=le&&q.includes("create"),ae=le&&q.includes("delete"),he=le&&q.includes("update");const se=q.includes("changetracking"),ue=N.advancedQueryCapabilities;return le&&!(_e||ae||he)&&(_e=ae=he=!0),{supportsCalculate:U(N,"supportsCalculate",!1),supportsTruncate:U(N,"supportsTruncate",!1),supportsValidateSql:U(N,"supportsValidateSql",!1),supportsAdd:_e,supportsDelete:ae,supportsEditing:le,supportsChangeTracking:se,supportsQuery:re,supportsQueryAnalytics:U(ue,"supportsQueryAnalytic",!1),supportsQueryAttachments:U(ue,"supportsQueryAttachments",!1),supportsQueryTopFeatures:U(ue,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:U(N,"supportsAttachmentsResizing",!1),supportsSync:q.includes("sync"),supportsUpdate:he,supportsExceedsLimitStatistics:U(N,"supportsExceedsLimitStatistics",!1)}}function X($,N){const z=$.advancedQueryCapabilities,q=$.ownershipBasedAccessControlForFeatures,ee=$.archivingInfo,re=$.currentVersion,le=N?.includes("MapServer"),_e=!le||re>=(0,D.Z)("mapserver-pbf-version-support"),ae=(0,te.M8)(N),he=new Set(($.supportedQueryFormats??"").split(",").map(se=>se.toLowerCase().trim()));return{supportsStatistics:U(z,"supportsStatistics",$.supportsStatistics),supportsPercentileStatistics:U(z,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:U(z,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:k(z),supportsCentroid:U(z,"supportsReturningGeometryCentroid",!1),supportsDistance:U(z,"supportsQueryWithDistance",!1),supportsDistinct:U(z,"supportsDistinct",$.supportsAdvancedQueries),supportsExtent:U(z,"supportsReturningQueryExtent",!1),supportsGeometryProperties:U(z,"supportsReturningGeometryProperties",!1),supportsHavingClause:U(z,"supportsHavingClause",!1),supportsOrderBy:U(z,"supportsOrderBy",$.supportsAdvancedQueries),supportsPagination:U(z,"supportsPagination",!1),supportsQuantization:U($,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:U($,"supportsQuantizationEditMode",!1),supportsQueryGeometry:U($,"supportsReturningQueryGeometry",!1),supportsResultType:U(z,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:U(z,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:U(z,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:U($,"useStandardizedQueries",!1),supportsTopFeaturesQuery:U(z,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:U(q,"allowOthersToQuery",!0),supportsHistoricMoment:U(ee,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:_e&&he.has("pbf"),supportsDisjointSpatialRelationship:U(z,"supportsDisjointSpatialRel",!1),supportsCacheHint:U(z,"supportsQueryWithCacheHint",!1)||B(z,"query"),supportsDefaultSpatialReference:U(z,"supportsDefaultSR",!1),supportsCompactGeometry:ae,supportsFullTextSearch:U(z,"supportsFullTextSearch",!1),maxRecordCountFactor:ie($,"maxRecordCountFactor",void 0),maxRecordCount:ie($,"maxRecordCount",void 0),standardMaxRecordCount:ie($,"standardMaxRecordCount",void 0),tileMaxRecordCount:ie($,"tileMaxRecordCount",void 0)}}function Y($){const N=$.advancedQueryCapabilities,z=U(N,"supportsAdvancedQueryRelated",!1);return{supportsPagination:U(N,"supportsQueryRelatedPagination",!1),supportsCount:z,supportsOrderBy:z,supportsCacheHint:B(N,"queryRelated")}}function F($){return{supportsCacheHint:B($.advancedQueryCapabilities,"queryTopFilter")}}function x($){const N=$.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:U($,"allowGeometryUpdates",!0),supportsGlobalId:U($,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:U($,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:U($,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:U($,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:U($,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:U(N,"allowAnonymousToDelete",!0),supportsDeleteByOthers:U(N,"allowOthersToDelete",!0),supportsUpdateByAnonymous:U(N,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:U(N,"allowOthersToUpdate",!0)}}},15283:(nt,Te,M)=>{"use strict";M.d(Te,{n:()=>be});var F,D=M(17626),T=M(2076),te=M(86810),Z=M(77712),U=M(66656),ie=M(55342),k=M(68653),B=M(76898),R=M(90912),W=M(383),V=M(36255),Q=M(48370),X=(M(29132),M(85931),M(65234)),Y=M(71774);let x=F=class extends te.wq{constructor(me){super(me),this.type="query-table"}clone(){const{workspaceId:me,query:Oe,oidFields:oe,spatialReference:de,geometryType:ve}=this,De={workspaceId:me,query:Oe,oidFields:oe,spatialReference:de?.clone()??void 0,geometryType:ve};return new F(De)}};var $;(0,D._)([(0,ie.J)({queryTable:"query-table"})],x.prototype,"type",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],x.prototype,"workspaceId",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],x.prototype,"query",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],x.prototype,"oidFields",void 0),(0,D._)([(0,Z.Cb)({type:X.Z,json:{write:!0}})],x.prototype,"spatialReference",void 0),(0,D._)([(0,ie.J)(Y.M)],x.prototype,"geometryType",void 0),x=F=(0,D._)([(0,B.j)("esri.layers.support.source.QueryTableDataSource")],x);let N=$=class extends te.wq{constructor(me){super(me),this.type="raster"}clone(){const{workspaceId:me,dataSourceName:Oe}=this;return new $({workspaceId:me,dataSourceName:Oe})}};var z;(0,D._)([(0,ie.J)({raster:"raster"})],N.prototype,"type",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],N.prototype,"dataSourceName",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],N.prototype,"workspaceId",void 0),N=$=(0,D._)([(0,B.j)("esri.layers.support.source.RasterDataSource")],N);let q=z=class extends te.wq{constructor(me){super(me),this.type="table"}clone(){const{workspaceId:me,gdbVersion:Oe,dataSourceName:oe}=this;return new z({workspaceId:me,gdbVersion:Oe,dataSourceName:oe})}};var ee,re;(0,D._)([(0,ie.J)({table:"table"})],q.prototype,"type",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],q.prototype,"workspaceId",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],q.prototype,"gdbVersion",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],q.prototype,"dataSourceName",void 0),q=z=(0,D._)([(0,B.j)("esri.layers.support.source.TableDataSource")],q);const le=(0,T.w)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let _e=ee=class extends te.wq{constructor(me){super(me),this.type="join-table"}readLeftTableSource(me,Oe,oe){return he()(me,Oe,oe)}castLeftTableSource(me){return(0,R.N7)(ue(),me)}readRightTableSource(me,Oe,oe){return he()(me,Oe,oe)}castRightTableSource(me){return(0,R.N7)(ue(),me)}clone(){const{leftTableKey:me,rightTableKey:Oe,leftTableSource:oe,rightTableSource:de,joinType:ve}=this,De={leftTableKey:me,rightTableKey:Oe,leftTableSource:oe?.clone()??void 0,rightTableSource:de?.clone()??void 0,joinType:ve};return new ee(De)}};(0,D._)([(0,ie.J)({joinTable:"join-table"})],_e.prototype,"type",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],_e.prototype,"leftTableKey",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],_e.prototype,"rightTableKey",void 0),(0,D._)([(0,Z.Cb)({json:{write:!0}})],_e.prototype,"leftTableSource",void 0),(0,D._)([(0,k.r)("leftTableSource")],_e.prototype,"readLeftTableSource",null),(0,D._)([(0,U.p)("leftTableSource")],_e.prototype,"castLeftTableSource",null),(0,D._)([(0,Z.Cb)({json:{write:!0}})],_e.prototype,"rightTableSource",void 0),(0,D._)([(0,k.r)("rightTableSource")],_e.prototype,"readRightTableSource",null),(0,D._)([(0,U.p)("rightTableSource")],_e.prototype,"castRightTableSource",null),(0,D._)([(0,ie.J)(le)],_e.prototype,"joinType",void 0),_e=ee=(0,D._)([(0,B.j)("esri.layers.support.source.JoinTableDataSource")],_e);let ae=null;function he(){return ae||(ae=(0,W.d)({types:ue()})),ae}let se=null;function ue(){return se||(se={key:"type",base:null,typeMap:{"data-layer":be,"map-layer":Q.R}}),se}const ge={key:"type",base:null,typeMap:{"join-table":_e,"query-table":x,raster:N,table:q}};let be=re=class extends te.wq{constructor(me){super(me),this.type="data-layer"}clone(){const{fields:me,dataSource:Oe}=this;return new re({fields:me,dataSource:Oe})}};(0,D._)([(0,ie.J)({dataLayer:"data-layer"})],be.prototype,"type",void 0),(0,D._)([(0,Z.Cb)({type:[V.Z],json:{write:!0}})],be.prototype,"fields",void 0),(0,D._)([(0,Z.Cb)({types:ge,json:{write:!0}})],be.prototype,"dataSource",void 0),be=re=(0,D._)([(0,B.j)("esri.layers.support.source.DataLayerSource")],be),be.from=(0,R.se)(be)},48370:(nt,Te,M)=>{"use strict";M.d(Te,{R:()=>R});var B,D=M(17626),T=M(86810),te=M(77712),Z=M(90912),ie=(M(85931),M(55342)),k=M(76898);let R=B=class extends T.wq{constructor(W){super(W),this.type="map-layer"}clone(){const{mapLayerId:W,gdbVersion:V}=this;return new B({mapLayerId:W,gdbVersion:V})}};(0,D._)([(0,ie.J)({mapLayer:"map-layer"})],R.prototype,"type",void 0),(0,D._)([(0,te.Cb)({type:Z.z8,json:{write:!0}})],R.prototype,"mapLayerId",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],R.prototype,"gdbVersion",void 0),R=B=(0,D._)([(0,k.j)("esri.layers.support.source.MapLayerSource")],R)},13410:(nt,Te,M)=>{"use strict";M.d(Te,{FN:()=>Z,QV:()=>te,ac:()=>ie});var D=M(62208),T=M(31283);function te(k,B,R){return B.flatten(({sublayers:V})=>V).length!==k.length||!!k.some(V=>V.originIdOf("minScale")>R||V.originIdOf("maxScale")>R||V.originIdOf("renderer")>R||V.originIdOf("labelingInfo")>R||V.originIdOf("opacity")>R||V.originIdOf("labelsVisible")>R||V.originIdOf("source")>R)||!U(k,B)}function Z(k,B,R){return!!k.some(W=>{const V=W.source;return!(!V||"map-layer"===V.type&&V.mapLayerId===W.id&&((0,D.Wi)(V.gdbVersion)||V.gdbVersion===R))||W.originIdOf("renderer")>T.s3.SERVICE||W.originIdOf("labelingInfo")>T.s3.SERVICE||W.originIdOf("opacity")>T.s3.SERVICE||W.originIdOf("labelsVisible")>T.s3.SERVICE})||!U(k,B)}function U(k,B){if(!k||!k.length||(0,D.Wi)(B))return!0;const R=B.slice().reverse().flatten(({sublayers:Q})=>Q&&Q.toArray().reverse()).map(Q=>Q.id).toArray();if(k.length>R.length)return!1;let W=0;const V=R.length;for(const{id:Q}of k){for(;W<V&&R[W]!==Q;)W++;if(W>=V)return!1}return!0}function ie(k){return!!k&&k.some(B=>null!=B.minScale||B.layerDefinition&&null!=B.layerDefinition.minScale)}},5676:(nt,Te,M)=>{"use strict";M.d(Te,{D:()=>te});var D=M(38305);const T=[];function te(Z,U){if((0,D.M8)(Z.url??""))return!0;const{wkid:ie}=U;for(const k of T){if((Z.version??0)>=k[0])return!0;if("function"==typeof k[1]&&(k[1]=k[1]()),k[1].has(ie))return!1}return!0}T.push([10.91,()=>{const Z=new Set([9709,9716,9741,9761,9766]);for(let U=9712;U<=9713;U++)Z.add(U);for(let U=9748;U<=9749;U++)Z.add(U);for(let U=20904;U<=20932;U++)Z.add(U);for(let U=21004;U<=21032;U++)Z.add(U);for(let U=21207;U<=21264;U++)Z.add(U);for(let U=21307;U<=21364;U++)Z.add(U);for(let U=102759;U<=102760;U++)Z.add(U);for(let U=102901;U<=102955;U++)Z.add(U);return Z}]),T.push([10.9,()=>{const Z=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let U=9356;U<=9360;U++)Z.add(U);for(let U=9404;U<=9407;U++)Z.add(U);for(let U=9476;U<=9482;U++)Z.add(U);for(let U=9487;U<=9494;U++)Z.add(U);for(let U=9697;U<=9699;U++)Z.add(U);return Z}]),T.push([10.81,()=>{const Z=new Set([9265,9333,103598,103699]);for(let U=9248;U<=9254;U++)Z.add(U);for(let U=9271;U<=9273;U++)Z.add(U);for(let U=9284;U<=9285;U++)Z.add(U);for(let U=21453;U<=21463;U++)Z.add(U);return Z}]),T.push([10.8,()=>{const Z=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let U=8035;U<=8036;U++)Z.add(U);for(let U=8455;U<=8456;U++)Z.add(U);for(let U=8518;U<=8529;U++)Z.add(U);for(let U=8533;U<=8536;U++)Z.add(U);for(let U=8538;U<=8540;U++)Z.add(U);for(let U=8677;U<=8679;U++)Z.add(U);for(let U=8902;U<=8903;U++)Z.add(U);for(let U=8907;U<=8910;U++)Z.add(U);for(let U=8949;U<=8951;U++)Z.add(U);for(let U=8972;U<=8987;U++)Z.add(U);for(let U=9039;U<=9040;U++)Z.add(U);for(let U=9068;U<=9069;U++)Z.add(U);for(let U=9140;U<=9141;U++)Z.add(U);for(let U=9148;U<=9150;U++)Z.add(U);for(let U=9153;U<=9159;U++)Z.add(U);for(let U=9205;U<=9218;U++)Z.add(U);for(let U=9221;U<=9222;U++)Z.add(U);for(let U=54098;U<=54101;U++)Z.add(U);return Z}]),T.push([10.71,()=>{const Z=new Set([6316]);for(let U=8351;U<=8353;U++)Z.add(U);for(let U=9294;U<=9297;U++)Z.add(U);for(let U=22619;U<=22621;U++)Z.add(U);for(let U=103586;U<=103594;U++)Z.add(U);return Z}]),T.push([10.7,()=>{const Z=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let U=8065;U<=8068;U++)Z.add(U);for(let U=8082;U<=8083;U++)Z.add(U);for(let U=8379;U<=8385;U++)Z.add(U);for(let U=8836;U<=8840;U++)Z.add(U);for(let U=8857;U<=8860;U++)Z.add(U);for(let U=53035;U<=53037;U++)Z.add(U);for(let U=54090;U<=54091;U++)Z.add(U);for(let U=102498;U<=102499;U++)Z.add(U);return Z}]),T.push([10.61,()=>new Set([102497])]),T.push([10.6,()=>{const Z=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let U=7755;U<=7787;U++)Z.add(U);for(let U=7791;U<=7795;U++)Z.add(U);for(let U=7799;U<=7801;U++)Z.add(U);for(let U=7825;U<=7831;U++)Z.add(U);for(let U=7877;U<=7878;U++)Z.add(U);for(let U=7882;U<=7883;U++)Z.add(U);for(let U=7991;U<=7992;U++)Z.add(U);for(let U=8042;U<=8043;U++)Z.add(U);for(let U=8058;U<=8059;U++)Z.add(U);for(let U=8311;U<=8348;U++)Z.add(U);for(let U=9060;U<=9067;U++)Z.add(U);for(let U=102562;U<=102568;U++)Z.add(U);for(let U=102799;U<=102900;U++)Z.add(U);return Z}]),T.push([10.51,()=>{const Z=new Set([7683,7881,7886,7899,8888,9e3]);for(let U=8013;U<=8032;U++)Z.add(U);for(let U=9053;U<=9057;U++)Z.add(U);for(let U=104017;U<=104018;U++)Z.add(U);for(let U=104971;U<=104974;U++)Z.add(U);return Z}]),T.push([10.5,()=>{const Z=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(let U=4087;U<=4088;U++)Z.add(U);for(let U=5896;U<=5899;U++)Z.add(U);for(let U=7005;U<=7007;U++)Z.add(U);for(let U=7057;U<=7070;U++)Z.add(U);for(let U=7073;U<=7082;U++)Z.add(U);for(let U=7109;U<=7128;U++)Z.add(U);for(let U=7844;U<=7859;U++)Z.add(U);return Z}])},39605:(nt,Te,M)=>{"use strict";M.d(Te,{W:()=>te,v:()=>Z});var D=M(50645);const T={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(U,ie,k)=>{"-"===ie.charAt(0)?U.style.setProperty(ie,k):U.style[ie]=k}};let te=U=>(0,D.l7)(T,U),Z={create:(U,ie)=>(ie=te(ie),(0,D.WV)(U,document.createElement("div"),void 0,ie),(0,D.UQ)(U,ie)),append:(U,ie,k)=>(k=te(k),(0,D.WV)(ie,U,void 0,k),(0,D.UQ)(ie,k)),insertBefore:(U,ie,k)=>(k=te(k),(0,D.WV)(ie,U.parentNode,U,k),(0,D.UQ)(ie,k)),merge:(U,ie,k)=>(k=te(k),ie.domNode=U,(0,D.Yj)(U,ie,k),(0,D.UQ)(ie,k)),replace:(U,ie,k)=>(k=te(k),(0,D.WV)(ie,U.parentNode,U,k),U.parentNode.removeChild(U),(0,D.UQ)(ie,k))}},50645:(nt,Te,M)=>{"use strict";M.d(Te,{UQ:()=>ae,WV:()=>ee,Yj:()=>q,l7:()=>ie});var D=M(38570);const T="http://www.w3.org/",te=`${T}2000/svg`,Z=`${T}1999/xlink`;let U=[],ie=(he,se)=>{let ue={};return Object.keys(he).forEach(ge=>{ue[ge]=he[ge]}),se&&Object.keys(se).forEach(ge=>{ue[ge]=se[ge]}),ue},k=(he,se)=>he.vnodeSelector===se.vnodeSelector&&(he.properties&&se.properties?he.properties.key===se.properties.key&&he.properties.bind===se.properties.bind:!he.properties&&!se.properties),B=he=>{if("string"!=typeof he)throw new Error("Style values must be strings")},R=(he,se,ue)=>{if(""!==se.vnodeSelector)for(let ge=ue;ge<he.length;ge++)if(k(he[ge],se))return ge;return-1},W=(he,se,ue,ge)=>{let be=he[se];if(""===be.vnodeSelector)return;let me=be.properties;if(!me||!(void 0===me.key?me.bind:me.key))for(let Oe=0;Oe<he.length;Oe++)if(Oe!==se&&k(he[Oe],be))throw new Error(`${ue.vnodeSelector} had a ${be.vnodeSelector} child ${"added"===ge?ge:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)},V=he=>{if(he.properties){let se=he.properties.enterAnimation;se&&se(he.domNode,he.properties)}},Q=[],ne=!1,J=he=>{(he.children||[]).forEach(J),he.properties&&he.properties.afterRemoved&&he.properties.afterRemoved.apply(he.properties.bind||he.properties,[he.domNode])},X=()=>{ne=!1,Q.forEach(J),Q.length=0},Y=he=>{Q.push(he),ne||(ne=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(X,{timeout:16}):setTimeout(X,16))},F=he=>{let se=he.domNode;if(he.properties){let ue=he.properties.exitAnimation;if(ue)return se.style.pointerEvents="none",void ue(se,()=>{se.parentNode&&(se.parentNode.removeChild(se),Y(he))},he.properties)}se.parentNode&&(se.parentNode.removeChild(se),Y(he))},x=(he,se,ue)=>{if(!se)return;let ge=ue.eventHandlerInterceptor,be=Object.keys(se),me=be.length;for(let Oe=0;Oe<me;Oe++){let oe=be[Oe],de=se[oe];if("className"===oe)throw new Error('Property "className" is not supported, use "class".');if("class"===oe)re(he,de,!0);else if("classes"===oe){let ve=Object.keys(de),De=ve.length;for(let xe=0;xe<De;xe++){let Ce=ve[xe];de[Ce]&&he.classList.add(Ce)}}else if("styles"===oe){let ve=Object.keys(de),De=ve.length;for(let xe=0;xe<De;xe++){let Ce=ve[xe],Re=de[Ce];Re&&(B(Re),ue.styleApplyer(he,Ce,Re))}}else if("key"!==oe&&null!=de){let ve=typeof de;"function"===ve?(0===oe.lastIndexOf("on",0)&&(ge&&(de=ge(oe,de,he,se)),"oninput"===oe&&function(){let De=de;de=function(xe){De.apply(this,[xe]),xe.target["oninput-value"]=xe.target.value}}()),he[oe]=de):ue.namespace===te?"href"===oe?he.setAttributeNS(Z,oe,de):he.setAttribute(oe,de):"string"===ve&&"value"!==oe?"innerHTML"===oe?he[oe]=D.w3.sanitize(de):$(he)&&oe in he?he[oe]=de:he.setAttribute(oe,de):he[oe]=de}}};function $(he){if(!(he instanceof Element&&he.tagName.includes("-")))return!1;const se=window.customElements.get(he.tagName.toLowerCase());return!!se&&he instanceof se}let N,q=(he,se,ue)=>{((he,se,ue)=>{if(se)for(let ge of se)ee(ge,he,void 0,ue)})(he,se.children,ue),se.text&&(he.textContent=se.text),x(he,se.properties,ue),se.properties&&se.properties.afterCreate&&se.properties.afterCreate.apply(se.properties.bind||se.properties,[he,ue,se.vnodeSelector,se.properties,se.children])},ee=(he,se,ue,ge)=>{let be,me=0,Oe=he.vnodeSelector,oe=se.ownerDocument;if(""===Oe)be=he.domNode=oe.createTextNode(he.text),void 0!==ue?se.insertBefore(be,ue):se.appendChild(be);else{for(let de=0;de<=Oe.length;++de){let ve=Oe.charAt(de);if(de===Oe.length||"."===ve||"#"===ve){let De=Oe.charAt(me-1),xe=Oe.slice(me,de);"."===De?be.classList.add(xe):"#"===De?be.id=xe:("svg"===xe&&(ge=ie(ge,{namespace:te})),void 0!==ge.namespace?be=he.domNode=oe.createElementNS(ge.namespace,xe):(be=he.domNode=he.domNode||oe.createElement(xe),"input"===xe&&he.properties&&void 0!==he.properties.type&&be.setAttribute("type",he.properties.type)),void 0!==ue?se.insertBefore(be,ue):be.parentNode!==se&&se.appendChild(be)),me=de+1}}q(be,he,ge)}},re=(he,se,ue)=>{se&&se.split(" ").forEach(ge=>{ge&&he.classList.toggle(ge,ue)})};N=(he,se,ue)=>{let ge=he.domNode,be=!1;if(he===se)return!1;let me=!1;if(""===se.vnodeSelector){if(se.text!==he.text){let Oe=ge.ownerDocument.createTextNode(se.text);return ge.parentNode.replaceChild(Oe,ge),se.domNode=Oe,be=!0,be}se.domNode=ge}else 0===se.vnodeSelector.lastIndexOf("svg",0)&&(ue=ie(ue,{namespace:te})),he.text!==se.text&&(me=!0,void 0===se.text?ge.removeChild(ge.firstChild):ge.textContent=se.text),se.domNode=ge,me=((he,se,ue,ge,be)=>{if(ue===ge)return!1;let me,Oe=(ue=ue||U).length,oe=(ge=ge||U).length,de=0,ve=0,De=!1;for(;ve<oe;){let xe=de<Oe?ue[de]:void 0,Ce=ge[ve];if(void 0!==xe&&k(xe,Ce))De=N(xe,Ce,be)||De,de++;else{let Re=R(ue,Ce,de+1);if(Re>=0){for(me=de;me<Re;me++)F(ue[me]),W(ue,me,he,"removed");De=N(ue[Re],Ce,be)||De,de=Re+1}else ee(Ce,se,de<Oe?ue[de].domNode:void 0,be),V(Ce),W(ge,ve,he,"added")}ve++}if(Oe>de)for(me=de;me<Oe;me++)F(ue[me]),W(ue,me,he,"removed");return De})(se,ge,he.children,se.children,ue)||me,me=((he,se,ue,ge)=>{if(!ue)return;let be=!1,me=Object.keys(ue),Oe=me.length;for(let oe=0;oe<Oe;oe++){let de=me[oe],ve=ue[de],De=se[de];if("class"===de)De!==ve&&(re(he,De,!1),re(he,ve,!0));else if("classes"===de){let xe=he.classList,Ce=Object.keys(ve),Re=Ce.length;for(let we=0;we<Re;we++){let Me=Ce[we],fe=!!ve[Me];fe!==!!De[Me]&&(be=!0,fe?xe.add(Me):xe.remove(Me))}}else if("styles"===de){let xe=Object.keys(ve),Ce=xe.length;for(let Re=0;Re<Ce;Re++){let we=xe[Re],Me=ve[we];Me!==De[we]&&(be=!0,Me?(B(Me),ge.styleApplyer(he,we,Me)):ge.styleApplyer(he,we,""))}}else if(ve||"string"!=typeof De||(ve=""),"value"===de){let xe=he[de];xe!==ve&&(he["oninput-value"]?xe===he["oninput-value"]:ve!==De)&&(he[de]=ve,he["oninput-value"]=void 0),ve!==De&&(be=!0)}else if(ve!==De){let xe=typeof ve;"function"===xe&&ge.eventHandlerInterceptor||(ge.namespace===te?"href"===de?he.setAttributeNS(Z,de,ve):he.setAttribute(de,ve):"string"===xe?"innerHTML"===de?he[de]=D.w3.sanitize(ve):"role"===de&&""===ve?he.removeAttribute(de):$(he)&&de in he?he[de]=ve:he.setAttribute(de,ve):he[de]!==ve&&(he[de]=ve),be=!0)}}return be})(ge,he.properties,se.properties,ue)||me,se.properties&&se.properties.afterUpdate&&se.properties.afterUpdate.apply(se.properties.bind||se.properties,[ge,ue,se.vnodeSelector,se.properties,se.children]);return me&&se.properties&&se.properties.updateAnimation&&se.properties.updateAnimation(ge,se.properties,he.properties),be};let ae=(he,se)=>({getLastRender:()=>he,update:ue=>{if(he.vnodeSelector!==ue.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let ge=he;he=ue,N(ge,ue,se)},domNode:he.domNode})},62996:(nt,Te,M)=>{"use strict";M.d(Te,{E:()=>ie});var D=M(39605);let T,te=(k,B)=>{let R=[];for(;k&&k!==B;)R.push(k),k=k.parentNode;return R};T=Array.prototype.find?(k,B)=>k.find(B):(k,B)=>k.filter(B)[0];let Z=(k,B)=>{let R=k;return B.forEach(W=>{R=R&&R.children?T(R.children,V=>V.domNode===W):void 0}),R},U=(k,B,R)=>{let W=function(V){R("domEvent",V);let Q=B(),ne=te(V.currentTarget,Q.domNode);ne.reverse();let J,X=Z(Q.getLastRender(),ne);return k.scheduleRender(),X&&(J=X.properties[`on${V.type}`].apply(X.properties.bind||this,arguments)),R("domEventProcessed",V),J};return(V,Q,ne,J)=>W},ie=k=>{let B,R,W=(0,D.W)(k),V=W.performanceLogger,Q=!0,ne=!1,J=[],X=[],Y=(x,$,N)=>{let z;W.eventHandlerInterceptor=U(B,()=>z,V),z=x($,N(),W),J.push(z),X.push(N)},F=()=>{if(R=void 0,Q){Q=!1,V("renderStart",void 0);for(let x=0;x<J.length;x++){let $=X[x]();V("rendered",void 0),J[x].update($),V("patched",void 0)}V("renderDone",void 0),Q=!0}};return B={renderNow:F,scheduleRender:()=>{R||ne||(R=requestAnimationFrame(F))},stop:()=>{R&&(cancelAnimationFrame(R),R=void 0),ne=!0},resume:()=>{ne=!1,Q=!0,B.scheduleRender()},append:(x,$)=>{Y(D.v.append,x,$)},insertBefore:(x,$)=>{Y(D.v.insertBefore,x,$)},merge:(x,$)=>{Y(D.v.merge,x,$)},replace:(x,$)=>{Y(D.v.replace,x,$)},detach:x=>{for(let $=0;$<X.length;$++)if(X[$]===x)return X.splice($,1),J.splice($,1)[0];throw new Error("renderFunction was not found")}},B}},20761:(nt,Te,M)=>{"use strict";M.r(Te),M.d(Te,{default:()=>ke});var D=M(15861),T=M(17626),te=M(55538),Z=M(63290),U=M(77712),B=(M(90912),M(85931),M(76898)),R=M(80415),W=M(62208),V=M(96854);function ne(){return(ne=(0,D.Z)(function*(Ge,We,tt){We=We.clone(),Ge.capabilities.query.supportsMaxRecordCountFactor&&(We.maxRecordCountFactor=Y(Ge));const at=function J(Ge){return Y(Ge)*function X(Ge){return Ge.capabilities.query.maxRecordCount||2e3}(Ge)}(Ge),yt=Ge.capabilities.query.supportsPagination;We.start=0,We.num=at;let Mt=null;for(;;){const Yt=yield Ge.source.queryFeaturesJSON(We,tt);if((0,W.Wi)(Mt)?Mt=Yt:Mt.features=Mt.features.concat(Yt.features),Mt.exceededTransferLimit=Yt.exceededTransferLimit,!yt||!Yt.exceededTransferLimit)break;We.start+=at}return Mt})).apply(this,arguments)}function Y(Ge){return Ge.capabilities.query.supportsMaxRecordCountFactor?V.Z.MAX_MAX_RECORD_COUNT_FACTOR:1}var F=M(84792),x=M(26584),$=M(47996),N=M(99959),z=M(10699),q=M(21726),ee=M(2004),re=M(65234),le=M(6733),_e=M(38305),he=(M(8314),M(2076)),se=M(55342),ue=M(39709);const ge=(0,he.w)()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let be=class extends ue.Z{constructor(Ge){super(Ge),this.featureServiceUrl=null,this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}checkJobStatus(Ge){var We=this;return(0,D.Z)(function*(){const tt={...Ge,query:{f:"json"}},{data:at}=yield(0,F.default)(We.statusUrl,tt);return We.read(at),(We.serviceEdits||We.exceededTransferLimit)&&We.featureServiceUrl&&le.dU.emit("edits",{serviceUrl:We.featureServiceUrl??"",layerId:null,event:{edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:!0}}),We})()}waitForJobCompletion(Ge={}){var We=this;return(0,D.Z)(function*(){const{interval:tt=1e3,statusCallback:at}=Ge;return new Promise((yt,Mt)=>{We._clearTimer();const Yt=setInterval(()=>{We._timer||Mt((0,z.zE)()),We.checkJobStatus().then(sn=>{const{status:un}=sn;switch(We.status=un,un){case"job-succeeded":We._clearTimer(),yt(We);break;case"job-waiting":case"job-executing":at&&at(We)}},sn=>{We._clearTimer(),Mt(sn)})},tt);We._timer=Yt})})()}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};(0,T._)([(0,U.Cb)()],be.prototype,"featureServiceUrl",void 0),(0,T._)([(0,U.Cb)({type:String,json:{write:!0}})],be.prototype,"statusUrl",void 0),(0,T._)([(0,se.J)(ge)],be.prototype,"status",void 0),(0,T._)([(0,U.Cb)({type:Date,json:{type:Number,write:{writer:(Ge,We)=>{We.submissionTime=Ge?Ge.getTime():null}}}})],be.prototype,"submissionTime",void 0),(0,T._)([(0,U.Cb)({type:Date,json:{type:Number,write:{writer:(Ge,We)=>{We.lastUpdatedTime=Ge?Ge.getTime():null}}}})],be.prototype,"lastUpdatedTime",void 0),be=(0,T._)([(0,B.j)("esri.networks.support.TopologyValidationJobInfo")],be);const me=be;var Oe=M(55463);function xe(Ge,We){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,D.Z)(function*(Ge,We){if("Utility Network Layer"===Ge){const{default:tt}=yield Promise.resolve().then(M.bind(M,20761));return new tt({layerUrl:We})}return null})).apply(this,arguments)}function we(){return(we=(0,D.Z)(function*(Ge){let We="portalItem"in Ge?Ge:{portalItem:Ge};!We.portalItem||We.portalItem instanceof Oe.default||(We={...We,portalItem:new Oe.default(We.portalItem)});const tt=We.portalItem;if(yield tt.load(),"Feature Service"!==tt.type)throw new x.Z("portal:unknown-item-type","Unknown item type '${type}'",{type:tt.type});const at=tt.url,yt=yield(0,F.default)(at,{responseType:"json",query:{f:"json"}}),Mt="Network Layer";if(yt.data.type&&yt.data.type.includes(Mt))return xe(yt.data.type,at);if(yt.data.layers){const Yt=yt.data.layers.find(sn=>sn.type.includes(Mt));if(Yt)return xe(Yt.type,`${at}/${Yt.id}`)}return null})).apply(this,arguments)}M(17253);var Me=M(86810);let fe=class extends Me.wq{constructor(Ge){super(Ge),this.globalIds=[],this.creators=[],this.tags=[],this.names=[]}};(0,T._)([(0,U.Cb)({type:[String],json:{write:!0}})],fe.prototype,"globalIds",void 0),(0,T._)([(0,U.Cb)({type:[String],json:{write:!0}})],fe.prototype,"creators",void 0),(0,T._)([(0,U.Cb)({type:[String],json:{write:!0}})],fe.prototype,"tags",void 0),(0,T._)([(0,U.Cb)({type:[String],json:{write:!0}})],fe.prototype,"names",void 0),fe=(0,T._)([(0,B.j)("esri.rest.networks.support.QueryNamedTraceConfigurationsParameters")],fe);const ye=fe;let je=class extends((0,N.R)($.Z)){static fromPortalItem(Ge){return function Re(Ge){return we.apply(this,arguments)}(Ge)}constructor(Ge){super(Ge),this.id=null,this.title=null,this.layerUrl=null,this.dataElement=null,this.fullExtent=null,this.spatialReference=null,this.type=null,this.sourceJSON=null}initialize(){this.when().catch(Ge=>{(0,z.D_)(Ge)||Z.Z.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:Ge})})}get datasetName(){return this.dataElement?.name??null}get owner(){return this.dataElement?.userIdentity??null}get schemaGeneration(){return this.dataElement?.schemaGeneration??null}get parsedUrl(){return(0,q.mN)(this.layerUrl)}get featureServiceUrl(){const Ge=this.parsedUrl&&(0,_e.Qc)(this.parsedUrl.path);return(0,W.pC)(Ge)?Ge.url.path:null}get networkServiceUrl(){return this.featureServiceUrl?this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer"):null}get layerId(){const Ge=this.parsedUrl&&(0,_e.Qc)(this.parsedUrl.path);return(0,W.pC)(Ge)?Ge.sublayer:null}get networkSystemLayers(){return null}load(Ge){var We=this;return(0,D.Z)(function*(){return We.addResolvingPromise(We._fetchDataElement(We.featureServiceUrl,We.layerId.toString(),Ge)),We.addResolvingPromise(We._fetchLayerMetaData(We.layerUrl,Ge)),We})()}getLayerIdBySourceId(Ge){if(this.dataElement){const We=this.dataElement.domainNetworks;for(const tt of We){for(const at of tt.edgeSources?tt.edgeSources:[])if(at.sourceId===Ge)return at.layerId;for(const at of tt.junctionSources?tt.junctionSources:[])if(at.sourceId===Ge)return at.layerId}return null}return null}queryNamedTraceConfigurations(Ge,We){var tt=this;return(0,D.Z)(function*(){const{queryNamedTraceConfigurations:at}=yield M.e(1532).then(M.bind(M,61532)),yt=tt.networkServiceUrl,Mt=new ye({...Ge});return(yield at(yt,Mt,{...We}))?.namedTraceConfigurations??null})()}validateTopology(Ge,We){var tt=this;return(0,D.Z)(function*(){if(!Ge.validateArea)throw new x.Z("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");const{validateNetworkTopology:at}=yield M.e(890).then(M.bind(M,60890)),yt=tt.networkServiceUrl,Mt=yield at(yt,Ge,{...We});return Mt?.serviceEdits&&le.dU.emit("edits",{serviceUrl:tt.featureServiceUrl??"",layerId:null,event:{edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],editedFeatures:Mt.serviceEdits,exceededTransferLimit:!1}}),Mt})()}submitTopologyValidationJob(Ge,We){var tt=this;return(0,D.Z)(function*(){if(!Ge.validateArea)throw new x.Z("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");if(!Ge.gdbVersion)throw new x.Z("network:undefined-gdb-version","version must be defined");const{submitValidateNetworkTopologyJob:at}=yield M.e(890).then(M.bind(M,60890)),yt=tt.networkServiceUrl,Mt=yield at(yt,Ge,{...We});return new me({statusUrl:Mt,featureServiceUrl:tt.featureServiceUrl})})()}_fetchLayerMetaData(Ge,We){var tt=this;return(0,D.Z)(function*(){const at=yield(0,F.default)(Ge,{responseType:"json",query:{f:"json"},...We});tt.sourceJSON=at.data,tt.read(at.data,{origin:"service"})})()}_fetchDataElement(Ge,We,tt){var at=this;return(0,D.Z)(function*(){if(at.dataElement)return;const yt=yield(0,F.default)(`${Ge}/queryDataElements`,{responseType:"json",query:{layers:JSON.stringify([We]),f:"json"},...tt}).then(Mt=>Mt.data.layerDataElements?.[0]);yt&&at.read(yt,{origin:"service"})})()}};(0,T._)([(0,U.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:!0}},read:!1}})],je.prototype,"id",void 0),(0,T._)([(0,U.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],je.prototype,"title",void 0),(0,T._)([(0,U.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],je.prototype,"layerUrl",void 0),(0,T._)([(0,U.Cb)({type:Object,json:{origins:{service:{read:!0}},read:!1}})],je.prototype,"dataElement",void 0),(0,T._)([(0,U.Cb)({type:ee.Z,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],je.prototype,"fullExtent",void 0),(0,T._)([(0,U.Cb)({type:re.Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],je.prototype,"spatialReference",void 0),(0,T._)([(0,U.Cb)({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],je.prototype,"type",void 0),(0,T._)([(0,U.Cb)({readOnly:!0})],je.prototype,"datasetName",null),(0,T._)([(0,U.Cb)({readOnly:!0})],je.prototype,"owner",null),(0,T._)([(0,U.Cb)({readOnly:!0})],je.prototype,"schemaGeneration",null),(0,T._)([(0,U.Cb)({readOnly:!0})],je.prototype,"parsedUrl",null),(0,T._)([(0,U.Cb)({readOnly:!0})],je.prototype,"featureServiceUrl",null),(0,T._)([(0,U.Cb)({readOnly:!0})],je.prototype,"networkServiceUrl",null),(0,T._)([(0,U.Cb)({readOnly:!0})],je.prototype,"layerId",null),(0,T._)([(0,U.Cb)()],je.prototype,"sourceJSON",void 0),(0,T._)([(0,U.Cb)({readOnly:!0})],je.prototype,"networkSystemLayers",null),je=(0,T._)([(0,B.j)("esri.networks.Network")],je);const Je=je;var Ie=M(78585);let Le=class extends((0,Me.eC)($.Z)){constructor(Ge){super(Ge),this.request=F.default}initialize(){}load(Ge){var We=this;return(0,D.Z)(function*(){const tt=We.layer.load(Ge).then(()=>We._initializeRulesTable());return We.addResolvingPromise(tt),We})()}getFeatureSQL(Ge,We){const tt=Ge.layerId.toString(),at=Ge.fieldsIndex?.normalizeFieldName("assetGroup"),yt=Ge.fieldsIndex?.normalizeFieldName("assetType"),sn=this.rulesHash[tt];if(sn){const un=sn.assetGroupHash[at?We.attributes[at]:null];if(un)return un.assetTypeHash[yt?We.attributes[yt]:null]||null}return null}_initializeRulesTable(){var Ge=this;return(0,D.Z)(function*(){const We={};let tt;var yt;(yt=tt||(tt={}))[yt.from=0]="from",yt[yt.to=1]="to",yt[yt.via=2]="via";const at=[{networkSourceId:"fromNetworkSource",assetGroupId:"fromAssetGroup",assetTypeId:"fromAssetType"},{networkSourceId:"toNetworkSource",assetGroupId:"toAssetGroup",assetTypeId:"toAssetType"},{networkSourceId:"viaNetworkSource",assetGroupId:"viaAssetGroup",assetTypeId:"viaAssetType"}];for(const yt of Ge.rules){if(yt.ruleType!==Ie.SV.RTJunctionJunctionConnectivity&&yt.ruleType!==Ie.SV.RTJunctionEdgeConnectivity&&yt.ruleType!==Ie.SV.RTEdgeJunctionEdgeConnectivity)continue;let Mt=[[tt.from,tt.to],[tt.to,tt.from]];yt.ruleType===Ie.SV.RTEdgeJunctionEdgeConnectivity&&(Mt=[[tt.from,tt.via],[tt.via,tt.from],[tt.to,tt.via],[tt.via,tt.to]]);for(const Yt of Mt){const sn=Yt.shift(),un=Yt.shift();let Sn=!1;switch(yt.ruleType){case Ie.SV.RTEdgeJunctionEdgeConnectivity:Sn=sn===tt.from||sn===tt.to;break;case Ie.SV.RTJunctionEdgeConnectivity:Sn=sn===tt.to}const zt=at[sn],hn=yt[zt.networkSourceId].layerId.toString(),bn=yt[zt.assetGroupId]?.assetGroupCode?.toString(),jn=yt[zt.assetTypeId]?.assetTypeCode?.toString(),zn=at[un],pt=yt[zn.networkSourceId].layerId.toString(),bt=yt[zn.assetGroupId]?.assetGroupCode?.toString(),Lt=yt[zn.assetTypeId],Ft=Lt?.assetTypeCode?.toString(),Xt=We[hn]?We[hn]:{assetGroupHash:{}};if(!(bn&&jn&&bt&&Ft))continue;const Jt=Xt.assetGroupHash[bn]?Xt.assetGroupHash[bn]:{assetTypeHash:{}},Wt=Jt.assetTypeHash[jn]?Jt.assetTypeHash[jn]:{};if(Wt[pt]=Wt[pt]?Wt[pt]:{},Sn){Wt[hn]=Wt[hn]?Wt[hn]:{};const gn=`(assetgroup = ${bn} AND assettype = ${jn})`;Wt[hn].anyVertex=Wt[hn].anyVertex?`${Wt[hn].anyVertex}`:`${gn}`,"esriNECPEndVertex"===Lt.connectivityPolicy&&(Wt[hn].endVertex=Wt[hn]?.endVertex?`${Wt[hn].endVertex}`:`${gn}`)}const Zt=`(assetgroup = ${bt} AND assettype = ${Ft})`;Wt[pt].anyVertex=Wt[pt]?.anyVertex?`${Wt[pt].anyVertex} OR ${Zt}`:`${Zt}`,"esriNECPEndVertex"===Lt.connectivityPolicy&&(Wt[pt].endVertex=Wt[pt]?.endVertex?`${Wt[pt].endVertex} OR ${Zt}`:`${Zt}`),Jt.assetTypeHash[jn]=Wt,Xt.assetGroupHash[bn]=Jt,We[hn]=Xt}}Ge.rulesHash=We})()}};(0,T._)([(0,U.Cb)({constructOnly:!0})],Le.prototype,"layer",void 0),(0,T._)([(0,U.Cb)({constructOnly:!0})],Le.prototype,"rules",void 0),(0,T._)([(0,U.Cb)()],Le.prototype,"rulesHash",void 0),(0,T._)([(0,U.Cb)({constructOnly:!0})],Le.prototype,"request",void 0),Le=(0,T._)([(0,B.j)("esri.networks.RulesTable")],Le);const Ve=Le;var st=M(72808),ce=M(14517);let Se=class extends ce.Z{constructor(Ge){super(Ge),this.rulesTableId=null,this.rulesTableUrl=null,this.subnetworksTableId=null,this.subnetworksTableUrl=null,this.dirtyAreasLayerId=null,this.dirtyAreasLayerUrl=null}};(0,T._)([(0,U.Cb)({constructOnly:!0})],Se.prototype,"rulesTableId",void 0),(0,T._)([(0,U.Cb)({constructOnly:!0})],Se.prototype,"rulesTableUrl",void 0),(0,T._)([(0,U.Cb)({constructOnly:!0})],Se.prototype,"subnetworksTableId",void 0),(0,T._)([(0,U.Cb)({constructOnly:!0})],Se.prototype,"subnetworksTableUrl",void 0),(0,T._)([(0,U.Cb)({constructOnly:!0})],Se.prototype,"dirtyAreasLayerId",void 0),(0,T._)([(0,U.Cb)({constructOnly:!0})],Se.prototype,"dirtyAreasLayerUrl",void 0),Se=(0,T._)([(0,B.j)("esri.networks.support.NetworkSystemLayers")],Se);const ze=Se;let Ke=class extends Me.wq{constructor(Ge){super(Ge),this.id=null,this.name=null}};(0,T._)([(0,U.Cb)({type:Number,json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],Ke.prototype,"id",void 0),(0,T._)([(0,U.Cb)({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],Ke.prototype,"name",void 0),(0,T._)([(0,U.Cb)({type:Boolean,json:{write:!0}})],Ke.prototype,"isUpstreamTerminal",void 0),Ke=(0,T._)([(0,B.j)("esri.networks.support.Terminal")],Ke);const Xe=Ke,et=new he.X({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"});let ct=class extends Me.wq{constructor(Ge){super(Ge),this.defaultConfiguration=null,this.id=null,this.name=null,this.terminals=[],this.traversabilityModel=null}};(0,T._)([(0,U.Cb)({type:String,json:{write:!0}})],ct.prototype,"defaultConfiguration",void 0),(0,T._)([(0,U.Cb)({type:Number,json:{read:{source:"terminalConfigurationId"},write:{target:"terminalConfigurationId"}}})],ct.prototype,"id",void 0),(0,T._)([(0,U.Cb)({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],ct.prototype,"name",void 0),(0,T._)([(0,U.Cb)({type:[Xe],json:{write:!0}})],ct.prototype,"terminals",void 0),(0,T._)([(0,U.Cb)({type:et.apiValues,json:{type:et.jsonValues,read:et.read,write:et.write}})],ct.prototype,"traversabilityModel",void 0),ct=(0,T._)([(0,B.j)("esri.networks.support.TerminalConfiguration")],ct);const ft=ct,ut=Z.Z.getLogger("esri.networks.UtilityNetwork");let qe=class extends Je{constructor(Ge){super(Ge),this.sharedNamedTraceConfigurations=[],this.type="utility"}get serviceTerritoryFeatureLayerId(){return this.dataElement?.serviceTerritoryFeatureLayerId??null}get networkSystemLayers(){return new ze({rulesTableId:this.sourceJSON?.systemLayers.rulesTableId,rulesTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.rulesTableId}`:null,subnetworksTableId:this.sourceJSON?.systemLayers.subnetworksTableId,subnetworksTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.subnetworksTableId}`:null,dirtyAreasLayerId:this.sourceJSON?.systemLayers.dirtyAreasLayerId,dirtyAreasLayerUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.dirtyAreasLayerId}`:null})}get rulesTableId(){return(0,te.Mr)(ut,"rulesTableId",{replacement:"networkSystemLayers.rulesTableId",version:"4.25"}),this.sourceJSON?.systemLayers.rulesTableId}get rulesTableUrl(){return(0,te.Mr)(ut,"rulesTableUrl",{replacement:"networkSystemLayers.rulesTableUrl",version:"4.25"}),this.sourceJSON?`${this.featureServiceUrl}/${this.networkSystemLayers.rulesTableId}`:null}get subnetworksTableId(){return(0,te.Mr)(ut,"subnetworksTableId",{replacement:"networkSystemLayers.subnetworksTableId",version:"4.25"}),this.sourceJSON?.systemLayers.subnetworksTableId}get subnetworksTableUrl(){return(0,te.Mr)(ut,"subnetworksTableUrl",{replacement:"networkSystemLayers.subnetworksTableUrl",version:"4.25"}),this.sourceJSON?`${this.featureServiceUrl}/${this.networkSystemLayers.subnetworksTableId}`:null}get terminalConfigurations(){return this.dataElement?.terminalConfigurations.map(Ge=>ft.fromJSON(Ge))||[]}get domainNetworkNames(){return this.dataElement?.domainNetworks.map(Ge=>Ge.domainNetworkName)||[]}get _utilityLayerList(){const Ge=new Set;return this.dataElement?.domainNetworks?.map(We=>{We.edgeSources.map(tt=>{Ge.add(tt.layerId)}),We.junctionSources.map(tt=>{Ge.add(tt.layerId)})}),Ge}load(Ge){var We=()=>super.load,tt=this;return(0,D.Z)(function*(){return tt.addResolvingPromise(We().call(tt,Ge)),tt.addResolvingPromise(tt._loadNamedTraceConfigurationsFromNetwork(Ge)),tt})()}getTerminalConfiguration(Ge){let We=null,tt=null;const at=Ge.layer;let yt=null;if("feature"!==at?.type||(yt=at.layerId,null===yt))return null;const Mt=Ge.attributes;if(null==Mt)return null;for(const un of Object.keys(Mt))"ASSETGROUP"===un.toUpperCase()&&(We=Ge.getAttribute(un)),"ASSETTYPE"===un.toUpperCase()&&(tt=Ge.getAttribute(un));if(!this.dataElement)return null;let Yt=null;const sn=this.dataElement.domainNetworks;for(const un of sn){const Sn=un.junctionSources?.find(zt=>zt.layerId===yt);if(Sn){const zt=Sn.assetGroups?.find(hn=>hn.assetGroupCode===We);if(zt){const hn=zt.assetTypes?.find(bn=>bn.assetTypeCode===tt);if(hn){Yt=hn.terminalConfigurationId;break}}}}if(null!=Yt){const un=this.dataElement.terminalConfigurations?.find(Sn=>Sn.terminalConfigurationId===Yt);return un?ft.fromJSON(un):null}return null}getTierNames(Ge){return this.dataElement?.domainNetworks.find(tt=>tt.domainNetworkName===Ge)?.tiers.map(tt=>tt.name)||[]}getRulesTable(){var Ge=this;return(0,D.Z)(function*(){return Ge._createRulesTable()})()}isUtilityLayer(Ge){return this._utilityLayerList.has(Ge.layerId)}_loadNamedTraceConfigurationsFromNetwork(Ge){var We=this;return(0,D.Z)(function*(){if(0===We.sharedNamedTraceConfigurations?.length)return;const tt=We.sharedNamedTraceConfigurations.map(yt=>yt.globalId),at=yield We.queryNamedTraceConfigurations({globalIds:tt},Ge);for(const yt of We.sharedNamedTraceConfigurations){const Mt=at?.find(Yt=>Yt.globalId===yt.globalId);if(Mt){const Yt=Mt.write({},{origin:"service"});yt.read(Yt,{origin:"service"})}}})()}_createRulesTable(){var Ge=this;return(0,D.Z)(function*(){const We=new R.default({url:Ge.rulesTableUrl});yield We.load();const tt=Ge.dataElement?.domainNetworks;if(!tt)return null;const at=tt.flatMap(Mt=>[...Mt.edgeSources,...Mt.junctionSources]),yt=(yield Ge._queryRulesTable(We)).map(Mt=>Ge._hydrateRuleInfo(We,at,Mt));return new Ve({layer:We,rules:yt})})()}_queryRulesTable(Ge){return(0,D.Z)(function*(){const We=new V.Z({where:"1=1",outFields:["*"]});return(yield function Q(Ge,We,tt){return ne.apply(this,arguments)}(Ge,We)).features})()}_hydrateRuleInfo(Ge,We,tt){const at=Ge.fieldsIndex,yt=at.get("RULETYPE"),Mt=at.get("CREATIONDATE"),Yt=at.get("FROMNETWORKSOURCEID"),sn=at.get("FROMASSETGROUP"),un=at.get("FROMASSETTYPE"),Sn=at.get("FROMTERMINALID"),zt=at.get("TONETWORKSOURCEID"),hn=at.get("TOASSETGROUP"),bn=at.get("TOASSETTYPE"),jn=at.get("TOTERMINALID"),zn=at.get("VIANETWORKSOURCEID"),pt=at.get("VIAASSETGROUP"),bt=at.get("VIAASSETTYPE"),Lt=at.get("VIATERMINALID"),Ft=tt.attributes[yt.name],Xt=new Date(tt.attributes[Mt.name]),Jt=[{networkSourceId:tt.attributes[Yt.name],assetGroupId:tt.attributes[sn.name],assetTypeId:tt.attributes[un.name],terminalId:tt.attributes[Sn.name]},{networkSourceId:tt.attributes[zt.name],assetGroupId:tt.attributes[hn.name],assetTypeId:tt.attributes[bn.name],terminalId:tt.attributes[jn.name]},{networkSourceId:tt.attributes[zn.name],assetGroupId:tt.attributes[pt.name],assetTypeId:tt.attributes[bt.name],terminalId:tt.attributes[Lt.name]}];let Wt;var gn;(gn=Wt||(Wt={}))[gn.from=0]="from",gn[gn.to=1]="to",gn[gn.via=2]="via";const Zt={ruleType:Ft,creationDate:Xt};for(const gn of[Wt.from,Wt.to,Wt.via]){if(Ft!==Ie.SV.RTEdgeJunctionEdgeConnectivity&&gn===Wt.via)continue;const dn=Jt[gn],wn=We.find(fn=>fn.sourceId===dn.networkSourceId),Wn=wn?.assetGroups.find(fn=>fn.assetGroupCode===dn.assetGroupId),Et=Wn?.assetTypes.find(fn=>fn.assetTypeCode===dn.assetTypeId);let Tt=this._getTerminal(Ft,Et,dn);Ft!==Ie.SV.RTContainment&&Ft!==Ie.SV.RTAttachment||(Tt=null);let Bt="";switch(gn){case Wt.from:Bt="from";break;case Wt.to:Bt="to";break;case Wt.via:Bt="via"}Zt[`${Bt}NetworkSource`]=wn,Zt[`${Bt}AssetGroup`]=Wn,Zt[`${Bt}AssetType`]=Et,Zt[`${Bt}Terminal`]=Tt}return Zt}_getTerminal(Ge,We,tt){if(Ge===Ie.SV.RTAttachment||Ge===Ie.SV.RTContainment)return null;const at=We?.terminalConfigurationId;return this.terminalConfigurations?.find(Mt=>Mt.id===at)?.terminals?.find(Mt=>Mt.id===tt.terminalId)??null}};(0,T._)([(0,U.Cb)({type:[st.Z],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],qe.prototype,"sharedNamedTraceConfigurations",void 0),(0,T._)([(0,U.Cb)({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],qe.prototype,"type",void 0),(0,T._)([(0,U.Cb)({readOnly:!0})],qe.prototype,"serviceTerritoryFeatureLayerId",null),(0,T._)([(0,U.Cb)({readOnly:!0})],qe.prototype,"networkSystemLayers",null),(0,T._)([(0,U.Cb)({readOnly:!0})],qe.prototype,"rulesTableId",null),(0,T._)([(0,U.Cb)({readOnly:!0})],qe.prototype,"rulesTableUrl",null),(0,T._)([(0,U.Cb)({readOnly:!0})],qe.prototype,"subnetworksTableId",null),(0,T._)([(0,U.Cb)({readOnly:!0})],qe.prototype,"subnetworksTableUrl",null),(0,T._)([(0,U.Cb)({readOnly:!0})],qe.prototype,"terminalConfigurations",null),(0,T._)([(0,U.Cb)({readOnly:!0})],qe.prototype,"domainNetworkNames",null),qe=(0,T._)([(0,B.j)("esri.networks.UtilityNetwork")],qe);const ke=qe},72808:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>X});var D=M(17626),T=M(99959),te=M(77712),ie=(M(90912),M(85931),M(68653)),k=M(76898),B=M(86810);let R=class extends B.wq{constructor(Y){super(Y),this.conditionBarriers=[],this.outputConditions=[],this.functions=[],this.functionBarriers=[],this.traversabilityScope=null,this.shortestPathNetworkAttributeName=null,this.includeBarriers=null,this.validateConsistency=null,this.ignoreBarriersAtStartingPoints=null}};(0,D._)([(0,te.Cb)({type:[Object],json:{write:!0}})],R.prototype,"conditionBarriers",void 0),(0,D._)([(0,te.Cb)({type:[Object],json:{write:!0}})],R.prototype,"outputConditions",void 0),(0,D._)([(0,te.Cb)({type:[Object],json:{write:!0}})],R.prototype,"functions",void 0),(0,D._)([(0,te.Cb)({type:[Object],json:{write:!0}})],R.prototype,"functionBarriers",void 0),(0,D._)([(0,te.Cb)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],R.prototype,"traversabilityScope",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],R.prototype,"shortestPathNetworkAttributeName",void 0),(0,D._)([(0,te.Cb)({type:Boolean,json:{write:!0}})],R.prototype,"includeBarriers",void 0),(0,D._)([(0,te.Cb)({type:Boolean,json:{write:!0}})],R.prototype,"validateConsistency",void 0),(0,D._)([(0,te.Cb)({type:Boolean,json:{write:!0}})],R.prototype,"ignoreBarriersAtStartingPoints",void 0),R=(0,D._)([(0,k.j)("esri.networks.support.TraceConfiguration")],R);const W=R;var V=M(78585);let Q=class extends W{constructor(Y){super(Y),this.filterBarriers=[],this.domainNetworkName=null,this.filterBitsetNetworkAttributeName=null,this.filterFunctionBarriers=[],this.filterScope=null,this.includeContainers=null,this.includeContent=null,this.includeIsolated=null,this.includeStructures=null,this.includeUpToFirstSpatialContainer=null,this.nearestNeighbor=null,this.outputFilterCategories=[],this.outputFilters=[],this.propagators=[],this.subnetworkName=null,this.targetTierName=null,this.tierName=null,this.validateLocatability=null}};(0,D._)([(0,te.Cb)({type:[Object],json:{write:!0}})],Q.prototype,"filterBarriers",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],Q.prototype,"domainNetworkName",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],Q.prototype,"filterBitsetNetworkAttributeName",void 0),(0,D._)([(0,te.Cb)({type:[Object],json:{write:!0}})],Q.prototype,"filterFunctionBarriers",void 0),(0,D._)([(0,te.Cb)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],Q.prototype,"filterScope",void 0),(0,D._)([(0,te.Cb)({type:Boolean,json:{write:!0}})],Q.prototype,"includeContainers",void 0),(0,D._)([(0,te.Cb)({type:Boolean,json:{write:!0}})],Q.prototype,"includeContent",void 0),(0,D._)([(0,te.Cb)({type:Boolean,json:{write:!0}})],Q.prototype,"includeIsolated",void 0),(0,D._)([(0,te.Cb)({type:Boolean,json:{write:!0}})],Q.prototype,"includeStructures",void 0),(0,D._)([(0,te.Cb)({type:Boolean,json:{write:!0}})],Q.prototype,"includeUpToFirstSpatialContainer",void 0),(0,D._)([(0,te.Cb)({type:Object,json:{write:!0}})],Q.prototype,"nearestNeighbor",void 0),(0,D._)([(0,te.Cb)({type:[Object],json:{write:!0}})],Q.prototype,"outputFilterCategories",void 0),(0,D._)([(0,te.Cb)({type:[Object],json:{write:!0}})],Q.prototype,"outputFilters",void 0),(0,D._)([(0,te.Cb)({type:[Object],json:{write:!0}})],Q.prototype,"propagators",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],Q.prototype,"subnetworkName",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],Q.prototype,"targetTierName",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],Q.prototype,"tierName",void 0),(0,D._)([(0,te.Cb)({type:Boolean,json:{write:!0}})],Q.prototype,"validateLocatability",void 0),Q=(0,D._)([(0,k.j)("esri.networks.support.UNTraceConfiguration")],Q);const ne=Q;let J=class extends T.w{constructor(Y){super(Y),this.globalId=null,this.title=null,this.traceConfiguration=null,this.creationDate=null,this.creator=null,this.description=null,this.minStartingPoints=null,this.resultTypes=[],this.tags=[],this.traceType=null}readTraceConfiguration(Y,F){return void 0!==Y.tierName?ne.fromJSON(Y):W.fromJSON(Y)}};(0,D._)([(0,te.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"},write:{target:"globalId",isRequired:!0}}},read:!1}})],J.prototype,"globalId",void 0),(0,D._)([(0,te.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"},write:{target:"name",isRequired:!0}}},read:!1}})],J.prototype,"title",void 0),(0,D._)([(0,te.Cb)({type:W,json:{origins:{service:{read:!0,write:!0}},read:!1}})],J.prototype,"traceConfiguration",void 0),(0,D._)([(0,ie.r)("service","traceConfiguration")],J.prototype,"readTraceConfiguration",null),(0,D._)([(0,te.Cb)({type:Date,json:{origins:{service:{read:!0,write:!0}},read:!1}})],J.prototype,"creationDate",void 0),(0,D._)([(0,te.Cb)({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],J.prototype,"creator",void 0),(0,D._)([(0,te.Cb)({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],J.prototype,"description",void 0),(0,D._)([(0,te.Cb)({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"},write:{target:"minNumStartingPoints"}}},read:!1}})],J.prototype,"minStartingPoints",void 0),(0,D._)([(0,te.Cb)({type:[Object],json:{origins:{service:{read:!0,write:!0}},read:!1}})],J.prototype,"resultTypes",void 0),(0,D._)([(0,te.Cb)({type:[String],json:{origins:{service:{read:!0,write:!0}},read:!1}})],J.prototype,"tags",void 0),(0,D._)([(0,te.Cb)({type:V.Fh.apiValues,json:{type:V.Fh.jsonValues,origins:{service:{read:V.Fh.read,write:V.Fh.write}},read:!1}})],J.prototype,"traceType",void 0),J=(0,D._)([(0,k.j)("esri.networks.support.NamedTraceConfiguration")],J);const X=J},78585:(nt,Te,M)=>{"use strict";M.d(Te,{Fh:()=>te,SV:()=>T});var T,ie,D=M(2076);(ie=T||(T={}))[ie.RTJunctionJunctionConnectivity=1]="RTJunctionJunctionConnectivity",ie[ie.RTContainment=2]="RTContainment",ie[ie.RTAttachment=3]="RTAttachment",ie[ie.RTJunctionEdgeConnectivity=4]="RTJunctionEdgeConnectivity",ie[ie.RTEdgeJunctionEdgeConnectivity=5]="RTEdgeJunctionEdgeConnectivity";const te=new D.X({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork",subnetworkController:"subnetwork-controller",loops:"loops",isolation:"isolation"});new D.X({connectivity:"connectivity",attachment:"attachment",containment:"containment",junctionEdgeFromConnectivity:"junction-edge-from-connectivity",junctionMidspanConnectivity:"junction-midspan-connectivity",junctionEdgeToConnectivity:"junction-edge-to-connectivity"}),new D.X({normal:"normal",rebuild:"rebuild",forceRebuild:"force-rebuild"})},38159:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>R});var k,D=M(17626),T=M(86810),te=M(77712),ie=(M(90912),M(85931),M(76898));let B=k=class extends T.wq{constructor(W){super(W),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new k({title:this.title,expression:this.expression})}};(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],B.prototype,"title",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],B.prototype,"expression",void 0),(0,D._)([(0,te.Cb)({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],B.prototype,"returnType",void 0),B=k=(0,D._)([(0,ie.j)("esri.popup.ElementExpressionInfo")],B);const R=B},38439:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>R});var k,D=M(17626),T=M(86810),te=M(77712),ie=(M(90912),M(85931),M(76898));let B=k=class extends T.wq{constructor(W){super(W),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new k({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],B.prototype,"name",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],B.prototype,"title",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],B.prototype,"expression",void 0),(0,D._)([(0,te.Cb)({type:["string","number"],json:{write:!0}})],B.prototype,"returnType",void 0),B=k=(0,D._)([(0,ie.j)("esri.popup.ExpressionInfo")],B);const R=B},25621:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Q});var W,D=M(17626),T=M(2076),te=M(86810),Z=M(58817),U=M(77712),k=(M(90912),M(55342)),B=M(76898),R=M(66845);let V=W=class extends te.wq{constructor(ne){super(ne),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new W({fieldName:this.fieldName,format:this.format?(0,Z.d9)(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],V.prototype,"fieldName",void 0),(0,D._)([(0,U.Cb)({type:R.Z,json:{write:!0}})],V.prototype,"format",void 0),(0,D._)([(0,U.Cb)({type:Boolean,json:{write:!0,default:!1}})],V.prototype,"isEditable",void 0),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],V.prototype,"label",void 0),(0,D._)([(0,k.J)(new T.X({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],V.prototype,"stringFieldOption",void 0),(0,D._)([(0,U.Cb)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],V.prototype,"statisticType",void 0),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],V.prototype,"tooltip",void 0),(0,D._)([(0,U.Cb)({type:Boolean,json:{write:!0}})],V.prototype,"visible",void 0),V=W=(0,D._)([(0,B.j)("esri.popup.FieldInfo")],V);const Q=V},55664:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>R});var k,D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898)),ie=M(55013);let B=k=class extends ie.Z{constructor(W){super(W),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new k({description:this.description,displayType:this.displayType,title:this.title})}};(0,D._)([(0,T.Cb)({type:String,json:{write:!0}})],B.prototype,"description",void 0),(0,D._)([(0,T.Cb)({type:["auto","preview","list"],json:{write:!0}})],B.prototype,"displayType",void 0),(0,D._)([(0,T.Cb)({type:String,json:{write:!0}})],B.prototype,"title",void 0),(0,D._)([(0,T.Cb)({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],B.prototype,"type",void 0),B=k=(0,D._)([(0,U.j)("esri.popup.content.AttachmentsContent")],B);const R=B},89594:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var B,D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898)),ie=M(85812),k=M(82657);let R=B=class extends ie.Z{constructor(V){super(V),this.type="bar-chart"}clone(){return new B({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,D._)([(0,T.Cb)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:k.l.write}})],R.prototype,"type",void 0),R=B=(0,D._)([(0,U.j)("esri.popup.content.BarChartMediaInfo")],R);const W=R},81590:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var B,D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898)),ie=M(85812),k=M(82657);let R=B=class extends ie.Z{constructor(V){super(V),this.type="column-chart"}clone(){return new B({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,D._)([(0,T.Cb)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:k.l.write}})],R.prototype,"type",void 0),R=B=(0,D._)([(0,U.j)("esri.popup.content.ColumnChartMediaInfo")],R);const W=R},55013:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>B});var D=M(17626),T=M(86810),te=M(77712),ie=(M(90912),M(85931),M(76898));let k=class extends T.wq{constructor(R){super(R),this.type=null}};(0,D._)([(0,te.Cb)({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],k.prototype,"type",void 0),k=(0,D._)([(0,ie.j)("esri.popup.content.Content")],k);const B=k},16615:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>R});var k,D=M(17626),T=M(58817),te=M(77712),U=(M(90912),M(76898)),ie=M(55013);let B=k=class extends ie.Z{constructor(W){super(W),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new k({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,T.d9)(this.outFields):null})}};(0,D._)([(0,te.Cb)()],B.prototype,"creator",void 0),(0,D._)([(0,te.Cb)()],B.prototype,"destroyer",void 0),(0,D._)([(0,te.Cb)()],B.prototype,"outFields",void 0),(0,D._)([(0,te.Cb)({type:["custom"],readOnly:!0})],B.prototype,"type",void 0),B=k=(0,D._)([(0,U.j)("esri.popup.content.CustomContent")],B);const R=B},82561:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var B,D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898)),ie=M(38159),k=M(55013);let R=B=class extends k.Z{constructor(V){super(V),this.expressionInfo=null,this.type="expression"}clone(){return new B({expressionInfo:this.expressionInfo?.clone()})}};(0,D._)([(0,T.Cb)({type:ie.Z,json:{write:!0}})],R.prototype,"expressionInfo",void 0),(0,D._)([(0,T.Cb)({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],R.prototype,"type",void 0),R=B=(0,D._)([(0,U.j)("esri.popup.content.ExpressionContent")],R);const W=R},75484:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>V});var R,D=M(17626),T=M(58817),te=M(77712),U=(M(90912),M(76898)),ie=M(99433),k=M(25621),B=M(55013);let W=R=class extends B.Z{constructor(Q){super(Q),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(Q,ne){ne.fieldInfos=Q&&Q.map(J=>J.toJSON())}clone(){return new R((0,T.d9)({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};(0,D._)([(0,te.Cb)({type:Object,json:{write:!0}})],W.prototype,"attributes",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],W.prototype,"description",void 0),(0,D._)([(0,te.Cb)({type:[k.Z]})],W.prototype,"fieldInfos",void 0),(0,D._)([(0,ie.c)("fieldInfos")],W.prototype,"writeFieldInfos",null),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],W.prototype,"title",void 0),(0,D._)([(0,te.Cb)({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],W.prototype,"type",void 0),W=R=(0,D._)([(0,U.j)("esri.popup.content.FieldsContent")],W);const V=W},49455:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ne});var B,D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898)),ie=M(78297),k=M(86810);let R=B=class extends k.wq{constructor(J){super(J),this.linkURL=null,this.sourceURL=null}clone(){return new B({linkURL:this.linkURL,sourceURL:this.sourceURL})}};(0,D._)([(0,T.Cb)({type:String,json:{write:!0}})],R.prototype,"linkURL",void 0),(0,D._)([(0,T.Cb)({type:String,json:{write:!0}})],R.prototype,"sourceURL",void 0),R=B=(0,D._)([(0,U.j)("esri.popup.content.support.ImageMediaInfoValue")],R);const W=R;var V;let Q=V=class extends ie.Z{constructor(J){super(J),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new V({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};(0,D._)([(0,T.Cb)({type:Number,json:{write:!0}})],Q.prototype,"refreshInterval",void 0),(0,D._)([(0,T.Cb)({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],Q.prototype,"type",void 0),(0,D._)([(0,T.Cb)({type:W,json:{write:!0}})],Q.prototype,"value",void 0),Q=V=(0,D._)([(0,U.j)("esri.popup.content.ImageMediaInfo")],Q);const ne=Q},71981:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var B,D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898)),ie=M(85812),k=M(82657);let R=B=class extends ie.Z{constructor(V){super(V),this.type="line-chart"}clone(){return new B({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,D._)([(0,T.Cb)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:k.l.write}})],R.prototype,"type",void 0),R=B=(0,D._)([(0,U.j)("esri.popup.content.LineChartMediaInfo")],R);const W=R},64531:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>F});var X,D=M(17626),T=M(58817),te=M(77712),U=(M(90912),M(68653)),ie=M(76898),k=M(99433),B=M(89594),R=M(81590),W=M(55013),V=M(49455),Q=M(71981),ne=M(52023),J=M(65560);let Y=X=class extends W.Z{constructor(x){super(x),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(x){return x&&x.map($=>"image"===$.type?V.Z.fromJSON($):"barchart"===$.type?B.Z.fromJSON($):"columnchart"===$.type?R.Z.fromJSON($):"linechart"===$.type?Q.Z.fromJSON($):"piechart"===$.type?ne.Z.fromJSON($):void 0).filter(Boolean)}writeMediaInfos(x,$){$.mediaInfos=x&&x.map(N=>N.toJSON())}clone(){return new X((0,T.d9)({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};(0,D._)([(0,te.Cb)()],Y.prototype,"activeMediaInfoIndex",void 0),(0,D._)([(0,te.Cb)({type:Object,json:{write:!0}})],Y.prototype,"attributes",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],Y.prototype,"description",void 0),(0,D._)([(0,te.Cb)({types:[J.V]})],Y.prototype,"mediaInfos",void 0),(0,D._)([(0,U.r)("mediaInfos")],Y.prototype,"readMediaInfos",null),(0,D._)([(0,k.c)("mediaInfos")],Y.prototype,"writeMediaInfos",null),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],Y.prototype,"title",void 0),(0,D._)([(0,te.Cb)({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],Y.prototype,"type",void 0),Y=X=(0,D._)([(0,ie.j)("esri.popup.content.MediaContent")],Y);const F=Y},52023:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var B,D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898)),ie=M(85812),k=M(82657);let R=B=class extends ie.Z{constructor(V){super(V),this.type="pie-chart"}clone(){return new B({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,D._)([(0,T.Cb)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:k.l.write}})],R.prototype,"type",void 0),R=B=(0,D._)([(0,U.j)("esri.popup.content.PieChartMediaInfo")],R);const W=R},6785:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var D=M(17626),T=M(79608),te=M(77712),Z=M(90912),ie=(M(85931),M(76898)),k=M(55013),B=M(51686);let R=class extends((0,T.J)(k.Z)){constructor(V){super(V),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],R.prototype,"description",void 0),(0,D._)([(0,te.Cb)({type:Number,json:{type:Z.z8,write:!0}})],R.prototype,"displayCount",void 0),(0,D._)([(0,te.Cb)({type:["list"],json:{write:!0}})],R.prototype,"displayType",void 0),(0,D._)([(0,te.Cb)({type:[B.Z],json:{write:!0}})],R.prototype,"orderByFields",void 0),(0,D._)([(0,te.Cb)({type:Number,json:{type:Z.z8,write:!0}})],R.prototype,"relationshipId",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],R.prototype,"title",void 0),(0,D._)([(0,te.Cb)({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],R.prototype,"type",void 0),R=(0,D._)([(0,ie.j)("esri.popup.content.RelationshipContent")],R);const W=R},501:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>R});var k,D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898)),ie=M(55013);let B=k=class extends ie.Z{constructor(W){super(W),this.text=null,this.type="text"}clone(){return new k({text:this.text})}};(0,D._)([(0,T.Cb)({type:String,json:{write:!0}})],B.prototype,"text",void 0),(0,D._)([(0,T.Cb)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],B.prototype,"type",void 0),B=k=(0,D._)([(0,U.j)("esri.popup.content.TextContent")],B);const R=B},85812:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>J});var W,D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898)),ie=M(78297),k=M(86810),B=M(58817),R=M(77891);let V=W=class extends k.wq{constructor(X){super(X),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new W({fields:(0,B.d9)(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};(0,D._)([(0,T.Cb)({type:[String],json:{write:!0}})],V.prototype,"fields",void 0),(0,D._)([(0,T.Cb)({type:String,json:{write:!0}})],V.prototype,"normalizeField",void 0),(0,D._)([(0,T.Cb)({type:[R.Z],json:{read:!1}})],V.prototype,"series",void 0),(0,D._)([(0,T.Cb)({type:String,json:{write:!0}})],V.prototype,"tooltipField",void 0),V=W=(0,D._)([(0,U.j)("esri.popup.content.support.ChartMediaInfoValue")],V);const Q=V;let ne=class extends ie.Z{constructor(X){super(X),this.type=null,this.value=null}};(0,D._)([(0,T.Cb)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],ne.prototype,"type",void 0),(0,D._)([(0,T.Cb)({type:Q,json:{write:!0}})],ne.prototype,"value",void 0),ne=(0,D._)([(0,U.j)("esri.popup.content.mixins.ChartMediaInfo")],ne);const J=ne},78297:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>B});var D=M(17626),T=M(86810),te=M(77712),ie=(M(90912),M(85931),M(76898));let k=class extends T.wq{constructor(R){super(R),this.altText=null,this.caption="",this.title="",this.type=null}};(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],k.prototype,"altText",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],k.prototype,"caption",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],k.prototype,"title",void 0),(0,D._)([(0,te.Cb)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],k.prototype,"type",void 0),k=(0,D._)([(0,ie.j)("esri.popup.content.mixins.MediaInfo")],k);const B=k},77891:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>R});var k,D=M(17626),T=M(14517),te=M(77712),ie=(M(90912),M(85931),M(76898));let B=k=class extends T.Z{constructor(W){super(W),this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new k({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};(0,D._)([(0,te.Cb)()],B.prototype,"fieldName",void 0),(0,D._)([(0,te.Cb)()],B.prototype,"tooltip",void 0),(0,D._)([(0,te.Cb)()],B.prototype,"value",void 0),B=k=(0,D._)([(0,ie.j)("esri.popup.content.support.ChartMediaInfoValueSeries")],B);const R=B},82657:(nt,Te,M)=>{"use strict";M.d(Te,{l:()=>T});const T=(0,M(2076).w)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},65560:(nt,Te,M)=>{"use strict";M.d(Te,{V:()=>k});var D=M(89594),T=M(81590),te=M(49455),Z=M(71981),U=M(52023);const k={base:M(78297).Z,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":D.Z,"column-chart":T.Z,"line-chart":Z.Z,"pie-chart":U.Z,image:te.Z}}},66845:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>x});var D=M(17626);const Z=(0,M(2076).w)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});Z.toJSON.bind(Z),Z.fromJSON.bind(Z);var Y,B=M(86810),R=M(77712),W=M(90912),Q=(M(85931),M(55342)),ne=M(76898),J=M(88411),X=M(15348);let F=Y=class extends B.wq{constructor($){super($),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new Y({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format($){return this.dateFormat?(0,J.p6)($,{...(0,J.Ze)(this.dateFormat),...this.dateTimeFormatOptions}):(0,X.uf)($,(0,X.sh)(this))}formatRasterPixelValue($){if($.includes("-"))return $;let N,z;return $.trim().includes(",")?(N=",",z=N+" ",this._formatDelimitedString($,N,z,this)):$.trim().includes(";")?(N=";",z=N+" ",this._formatDelimitedString($,N,z,this)):$.trim().includes(" ")?(N=z=" ",this._formatDelimitedString($,N,z,this)):this.format(Number($))}_formatDelimitedString($,N,z,q){return $&&N&&z&&q?$.trim().split(N).map(ee=>this.format(Number(ee))).join(z):$}};(0,D._)([(0,Q.J)(Z)],F.prototype,"dateFormat",void 0),(0,D._)([(0,R.Cb)({type:Object,json:{read:!1}})],F.prototype,"dateTimeFormatOptions",void 0),(0,D._)([(0,R.Cb)({type:Boolean,json:{write:!0}})],F.prototype,"digitSeparator",void 0),(0,D._)([(0,R.Cb)({type:W.z8,json:{write:!0}})],F.prototype,"places",void 0),F=Y=(0,D._)([(0,ne.j)("esri.popup.support.FieldInfoFormat")],F);const x=F},51686:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>R});var k,D=M(17626),T=M(86810),te=M(77712),ie=(M(90912),M(85931),M(76898));let B=k=class extends T.wq{constructor(W){super(W),this.field=null,this.order=null}clone(){return new k({field:this.field,order:this.order})}};(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],B.prototype,"field",void 0),(0,D._)([(0,te.Cb)({type:["asc","desc"],json:{write:!0}})],B.prototype,"order",void 0),B=k=(0,D._)([(0,ie.j)("esri.popup.support.RelatedRecordsInfoFieldOrder")],B);const R=B},84687:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>he});var D=M(15861),T=M(17626),te=M(59318),Z=M(24263),U=M(84792),ie=M(26584),k=M(86810),B=M(47996),R=M(62208),W=M(10699),V=M(77712),Q=M(90912),J=(M(85931),M(68653)),X=M(76898),Y=M(2004),F=M(56683),x=M(6278),$=M(14517);let N=class extends $.Z{constructor(se){super(se),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,T._)([(0,V.Cb)()],N.prototype,"nextQueryParams",void 0),(0,T._)([(0,V.Cb)()],N.prototype,"queryParams",void 0),(0,T._)([(0,V.Cb)()],N.prototype,"results",void 0),(0,T._)([(0,V.Cb)()],N.prototype,"total",void 0),N=(0,T._)([(0,X.j)("esri.portal.PortalQueryResult")],N);const z=N;var re,q=M(94508),ee=M(12680);let le;const _e={PortalGroup:()=>Promise.resolve().then(M.bind(M,96245)),PortalItem:()=>Promise.resolve().then(M.bind(M,55463)),PortalUser:()=>Promise.resolve().then(M.bind(M,94508))};let ae=re=class extends((0,k.eC)(B.Z)){constructor(se){super(se),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=te.Z.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(se){return"string"==typeof se?{url:se}:se}destroy(){this._esriIdCredentialCreateHandle=(0,R.hw)(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(se){if(se)for(const ue of se)te.Z.request.trustedServers.includes(ue)||te.Z.request.trustedServers.push(ue);return se}readDefaultBasemap(se){return this._readBasemap(se)}readDefaultDevBasemap(se){return this._readBasemap(se)}readDefaultVectorBasemap(se){return this._readBasemap(se)}get extraQuery(){return this.id&&this.user&&this.user.orgId&&!this.canSearchPublic?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let se=this.url;if(se){const ue=se.indexOf("/sharing");se=ue>0?se.substring(0,ue):this.url.replace(/\/+$/,""),se+="/sharing/rest"}return se}get thumbnailUrl(){const se=this.restUrl,ue=this.thumbnail;return se&&ue?this._normalizeSSL(se+"/portals/self/resources/"+ue):null}readUrlKey(se){return se&&se.toLowerCase()}readUser(se){let ue=null;return se&&(ue=q.default.fromJSON(se),ue.portal=this),ue}load(se){const ue=Promise.resolve().then(M.bind(M,73386)).then(({default:ge})=>{(0,W.k_)(se),le=ge}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,se)).then(ge=>{if(Z.id){const be=Z.id;this.credential=be.findCredential(this.restUrl),this.credential||this.authMode!==re.AUTH_MODE_AUTO||(this._esriIdCredentialCreateHandle=be.on("credential-create",()=>{be.findCredential(this.restUrl)&&this.signIn().catch(()=>{})}))}this.sourceJSON=ge,this.read(ge)});return this.addResolvingPromise(ue),Promise.resolve(this)}createElevationLayers(){var se=this;return(0,D.Z)(function*(){yield se.load();const ue=se._getHelperService("defaultElevationLayers"),ge=(yield Promise.all([M.e(8592),M.e(3327)]).then(M.bind(M,3327))).default;return ue?ue.map(be=>new ge({id:be.id,url:be.url})):[]})()}fetchBasemaps(se,ue){const ge=new x.Z;return ge.query=se||(te.Z.apiKey&&(0,ee.r)(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),ge.disableExtraQuery=!0,this.queryGroups(ge,ue).then(be=>{if(ge.num=100,ge.query='type:"Web Map" -type:"Web Application"',be.total){const me=be.results[0];return ge.sortField=me.sortField||"name",ge.sortOrder=me.sortOrder||"desc",me.queryItems(ge,ue)}return null}).then(be=>{let me;return me=be&&be.total?be.results.filter(Oe=>"Web Map"===Oe.type).map(Oe=>new le({portalItem:Oe})):[],me})}fetchCategorySchema(se){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",se).then(ue=>ue.categorySchema):(0,W.Hc)(se)?Promise.reject((0,W.zE)()):Promise.resolve([])}fetchFeaturedGroups(se){const ue=this.featuredGroups,ge=new x.Z;if(ge.num=100,ge.sortField="title",ue&&ue.length){const be=[];for(const me of ue)be.push(`(title:"${me.title}" AND owner:${me.owner})`);return ge.query=be.join(" OR "),this.queryGroups(ge,se).then(me=>me.results)}return(0,W.Hc)(se)?Promise.reject((0,W.zE)()):Promise.resolve([])}fetchRegions(se){const ue=this.user?.culture||this.culture||(0,F.Kd)();return this.request(this.restUrl+"/portals/regions",{...se,query:{culture:ue}})}fetchSettings(se){const ue=this.user?.culture||this.culture||(0,F.Kd)();return this.request(this.restUrl+"/portals/self/settings",{...se,query:{culture:ue}})}static getDefault(){return re._default&&!re._default.destroyed||(re._default=new re),re._default}queryGroups(se,ue){return this.queryPortal("/community/groups",se,"PortalGroup",ue)}queryItems(se,ue){return this.queryPortal("/search",se,"PortalItem",ue)}queryUsers(se,ue){return se.sortField||(se.sortField="username"),this.queryPortal("/community/users",se,"PortalUser",ue)}fetchSelf(se=this.authMode,ue=!1,ge){const be=this.restUrl+"/portals/self",me={authMode:se,query:{culture:(0,F.Kd)().toLowerCase()},...ge};return"auto"===me.authMode&&(me.authMode="no-prompt"),ue&&(me.query.default=!0),this.request(be,me)}queryPortal(se,ue,ge,be){const me=(0,Q.se)(x.Z,ue),Oe=oe=>this.request(this.restUrl+se,{...me.toRequestOptions(this),...be}).then(de=>{const ve=me.clone();return ve.start=de.nextStart,new z({nextQueryParams:ve,queryParams:me,total:de.total,results:re._resultsToTypedArray(oe,{portal:this},de,be)})}).then(de=>Promise.all(de.results.map(ve=>"function"==typeof ve.when?ve.when():de)).then(()=>de,ve=>((0,W.r9)(ve),de)));return ge&&_e[ge]?_e[ge]().then(({default:oe})=>((0,W.k_)(be),Oe(oe))):Oe()}signIn(){if(this.authMode===re.AUTH_MODE_ANONYMOUS)return Promise.reject(new ie.Z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const se=ue=>Promise.resolve().then(()=>"not-loaded"===this.loadStatus?(ue||(this.authMode="immediate"),this.load().then(()=>null)):"loading"===this.loadStatus?this.load().then(()=>this.credential?null:(this.credential=ue,this.fetchSelf("immediate"))):this.user&&this.credential===ue?null:(this.credential=ue,this.fetchSelf("immediate"))).then(ge=>{ge&&(this.sourceJSON=ge,this.read(ge))});return Z.id?Z.id.getCredential(this.restUrl).then(ue=>se(ue)):se(this.credential)}normalizeUrl(se){const ue=this.credential&&this.credential.token;return this._normalizeSSL(ue?se+(se.includes("?")?"&":"?")+"token="+ue:se)}requestToTypedArray(se,ue,ge){return this.request(se,ue).then(be=>{const me=re._resultsToTypedArray(ge,{portal:this},be);return Promise.all(me.map(Oe=>"function"==typeof Oe.when?Oe.when():be)).then(()=>me,()=>me)})}request(se,ue={}){const ge={f:"json",...ue.query},{authMode:be=(this.authMode===re.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:me=null,cacheBust:Oe=!1,method:oe="auto",responseType:de="json",signal:ve}=ue,De={authMode:be,body:me,cacheBust:Oe,method:oe,query:ge,responseType:de,timeout:0,signal:ve};return(0,U.default)(this._normalizeSSL(se),De).then(xe=>xe.data)}toJSON(){throw new ie.Z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(se){if(!se)return null;if(se.declaredClass)throw new Error("JSON object is already hydrated");return new re({sourceJSON:se})}_getHelperService(se){const ue=this.helperServices&&this.helperServices[se];if(!ue)throw new ie.Z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${se}"`);return ue}_normalizeSSL(se){return se.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(se){if(se){const ue=le.fromJSON(se);return ue.portalItem={portal:this},ue}return null}static _resultsToTypedArray(se,ue,ge,be){let me=[];if(ge){const Oe=(0,R.pC)(be)?be.signal:null;me=ge.listings||ge.notifications||ge.userInvitations||ge.tags||ge.items||ge.groups||ge.comments||ge.provisions||ge.results||ge.relatedItems||ge,(se||ue)&&(me=me.map(oe=>{const de=Object.assign(se?se.fromJSON(oe):oe,ue);return"function"==typeof de.load&&de.load(Oe),de}))}else me=[];return me}};ae.AUTH_MODE_ANONYMOUS="anonymous",ae.AUTH_MODE_AUTO="auto",ae.AUTH_MODE_IMMEDIATE="immediate",(0,T._)([(0,V.Cb)()],ae.prototype,"access",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"allSSL",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"authMode",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"authorizedCrossOriginDomains",void 0),(0,T._)([(0,J.r)("authorizedCrossOriginDomains")],ae.prototype,"readAuthorizedCrossOriginDomains",null),(0,T._)([(0,V.Cb)()],ae.prototype,"basemapGalleryGroupQuery",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"bingKey",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"canListApps",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"canListData",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"canListPreProvisionedItems",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"canProvisionDirectPurchase",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"canSearchPublic",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"canShareBingPublic",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"canSharePublic",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"canSignInArcGIS",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"canSignInIDP",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"colorSetsGroupQuery",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"commentsEnabled",void 0),(0,T._)([(0,V.Cb)({type:Date})],ae.prototype,"created",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"credential",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"culture",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"currentVersion",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"customBaseUrl",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"defaultBasemap",void 0),(0,T._)([(0,J.r)("defaultBasemap")],ae.prototype,"readDefaultBasemap",null),(0,T._)([(0,V.Cb)()],ae.prototype,"defaultDevBasemap",void 0),(0,T._)([(0,J.r)("defaultDevBasemap")],ae.prototype,"readDefaultDevBasemap",null),(0,T._)([(0,V.Cb)({type:Y.Z})],ae.prototype,"defaultExtent",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"defaultVectorBasemap",void 0),(0,T._)([(0,J.r)("defaultVectorBasemap")],ae.prototype,"readDefaultVectorBasemap",null),(0,T._)([(0,V.Cb)()],ae.prototype,"description",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"devBasemapGalleryGroupQuery",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"eueiEnabled",void 0),(0,T._)([(0,V.Cb)({readOnly:!0})],ae.prototype,"extraQuery",null),(0,T._)([(0,V.Cb)()],ae.prototype,"featuredGroups",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"featuredItemsGroupQuery",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"galleryTemplatesGroupQuery",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"livingAtlasGroupQuery",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"hasCategorySchema",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"helpBase",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"helperServices",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"helpMap",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"homePageFeaturedContent",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"homePageFeaturedContentCount",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"httpPort",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"httpsPort",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"id",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"ipCntryCode",void 0),(0,T._)([(0,V.Cb)({readOnly:!0})],ae.prototype,"isOrganization",null),(0,T._)([(0,V.Cb)()],ae.prototype,"isPortal",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"isReadOnly",void 0),(0,T._)([(0,V.Cb)({readOnly:!0})],ae.prototype,"itemPageUrl",null),(0,T._)([(0,V.Cb)()],ae.prototype,"layerTemplatesGroupQuery",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"maxTokenExpirationMinutes",void 0),(0,T._)([(0,V.Cb)({type:Date})],ae.prototype,"modified",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"name",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"portalHostname",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"portalMode",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"portalProperties",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"region",void 0),(0,T._)([(0,V.Cb)({readOnly:!0})],ae.prototype,"restUrl",null),(0,T._)([(0,V.Cb)()],ae.prototype,"rotatorPanels",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"showHomePageDescription",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"sourceJSON",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"staticImagesUrl",void 0),(0,T._)([(0,V.Cb)({json:{name:"2DStylesGroupQuery"}})],ae.prototype,"stylesGroupQuery2d",void 0),(0,T._)([(0,V.Cb)({json:{name:"stylesGroupQuery"}})],ae.prototype,"stylesGroupQuery3d",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"supportsHostedServices",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"symbolSetsGroupQuery",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"templatesGroupQuery",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"thumbnail",void 0),(0,T._)([(0,V.Cb)({readOnly:!0})],ae.prototype,"thumbnailUrl",null),(0,T._)([(0,V.Cb)()],ae.prototype,"units",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"url",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"urlKey",void 0),(0,T._)([(0,J.r)("urlKey")],ae.prototype,"readUrlKey",null),(0,T._)([(0,V.Cb)()],ae.prototype,"user",void 0),(0,T._)([(0,J.r)("user")],ae.prototype,"readUser",null),(0,T._)([(0,V.Cb)()],ae.prototype,"useStandardizedQuery",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"useVectorBasemaps",void 0),(0,T._)([(0,V.Cb)()],ae.prototype,"vectorBasemapGalleryGroupQuery",void 0),ae=re=(0,T._)([(0,X.j)("esri.portal.Portal")],ae);const he=ae},96245:(nt,Te,M)=>{"use strict";M.r(Te),M.d(Te,{default:()=>V});var D=M(17626),T=M(26584),te=M(86810),Z=M(62208),U=M(77712),ie=M(90912),B=(M(85931),M(76898)),R=M(6278);let W=class extends te.wq{constructor(Q){super(Q),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const Q=this.url,ne=this.thumbnail;return Q&&ne&&this.portal?this.portal?.normalizeUrl(`${Q}/info/${ne}?f=json`):null}get url(){const Q=this.get("portal.restUrl");return Q?Q+"/community/groups/"+this.id:null}fetchCategorySchema(Q){return(0,Z.s3)(this.portal).request(this.url+"/categorySchema",Q).then(ne=>{const J=ne.categorySchema||[];return J.some(X=>"contentCategorySetsGroupQuery.LivingAtlas"===X.source)?this._fetchCategorySchemaSet("LivingAtlas",Q):J})}fetchMembers(Q){return(0,Z.s3)(this.portal).request(this.url+"/users",Q)}getThumbnailUrl(Q){let ne=this.thumbnailUrl;return ne&&Q&&(ne+=`&w=${Q}`),ne}toJSON(){throw new T.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(Q,ne){let J=(0,ie.se)(R.Z,Q);const X=(0,Z.s3)(this.portal);return parseFloat(X.currentVersion)>5?(J=J||new R.Z,X.queryPortal(`/content/groups/${this.id}/search`,J,"PortalItem",ne)):(J=J?J.clone():new R.Z,J.query="group:"+this.id+(J.query?" "+J.query:""),X.queryItems(J,ne))}_fetchCategorySchemaSet(Q,ne){const J=(0,Z.s3)(this.portal);return J.fetchSelf(J.authMode,!0,ne).then(X=>{const Y=X.contentCategorySetsGroupQuery;if(Y){const F=new R.Z;return F.disableExtraQuery=!0,F.num=1,F.query=Y,J.queryGroups(F,ne)}throw new T.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(X=>{if(X.total){const Y=X.results[0],F=new R.Z;return F.num=1,F.query=`typekeywords:"${Q}"`,Y.queryItems(F,ne)}throw new T.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(X=>X.total?X.results[0].fetchData("json",ne).then(Y=>{const F=Y&&Y.categorySchema;return F&&F.length?F:[]}):[])}};(0,D._)([(0,U.Cb)()],W.prototype,"access",void 0),(0,D._)([(0,U.Cb)({type:Date})],W.prototype,"created",void 0),(0,D._)([(0,U.Cb)()],W.prototype,"description",void 0),(0,D._)([(0,U.Cb)()],W.prototype,"id",void 0),(0,D._)([(0,U.Cb)()],W.prototype,"isInvitationOnly",void 0),(0,D._)([(0,U.Cb)({type:Date})],W.prototype,"modified",void 0),(0,D._)([(0,U.Cb)()],W.prototype,"owner",void 0),(0,D._)([(0,U.Cb)()],W.prototype,"portal",void 0),(0,D._)([(0,U.Cb)()],W.prototype,"snippet",void 0),(0,D._)([(0,U.Cb)()],W.prototype,"sortField",void 0),(0,D._)([(0,U.Cb)()],W.prototype,"sortOrder",void 0),(0,D._)([(0,U.Cb)()],W.prototype,"tags",void 0),(0,D._)([(0,U.Cb)()],W.prototype,"thumbnail",void 0),(0,D._)([(0,U.Cb)({readOnly:!0})],W.prototype,"thumbnailUrl",null),(0,D._)([(0,U.Cb)()],W.prototype,"title",void 0),(0,D._)([(0,U.Cb)({readOnly:!0})],W.prototype,"url",null),W=(0,D._)([(0,B.j)("esri.portal.PortalGroup")],W);const V=W},55463:(nt,Te,M)=>{"use strict";M.r(Te),M.d(Te,{default:()=>he});var D=M(15861),T=M(17626),te=M(54346),Z=M(26584),U=M(86810),ie=M(58817),k=M(47996),B=M(62208),R=M(21726),W=M(77712),V=M(90912),Q=M(68653),ne=M(76898),J=M(2004),X=M(84687),Y=M(14517),F=M(63290),x=M(66656);M(85931);let N=class extends Y.Z{constructor(se){super(se),this.portalItem=null}normalizeCtorArgs(se){return se&&se.portalItem&&se.path?{...se,path:this._normalizePath(se.path,se.portalItem)}:se}set path(se){(0,B.pC)(se)&&(0,R.YP)(se)?F.Z.getLogger(this.declaredClass).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",se)}_castPath(se){return this._normalizePath(se,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(se="json",ue){const ge=this.url;if((0,B.Wi)(ge))throw new Z.Z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(ge,{responseType:se,query:{token:this.portalItem.apiKey},signal:(0,B.U2)(ue,"signal")})}update(se,ue){var ge=this;return(0,D.Z)(function*(){return(yield M.e(587).then(M.bind(M,10587))).addOrUpdateResource(ge,"update",se,ue)})()}hasPath(){return(0,B.pC)(this.path)}_normalizePath(se,ue){return(0,B.Wi)(se)?se:(se=se.replace(/^\/+/,""),(0,B.pC)(ue)&&(0,R.YP)(se)&&(se=(0,R.PF)(se,ue.itemUrl)),se?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};(0,T._)([(0,W.Cb)()],N.prototype,"portalItem",void 0),(0,T._)([(0,W.Cb)({type:String,value:null})],N.prototype,"path",null),(0,T._)([(0,x.p)("path")],N.prototype,"_castPath",null),(0,T._)([(0,W.Cb)({type:String,readOnly:!0})],N.prototype,"url",null),(0,T._)([(0,W.Cb)({type:String,readOnly:!0})],N.prototype,"itemRelativeUrl",null),N=(0,T._)([(0,ne.j)("esri.portal.PortalItemResource")],N);const z=N;let q=class extends Y.Z{constructor(se){super(se),this.created=null,this.rating=null}};(0,T._)([(0,W.Cb)()],q.prototype,"created",void 0),(0,T._)([(0,W.Cb)()],q.prototype,"rating",void 0),q=(0,T._)([(0,ne.j)("esri.portal.PortalRating")],q);const ee=q;var re;const le=new Set(["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","GeoJson","CSV","KML","WFS","WMTS","WMS","Feed"]),_e=new Set(["KML","GeoJson","CSV"]);let ae=re=class extends((0,U.eC)(k.Z)){static from(se){return(0,V.TJ)(re,se)}constructor(se){super(se),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const se=this.type,ue=this.typeKeywords||[];let ge=se;return"Feature Service"===se||"Feature Collection"===se?ge=ue.includes("Table")?"Table":ue.includes("Route Layer")?"Route Layer":ue.includes("Markup")?"Markup":"Feature Layer":"Image Service"===se?ge=ue.includes("Elevation 3D Layer")?"Elevation Layer":ue.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===se?ge="Scene Layer":"Video Service"===se?ge="Video Layer":"Scene Package"===se?ge="Scene Layer Package":"Stream Service"===se?ge="Feature Layer":"Geoprocessing Service"===se&&this.portal&&this.portal.isPortal?ge=ue.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===se?ge="Locator":"Geoenrichment Service"===se?ge="GeoEnrichment Service":"Microsoft Powerpoint"===se?ge="Microsoft PowerPoint":"GeoJson"===se?ge="GeoJSON":"Globe Service"===se?ge="Globe Layer":"Vector Tile Service"===se?ge="Tile Layer":"netCDF"===se?ge="NetCDF":"Map Service"===se?ge=ue.includes("Spatiotemporal")||!ue.includes("Hosted Service")&&!ue.includes("Tiled")||ue.includes("Relational")?"Map Image Layer":"Tile Layer":se&&se.toLowerCase().includes("add in")?ge=se.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===se?ge="Big Data File Share":"Compact Tile Package"===se?ge="Tile Package (tpkx)":"OGCFeatureServer"===se?ge="OGC Feature Layer":"web mapping application"===se&&ue.includes("configurableApp")?ge="Instant App":"Insights Page"===se&&(ge="Insights Report"),ge}readExtent(se){return se&&se.length?new J.Z(se[0][0],se[0][1],se[1][0],se[1][1]):null}get iconUrl(){const se=this.type&&this.type.toLowerCase()||"",ue=this.typeKeywords||[];let me,Oe=!1,oe=!1,de=!1,ve=!1,De=!1,xe=!1;return se.indexOf("service")>0||"feature collection"===se||"kml"===se||"wms"===se||"wmts"===se||"wfs"===se?(Oe=ue.includes("Hosted Service"),"feature service"===se||"feature collection"===se||"kml"===se||"wfs"===se?(oe=ue.includes("Table"),de=ue.includes("Route Layer"),ve=ue.includes("Markup"),De=ue.includes("Spatiotemporal"),xe=ue.includes("UtilityNetwork"),me=De&&oe?"spatiotemporaltable":oe?"table":de?"routelayer":ve?"markup":De?"spatiotemporal":Oe?"featureshosted":xe?"utilitynetwork":"features"):me="map service"===se||"wms"===se||"wmts"===se?Oe||ue.includes("Tiled")||"wmts"===se?"maptiles":"mapimages":"scene service"===se?ue.includes("Line")?"sceneweblayerline":ue.includes("3DObject")?"sceneweblayermultipatch":ue.includes("Point")?"sceneweblayerpoint":ue.includes("IntegratedMesh")?"sceneweblayermesh":ue.includes("PointCloud")?"sceneweblayerpointcloud":ue.includes("Polygon")?"sceneweblayerpolygon":ue.includes("Building")?"sceneweblayerbuilding":ue.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===se?ue.includes("Elevation 3D Layer")?"elevationlayer":ue.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===se?"streamlayer":"video service"===se?"mediaservice":"vector tile service"===se?"vectortile":"datastore catalog service"===se?"datastorecollection":"geocoding service"===se?"geocodeservice":"geoprocessing service"===se?ue.includes("Web Tool")&&this.portal&&this.portal.isPortal?"tool":"layers":"geodata service"===se?"geodataservice":"layers"):me="web map"===se||"cityengine web scene"===se?"maps":"web scene"===se?ue.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===se&&ue.includes("configurableApp")?"instantapps":"web mapping application"===se||"mobile application"===se||"application"===se||"operation view"===se||"desktop application"===se?"apps":"map document"===se||"map package"===se||"published map"===se||"scene document"===se||"globe document"===se||"basemap package"===se||"mobile basemap package"===se||"mobile map package"===se||"project package"===se||"project template"===se||"pro map"===se||"layout"===se||"layer"===se&&ue.includes("ArcGIS Pro")||"explorer map"===se&&ue.indexOf("Explorer Document")?"mapsgray":"service definition"===se||"csv"===se||"shapefile"===se||"cad drawing"===se||"geojson"===se||"360 vr experience"===se||"netcdf"===se||"administrative report"===se?"datafiles":"explorer add in"===se||"desktop add in"===se||"windows viewer add in"===se||"windows viewer configuration"===se?"appsgray":"arcgis pro add in"===se||"arcgis pro configuration"===se?"addindesktop":"rule package"===se||"file geodatabase"===se||"sqlite geodatabase"===se||"csv collection"===se||"kml collection"===se||"windows mobile package"===se||"map template"===se||"desktop application template"===se||"gml"===se||"arcpad package"===se||"code sample"===se||"form"===se||"document link"===se||"earth configuration"===se||"operations dashboard add in"===se||"rules package"===se||"image"===se||"workflow manager package"===se||"explorer map"===se&&ue.includes("Explorer Mapping Application")||ue.includes("Document")?"datafilesgray":"network analysis service"===se||"geoprocessing service"===se||"geodata service"===se||"geometry service"===se||"geoprocessing package"===se||"locator package"===se||"geoprocessing sample"===se||"workflow manager service"===se?"toolsgray":"layer"===se||"layer package"===se||"explorer layer"===se?"layersgray":"scene package"===se?"scenepackage":"mobile scene package"===se?"mobilescenepackage":"tile package"===se||"compact tile package"===se?"tilepackage":"task file"===se?"taskfile":"report template"===se?"report-template":"statistical data collection"===se?"statisticaldatacollection":"insights workbook"===se?"workbook":"insights model"===se?"insightsmodel":"insights page"===se?"insightspage":"insights theme"===se?"insightstheme":"hub initiative"===se?"hubinitiative":"hubpage"===se?"hubpage":"hub event"===se?"hubevent":"hub site application"===se?"hubsite":"hub project"===se?"hubproject":"relational database connection"===se?"relationaldatabaseconnection":"big data file share"===se?"datastorecollection":"image collection"===se?"imagecollection":"style"===se?"style":"desktop style"===se?"desktopstyle":"dashboard"===se?"dashboard":"raster function template"===se?"rasterprocessingtemplate":"vector tile package"===se?"vectortilepackage":"ortho mapping project"===se?"orthomappingproject":"ortho mapping template"===se?"orthomappingtemplate":"solution"===se?"solutions":"geopackage"===se?"geopackage":"deep learning package"===se?"deeplearningpackage":"real time analytic"===se?"realtimeanalytics":"big data analytic"===se?"bigdataanalytics":"feed"===se?"feed":"excalibur imagery project"===se?"excaliburimageryproject":"notebook"===se?"notebook":"storymap"===se?"storymap":"survey123 add in"===se?"survey123addin":"mission"===se?"mission":"mission report"===se?"missionreport":"quickcapture project"===se?"quickcaptureproject":"pro report"===se?"proreport":"pro report template"===se?"proreporttemplate":"urban model"===se?"urbanmodel":"web experience"===se?"experiencebuilder":"web experience template"===se?"webexperiencetemplate":"experience builder widget"===se?"experiencebuilderwidget":"experience builder widget package"===se?"experiencebuilderwidgetpackage":"workflow"===se?"workflow":"insights script"===se?"insightsscript":"kernel gateway connection"===se?"kernelgatewayconnection":"hub initiative template"===se?"hubinitiativetemplate":"storymap theme"===se?"storymaptheme":"knowledge graph"===se?"knowledgegraph":"native application"===se?"nativeapp":"native application installer"===se?"nativeappinstaller":"link chart"===se?"linkchart":"investigation"===se?"investigation":"ogcfeatureserver"===se?"features":"pro project"===se?"proproject":"insights workbook package"===se?"insightsworkbookpackage":"apache parquet"===se?"apacheparquet":"notebook code snippets"===se||"notebook code snippet library"===se?"notebookcodesnippets":"suitability model"===se?"suitabilitymodel":"esri classifier definition"===se?"classifierdefinition":"esri classification schema"===se?"classificationschema":"insights data engineering workbook"===se?"dataengineeringworkbook":"insights data engineering model"===se?"dataengineeringmodel":"deep learning studio project"===se?"deeplearningproject":"discussion"===se?"discussion":"allsource project"===se?"allsourceproject":"api key"===se?"apikey":"maps",me?(0,te.V)("esri/images/portal/"+me+"16.png"):null}get isLayer(){return null!=this.type&&le.has(this.type)}get itemPageUrl(){const se=this.portal?.itemPageUrl;return se&&this.id?`${se}?id=${this.id}`:null}get itemUrl(){const se=this.portal?.restUrl;return se&&this.id?`${se}/content/items/${this.id}`:null}get thumbnailUrl(){const se=this.itemUrl,ue=this.thumbnail;return se&&ue?this.portal?.normalizeUrl(`${se}/info/${ue}?f=json`)??null:null}get userItemUrl(){const se=this.get("portal.restUrl");if(!se)return null;const ue=this.owner||this.get("portal.user.username");return ue?`${se}/content/users/${this.ownerFolder?`${ue}/${this.ownerFolder}`:ue}/items/${this.id}`:null}load(se){const ue=this.portal??(this.portal=X.Z.getDefault()),ge=ue.load(se).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?ue.request(this.itemUrl,{signal:(0,B.pC)(se)?se.signal:null,query:{token:this.apiKey}}):{}).then(be=>{this.sourceJSON=be,this.read(be)});return this.addResolvingPromise(ge),Promise.resolve(this)}addRating(se){var ue=this;return(0,D.Z)(function*(){const ge={method:"post",query:{}};return se instanceof ee&&(se=se.rating),null==se||isNaN(se)||"number"!=typeof se||(ge.query.rating=se),ue.portal?(yield ue.portal.request(ue.itemUrl+"/addRating",ge),new ee({rating:se,created:new Date})):null})()}clone(){const se={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,ie.d9)(this.applicationProxies),avgRating:this.avgRating,categories:(0,ie.d9)(this.categories),created:(0,ie.d9)(this.created),culture:this.culture,description:this.description,extent:(0,ie.d9)(this.extent),groupCategories:(0,ie.d9)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,ie.d9)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,ie.d9)(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,ie.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,ie.d9)(this.typeKeywords),url:this.url};this.loaded&&(se.loadStatus="loaded");const ue=new re({sourceJSON:this.sourceJSON}).set(se);return ue._set("isOrgItem",this.isOrgItem),ue}createPostQuery(){const se=this.toJSON();for(const ge of["tags","typeKeywords","categories"])se[ge]&&(se[ge]=se[ge].join(", "));const{extent:ue}=se;return ue&&(se.extent=JSON.stringify(ue)),se}deleteRating(){var se=this;return(0,D.Z)(function*(){yield(0,B.s3)(se.portal).request(se.itemUrl+"/deleteRating",{method:"post"})})()}fetchData(se="json",ue){return(0,B.s3)(this.portal).request(this.itemUrl+"/data",{responseType:se,...ue,query:{token:this.apiKey}})}fetchRating(se){var ue=this;return(0,D.Z)(function*(){const ge=yield(0,B.s3)(ue.portal).request(ue.itemUrl+"/rating",{query:{token:ue.apiKey},...se});return null!=ge.rating?(ge.created=new Date(ge.created),new ee(ge)):null})()}fetchRelatedItems(se,ue){return(0,B.s3)(this.portal).requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...se,token:this.apiKey},...ue},re)}getThumbnailUrl(se){let ue=this.thumbnailUrl;return ue&&se&&(ue+=`&w=${se}`),ue}reload(){return(0,B.s3)(this.portal).request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(se=>(this.sourceJSON=se,this.read(se),this))}update(se){return this.id?this.load().then(()=>(0,B.s3)(this.portal).signIn()).then(()=>{const ue=se&&se.data,ge={method:"post"};ge.query=this.createPostQuery();for(const be in ge.query)null===ge.query[be]&&(ge.query[be]="");return ge.query.clearEmptyFields=!0,null!=ue&&("string"==typeof ue?ge.query.text=ue:"object"==typeof ue&&(ge.query.text=JSON.stringify(ue))),this.portal.request(`${this.userItemUrl}/update`,ge).then(()=>this.reload())}):Promise.reject(new Z.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}copy(se){var ue=this;return(0,D.Z)(function*(){if(!ue.id)throw new Z.Z("portal:item-does-not-exist","The item does not exist yet");yield ue.load();const{portal:ge,itemUrl:be}=ue;yield(0,B.s3)(ge).signIn();const{copyResources:me,folder:Oe,tags:oe,title:de}=se||{},ve={method:"post",query:{copyPrivateResources:"all"===me,folder:"string"==typeof Oe?Oe:Oe?.id,includeResources:!!me,tags:oe?.join(","),title:de}},{itemId:De}=yield ge.request(`${be}/copy`,ve);return new re({id:De,portal:ge})})()}updateThumbnail(se){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const ue=se.thumbnail,ge=se.filename,be={method:"post"};if("string"==typeof ue)be.query=(0,R.HK)(ue)?{data:ue}:{url:(0,R.hF)(ue)},(0,B.pC)(ge)&&(be.query.filename=ge);else{const me=new FormData;(0,B.pC)(ge)?me.append("file",ue,ge):me.append("file",ue),be.body=me}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,be).then(()=>this.reload())}):Promise.reject(new Z.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}fetchResources(se={},ue){var ge=this;return(0,D.Z)(function*(){return(yield M.e(587).then(M.bind(M,10587))).fetchResources(ge,se,ue)})()}addResource(se,ue,ge){var be=this;return(0,D.Z)(function*(){const me=yield M.e(587).then(M.bind(M,10587));return se.portalItem=be,me.addOrUpdateResource(se,"add",ue,ge)})()}removeResource(se,ue){var ge=this;return(0,D.Z)(function*(){const be=yield M.e(587).then(M.bind(M,10587));if(se.portalItem&&se.portalItem.itemUrl!==ge.itemUrl)throw new Z.Z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return be.removeResource(ge,se,ue)})()}removeAllResources(se){var ue=this;return(0,D.Z)(function*(){return(yield M.e(587).then(M.bind(M,10587))).removeAllResources(ue,se)})()}resourceFromPath(se){return new z({portalItem:this,path:se})}toJSON(){const se=this.extent,ue={accessInformation:this.accessInformation,categories:(0,ie.d9)(this.categories),created:this.created&&this.created.getTime(),description:this.description,extent:se&&[[se.xmin,se.ymin],[se.xmax,se.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,ie.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,ie.d9)(this.typeKeywords),url:this.url};return(0,ie.yd)(ue)}static fromJSON(se){if(!se)return null;if(se.declaredClass)throw new Error("JSON object is already hydrated");return new re({sourceJSON:se})}_getPostQuery(){const se=this.toJSON();for(const ue in se)"tags"===ue&&null!==se[ue]&&(se[ue]=se[ue].join(", ")),"typeKeywords"===ue&&null!==se[ue]&&(se[ue]=se[ue].join(", ")),"extent"===ue&&se[ue]&&(se[ue]=JSON.stringify(se[ue]));return se}};(0,T._)([(0,W.Cb)({type:["private","shared","org","public"]})],ae.prototype,"access",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"accessInformation",void 0),(0,T._)([(0,W.Cb)({type:String})],ae.prototype,"apiKey",void 0),(0,T._)([(0,W.Cb)({json:{read:{source:"appProxies"}}})],ae.prototype,"applicationProxies",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"avgRating",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"categories",void 0),(0,T._)([(0,W.Cb)({type:Date})],ae.prototype,"created",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"culture",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"description",void 0),(0,T._)([(0,W.Cb)({readOnly:!0})],ae.prototype,"displayName",null),(0,T._)([(0,W.Cb)({type:J.Z})],ae.prototype,"extent",void 0),(0,T._)([(0,Q.r)("extent")],ae.prototype,"readExtent",null),(0,T._)([(0,W.Cb)()],ae.prototype,"groupCategories",void 0),(0,T._)([(0,W.Cb)({readOnly:!0})],ae.prototype,"iconUrl",null),(0,T._)([(0,W.Cb)()],ae.prototype,"id",void 0),(0,T._)([(0,W.Cb)({readOnly:!0})],ae.prototype,"isLayer",null),(0,T._)([(0,W.Cb)({type:Boolean,readOnly:!0})],ae.prototype,"isOrgItem",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"itemControl",void 0),(0,T._)([(0,W.Cb)({readOnly:!0})],ae.prototype,"itemPageUrl",null),(0,T._)([(0,W.Cb)({readOnly:!0})],ae.prototype,"itemUrl",null),(0,T._)([(0,W.Cb)()],ae.prototype,"licenseInfo",void 0),(0,T._)([(0,W.Cb)({type:Date})],ae.prototype,"modified",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"name",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"numComments",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"numRatings",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"numViews",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"owner",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"ownerFolder",void 0),(0,T._)([(0,W.Cb)({type:X.Z})],ae.prototype,"portal",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"screenshots",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"size",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"snippet",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"sourceJSON",void 0),(0,T._)([(0,W.Cb)({type:String})],ae.prototype,"sourceUrl",void 0),(0,T._)([(0,W.Cb)({type:String})],ae.prototype,"spatialReference",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"tags",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"thumbnail",void 0),(0,T._)([(0,W.Cb)({readOnly:!0})],ae.prototype,"thumbnailUrl",null),(0,T._)([(0,W.Cb)()],ae.prototype,"title",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"type",void 0),(0,T._)([(0,W.Cb)()],ae.prototype,"typeKeywords",void 0),(0,T._)([(0,W.Cb)({type:String,json:{read(se,ue){if(_e.has(ue.type)){const ge=this.portal?.restUrl;se||(se=ge&&this.id?`${ge}/content/items/${this.id}/data`:null)}return se}}})],ae.prototype,"url",void 0),(0,T._)([(0,W.Cb)({readOnly:!0})],ae.prototype,"userItemUrl",null),ae=re=(0,T._)([(0,ne.j)("esri.portal.PortalItem")],ae);const he=ae},6278:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>X});var Q,D=M(17626),T=M(14517),te=M(2076),Z=M(58817),U=M(62208),ie=M(77712),B=(M(90912),M(76898)),R=M(2004),W=M(65234),V=M(46367);const ne=new te.X({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let J=Q=class extends T.Z{constructor(Y){super(Y),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(Y){"asc"!==Y&&"desc"!==Y||this._set("sortOrder",Y)}clone(){return new Q({categories:this.categories?(0,Z.d9)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(Y,F){let x=[];this.categories&&(x=this.categories.map(q=>Array.isArray(q)?JSON.stringify(q):q));let $="";if(this.extent){const q=(0,V.iV)(this.extent,W.Z.WGS84);(0,U.pC)(q)&&($=`${q.xmin},${q.ymin},${q.xmax},${q.ymax}`)}let N=this.query;!this.disableExtraQuery&&Y.extraQuery&&(N="("+N+")"+Y.extraQuery);const z={categories:x,bbox:$,q:N,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(z.sortField=this.sortField.split(",").map(q=>ne.toJSON(q.trim())).join(","),z.sortOrder=this.sortOrder),{query:{...F,...z}}}};(0,D._)([(0,ie.Cb)()],J.prototype,"categories",void 0),(0,D._)([(0,ie.Cb)()],J.prototype,"disableExtraQuery",void 0),(0,D._)([(0,ie.Cb)({type:R.Z})],J.prototype,"extent",void 0),(0,D._)([(0,ie.Cb)()],J.prototype,"filter",void 0),(0,D._)([(0,ie.Cb)()],J.prototype,"num",void 0),(0,D._)([(0,ie.Cb)()],J.prototype,"query",void 0),(0,D._)([(0,ie.Cb)()],J.prototype,"sortField",void 0),(0,D._)([(0,ie.Cb)()],J.prototype,"sortOrder",null),(0,D._)([(0,ie.Cb)()],J.prototype,"start",void 0),J=Q=(0,D._)([(0,B.j)("esri.portal.PortalQueryParams")],J);const X=J},94508:(nt,Te,M)=>{"use strict";M.r(Te),M.d(Te,{default:()=>ne});var D=M(17626),T=M(26584),te=M(86810),Z=M(77712),k=(M(90912),M(85931),M(76898));let B=class extends te.wq{constructor(J){super(J),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const J=this.get("portal.restUrl");return J?`${J}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new T.Z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,D._)([(0,Z.Cb)({type:Date})],B.prototype,"created",void 0),(0,D._)([(0,Z.Cb)()],B.prototype,"id",void 0),(0,D._)([(0,Z.Cb)()],B.prototype,"portal",void 0),(0,D._)([(0,Z.Cb)()],B.prototype,"title",void 0),(0,D._)([(0,Z.Cb)({readOnly:!0})],B.prototype,"url",null),(0,D._)([(0,Z.Cb)()],B.prototype,"username",void 0),B=(0,D._)([(0,k.j)("esri.portal.PortalFolder")],B);const R=B;var V,W=M(96245);let Q=V=class extends te.wq{constructor(...J){super(...J),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const J=this.url,X=this.thumbnail;return J&&X?this.portal.normalizeUrl(`${J}/info/${X}?f=json`):null}get userContentUrl(){const J=this.get("portal.restUrl");return J?`${J}/content/users/${this.username}`:null}get url(){const J=this.get("portal.restUrl");return J?`${J}/community/users/${this.username}`:null}addItem(J){const X=J&&J.item,Y=J&&J.data,F=J&&J.folder,x={method:"post"};X&&(x.query=X.createPostQuery(),null!=Y&&("string"==typeof Y?x.query.text=Y:"object"==typeof Y&&(x.query.text=JSON.stringify(Y))));let $=this.userContentUrl;return F&&($+="/"+("string"==typeof F?F:F.id)),this.portal.request($+"/addItem",x).then(N=>(X.id=N.id,X.portal=this.portal,X.loaded?X.reload():X.load()))}deleteItem(J){let X=this.userContentUrl;return J.ownerFolder&&(X+="/"+J.ownerFolder),this.portal.request(X+`/items/${J.id}/delete`,{method:"post"}).then(()=>{J.id=null,J.portal=null})}deleteItems(J){const X=this.userContentUrl+"/deleteItems",Y=J.map(F=>F.id);if(Y.length){const F={method:"post",query:{items:Y.join(",")}};return this.portal.request(X,F).then(()=>{J.forEach(x=>{x.id=null,x.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then(X=>{let Y;return Y=X&&X.folders?X.folders.map(F=>{const x=R.fromJSON(F);return x.portal=this.portal,x}):[],Y})}fetchGroups(){return this.portal.request(this.url??"").then(J=>{let X;return X=J&&J.groups?J.groups.map(Y=>{const F=W.default.fromJSON(Y);return F.portal=this.portal,F}):[],X})}fetchItems(J){const X=J??{};let Y,F=this.userContentUrl??"";return X.folder&&(F+="/"+X.folder.id),Promise.resolve().then(M.bind(M,55463)).then(({default:x})=>(Y=x,this.portal.request(F,{query:{folders:!1,num:X.num||10,start:X.start||1,sortField:X.sortField||"created",sortOrder:X.sortOrder||"asc"}}))).then(x=>{let $;return x&&x.items?($=x.items.map(N=>{const z=Y.fromJSON(N);return z.portal=this.portal,z}),Promise.all($.map(N=>N.load())).catch(N=>N).then(()=>({items:$,nextStart:x.nextStart,total:x.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal.request(this.url+"/tags").then(J=>J.tags)}getThumbnailUrl(J){let X=this.thumbnailUrl;return X&&J&&(X+=`&w=${J}`),X}queryFavorites(J){return this.favGroupId?(this._favGroup||(this._favGroup=new W.default({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(J)):Promise.reject(new T.Z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new T.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(J){if(!J)return null;if(J.declaredClass)throw new Error("JSON object is already hydrated");const X=new V;return X.sourceJSON=J,X.read(J),X}};(0,D._)([(0,Z.Cb)()],Q.prototype,"access",void 0),(0,D._)([(0,Z.Cb)({type:Date})],Q.prototype,"created",void 0),(0,D._)([(0,Z.Cb)()],Q.prototype,"culture",void 0),(0,D._)([(0,Z.Cb)()],Q.prototype,"description",void 0),(0,D._)([(0,Z.Cb)()],Q.prototype,"email",void 0),(0,D._)([(0,Z.Cb)()],Q.prototype,"favGroupId",void 0),(0,D._)([(0,Z.Cb)()],Q.prototype,"fullName",void 0),(0,D._)([(0,Z.Cb)({type:Date})],Q.prototype,"modified",void 0),(0,D._)([(0,Z.Cb)()],Q.prototype,"orgId",void 0),(0,D._)([(0,Z.Cb)()],Q.prototype,"portal",void 0),(0,D._)([(0,Z.Cb)()],Q.prototype,"preferredView",void 0),(0,D._)([(0,Z.Cb)()],Q.prototype,"privileges",void 0),(0,D._)([(0,Z.Cb)()],Q.prototype,"region",void 0),(0,D._)([(0,Z.Cb)()],Q.prototype,"role",void 0),(0,D._)([(0,Z.Cb)()],Q.prototype,"roleId",void 0),(0,D._)([(0,Z.Cb)()],Q.prototype,"sourceJSON",void 0),(0,D._)([(0,Z.Cb)()],Q.prototype,"thumbnail",void 0),(0,D._)([(0,Z.Cb)({readOnly:!0})],Q.prototype,"thumbnailUrl",null),(0,D._)([(0,Z.Cb)()],Q.prototype,"units",void 0),(0,D._)([(0,Z.Cb)({readOnly:!0})],Q.prototype,"userContentUrl",null),(0,D._)([(0,Z.Cb)({readOnly:!0})],Q.prototype,"url",null),(0,D._)([(0,Z.Cb)()],Q.prototype,"username",void 0),(0,D._)([(0,Z.Cb)()],Q.prototype,"userType",void 0),Q=V=(0,D._)([(0,k.j)("esri.portal.PortalUser")],Q);const ne=Q},37281:(nt,Te,M)=>{"use strict";M.d(Te,{$o:()=>W,Kz:()=>Q,Ss:()=>ne,_$:()=>B,ck:()=>R,qj:()=>k});var D=M(15861),T=M(54614),te=M(65234),Z=M(46367);function ie(){return(ie=(0,D.Z)(function*(J){const X=J.spatialReference;if(X.isWGS84)return J.clone();if(X.isWebMercator)return(0,Z.Sx)(J);const Y=te.Z.WGS84;return yield(0,T.iQ)(X,Y),(0,T.iV)(J,Y)})).apply(this,arguments)}function k(J,X){if(!B(J,X)){const Y=J.typeKeywords;Y?Y.push(X):J.typeKeywords=[X]}}function B(J,X){return!!J.typeKeywords?.includes(X)}function R(J,X){const Y=J.typeKeywords;if(Y){const F=Y.indexOf(X);F>-1&&Y.splice(F,1)}}function W(J){return V.apply(this,arguments)}function V(){return V=(0,D.Z)(function*(J){const X=J.clone().normalize();let Y;if(X.length>1)for(const F of X)Y?F.width>Y.width&&(Y=F):Y=F;else Y=X[0];return function U(J){return ie.apply(this,arguments)}(Y)}),V.apply(this,arguments)}const Q={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table"};function ne(J){const{portal:X,isOrgItem:Y,itemControl:F}=J,x=X.user?.privileges;let $=!x||x.includes("features:user:edit"),N=!!Y&&!!x?.includes("features:user:fullEdit");const z="update"===F||"admin"===F;return z?N=$=!0:N&&($=!0),{features:{edit:$,fullEdit:N},content:{updateItem:z}}}},24433:(nt,Te,M)=>{"use strict";M.d(Te,{P:()=>Z,a:()=>te});const D=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,T={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function te(U){const ie=U?.match(D);if(!ie)return null;const[,k,B,R]=ie;if(!k)return null;let W=null,V=null,Q=null;const{devext:ne,qaext:J,www:X}=T;if(B)if(W=k,R)switch(R.toLowerCase()){case"devext":({customBaseUrl:V,portalHostname:Q}=ne);break;case"qa":({customBaseUrl:V,portalHostname:Q}=J);break;default:return null}else({customBaseUrl:V,portalHostname:Q}=X);else switch(k.toLowerCase()){case"devext":({customBaseUrl:V,portalHostname:Q}=ne);break;case"qaext":({customBaseUrl:V,portalHostname:Q}=J);break;case"www":({customBaseUrl:V,portalHostname:Q}=X);break;default:return null}return{customBaseUrl:V,isPortal:!1,portalHostname:Q,urlKey:W}}function Z(U){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(U)}},58926:(nt,Te,M)=>{"use strict";M.d(Te,{v:()=>T});const T=(0,M(2076).w)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},4832:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>se});var q,D=M(15861),T=M(17626),te=M(20383),Z=M(2076),U=M(58817),ie=M(63290),k=M(62208),B=M(77712),R=M(66656),W=M(55342),V=M(68653),Q=M(76898),ne=M(99433),J=M(90912),X=M(36630),Y=M(69357),F=M(98563),x=M(74400),$=M(76457),N=M(10914),z=M(46679);const re="percent-of-total",le="field",_e=new Z.X({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:re,esriNormalizeByField:le}),ae=(0,J.se)(x.Z);let he=q=class extends((0,F.W)(Y.Z)){constructor(ue){super(ue),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(ue,ge,be){if(!Array.isArray(ue))return;let me=ge.minValue;return ue.map(Oe=>{const oe=new x.Z;return oe.read(Oe,be),null==oe.minValue&&(oe.minValue=me),null==oe.maxValue&&(oe.maxValue=oe.minValue),me=oe.maxValue,oe})}writeClassBreakInfos(ue,ge,be,me){const Oe=ue.map(oe=>oe.write({},me));this._areClassBreaksConsecutive()&&Oe.forEach(oe=>delete oe.classMinValue),ge[be]=Oe}castField(ue){return null==ue?ue:"function"==typeof ue?(ie.Z.getLogger(this.declaredClass).error(".field: field must be a string value"),null):(0,J.Zs)(ue)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let ue=this._get("normalizationType");const ge=!!this.normalizationField,be=null!=this.normalizationTotal;return ge||be?(ue=ge&&le||be&&re||null,ge&&be&&ie.Z.getLogger(this.declaredClass).warn("warning: both normalizationField and normalizationTotal are set!")):ue!==le&&ue!==re||(ue=null),ue}set normalizationType(ue){this._set("normalizationType",ue)}addClassBreakInfo(ue,ge,be){let me=null;me="number"==typeof ue?new x.Z({minValue:ue,maxValue:ge,symbol:(0,te.se)(be)}):ae((0,U.d9)(ue)),this.classBreakInfos.push(me),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(ue,ge){const be=this.classBreakInfos.length;for(let me=0;me<be;me++){const Oe=[this.classBreakInfos[me].minValue,this.classBreakInfos[me].maxValue];if(Oe[0]===ue&&Oe[1]===ge){this.classBreakInfos.splice(me,1);break}}}getBreakIndex(ue,ge){return this.valueExpression&&((0,k.Wi)(ge)||(0,k.Wi)(ge.arcade))&&ie.Z.getLogger(this.declaredClass).warn(""),this.valueExpression?this._getBreakIndexForExpression(ue,ge):this._getBreakIndexForField(ue)}getClassBreakInfo(ue,ge){var be=this;return(0,D.Z)(function*(){let me=ge;be.valueExpression&&((0,k.Wi)(ge)||(0,k.Wi)(ge.arcade))&&(me={...me,arcade:yield(0,z.LC)()});const Oe=be.getBreakIndex(ue,me);return-1!==Oe?be.classBreakInfos[Oe]:null})()}getSymbol(ue,ge){if(this.valueExpression&&((0,k.Wi)(ge)||(0,k.Wi)(ge.arcade)))return void ie.Z.getLogger(this.declaredClass).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const be=this.getBreakIndex(ue,ge);return be>-1?this.classBreakInfos[be].symbol:this.defaultSymbol}getSymbolAsync(ue,ge){var be=this;return(0,D.Z)(function*(){let me=ge;if(be.valueExpression&&((0,k.Wi)(ge)||(0,k.Wi)(ge.arcade))){const oe=yield(0,z.LC)(),{arcadeUtils:de}=oe;de.hasGeometryOperations(be.valueExpression)&&(yield de.enableGeometryOperations()),me={...me,arcade:oe}}const Oe=be.getBreakIndex(ue,me);return Oe>-1?be.classBreakInfos[Oe].symbol:be.defaultSymbol})()}getSymbols(){const ue=[];return this.classBreakInfos.forEach(ge=>{ge.symbol&&ue.push(ge.symbol)}),this.defaultSymbol&&ue.push(this.defaultSymbol),ue}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((ue,ge)=>ue+ge.getAttributeHash(),"")}getMeshHash(){const ue=JSON.stringify(this.backgroundFillSymbol),ge=JSON.stringify(this.defaultSymbol),be=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${ue}.${ge}.${this.classBreakInfos.reduce((me,Oe)=>me+Oe.getMeshHash(),"")}.${be}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new q({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,U.d9)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,U.d9)(this.visualVariables),legendOptions:(0,U.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}collectRequiredFields(ue,ge){var be=this;return(0,D.Z)(function*(){const me=[be.collectVVRequiredFields(ue,ge),be.collectSymbolFields(ue,ge)];yield Promise.all(me)})()}collectSymbolFields(ue,ge){var be=this;return(0,D.Z)(function*(){const me=[...be.getSymbols().map(Oe=>Oe.collectRequiredFields(ue,ge)),(0,X.io)(ue,ge,be.valueExpression)];(0,X.AB)(ue,ge,be.field),(0,X.AB)(ue,ge,be.normalizationField),yield Promise.all(me)})()}_getBreakIndexForExpression(ue,ge){const{viewingMode:be,scale:me,spatialReference:Oe,arcade:oe}=(0,k.Pt)(ge,{}),{valueExpression:de}=this;let ve=this._compiledValueExpression.valueExpression===de?this._compiledValueExpression.compiledFunction:null;const De=(0,k.Wg)(oe).arcadeUtils;if(!ve){const Ce=De.createSyntaxTree(de);ve=De.createFunction(Ce),this._compiledValueExpression.compiledFunction=ve}this._compiledValueExpression.valueExpression=de;const xe=De.executeFunction(ve,De.createExecContext(ue,De.getViewInfo({viewingMode:be,scale:me,spatialReference:Oe})));return this._getBreakIndexfromInfos(xe)}_getBreakIndexForField(ue){const be=ue.attributes,me=this.normalizationType;let Oe=parseFloat(be[this.field]);if(me){const oe=this.normalizationTotal,de=parseFloat(this.normalizationField?be[this.normalizationField]:void 0);if("log"===me)Oe=Math.log(Oe)*Math.LOG10E;else if(me!==re||null==oe||isNaN(oe)){if(me===le&&!isNaN(de)){if(isNaN(Oe)||isNaN(de))return-1;Oe/=de}}else Oe=Oe/oe*100}return this._getBreakIndexfromInfos(Oe)}_getBreakIndexfromInfos(ue){const ge=this.isMaxInclusive;if(null!=ue&&"number"==typeof ue&&!isNaN(ue))for(let be=0;be<this.classBreakInfos.length;be++){const me=[this.classBreakInfos[be].minValue,this.classBreakInfos[be].maxValue];if(me[0]<=ue&&(ge?ue<=me[1]:ue<me[1]))return be}return-1}_areClassBreaksConsecutive(){const ue=this.classBreakInfos,ge=ue.length;for(let be=1;be<ge;be++)if(ue[be-1].maxValue!==ue[be].minValue)return!1;return!0}};(0,T._)([(0,B.Cb)($.KK)],he.prototype,"backgroundFillSymbol",void 0),(0,T._)([(0,B.Cb)({type:[x.Z]})],he.prototype,"classBreakInfos",void 0),(0,T._)([(0,V.r)("classBreakInfos")],he.prototype,"readClassBreakInfos",null),(0,T._)([(0,ne.c)("classBreakInfos")],he.prototype,"writeClassBreakInfos",null),(0,T._)([(0,B.Cb)({type:String,json:{write:!0}})],he.prototype,"defaultLabel",void 0),(0,T._)([(0,B.Cb)($.Gn)],he.prototype,"defaultSymbol",void 0),(0,T._)([(0,B.Cb)({type:String,json:{write:!0}})],he.prototype,"field",void 0),(0,T._)([(0,R.p)("field")],he.prototype,"castField",null),(0,T._)([(0,B.Cb)({type:Boolean})],he.prototype,"isMaxInclusive",void 0),(0,T._)([(0,B.Cb)({type:N.I,json:{write:!0}})],he.prototype,"legendOptions",void 0),(0,T._)([(0,B.Cb)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],he.prototype,"minValue",null),(0,T._)([(0,B.Cb)({type:String,json:{write:!0}})],he.prototype,"normalizationField",void 0),(0,T._)([(0,B.Cb)({type:Number,cast:ue=>(0,J.q9)(ue),json:{write:!0}})],he.prototype,"normalizationTotal",void 0),(0,T._)([(0,B.Cb)({type:_e.apiValues,value:null,json:{type:_e.jsonValues,read:_e.read,write:_e.write}})],he.prototype,"normalizationType",null),(0,T._)([(0,W.J)({classBreaks:"class-breaks"})],he.prototype,"type",void 0),(0,T._)([(0,B.Cb)({type:String,json:{write:!0}})],he.prototype,"valueExpression",void 0),(0,T._)([(0,B.Cb)({type:String,json:{write:!0}})],he.prototype,"valueExpressionTitle",void 0),he=q=(0,T._)([(0,Q.j)("esri.renderers.ClassBreaksRenderer")],he);const se=he},49067:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>J});var Q,D=M(15861),T=M(17626),te=M(58817),Z=M(77712),ie=(M(90912),M(76898)),k=M(99433),B=M(36630),R=M(69357),W=M(98563),V=M(29996);let ne=Q=class extends((0,W.W)(R.Z)){constructor(X){super(X),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new V.DictionaryLoader(this.url,this.config,this.fieldMap)}writeData(X,Y){X&&(Y.scalingExpressionInfo={expression:X,returnType:"number"})}writeVisualVariables(X,Y,F,x){x?.origin||super.writeVisualVariables(X,Y,F,x)}clone(){return new Q({config:(0,te.d9)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,te.d9)(this.fieldMap),url:(0,te.d9)(this.url),visualVariables:(0,te.d9)(this.visualVariables)})}getSymbolAsync(X,Y){var F=this;return(0,D.Z)(function*(){return F._loader.getSymbolAsync(X,Y)})()}collectRequiredFields(X,Y){var F=this;return(0,D.Z)(function*(){yield F.collectVVRequiredFields(X,Y),F.scaleExpression&&(yield(0,B.io)(X,Y,F.scaleExpression));for(const x in F.fieldMap){const $=F.fieldMap[x];Y.has($)&&X.add($)}})()}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((X,Y)=>X+Y.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};(0,T._)([(0,Z.Cb)({type:V.DictionaryLoader})],ne.prototype,"_loader",null),(0,T._)([(0,Z.Cb)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],ne.prototype,"config",void 0),(0,T._)([(0,Z.Cb)({type:Object,json:{write:!0}})],ne.prototype,"fieldMap",void 0),(0,T._)([(0,Z.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],ne.prototype,"scaleExpression",void 0),(0,T._)([(0,k.c)("scaleExpression")],ne.prototype,"writeData",null),(0,T._)([(0,Z.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(X){return{enabled:!!X&&!!this.scaleExpression}}}}})],ne.prototype,"scaleExpressionTitle",void 0),(0,T._)([(0,Z.Cb)({type:String,json:{write:!0}})],ne.prototype,"url",void 0),(0,T._)([(0,k.c)("visualVariables")],ne.prototype,"writeVisualVariables",null),ne=Q=(0,T._)([(0,ie.j)("esri.renderers.DictionaryRenderer")],ne);const J=ne},96794:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>q});var X,D=M(15861),T=M(17626),te=M(91558),Z=M(58817),U=M(77712),k=(M(90912),M(55342)),B=M(76898),R=M(36630),W=M(69357),V=M(98563),Q=M(41832),ne=M(86810);M(85931);let Y=X=class extends ne.wq{constructor(){super(...arguments),this.unit=null}clone(){return new X({unit:this.unit})}};(0,T._)([(0,U.Cb)({type:String,json:{write:!0}})],Y.prototype,"unit",void 0),Y=X=(0,T._)([(0,B.j)("esri.renderers.support.DotDensityLegendOptions")],Y);const F=Y;var N,x=M(88493),$=M(52068);let z=N=class extends((0,V.W)(W.Z)){constructor(ee){super(ee),this.attributes=null,this.backgroundColor=new te.Z([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new $.Z,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(ee){if(null==this.referenceScale)return this.dotValue;const re=ee/this.referenceScale*this.dotValue;return re<1?1:re}getSymbol(){return new x.Z({outline:this.outline})}getSymbolAsync(){var ee=this;return(0,D.Z)(function*(){return ee.getSymbol()})()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce((ee,re)=>ee+re.getAttributeHash(),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new N({attributes:(0,Z.d9)(this.attributes),backgroundColor:(0,Z.d9)(this.backgroundColor),dotBlendingEnabled:(0,Z.d9)(this.dotBlendingEnabled),dotShape:(0,Z.d9)(this.dotShape),dotSize:(0,Z.d9)(this.dotSize),dotValue:(0,Z.d9)(this.dotValue),legendOptions:(0,Z.d9)(this.legendOptions),outline:(0,Z.d9)(this.outline),referenceScale:(0,Z.d9)(this.referenceScale),visualVariables:(0,Z.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes?.map(re=>re.field||re.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}collectRequiredFields(ee,re){var le=this;return(0,D.Z)(function*(){yield le.collectVVRequiredFields(ee,re);for(const _e of le.attributes??[])_e.valueExpression&&(yield(0,R.io)(ee,re,_e.valueExpression)),_e.field&&ee.add(_e.field)})()}};(0,T._)([(0,U.Cb)({type:[Q.Z],json:{write:!0}})],z.prototype,"attributes",void 0),(0,T._)([(0,U.Cb)({type:te.Z,json:{write:!0}})],z.prototype,"backgroundColor",void 0),(0,T._)([(0,U.Cb)({type:Boolean,json:{write:!0}})],z.prototype,"dotBlendingEnabled",void 0),(0,T._)([(0,U.Cb)({type:String,json:{write:!1}})],z.prototype,"dotShape",void 0),(0,T._)([(0,U.Cb)({type:Number,json:{write:!0}})],z.prototype,"dotSize",void 0),(0,T._)([(0,U.Cb)({type:F,json:{write:!0}})],z.prototype,"legendOptions",void 0),(0,T._)([(0,U.Cb)({type:$.Z,json:{default:null,write:!0}})],z.prototype,"outline",void 0),(0,T._)([(0,U.Cb)({type:Number,json:{write:!0}})],z.prototype,"dotValue",void 0),(0,T._)([(0,U.Cb)({type:Number,json:{write:!0}})],z.prototype,"referenceScale",void 0),(0,T._)([(0,U.Cb)({type:Number,json:{write:!0}})],z.prototype,"seed",void 0),(0,T._)([(0,k.J)({dotDensity:"dot-density"})],z.prototype,"type",void 0),z=N=(0,T._)([(0,B.j)("esri.renderers.DotDensityRenderer")],z);const q=z},69747:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ue});var D=M(15861),T=M(17626),te=M(91558),U=(M(20383),M(55538)),ie=M(58817),k=M(63290),B=M(50618),R=M(23841),W=M(77712),Q=(M(90912),M(52323)),ne=M(55342),J=M(76898),X=M(36630),Y=M(69357),F=M(15312),x=M(52372),$=M(79608),N=M(86810);M(85931);let q=class extends((0,$.J)(N.wq)){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};(0,T._)([(0,W.Cb)({type:String,json:{write:!0}})],q.prototype,"minLabel",void 0),(0,T._)([(0,W.Cb)({type:String,json:{write:!0}})],q.prototype,"maxLabel",void 0),(0,T._)([(0,W.Cb)({type:String,json:{write:!0}})],q.prototype,"title",void 0),q=(0,T._)([(0,J.j)("esri.renderers.support.HeatmapLegendOptions")],q);var le,ee=M(36859),re=M(57213);const _e="esri.renderers.HeatmapRenderer",ae=k.Z.getLogger(_e);function he(ge){if(null!=ge){const{maxDensity:be,minDensity:me,radius:Oe}=ge;if(null!=be||null!=me||null!=Oe){const{blurRadius:oe,maxPixelIntensity:de,minPixelIntensity:ve,...De}=ge;return De}}return ge}let se=le=class extends Y.Z{constructor(ge){super(ge),this.authoringInfo=null,this.colorStops=[new x.Z({ratio:0,color:new te.Z("rgba(255, 140, 0, 0)")}),new x.Z({ratio:.75,color:new te.Z("rgba(255, 140, 0, 1)")}),new x.Z({ratio:.9,color:new te.Z("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(ge){return he(ge)}get blurRadius(){return(0,ee.AJ)(this.radius)}set blurRadius(ge){const be=this.maxPixelIntensity,me=this.minPixelIntensity;this._set("radius",(0,ee.k0)(ge)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",be*this._pixelIntensityToDensity),this._set("minDensity",me*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(ge){this._set("maxDensity",ge*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(ge){this._set("minDensity",ge*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(ee.nu**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(ge,be){this._warnedProps[ge]||"user"===(0,Q.vw)(this).getDefaultOrigin()&&(this._warnedProps[ge]=!0,(0,B.Os)(()=>{(0,U.Mr)(ae,ge,{replacement:`${String(be)} (suggested value: ${this._get(be)})`,version:"4.24"})}))}read(ge,be){ge=he(ge),super.read(ge,be)}getSymbol(){return new re.Z}getSymbolAsync(){var ge=this;return(0,D.Z)(function*(){return ge.getSymbol()})()}getSymbols(){return[this.getSymbol()]}collectRequiredFields(ge,be){var me=this;return(0,D.Z)(function*(){const Oe=me.field,oe=me.valueExpression;Oe&&"string"==typeof Oe&&(yield(0,X.AB)(ge,be,Oe)),oe&&"string"==typeof oe&&(yield(0,X.io)(ge,be,oe))})()}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new le({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:(0,ie.d9)(this.colorStops),field:this.field,legendOptions:(0,ie.d9)(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,T._)([(0,W.Cb)({type:F.Z,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],se.prototype,"authoringInfo",void 0),(0,T._)([(0,W.Cb)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],se.prototype,"blurRadius",null),(0,T._)([(0,W.Cb)({type:[x.Z],json:{write:!0}})],se.prototype,"colorStops",void 0),(0,T._)([(0,W.Cb)({type:String,json:{write:!0}})],se.prototype,"field",void 0),(0,T._)([(0,W.Cb)({type:Number,json:{write:{overridePolicy:(ge,be,me)=>({enabled:null==me})},origins:{"web-scene":{write:!1}}}})],se.prototype,"fieldOffset",void 0),(0,T._)([(0,W.Cb)({type:q,json:{write:!0}})],se.prototype,"legendOptions",void 0),(0,T._)([(0,W.Cb)({type:Number,json:{write:!0}})],se.prototype,"maxDensity",void 0),(0,T._)([(0,W.Cb)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],se.prototype,"maxPixelIntensity",null),(0,T._)([(0,W.Cb)({type:Number,json:{write:!0}})],se.prototype,"minDensity",void 0),(0,T._)([(0,W.Cb)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],se.prototype,"minPixelIntensity",null),(0,T._)([(0,W.Cb)({type:Number,cast:R.t_,json:{write:!0}})],se.prototype,"radius",void 0),(0,T._)([(0,W.Cb)({type:Number,range:{min:0},json:{default:0,write:!0}})],se.prototype,"referenceScale",void 0),(0,T._)([(0,ne.J)({heatmap:"heatmap"})],se.prototype,"type",void 0),(0,T._)([(0,W.Cb)({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],se.prototype,"valueExpression",void 0),(0,T._)([(0,W.Cb)({type:String})],se.prototype,"valueExpressionTitle",void 0),(0,T._)([(0,W.Cb)({readOnly:!0})],se.prototype,"_pixelIntensityToDensity",null),se=le=(0,T._)([(0,J.j)(_e)],se);const ue=se},40425:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>re});var D=M(15861),T=M(17626),te=M(91558),U=(M(20383),M(79608)),ie=M(62208),k=M(23841),B=M(77712),V=(M(90912),M(85931),M(55342)),Q=M(76898),ne=M(36630),J=M(69357),X=M(98563),Y=M(41832),F=M(86810);let x=class extends((0,U.J)(F.wq)){constructor(){super(...arguments),this.color=new te.Z([0,0,0,0]),this.label=null,this.threshold=0}};(0,T._)([(0,B.Cb)({type:te.Z,json:{write:!0}})],x.prototype,"color",void 0),(0,T._)([(0,B.Cb)({type:String,json:{write:!0}})],x.prototype,"label",void 0),(0,T._)([(0,B.Cb)({type:Number,range:{min:0,max:1},json:{write:!0}})],x.prototype,"threshold",void 0),x=(0,T._)([(0,Q.j)("esri.renderers.support.OthersCategory")],x);let $=class extends((0,U.J)(F.wq)){constructor(){super(...arguments),this.title=null}};(0,T._)([(0,B.Cb)({type:String,json:{write:!0}})],$.prototype,"title",void 0),$=(0,T._)([(0,Q.j)("esri.renderers.support.PieChartLegendOptions")],$);var N=M(57213),z=M(88493),q=M(52068);let ee=class extends((0,X.W)((0,U.J)(J.Z))){constructor(le){super(le),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new te.Z([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new x,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){return new N.Z({size:this.size?this.size/2+(this.outline?.width||0):0})}getSymbolAsync(){var le=this;return(0,D.Z)(function*(){return le.getSymbol()})()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(ie.pC)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((le,_e)=>le+_e.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((le,_e)=>le+JSON.stringify(_e),"")}collectRequiredFields(le,_e){var ae=this;return(0,D.Z)(function*(){yield ae.collectVVRequiredFields(le,_e);for(const he of ae.attributes)he.valueExpression&&(yield(0,ne.io)(le,_e,he.valueExpression)),he.field&&le.add(he.field)})()}};(0,T._)([(0,B.Cb)({type:[Y.Z],json:{write:!0}})],ee.prototype,"attributes",void 0),(0,T._)([(0,B.Cb)({type:z.Z,json:{default:null,write:!0}})],ee.prototype,"backgroundFillSymbol",void 0),(0,T._)([(0,B.Cb)({type:te.Z,json:{write:!0}})],ee.prototype,"defaultColor",void 0),(0,T._)([(0,B.Cb)({type:String,json:{write:!0}})],ee.prototype,"defaultLabel",void 0),(0,T._)([(0,B.Cb)({type:Number,range:{min:0,max:1},json:{write:!0}})],ee.prototype,"holePercentage",void 0),(0,T._)([(0,B.Cb)({type:x,json:{write:!0}})],ee.prototype,"othersCategory",void 0),(0,T._)([(0,B.Cb)({type:$,json:{write:!0}})],ee.prototype,"legendOptions",void 0),(0,T._)([(0,B.Cb)({type:q.Z,json:{default:null,write:!0}})],ee.prototype,"outline",void 0),(0,T._)([(0,B.Cb)({type:Number,cast:k.t_,json:{write:!0}})],ee.prototype,"size",void 0),(0,T._)([(0,V.J)({pieChart:"pie-chart"})],ee.prototype,"type",void 0),ee=(0,T._)([(0,Q.j)("esri.renderers.PieChartRenderer")],ee);const re=ee},69357:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Q});var D=M(15861),T=M(17626),te=M(2076),Z=M(86810),U=M(77712),B=(M(90912),M(85931),M(76898)),R=M(15312);const W=new te.X({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let V=class extends Z.wq{constructor(ne){super(ne),this.authoringInfo=null,this.type=null}getRequiredFields(ne){var J=this;return(0,D.Z)(function*(){if(!J.collectRequiredFields)return[];const X=new Set;return yield J.collectRequiredFields(X,ne),Array.from(X).sort()})()}getSymbol(ne,J){}getSymbolAsync(ne,J){return(0,D.Z)(function*(){})()}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};(0,T._)([(0,U.Cb)({type:R.Z,json:{write:!0}})],V.prototype,"authoringInfo",void 0),(0,T._)([(0,U.Cb)({type:W.apiValues,readOnly:!0,json:{type:W.jsonValues,read:!1,write:{writer:W.write,ignoreOrigin:!0}}})],V.prototype,"type",void 0),V=(0,T._)([(0,B.j)("esri.renderers.Renderer")],V);const Q=V},40342:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ne});var V,D=M(15861),T=M(17626),te=M(58817),Z=M(77712),ie=(M(90912),M(55342)),k=M(76898),B=M(69357),R=M(98563),W=M(76457);let Q=V=class extends((0,R.W)(B.Z)){constructor(J){super(J),this.description=null,this.label=null,this.symbol=null,this.type="simple"}collectRequiredFields(J,X){var Y=this;return(0,D.Z)(function*(){yield Promise.all([Y.collectSymbolFields(J,X),Y.collectVVRequiredFields(J,X)])})()}collectSymbolFields(J,X){var Y=this;return(0,D.Z)(function*(){yield Promise.all(Y.getSymbols().map(F=>F.collectRequiredFields(J,X)))})()}getSymbol(J,X){return this.symbol}getSymbolAsync(J,X){var Y=this;return(0,D.Z)(function*(){return Y.symbol})()}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((J,X)=>J+X.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((J,X)=>J+JSON.stringify(X),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new V({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:(0,te.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};(0,T._)([(0,Z.Cb)({type:String,json:{write:!0}})],Q.prototype,"description",void 0),(0,T._)([(0,Z.Cb)({type:String,json:{write:!0}})],Q.prototype,"label",void 0),(0,T._)([(0,Z.Cb)(W.Gn)],Q.prototype,"symbol",void 0),(0,T._)([(0,ie.J)({simple:"simple"})],Q.prototype,"type",void 0),Q=V=(0,T._)([(0,k.j)("esri.renderers.SimpleRenderer")],Q);const ne=Q},73640:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Je});var D=M(15861),T=M(17626),te=M(20383),Z=M(26584),U=M(58817),ie=M(63290),k=M(62208),B=M(94113),R=M(32917),W=M(77712),V=M(66656),Q=M(55342),ne=M(68653),J=M(76898),X=M(99433),Y=M(84682),F=M(90912),x=M(36630),$=M(84687),N=M(69357),z=M(98563),q=M(76457),ee=M(10914),re=M(79608),le=M(86810);M(85931);let ae=class extends((0,re.J)(le.wq)){constructor(Ie){super(Ie),this.value=null,this.value2=null,this.value3=null}};(0,T._)([(0,W.Cb)(q.GY)],ae.prototype,"value",void 0),(0,T._)([(0,W.Cb)(q.GY)],ae.prototype,"value2",void 0),(0,T._)([(0,W.Cb)(q.GY)],ae.prototype,"value3",void 0),ae=(0,T._)([(0,J.j)("esri.renderers.support.UniqueValue")],ae);const he=ae;let se=class extends((0,re.J)(le.wq)){constructor(Ie){super(Ie),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(Ie){if(null==Ie)return null;const Le=typeof(Ie=Array.isArray(Ie)?Ie:[Ie])[0];return"string"===Le||"number"===Le?Ie.map(Ve=>new he({value:Ve})):"object"===Le?Ie[0]instanceof he?Ie:Ie.map(Ve=>new he(Ve)):null}};(0,T._)([(0,W.Cb)({type:String,json:{write:!0}})],se.prototype,"description",void 0),(0,T._)([(0,W.Cb)({type:String,json:{write:!0}})],se.prototype,"label",void 0),(0,T._)([(0,W.Cb)(q.Gn)],se.prototype,"symbol",void 0),(0,T._)([(0,W.Cb)({type:[he],json:{type:[[String]],read:{reader:Ie=>Ie?Ie.map(Le=>new he({value:Le[0],value2:Le[1],value3:Le[2]})):null},write:{writer:(Ie,Le)=>{const Ve=[];for(const st of Ie){const ce=[st.value,st.value2,st.value3].filter(k.pC).map(Se=>Se.toString());Ve.push(ce)}Le.values=Ve}}}})],se.prototype,"values",void 0),(0,T._)([(0,V.p)("values")],se.prototype,"castValues",null),se=(0,T._)([(0,J.j)("esri.renderers.support.UniqueValueClass")],se);const ue=se;let ge=class extends((0,re.J)(le.wq)){constructor(Ie){super(Ie),this.heading=null,this.classes=null}};(0,T._)([(0,W.Cb)({type:String,json:{write:!0}})],ge.prototype,"heading",void 0),(0,T._)([(0,W.Cb)({type:[ue],json:{write:!0}})],ge.prototype,"classes",void 0),ge=(0,T._)([(0,J.j)("esri.renderers.support.UniqueValueGroup")],ge);const be=ge;var De,me=M(87266),Oe=M(46679),oe=M(29840),de=M(71937),ve=M(12874);const xe="esri.renderers.UniqueValueRenderer",Ce=ie.Z.getLogger(xe),Re="uvInfos-watcher",we="uvGroups-watcher",fe=(0,F.se)(me.Z);let je=De=class extends((0,z.W)(N.Z)){constructor(Ie){super(Ie),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(Le,Ve){if(!Le&&!Ve)return;if(!Le||!Ve)return{type:"complete",oldValue:Le,newValue:Ve};let st=!1;const ce={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let Se=0;Se<Ve.length;Se++){const ze=Le.find(Ke=>Ke.value===Ve[Se].value);ze?(0,Y.Hg)(ze,Ve[Se])?(ce.changed.push({type:"complete",oldValue:ze,newValue:Ve[Se]}),st=!0):ce.unchanged.push({oldValue:ze,newValue:Ve[Se]}):(ce.added.push(Ve[Se]),st=!0)}for(let Se=0;Se<Le.length;Se++)Ve.find(ze=>ze.value===Le[Se].value)||(ce.removed.push(Le[Se]),st=!0);return st?ce:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(Ie){this._set("field",Ie),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(Ie){return null==Ie||"function"==typeof Ie?Ie:(0,F.Zs)(Ie)}writeField(Ie,Le,Ve,st){"string"==typeof Ie?Le[Ve]=Ie:st&&st.messages?st.messages.push(new Z.Z("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):Ce.error(".field: cannot write field to JSON since it's not a string value")}set field2(Ie){this._set("field2",Ie),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(Ie){this._set("field3",Ie),this._updateUniqueValues()}set valueExpression(Ie){this._set("valueExpression",Ie),this._updateUniqueValues()}set defaultSymbol(Ie){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",Ie)}set fieldDelimiter(Ie){this._set("fieldDelimiter",Ie),this._updateUniqueValues()}readPortal(Ie,Le,Ve){return Ve.portal||$.Z.getDefault()}readStyleOrigin(Ie,Le,Ve){if(Le.styleName)return Object.freeze({styleName:Le.styleName});if(Le.styleUrl){const st=(0,oe.f)(Le.styleUrl,Ve);return Object.freeze({styleUrl:st})}}writeStyleOrigin(Ie,Le,Ve,st){Ie.styleName?Le.styleName=Ie.styleName:Ie.styleUrl&&(Le.styleUrl=(0,oe.t)(Ie.styleUrl,st))}set uniqueValueGroups(Ie){this.styleOrigin?Ce.error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",Ie),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(Ie){this.styleOrigin?Ce.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",Ie),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(Ie,Le){if(this.styleOrigin)return void Ce.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let Ve;Ve="object"==typeof Ie?fe(Ie):new me.Z({value:Ie,symbol:(0,te.se)(Le)}),this.uniqueValueInfos?.push(Ve),this._valueInfoMap[Ve.value]=Ve,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(Ie){if(this.styleOrigin)return void Ce.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const Le=this.uniqueValueInfos;if(Le)for(let Ve=0;Ve<Le.length;Ve++)if(Le[Ve].value===Ie+""){delete this._valueInfoMap[Ie],Le.splice(Ve,1);break}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}getUniqueValueInfo(Ie,Le){var Ve=this;return(0,D.Z)(function*(){let st=Le;return Ve.valueExpression&&((0,k.Wi)(Le)||(0,k.Wi)(Le.arcade))&&(st={...st,arcade:yield(0,Oe.LC)()}),Ve._getUniqueValueInfo(Ie,st)})()}getSymbol(Ie,Le){if(this.valueExpression&&((0,k.Wi)(Le)||(0,k.Wi)(Le.arcade)))return void Ce.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const Ve=this._getUniqueValueInfo(Ie,Le);return Ve&&Ve.symbol||this.defaultSymbol}getSymbolAsync(Ie,Le){var Ve=this;return(0,D.Z)(function*(){let st=Le;if(Ve.valueExpression&&((0,k.Wi)(st)||(0,k.Wi)(st.arcade))){const Se=yield(0,Oe.LC)(),{arcadeUtils:ze}=Se;ze.hasGeometryOperations(Ve.valueExpression)&&(yield ze.enableGeometryOperations()),st={...st,arcade:Se}}const ce=Ve._getUniqueValueInfo(Ie,st);return ce&&ce.symbol||Ve.defaultSymbol})()}getSymbols(){const Ie=[];for(const Le of this.uniqueValueInfos??[])Le.symbol&&Ie.push(Le.symbol);return this.defaultSymbol&&Ie.push(this.defaultSymbol),Ie}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((Ie,Le)=>Ie+Le.getAttributeHash(),"")}getMeshHash(){const Ie=JSON.stringify(this.backgroundFillSymbol),Le=JSON.stringify(this.defaultSymbol),Ve=this.uniqueValueInfos?.reduce((st,ce)=>st+ce.getMeshHash(),"");return`${Ie}.${Le}.${Ve}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const Ie=new De({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:(0,U.d9)(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:(0,U.d9)(this.visualVariables),legendOptions:(0,U.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:(0,U.d9)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(Ie._isDefaultSymbolDerived=!0),Ie._set("portal",this.portal);const Le=(0,U.d9)(this.uniqueValueInfos),Ve=(0,U.d9)(this.uniqueValueGroups);return this.styleOrigin&&(Ie._set("styleOrigin",Object.freeze((0,U.d9)(this.styleOrigin))),Object.freeze(Le),Object.freeze(Ve)),Ie._set("uniqueValueInfos",Le),Ie._updateValueInfoMap(),Ie._set("uniqueValueGroups",Ve),Ie._isInfosSource=this._isInfosSource,Ie._watchUniqueValueInfosAndGroups(),Ie}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}collectRequiredFields(Ie,Le){var Ve=this;return(0,D.Z)(function*(){const st=[Ve.collectVVRequiredFields(Ie,Le),Ve.collectSymbolFields(Ie,Le)];yield Promise.all(st)})()}collectSymbolFields(Ie,Le){var Ve=this;return(0,D.Z)(function*(){const st=[...Ve.getSymbols().map(ce=>ce.collectRequiredFields(Ie,Le)),(0,x.io)(Ie,Le,Ve.valueExpression)];(0,x.AB)(Ie,Le,Ve.field),(0,x.AB)(Ie,Le,Ve.field2),(0,x.AB)(Ie,Le,Ve.field3),yield Promise.all(st)})()}populateFromStyle(){return(0,de.n2)(this.styleOrigin,{portal:this.portal}).then(Ie=>{const Le=[];return this._valueInfoMap={},Ie&&Ie.data&&Array.isArray(Ie.data.items)&&Ie.data.items.forEach(Ve=>{const st=new ve.Z({styleUrl:Ie.styleUrl,styleName:Ie.styleName,portal:this.portal,name:Ve.name});this.defaultSymbol||Ve.name!==Ie.data.defaultItem||(this.defaultSymbol=st,this._isDefaultSymbolDerived=!0);const ce=new me.Z({value:Ve.name,symbol:st});Le.push(ce),this._valueInfoMap[Ve.name]=ce}),this._set("uniqueValueInfos",Object.freeze(Le)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",",")}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:Ie}=this;if(Ie)for(const Le of Ie)this._valueInfoMap[Le.value+""]=Le}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(Re);const{uniqueValueInfos:Ie}=this;if(Ie){const Le=[];for(const Ve of Ie)Le.push((0,R.YP)(()=>({symbol:Ve.symbol,value:Ve.value,label:Ve.label,description:Ve.description}),(st,ce)=>{st!==ce&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(Le,Re)}}_watchUniqueValueGroups(){this.removeHandles(we);const{uniqueValueGroups:Ie}=this;if(Ie){const Le=[];for(const Ve of Ie){Le.push((0,R.YP)(()=>({classes:Ve.classes}),(st,ce)=>{st!==ce&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const st of Ve.classes??[])Le.push((0,R.YP)(()=>({symbol:st.symbol,values:st.values,label:st.label,description:st.description}),(ce,Se)=>{ce!==Se&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(Le,we)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const Ie=[],{field:Le,field2:Ve,field3:st,fieldDelimiter:ce,uniqueValueGroups:Se,valueExpression:ze}=this;if(!Le&&!ze)return this._set("uniqueValueInfos",Ie),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const Ke=!(!Le||!Ve);for(const Xe of Se)for(const et of Xe.classes??[]){const{symbol:ct,label:ft,values:$e,description:ut}=et;for(const qe of $e??[]){const{value:ke,value2:Ge,value3:We}=qe,tt=[ke];Ve&&tt.push(Ge),st&&tt.push(We);const at=Ke?tt.join(ce||""):tt[0];Ie.push(new me.Z({symbol:ct,label:ft,value:at,description:ut}))}}this._set("uniqueValueInfos",Ie),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(Ie=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:Le,field2:Ve,valueExpression:st,fieldDelimiter:ce,uniqueValueInfos:Se}=this;if(!Le&&!st||!Se.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const ze=!(!Le||!Ve),Ke=Se.map(et=>{const{symbol:ct,label:ft,value:$e,description:ut}=et,[qe,ke,Ge]=ze?$e?.toString()?.split(ce||"")||[]:[$e];return new ue({symbol:ct,label:ft,description:ut,values:[new he({value:qe,value2:ke,value3:Ge})]})}),Xe=[new be({classes:Ke})];Ie&&Object.freeze(Xe),this._set("uniqueValueGroups",Xe),this._watchUniqueValueGroups()}_getUniqueValueInfo(Ie,Le){return this.valueExpression?this._getUnqiueValueInfoForExpression(Ie,Le):this._getUnqiueValueInfoForFields(Ie)}_getUnqiueValueInfoForExpression(Ie,Le){const{viewingMode:Ve,scale:st,spatialReference:ce,arcade:Se}=(0,k.Pt)(Le,{});let ze=this._cache.compiledFunc;const Ke=(0,k.Wg)(Se).arcadeUtils;if(!ze){const et=Ke.createSyntaxTree(this.valueExpression);ze=Ke.createFunction(et),this._cache.compiledFunc=ze}const Xe=Ke.executeFunction(ze,Ke.createExecContext(Ie,Ke.getViewInfo({viewingMode:Ve,scale:st,spatialReference:ce})));return this._valueInfoMap[Xe+""]}_getUnqiueValueInfoForFields(Ie){const Le=this.field,Ve=Ie.attributes;let st;if("function"!=typeof Le&&this.field2){const ce=this.field2,Se=this.field3,ze=[];Le&&ze.push(Ve[Le]),ce&&ze.push(Ve[ce]),Se&&ze.push(Ve[Se]),st=ze.join(this.fieldDelimiter||"")}else"function"==typeof Le?st=Le(Ie):Le&&(st=Ve[Le]);return this._valueInfoMap[st+""]}static fromPortalStyle(Ie,Le){const Ve=new De(Le&&Le.properties);Ve._set("styleOrigin",Object.freeze({styleName:Ie})),Ve._set("portal",Le&&Le.portal||$.Z.getDefault());const st=Ve.populateFromStyle();return st.catch(ce=>{Ce.error(`#fromPortalStyle('${Ie}'[, ...])`,"Failed to create unique value renderer from style name",ce)}),st}static fromStyleUrl(Ie,Le){const Ve=new De(Le&&Le.properties);Ve._set("styleOrigin",Object.freeze({styleUrl:Ie}));const st=Ve.populateFromStyle();return st.catch(ce=>{Ce.error(`#fromStyleUrl('${Ie}'[, ...])`,"Failed to create unique value renderer from style URL",ce)}),st}};(0,T._)([(0,W.Cb)({readOnly:!0})],je.prototype,"_cache",null),(0,T._)([(0,Q.J)({uniqueValue:"unique-value"})],je.prototype,"type",void 0),(0,T._)([(0,W.Cb)(q.KK)],je.prototype,"backgroundFillSymbol",void 0),(0,T._)([(0,W.Cb)({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],je.prototype,"field",null),(0,T._)([(0,V.p)("field")],je.prototype,"castField",null),(0,T._)([(0,X.c)("field")],je.prototype,"writeField",null),(0,T._)([(0,W.Cb)({type:String,value:null,json:{write:!0}})],je.prototype,"field2",null),(0,T._)([(0,W.Cb)({type:String,value:null,json:{write:!0}})],je.prototype,"field3",null),(0,T._)([(0,W.Cb)({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],je.prototype,"orderByClassesEnabled",void 0),(0,T._)([(0,W.Cb)({type:String,value:null,json:{write:!0}})],je.prototype,"valueExpression",null),(0,T._)([(0,W.Cb)({type:String,json:{write:!0}})],je.prototype,"valueExpressionTitle",void 0),(0,T._)([(0,W.Cb)({type:ee.I,json:{write:!0}})],je.prototype,"legendOptions",void 0),(0,T._)([(0,W.Cb)({type:String,json:{write:!0}})],je.prototype,"defaultLabel",void 0),(0,T._)([(0,W.Cb)((0,B.RH)({...q.Gn},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],je.prototype,"defaultSymbol",null),(0,T._)([(0,W.Cb)({type:String,value:null,json:{write:!0}})],je.prototype,"fieldDelimiter",null),(0,T._)([(0,W.Cb)({type:$.Z,readOnly:!0})],je.prototype,"portal",void 0),(0,T._)([(0,ne.r)("portal",["styleName"])],je.prototype,"readPortal",null),(0,T._)([(0,W.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],je.prototype,"styleOrigin",void 0),(0,T._)([(0,ne.r)("styleOrigin",["styleName","styleUrl"])],je.prototype,"readStyleOrigin",null),(0,T._)([(0,X.c)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],je.prototype,"writeStyleOrigin",null),(0,T._)([(0,W.Cb)({type:[be],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(Ie,Le,Ve)=>(Le.uniqueValueGroups||function ye(Ie){const{field1:Le,field2:Ve,field3:st,fieldDelimiter:ce,uniqueValueInfos:Se,valueExpression:ze}=Ie,Ke=!(!Le||!Ve);return[{classes:(Se??[]).map(Xe=>{const{symbol:et,label:ct,value:ft,description:$e}=Xe,[ut,qe,ke]=Ke?ft?.toString()?.split(ce||"")||[]:[ft],Ge=[];return(Le||ze)&&Ge.push(ut),Ve&&Ge.push(qe),st&&Ge.push(ke),{symbol:et,label:ct,values:[Ge],description:$e}})}]}(Le)).map(st=>be.fromJSON(st,Ve))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],je.prototype,"uniqueValueGroups",null),(0,T._)([(0,W.Cb)({type:[me.Z],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],je.prototype,"uniqueValueInfos",null),je=De=(0,T._)([(0,J.j)(xe)],je);const Je=je},98563:(nt,Te,M)=>{"use strict";M.d(Te,{W:()=>De});var D=M(15861),T=M(17626),te=M(62208),Z=M(77712),U=M(90912),k=(M(85931),M(68653)),B=M(76898),R=M(99433),W=M(36630);const Q=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;var X,ne=M(17977),J=M(8029);let Y=X=class extends ne.Z{constructor(Ce){super(Ce),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(Ce){Ce&&Array.isArray(Ce)&&(Ce=Ce.filter(Re=>!!Re)).sort((Re,we)=>Re.value-we.value),this._set("stops",Ce)}clone(){return new X({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(Ce=>Ce.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(Ce=>Ce.value||0)}};(0,T._)([(0,Z.Cb)({readOnly:!0})],Y.prototype,"cache",null),(0,T._)([(0,Z.Cb)({type:["color"],json:{type:["colorInfo"]}})],Y.prototype,"type",void 0),(0,T._)([(0,Z.Cb)({type:String,json:{write:!0}})],Y.prototype,"normalizationField",void 0),(0,T._)([(0,Z.Cb)({type:[J.Z],json:{write:!0}})],Y.prototype,"stops",null),Y=X=(0,T._)([(0,B.j)("esri.renderers.visualVariables.ColorVariable")],Y);const F=Y;var N,x=M(86810),$=M(92236);let z=N=class extends x.wq{constructor(Ce){super(Ce),this.label=null,this.opacity=null,this.value=null}readOpacity(Ce,Re){return(0,$.b)(Re.transparency)}writeOpacity(Ce,Re,we){Re[we]=(0,$.a)(Ce)}clone(){return new N({label:this.label,opacity:this.opacity,value:this.value})}};(0,T._)([(0,Z.Cb)({type:String,json:{write:!0}})],z.prototype,"label",void 0),(0,T._)([(0,Z.Cb)({type:Number,json:{type:U.z8,write:{target:"transparency"}}})],z.prototype,"opacity",void 0),(0,T._)([(0,k.r)("opacity",["transparency"])],z.prototype,"readOpacity",null),(0,T._)([(0,R.c)("opacity")],z.prototype,"writeOpacity",null),(0,T._)([(0,Z.Cb)({type:Number,json:{write:!0}})],z.prototype,"value",void 0),z=N=(0,T._)([(0,B.j)("esri.renderers.visualVariables.support.OpacityStop")],z);const q=z;var ee;let re=ee=class extends ne.Z{constructor(Ce){super(Ce),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(Ce){Ce&&Array.isArray(Ce)&&(Ce=Ce.filter(Re=>!!Re)).sort((Re,we)=>Re.value-we.value),this._set("stops",Ce)}clone(){return new ee({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(Ce=>Ce.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(Ce=>Ce.value||0)}};(0,T._)([(0,Z.Cb)({readOnly:!0})],re.prototype,"cache",null),(0,T._)([(0,Z.Cb)({type:["opacity"],json:{type:["transparencyInfo"]}})],re.prototype,"type",void 0),(0,T._)([(0,Z.Cb)({type:String,json:{write:!0}})],re.prototype,"normalizationField",void 0),(0,T._)([(0,Z.Cb)({type:[q],json:{write:!0}})],re.prototype,"stops",null),re=ee=(0,T._)([(0,B.j)("esri.renderers.visualVariables.OpacityVariable")],re);const le=re;var _e=M(13398),ae=M(68598),he=M(14517),se=M(2076),ue=M(63290),ge=M(14889);const be={color:F,size:ae.Z,opacity:le,rotation:_e.Z},me=new se.X({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),Oe=/^\[([^\]]+)\]$/i;let oe=class extends he.Z{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(Ce){if(this._resetVariables(),(Ce=Ce&&Ce.filter(Re=>!!Re))&&Ce.length){for(const Re of Ce)switch(Re.type){case"color":this.colorVariables.push(Re);break;case"opacity":this.opacityVariables.push(Re);break;case"rotation":this.rotationVariables.push(Re);break;case"size":this.sizeVariables.push(Re)}this.sizeVariables.length&&this.sizeVariables.some(Re=>!!Re.target)&&Ce.sort((Re,we)=>{let Me=null;return Me=Re.target===we.target?0:Re.target?1:-1,Me});for(let Re=0;Re<Ce.length;Re++)Ce[Re].index=Re;this._set("visualVariables",Ce)}else this._set("visualVariables",Ce)}readVariables(Ce,Re,we){const{rotationExpression:Me,rotationType:fe}=Re,ye=Me&&Me.match(Oe),je=ye&&ye[1];if(je&&(Ce||(Ce=[]),Ce.push({type:"rotationInfo",rotationType:fe,field:je})),Ce)return Ce.map(Je=>{const Ie=me.read(Je.type),Le=be[Ie];Le||(ue.Z.getLogger(this.declaredClass).warn(`Unknown variable type: ${Ie}`),we&&we.messages&&we.messages.push(new ge.Z("visual-variable:unsupported",`visualVariable of type '${Ie}' is not supported`,{definition:Je,context:we})));const Ve=new Le;return Ve.read(Je,we),Ve})}writeVariables(Ce,Re){const we=[];for(const Me of Ce){const fe=Me.toJSON(Re);fe&&we.push(fe)}return we}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};(0,T._)([(0,Z.Cb)()],oe.prototype,"visualVariables",null),oe=(0,T._)([(0,B.j)("esri.renderers.visualVariables.VisualVariableFactory")],oe);const de=oe,ve={base:ne.Z,key:"type",typeMap:{opacity:le,color:F,rotation:_e.Z,size:ae.Z}},De=Ce=>{let Re=class extends Ce{constructor(){super(...arguments),this._vvFactory=new de}set visualVariables(we){this._vvFactory.visualVariables=we,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(we,Me,fe){return this._vvFactory.readVariables(we,Me,fe)}writeVisualVariables(we,Me,fe,ye){Me[fe]=this._vvFactory.writeVariables(we,ye)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const we of this.visualVariables)if(we.arcadeRequired)return!0;return!1}hasVisualVariables(we,Me){return we?this.getVisualVariablesForType(we,Me).length>0:this.getVisualVariablesForType("size",Me).length>0||this.getVisualVariablesForType("color",Me).length>0||this.getVisualVariablesForType("opacity",Me).length>0||this.getVisualVariablesForType("rotation",Me).length>0}getVisualVariablesForType(we,Me){const fe=this.visualVariables;return fe?fe.filter(ye=>ye.type===we&&("string"==typeof Me?ye.target===Me:!1!==Me||!ye.target)):[]}collectVVRequiredFields(we,Me){var fe=this;return(0,D.Z)(function*(){let ye=[];fe.visualVariables&&(ye=ye.concat(fe.visualVariables));for(const je of ye)je&&(je.field&&(0,W.AB)(we,Me,je.field),je.normalizationField&&(0,W.AB)(we,Me,je.normalizationField),je.valueExpression&&(xe(je.valueExpression,we,Me)||(yield(0,W.io)(we,Me,je.valueExpression))))})()}};return(0,T._)([(0,Z.Cb)({types:[ve],value:null,json:{write:!0}})],Re.prototype,"visualVariables",null),(0,T._)([(0,k.r)("visualVariables",["visualVariables","rotationType","rotationExpression"])],Re.prototype,"readVisualVariables",null),(0,T._)([(0,R.c)("visualVariables")],Re.prototype,"writeVisualVariables",null),Re=(0,T._)([(0,B.j)("esri.renderers.mixins.VisualVariablesMixin")],Re),Re};function xe(Ce,Re,we){const Me=function V(Ce){return Ce.match(Q)?.[1]?.replace(/\\'/g,"'")??null}(Ce);return!!(0,te.pC)(Me)&&((0,W.AB)(Re,we,Me),!0)}},41832:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Q});var W,D=M(17626),T=M(91558),te=M(86810),Z=M(63290),U=M(77712),ie=M(66656),B=(M(85931),M(76898)),R=M(90912);let V=W=class extends te.wq{constructor(ne){super(ne),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(ne){return null==ne?ne:"function"==typeof ne?(Z.Z.getLogger(this.declaredClass).error(".field: field must be a string value"),null):(0,R.Zs)(ne)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new W({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,D._)([(0,U.Cb)({type:T.Z,json:{type:[Number],write:!0}})],V.prototype,"color",void 0),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],V.prototype,"field",void 0),(0,D._)([(0,ie.p)("field")],V.prototype,"castField",null),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],V.prototype,"label",void 0),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],V.prototype,"valueExpression",void 0),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],V.prototype,"valueExpressionTitle",void 0),V=W=(0,D._)([(0,B.j)("esri.renderers.support.AttributeColorInfo")],V);const Q=V},15312:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Oe});var W,D=M(17626),T=M(2076),te=M(86810),Z=M(58817),U=M(77712),ie=M(90912),k=M(68653),B=M(76898);M(85931);let V=W=class extends te.wq{constructor(oe){super(oe),this.minValue=0,this.maxValue=0}clone(){return new W({minValue:this.minValue,maxValue:this.maxValue})}};var Q;(0,D._)([(0,U.Cb)({type:Number,json:{write:!0}})],V.prototype,"minValue",void 0),(0,D._)([(0,U.Cb)({type:Number,json:{write:!0}})],V.prototype,"maxValue",void 0),V=W=(0,D._)([(0,B.j)("esri.renderer.support.AuthoringInfoClassBreakInfo")],V);let ne=Q=class extends te.wq{constructor(oe){super(oe),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new Q({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:(0,Z.d9)(this.classBreakInfos)})}};(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],ne.prototype,"field",void 0),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],ne.prototype,"normalizationField",void 0),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],ne.prototype,"label",void 0),(0,D._)([(0,U.Cb)({type:[V],json:{write:!0}})],ne.prototype,"classBreakInfos",void 0),ne=Q=(0,D._)([(0,B.j)("esri.renderers.support.AuthoringInfoFieldInfo")],ne);var X,J=M(66656);const Y=new T.X({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),F=new T.X({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),x={key:oe=>"number"==typeof oe?"number":"string",typeMap:{number:Number,string:String},base:null},$=["high-to-low","above-and-below","centered-on","extremes"],N=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],z=["seconds","minutes","hours","days","months","years"];let q=X=class extends te.wq{constructor(oe){super(oe),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(oe){return"string"==typeof oe||"number"==typeof oe?oe:null}castStartTime(oe){return"string"==typeof oe||"number"==typeof oe?oe:null}get style(){return"color"===this.type?this._get("style"):null}set style(oe){this._set("style",oe)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(oe){this._set("theme",oe)}clone(){return new X({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};(0,D._)([(0,U.Cb)({types:x,json:{write:!0}})],q.prototype,"endTime",void 0),(0,D._)([(0,J.p)("endTime")],q.prototype,"castEndTime",null),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],q.prototype,"field",void 0),(0,D._)([(0,U.Cb)({type:Number,json:{write:!0}})],q.prototype,"maxSliderValue",void 0),(0,D._)([(0,U.Cb)({type:Number,json:{write:!0}})],q.prototype,"minSliderValue",void 0),(0,D._)([(0,U.Cb)({types:x,json:{write:!0}})],q.prototype,"startTime",void 0),(0,D._)([(0,J.p)("startTime")],q.prototype,"castStartTime",null),(0,D._)([(0,U.Cb)({type:Y.apiValues,value:null,json:{type:Y.jsonValues,read:Y.read,write:Y.write}})],q.prototype,"style",null),(0,D._)([(0,U.Cb)({type:N,value:null,json:{type:N,origins:{"web-scene":{type:$,write:{writer:(oe,de)=>{$.includes(oe)&&(de.theme=oe)}}}},write:!0}})],q.prototype,"theme",null),(0,D._)([(0,U.Cb)({type:F.apiValues,json:{type:F.jsonValues,read:F.read,write:F.write}})],q.prototype,"type",void 0),(0,D._)([(0,U.Cb)({type:z,json:{type:z,write:!0}})],q.prototype,"units",void 0),q=X=(0,D._)([(0,B.j)("esri.renderers.support.AuthoringInfoVisualVariable")],q);const ee=q;var le,re=M(79023);const _e=new T.X({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),ae=new T.X({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),he=new T.X({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),se=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"];let me=le=class extends te.wq{constructor(oe){super(oe),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const oe=this._get("classificationMethod"),de=this.type;return de&&"relationship"!==de?"class-breaks-size"===de||"class-breaks-color"===de?oe||"manual":null:oe}set classificationMethod(oe){this._set("classificationMethod",oe)}readColorRamp(oe){return oe?(0,re.i)(oe):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(oe){this._set("fields",oe)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(oe){this._set("field1",oe)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(oe){this._set("field2",oe)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(oe){this._set("flowTheme",oe)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(oe){this._set("focus",oe)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(oe){this._set("numClasses",oe)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(oe){this._set("statistics",oe)}get standardDeviationInterval(){const oe=this.type;return oe&&"relationship"!==oe&&"class-breaks-size"!==oe&&"class-breaks-color"!==oe||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(oe){this._set("standardDeviationInterval",oe)}get type(){return this._get("type")}set type(oe){let de=oe;"classed-size"===oe?de="class-breaks-size":"classed-color"===oe&&(de="class-breaks-color"),this._set("type",de)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(oe){this._set("univariateSymbolStyle",oe)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(oe){this._set("univariateTheme",oe)}clone(){return new le({classificationMethod:this.classificationMethod,colorRamp:(0,Z.d9)(this.colorRamp),fadeRatio:(0,Z.d9)(this.fadeRatio),fields:this.fields&&this.fields.slice(0),field1:(0,Z.d9)(this.field1),field2:(0,Z.d9)(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(oe=>oe.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};(0,D._)([(0,U.Cb)({type:_e.apiValues,value:null,json:{type:_e.jsonValues,read:_e.read,write:_e.write,origins:{"web-document":{default:"manual",type:_e.jsonValues,read:_e.read,write:_e.write}}}})],me.prototype,"classificationMethod",null),(0,D._)([(0,U.Cb)({types:re.V,json:{write:!0}})],me.prototype,"colorRamp",void 0),(0,D._)([(0,k.r)("colorRamp")],me.prototype,"readColorRamp",null),(0,D._)([(0,U.Cb)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],me.prototype,"fadeRatio",void 0),(0,D._)([(0,U.Cb)({type:[String],value:null,json:{write:!0}})],me.prototype,"fields",null),(0,D._)([(0,U.Cb)({type:ne,value:null,json:{write:!0}})],me.prototype,"field1",null),(0,D._)([(0,U.Cb)({type:ne,value:null,json:{write:!0}})],me.prototype,"field2",null),(0,D._)([(0,U.Cb)({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],me.prototype,"flowTheme",null),(0,D._)([(0,U.Cb)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],me.prototype,"focus",null),(0,D._)([(0,U.Cb)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],me.prototype,"isAutoGenerated",void 0),(0,D._)([(0,U.Cb)({type:Number,value:null,json:{type:ie.z8,write:!0}})],me.prototype,"numClasses",null),(0,D._)([(0,U.Cb)({type:se,json:{type:se,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],me.prototype,"lengthUnit",void 0),(0,D._)([(0,U.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],me.prototype,"maxSliderValue",void 0),(0,D._)([(0,U.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],me.prototype,"minSliderValue",void 0),(0,D._)([(0,U.Cb)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],me.prototype,"statistics",null),(0,D._)([(0,U.Cb)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],me.prototype,"standardDeviationInterval",null),(0,D._)([(0,U.Cb)({type:ae.apiValues,value:null,json:{type:ae.jsonValues,read:ae.read,write:ae.write,origins:{"web-scene":{type:he.jsonValues,write:{writer:he.write,overridePolicy:oe=>({enabled:"flow"!==oe})}}}}})],me.prototype,"type",null),(0,D._)([(0,U.Cb)({type:[ee],json:{write:!0}})],me.prototype,"visualVariables",void 0),(0,D._)([(0,U.Cb)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],me.prototype,"univariateSymbolStyle",null),(0,D._)([(0,U.Cb)({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],me.prototype,"univariateTheme",null),me=le=(0,D._)([(0,B.j)("esri.renderers.support.AuthoringInfo")],me);const Oe=me},74400:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var B,D=M(17626),T=M(86810),te=M(77712),ie=(M(90912),M(85931),M(76898)),k=M(76457);let R=B=class extends T.wq{constructor(V){super(V),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new B({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const V=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${V}`}};(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],R.prototype,"description",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],R.prototype,"label",void 0),(0,D._)([(0,te.Cb)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],R.prototype,"minValue",void 0),(0,D._)([(0,te.Cb)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],R.prototype,"maxValue",void 0),(0,D._)([(0,te.Cb)(k.Gn)],R.prototype,"symbol",void 0),R=B=(0,D._)([(0,ie.j)("esri.renderers.support.ClassBreakInfo")],R);const W=R},29996:(nt,Te,M)=>{"use strict";M.r(Te),M.d(Te,{DictionaryLoader:()=>J});var D=M(15861),T=M(91558),te=M(84792),Z=M(26584),U=M(63290),ie=M(93961),k=M(62208),B=M(10699),R=M(77275),W=M(46679),V=M(94398);const Q="esri.renderers.support.DictionaryLoader",ne={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class J{constructor(x,$,N){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new ie.Z(100),this._dictionaryPromise=null,this.url=x,this.config=$,this.fieldMap=N}getSymbolFields(){return this._symbolFields}getSymbolAsync(x,$){var N=this;return(0,D.Z)(function*(){let z;N._dictionaryPromise||(N._dictionaryPromise=N.fetchResources($));try{z=yield N._dictionaryPromise}catch(ge){if((0,B.D_)(ge))return N._dictionaryPromise=null,null}const q={};if(N.fieldMap)for(const ge of N._symbolFields){const be=N.fieldMap[ge];q[ge]=be&&null!=x.attributes[be]?""+x.attributes[be]:""}const ee=z?.(q,$);if(!ee||"string"!=typeof ee)return null;const re=(0,R.hP)(ee).toString(),le=N._symbolCache.get(re);if(le)return le.catch(()=>{N._symbolCache.pop(re)}),le;const _e=ee.split(";"),ae=[],he=[];for(const ge of _e)if(ge)if(ge.includes("po:")){const be=ge.substr(3).split("|");if(3===be.length){const me=be[0],Oe=be[1];let oe=be[2];if("DashTemplate"===Oe)oe=oe.split(" ").map(de=>Number(de));else if("Color"===Oe){const de=new T.Z(oe).toRgba();oe=[de[0],de[1],de[2],255*de[3]]}else oe=Number(oe);he.push({primitiveName:me,propertyName:Oe,value:oe})}}else if(ge.includes("|")){for(const be of ge.split("|"))if(N._itemNames.has(be)){ae.push(be);break}}else N._itemNames.has(ge)&&ae.push(ge);const se=!(0,k.pC)(x.geometry)||!x.geometry.hasZ&&"point"===x.geometry.type,ue=N._cimPartsToCIMSymbol(ae,he,se,$);return N._symbolCache.put(re,ue,1),ue})()}fetchResources(x){var $=this;return(0,D.Z)(function*(){if($._dictionaryPromise)return $._dictionaryPromise;if(!$.url)return void U.Z.getLogger(Q).error("no valid URL!");const N=(0,te.default)($.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:(0,k.pC)(x)?x.signal:null}),[{data:z}]=yield Promise.all([N,(0,W.LC)()]);if(!z)throw $._dictionaryPromise=null,new Z.Z("esri.renderers.DictionaryRenderer","Bad dictionary data!");const q=z.expression,ee=z.authoringInfo;$._refSymbolUrlTemplate=$.url+"/"+z.cimRefTemplateUrl,$._itemNames=new Set(z.itemsNames),$._symbolFields=ee.symbol;const re={};if($.config){const ae=$.config;for(const he in ae)re[he]=ae[he]}if(ee.configuration)for(const ae of ee.configuration)re.hasOwnProperty(ae.name)||(re[ae.name]=ae.value);const le=[];if((0,k.pC)(x)&&x.fields&&$.fieldMap)for(const ae of $._symbolFields){const he=$.fieldMap[ae],se=x.fields.filter(ue=>ue.name===he);se.length>0&&le.push({...se[0],name:ae})}const _e=(0,W.pp)(q,(0,k.pC)(x)?x.spatialReference:null,le,re).then(ae=>{const he={scale:0};return(se,ue)=>{if((0,k.Wi)(ae))return null;const ge=ae.repurposeFeature({geometry:null,attributes:se});return he.scale=(0,k.pC)(ue)?ue.scale??void 0:void 0,ae.evaluate({$feature:ge,$view:he})}}).catch(ae=>(U.Z.getLogger(Q).error("Creating dictinoary expression failed:",ae),null));return $._dictionaryPromise=_e,_e})()}_cimPartsToCIMSymbol(x,$,N,z){var q=this;return(0,D.Z)(function*(){const ee=new Array(x.length);for(let _e=0;_e<x.length;_e++)ee[_e]=q._getSymbolPart(x[_e],z);const re=yield Promise.all(ee),le=q.fieldMap;if(le)for(const _e of re)X(_e,le);return new V.Z({data:q._combineSymbolParts(re,$,N)})})()}_getSymbolPart(x,$){var N=this;return(0,D.Z)(function*(){if(N._ongoingRequests.has(x))return N._ongoingRequests.get(x).then(ee=>ee.data);const z=N._refSymbolUrlTemplate.replace(/\{itemName\}/gi,x),q=(0,te.default)(z,{responseType:"json",query:{f:"json"},...$});N._ongoingRequests.set(x,q);try{return(yield q).data}catch(ee){throw N._ongoingRequests.delete(x),ee}})()}_combineSymbolParts(x,$,N){if(!x||0===x.length)return null;const z={...x[0]};if(x.length>1){z.symbolLayers=[];for(const q of x)z.symbolLayers.unshift(...q.symbolLayers)}return N&&(z.callout=ne),{type:"CIMSymbolReference",symbol:z,primitiveOverrides:$}}}function X(F,x){if(!F)return;const $=F.symbolLayers;if(!$)return;let N=$.length;for(;N--;){const z=$[N];z&&!1!==z.enable&&"CIMVectorMarker"===z.type&&Y(z,x)}}function Y(F,x){const $=F.markerGraphics;if($)for(const N of $){if(!N)continue;const z=N.symbol;if(z)switch(z.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":X(z,x);break;case"CIMTextSymbol":z.fieldMap=x}}}},52372:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var B,D=M(17626),T=M(91558),te=M(86810),Z=M(77712),U=M(90912),k=(M(85931),M(76898));let R=B=class extends te.wq{constructor(V){super(V),this.color=null,this.ratio=null}clone(){return new B({color:this.color,ratio:this.ratio})}};(0,D._)([(0,Z.Cb)({type:T.Z,json:{type:[U.z8],default:null,write:!0}})],R.prototype,"color",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{write:!0}})],R.prototype,"ratio",void 0),R=B=(0,D._)([(0,k.j)("esri.renderers.support.HeatmapColorStop")],R);const W=R},10914:(nt,Te,M)=>{"use strict";M.d(Te,{I:()=>B});var k,D=M(17626),T=M(86810),te=M(77712),ie=(M(90912),M(85931),M(76898));let B=k=class extends T.wq{constructor(){super(...arguments),this.title=null}clone(){return new k({title:this.title})}};(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],B.prototype,"title",void 0),B=k=(0,D._)([(0,ie.j)("esri.renderers.support.LegendOptions")],B)},87266:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var B,D=M(17626),T=M(86810),te=M(77712),ie=(M(90912),M(85931),M(76898)),k=M(76457);let R=B=class extends T.wq{constructor(V){super(V),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new B({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const V=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${V}`}};(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],R.prototype,"description",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],R.prototype,"label",void 0),(0,D._)([(0,te.Cb)(k.Gn)],R.prototype,"symbol",void 0),(0,D._)([(0,te.Cb)(k.GY)],R.prototype,"value",void 0),R=B=(0,D._)([(0,ie.j)("esri.renderers.support.UniqueValueInfo")],R);const W=R},76457:(nt,Te,M)=>{"use strict";M.d(Te,{GY:()=>B,Gn:()=>ie,KK:()=>k});var D=M(20383),T=M(383),te=M(65270),Z=M(10012),U=M(89673);const ie={types:D.QT,json:{write:{writer:te.cW},origins:{"web-scene":{types:D.f_,write:{writer:te.cW},read:{reader:(0,T.d)({types:D.f_})}}}}},k={types:{base:Z.Z,key:"type",typeMap:{"simple-fill":D.LB.typeMap["simple-fill"],"picture-fill":D.LB.typeMap["picture-fill"],"polygon-3d":D.LB.typeMap["polygon-3d"]}},json:{write:{writer:te.cW},origins:{"web-scene":{type:U.Z,write:{writer:te.cW}}}}},B={cast:R=>null==R||"string"==typeof R||"number"==typeof R?R:`${R}`,json:{type:String,write:{writer:(R,W)=>{W.value=R?.toString()}}}}},36859:(nt,Te,M)=>{"use strict";M.d(Te,{AJ:()=>k,If:()=>ne,QM:()=>W,hy:()=>V,k0:()=>ie,nu:()=>U,uI:()=>R,wx:()=>J});var D=M(21286),T=M(23841),te=M(993),Z=M(4794);const U=2.4;function ie(Y){return(0,T.Wz)(Y*U)}function k(Y){return(0,T.F2)(Y)/U}function B(Y,F,x,$){let{color:N,ratio:z}=F,{color:q,ratio:ee}=x;ee===z&&(1===ee?z-=1e-6:ee+=1e-6);const re=(0,D.uZ)(($-z)/(ee-z),0,1);(0,te.l)(Y,N.toArray(),q.toArray(),re)}function R(Y){const x=new Uint8ClampedArray(2048);if((Y=Y.filter(({ratio:ee})=>ee>=0&&ee<=1).sort((ee,re)=>ee.ratio-re.ratio).map(({color:ee,ratio:re})=>({color:ee,ratio:Math.max(re,.001)}))).length<1)return x;let $=Y[0],N=Y[0],z=1;const q=(0,Z.c)();for(let ee=0;ee<512;ee++){const re=(ee+.5)/512;for(;re>N.ratio&&z<Y.length;)$=N,N=Y[z++];B(q,$,N,re),x.set(q,4*ee)}return x}function W(Y,F,x,$){const{radius:N,fieldOffset:z,field:q}=F,ee=Math.round((0,T.F2)(N)),re=new Float64Array(x*$);let le,_e=Number.NEGATIVE_INFINITY;const ae=function X(Y,F){return null!=Y?"string"==typeof F?x=>-1*+x.readAttribute(Y):x=>+x.readAttribute(Y)+F:x=>1}(q,z),he=new Set;for(const se of Y){const ue=se.getCursor();for(;ue.next();){const ge=ue.getObjectId();if(he.has(ge))continue;he.add(ge);const be=ue.readLegacyPointGeometry(),me=128;if(be.x<-me||be.x>=x+me||be.y<-me||be.y>$+me)continue;const Oe=+ae(ue),oe=Math.max(0,Math.round(be.x)-ee),de=Math.max(0,Math.round(be.y)-ee),ve=Math.min($,Math.round(be.y)+ee),De=Math.min(x,Math.round(be.x)+ee);for(let xe=de;xe<ve;xe++)for(let Ce=oe;Ce<De;Ce++){const Re=xe*x+Ce,we=ne(be.x-Ce,be.y-xe,ee);le=re[Re]+=we*Oe,le>_e&&(_e=le)}}}return{matrix:re.buffer,max:_e}}function V(Y,F,x,$,N,z){Y.canvas.width=Y.canvas.height=F,Y.clearRect(0,0,F,F);const q=Y.getImageData(0,0,F,F);x&&$&&q.data.set(new Uint8ClampedArray(function Q(Y,F,x,$,N){const z=new Uint32Array(Y*Y),q="buffer"in F?F:new Float64Array(F),ee="buffer"in x?new Uint32Array(x.buffer):new Uint32Array(new Uint8Array(x).buffer),re=ee.length/(N-$);for(let le=0;le<q.length;le++){const ae=Math.floor((q[le]-$)*re);z[le]=ee[(0,D.uZ)(ae,0,ee.length-1)]}return z.buffer}(F,x,$,N,z))),Y.putImageData(q,0,0)}function ne(Y,F,x){const $=Math.sqrt(Y**2+F**2)/x;return $>1?0:3/(Math.PI*x**2)*(1-$**2)**2}function J(Y,F){return"function"==typeof Y?Y:Y?"string"==typeof F?x=>-1*+x[Y]:x=>+x[Y]+F:()=>1}},33474:(nt,Te,M)=>{"use strict";M.d(Te,{a:()=>ie,i:()=>Z});var D=M(14889),T=M(383),te=M(32088);function Z(k,B){return ie(k,null,B)}const U=(0,T.d)({types:te.A});function ie(k,B,R){return k?k&&(k.styleName||k.styleUrl)&&"uniqueValue"!==k.type?(R&&R.messages&&R.messages.push(new D.Z("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+k.type+"'",{definition:k,context:R})),null):U(k,B,R):null}},21254:(nt,Te,M)=>{"use strict";M.d(Te,{a:()=>te});var D=M(16730),T=M(94425);const te={inches:(0,D.En)(1,"meters","inches"),feet:(0,D.En)(1,"meters","feet"),"us-feet":(0,D.En)(1,"meters","us-feet"),yards:(0,D.En)(1,"meters","yards"),miles:(0,D.En)(1,"meters","miles"),"nautical-miles":(0,D.En)(1,"meters","nautical-miles"),millimeters:(0,D.En)(1,"meters","millimeters"),centimeters:(0,D.En)(1,"meters","centimeters"),decimeters:(0,D.En)(1,"meters","decimeters"),meters:(0,D.En)(1,"meters","meters"),kilometers:(0,D.En)(1,"meters","kilometers"),"decimal-degrees":1/(0,D.ty)(1,"meters",T.sv.radius)}},39683:(nt,Te,M)=>{"use strict";M.d(Te,{y:()=>U});var D=M(15861),T=M(59213),te=M(10699),Z=M(14889);function U(k,B,R){return ie.apply(this,arguments)}function ie(){return(ie=(0,D.Z)(function*(k,B,R){const W=k&&k.getAtOrigin&&k.getAtOrigin("renderer",B.origin);if(W&&"unique-value"===W.type&&W.styleOrigin){const V=yield(0,T.q6)(W.populateFromStyle());if((0,te.k_)(R),!1===V.ok){const Q=V.error;B&&B.messages&&B.messages.push(new Z.Z("renderer:style-reference",`Failed to create unique value renderer from style reference: ${Q.message}`,{error:Q,context:B})),k.clear("renderer",B?.origin)}}})).apply(this,arguments)}},32088:(nt,Te,M)=>{"use strict";M.d(Te,{A:()=>R,o:()=>W});var D=M(4832),T=M(49067),te=M(96794),Z=M(69747),U=M(40425),ie=M(69357),k=M(40342),B=M(73640);const R={key:"type",base:ie.Z,typeMap:{heatmap:Z.Z,simple:k.Z,"unique-value":B.Z,"class-breaks":D.Z,"dot-density":te.Z,dictionary:T.Z,"pie-chart":U.Z},errorContext:"renderer"},W={key:"type",base:ie.Z,typeMap:{simple:k.Z,"unique-value":B.Z,"class-breaks":D.Z,heatmap:Z.Z},errorContext:"renderer"}},13398:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>V});var R,D=M(17626),T=M(26584),te=M(77712),ie=(M(90912),M(85931),M(76898)),k=M(99433),B=M(17977);let W=R=class extends B.Z{constructor(Q){super(Q),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(Q,ne,J,X){X&&X.messages&&X.messages.push(new T.Z("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}].valueExpressionTitle`,context:X}))}clone(){return new R({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};(0,D._)([(0,te.Cb)({readOnly:!0})],W.prototype,"cache",null),(0,D._)([(0,te.Cb)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],W.prototype,"axis",void 0),(0,D._)([(0,te.Cb)({type:["rotation"],json:{type:["rotationInfo"]}})],W.prototype,"type",void 0),(0,D._)([(0,te.Cb)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],W.prototype,"rotationType",void 0),(0,D._)([(0,te.Cb)({type:String,json:{write:!0}})],W.prototype,"valueExpressionTitle",void 0),(0,D._)([(0,k.c)("web-scene","valueExpressionTitle")],W.prototype,"writeValueExpressionTitleWebScene",null),W=R=(0,D._)([(0,ie.j)("esri.renderers.visualVariables.RotationVariable")],W);const V=W},68598:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ae});var Y,D=M(17626),T=M(26584),te=M(2076),Z=M(63290),U=M(23841),ie=M(77712),k=M(66656),B=M(68653),R=M(76898),W=M(99433),V=M(17977),Q=M(64902),X=(M(90912),M(85931),M(11333));let F=Y=class extends X.Z{constructor(){super(...arguments),this.customValues=null}clone(){return new Y({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};(0,D._)([(0,ie.Cb)({type:[Number],json:{write:!0}})],F.prototype,"customValues",void 0),F=Y=(0,D._)([(0,R.j)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],F);const x=F;var z,$=M(86971),N=M(81808);const q=new te.X({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),ee=new te.X({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function re(he){if(null!=he)return"string"==typeof he||"number"==typeof he?(0,U.t_)(he):"size"===he.type?(0,$.iY)(he)?he:(delete(he={...he}).type,new _e(he)):void 0}function le(he,se,ue){if("object"!=typeof he)return he;const ge=new _e;return ge.read(he,ue),ge}let _e=z=class extends V.Z{constructor(he){super(he),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:null!=this.valueExpression&&N.viewScaleRE.test(this.valueExpression)}}set expression(he){Z.Z.getLogger(this.declaredClass).warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===he?(this.valueExpression="$view.scale",this._set("expression",he)):this._set("expression",null)}set index(he){(0,$.iY)(this.maxSize)&&(this.maxSize.index=`visualVariables[${he}].maxSize`),(0,$.iY)(this.minSize)&&(this.minSize.index=`visualVariables[${he}].minSize`),this._set("index",he)}get inputValueType(){return(0,$.PS)(this)}set maxDataValue(he){he&&this.stops&&(Z.Z.getLogger(this.declaredClass).warn("cannot set maxDataValue when stops is not null."),he=null),this._set("maxDataValue",he)}set maxSize(he){he&&this.stops&&(Z.Z.getLogger(this.declaredClass).warn("cannot set maxSize when stops is not null."),he=null),this._set("maxSize",he)}castMaxSize(he){return re(he)}readMaxSize(he,se,ue){return le(he,0,ue)}set minDataValue(he){he&&this.stops&&(Z.Z.getLogger(this.declaredClass).warn("cannot set minDataValue when stops is not null."),he=null),this._set("minDataValue",he)}set minSize(he){he&&this.stops&&(Z.Z.getLogger(this.declaredClass).warn("cannot set minSize when stops is not null."),he=null),this._set("minSize",he)}castMinSize(he){return re(he)}readMinSize(he,se,ue){return le(he,0,ue)}get arcadeRequired(){return!!this.valueExpression||null!=this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(he){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?he&&Array.isArray(he)&&(he=he.filter(se=>!!se)).sort((se,ue)=>se.value-ue.value):he&&(Z.Z.getLogger(this.declaredClass).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),he=null),this._set("stops",he)}get transformationType(){return(0,$.QW)(this,this.inputValueType)}readValueExpression(he,se){return he||se.expression&&"$view.scale"}writeValueExpressionWebScene(he,se,ue,ge){if("$view.scale"===he){if(ge&&ge.messages){const be=this.index;ge.messages.push(new T.Z("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"==typeof be?be:`visualVariables[${be}]`)+".valueExpression",context:ge}))}}else se[ue]=he}readValueUnit(he){return he?ee.read(he):null}clone(){return new z({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,$.iY)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,$.iY)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(he=>he.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===$.hL.ClampedLinear){const{minSize:he,maxSize:se}=this;return this.minSize=se,this.maxSize=he,this}if(this.transformationType===$.hL.Stops){const he=this.stops;if(!he)return this;const se=he.map(ge=>ge.size).reverse(),ue=he.length;for(let ge=0;ge<ue;ge++)he[ge].size=se[ge];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(he=>he.value||0)}};(0,D._)([(0,ie.Cb)({readOnly:!0})],_e.prototype,"cache",null),(0,D._)([(0,ie.Cb)({type:q.apiValues,json:{type:q.jsonValues,origins:{"web-map":{read:!1}},read:q.read,write:q.write}})],_e.prototype,"axis",void 0),(0,D._)([(0,ie.Cb)({type:String,value:null,json:{read:!1}})],_e.prototype,"expression",null),(0,D._)([(0,ie.Cb)()],_e.prototype,"index",null),(0,D._)([(0,ie.Cb)({type:String,readOnly:!0})],_e.prototype,"inputValueType",null),(0,D._)([(0,ie.Cb)({type:x,json:{write:!0}})],_e.prototype,"legendOptions",void 0),(0,D._)([(0,ie.Cb)({type:Number,value:null,json:{write:!0}})],_e.prototype,"maxDataValue",null),(0,D._)([(0,ie.Cb)({type:Number,value:null,json:{write:!0}})],_e.prototype,"maxSize",null),(0,D._)([(0,k.p)("maxSize")],_e.prototype,"castMaxSize",null),(0,D._)([(0,B.r)("maxSize")],_e.prototype,"readMaxSize",null),(0,D._)([(0,ie.Cb)({type:Number,value:null,json:{write:!0}})],_e.prototype,"minDataValue",null),(0,D._)([(0,ie.Cb)({type:Number,value:null,json:{write:!0}})],_e.prototype,"minSize",null),(0,D._)([(0,k.p)("minSize")],_e.prototype,"castMinSize",null),(0,D._)([(0,B.r)("minSize")],_e.prototype,"readMinSize",null),(0,D._)([(0,ie.Cb)({type:String,json:{write:!0}})],_e.prototype,"normalizationField",void 0),(0,D._)([(0,ie.Cb)({readOnly:!0})],_e.prototype,"arcadeRequired",null),(0,D._)([(0,ie.Cb)({type:String})],_e.prototype,"scaleBy",void 0),(0,D._)([(0,ie.Cb)({type:[Q.Z],value:null,json:{write:!0}})],_e.prototype,"stops",null),(0,D._)([(0,ie.Cb)({type:["outline"],json:{write:!0}})],_e.prototype,"target",void 0),(0,D._)([(0,ie.Cb)({type:String,readOnly:!0})],_e.prototype,"transformationType",null),(0,D._)([(0,ie.Cb)({type:["size"],json:{type:["sizeInfo"]}})],_e.prototype,"type",void 0),(0,D._)([(0,ie.Cb)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],_e.prototype,"useSymbolValue",void 0),(0,D._)([(0,ie.Cb)({type:String,json:{write:!0}})],_e.prototype,"valueExpression",void 0),(0,D._)([(0,B.r)("valueExpression",["valueExpression","expression"])],_e.prototype,"readValueExpression",null),(0,D._)([(0,W.c)("web-scene","valueExpression")],_e.prototype,"writeValueExpressionWebScene",null),(0,D._)([(0,ie.Cb)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],_e.prototype,"valueRepresentation",void 0),(0,D._)([(0,ie.Cb)({type:ee.apiValues,json:{write:ee.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],_e.prototype,"valueUnit",void 0),(0,D._)([(0,B.r)("valueUnit")],_e.prototype,"readValueUnit",null),_e=z=(0,D._)([(0,R.j)("esri.renderers.visualVariables.SizeVariable")],_e);const ae=_e},17977:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Q});var D=M(17626),T=M(2076),te=M(86810),Z=M(63290),U=M(77712),ie=M(66656),k=M(76898),B=M(90912),R=M(11333);const W=new T.X({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let V=class extends te.wq{constructor(ne){super(ne),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(ne){return null==ne?ne:"function"==typeof ne?(Z.Z.getLogger(this.declaredClass).error(".field: field must be a string value"),null):(0,B.Zs)(ne)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};(0,D._)([(0,U.Cb)()],V.prototype,"index",void 0),(0,D._)([(0,U.Cb)({type:W.apiValues,readOnly:!0,json:{read:W.read,write:W.write}})],V.prototype,"type",void 0),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],V.prototype,"field",void 0),(0,D._)([(0,ie.p)("field")],V.prototype,"castField",null),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],V.prototype,"valueExpression",void 0),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],V.prototype,"valueExpressionTitle",void 0),(0,D._)([(0,U.Cb)({readOnly:!0})],V.prototype,"arcadeRequired",null),(0,D._)([(0,U.Cb)({type:R.Z,json:{write:!0}})],V.prototype,"legendOptions",void 0),V=(0,D._)([(0,k.j)("esri.renderers.visualVariables.VisualVariable")],V);const Q=V},8029:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>V});var R,D=M(17626),T=M(91558),te=M(86810),Z=M(77712),U=M(90912),k=(M(85931),M(76898)),B=M(99433);let W=R=class extends te.wq{constructor(Q){super(Q),this.color=null,this.label=null,this.value=null}writeValue(Q,ne,J){ne[J]=Q??0}clone(){return new R({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};(0,D._)([(0,Z.Cb)({type:T.Z,json:{type:[U.z8],write:!0}})],W.prototype,"color",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],W.prototype,"label",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],W.prototype,"value",void 0),(0,D._)([(0,B.c)("value")],W.prototype,"writeValue",null),W=R=(0,D._)([(0,k.j)("esri.renderers.visualVariables.support.ColorStop")],W);const V=W},64902:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var B,D=M(17626),T=M(86810),te=M(23841),Z=M(77712),k=(M(90912),M(85931),M(76898));let R=B=class extends T.wq{constructor(V){super(V),this.label=null,this.size=null,this.value=null}clone(){return new B({label:this.label,size:this.size,value:this.value})}};(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],R.prototype,"label",void 0),(0,D._)([(0,Z.Cb)({type:Number,cast:te.t_,json:{write:!0}})],R.prototype,"size",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{write:!0}})],R.prototype,"value",void 0),R=B=(0,D._)([(0,k.j)("esri.renderers.visualVariables.support.SizeStop")],R);const W=R},11333:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>R});var k,D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898)),ie=M(10914);let B=k=class extends ie.I{constructor(){super(...arguments),this.showLegend=null}clone(){return new k({title:this.title,showLegend:this.showLegend})}};(0,D._)([(0,T.Cb)({type:Boolean,json:{write:!0}})],B.prototype,"showLegend",void 0),B=k=(0,D._)([(0,U.j)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],B);const R=B},86971:(nt,Te,M)=>{"use strict";var D,T,k;function te(k){return k&&"esri.renderers.visualVariables.SizeVariable"===k.declaredClass}function Z(k){return null!=k&&!isNaN(k)&&isFinite(k)}function U(k){return k.valueExpression?D.Expression:k.field&&"string"==typeof k.field?D.Field:D.Unknown}function ie(k,B){return(B||U(k))===D.Unknown?T.Constant:k.stops?T.Stops:null!=k.minSize&&null!=k.maxSize&&null!=k.minDataValue&&null!=k.maxDataValue?T.ClampedLinear:"unknown"===(k.valueUnit||"unknown")?null!=k.minSize&&null!=k.minDataValue?k.minSize&&k.minDataValue?T.Proportional:T.Additive:T.Identity:T.RealWorldSize}M.d(Te,{PS:()=>U,QW:()=>ie,RY:()=>D,hL:()=>T,iY:()=>te,qh:()=>Z}),(k=D||(D={})).Unknown="unknown",k.Expression="expression",k.Field="field",function(k){k.Unknown="unknown",k.Stops="stops",k.ClampedLinear="clamped-linear",k.Proportional="proportional",k.Additive="additive",k.Constant="constant",k.Identity="identity",k.RealWorldSize="real-world-size"}(T||(T={}))},81808:(nt,Te,M)=>{"use strict";M.r(Te),M.d(Te,{getAllSizes:()=>ge,getColor:()=>Q,getOpacity:()=>ne,getRotationAngle:()=>J,getSize:()=>F,getSizeForValue:()=>ae,getSizeFromNumberOrVariable:()=>x,getSizeRangeAtScale:()=>he,getVisualVariableValues:()=>se,viewScaleRE:()=>V});var D=M(91558),T=M(88879),te=M(94573),Z=M(63290),U=M(62208),ie=M(21254),k=M(86971);const B=Z.Z.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),R=new T.Z,W=Math.PI,V=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function Q(be,me,Oe){const oe="visualVariables"in be&&be.visualVariables?be.visualVariables.find(je=>"color"===je.type):be;if(!oe)return;if("esri.renderers.visualVariables.ColorVariable"!==oe.declaredClass)return void B.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const de="number"==typeof me,ve=de?null:me,De=ve&&ve.attributes;let xe=de?me:null;const Ce=oe.field,{ipData:Re,hasExpression:we}=oe.cache;let Me=oe.cache.compiledFunc;if(!Ce&&!we){const je=oe.stops;return je&&je[0]&&je[0].color}if("number"!=typeof xe)if(we){if((0,U.Wi)(Oe)||(0,U.Wi)(Oe.arcade))return void B.error("Use of arcade expressions requires an arcade context");const Je=Oe.arcade.arcadeUtils,Ie=Je.getViewInfo({viewingMode:Oe.viewingMode,scale:Oe.scale,spatialReference:Oe.spatialReference}),Le=Je.createExecContext(ve,Ie);if(!Me){const Ve=Je.createSyntaxTree(oe.valueExpression);Me=Je.createFunction(Ve),oe.cache.compiledFunc=Me}xe=Je.executeFunction(Me,Le)}else De&&(xe=De[Ce]);const fe=oe.normalizationField,ye=null!=De&&null!=fe?parseFloat(De[fe]):void 0;if(null!=xe&&(!fe||de||!isNaN(ye)&&0!==ye)){isNaN(ye)||de||(xe/=ye);const je=ue(xe,Re);if(je){const Je=je[0],Ie=je[1],Le=Je===Ie?oe.stops[Je].color:D.Z.blendColors(oe.stops[Je].color,oe.stops[Ie].color,je[2],(0,U.pC)(Oe)?Oe.color:void 0);return new D.Z(Le)}}}function ne(be,me,Oe){const oe="visualVariables"in be&&be.visualVariables?be.visualVariables.find(je=>"opacity"===je.type):be;if(!oe)return;if("esri.renderers.visualVariables.OpacityVariable"!==oe.declaredClass)return void B.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const de="number"==typeof me,ve=de?null:me,De=ve&&ve.attributes;let xe=de?me:null;const Ce=oe.field,{ipData:Re,hasExpression:we}=oe.cache;let Me=oe.cache.compiledFunc;if(!Ce&&!we){const je=oe.stops;return je&&je[0]&&je[0].opacity}if("number"!=typeof xe)if(we){if((0,U.Wi)(Oe)||(0,U.Wi)(Oe.arcade))return void B.error("Use of arcade expressions requires an arcade context");const Je=Oe.arcade.arcadeUtils,Ie=Je.getViewInfo({viewingMode:Oe.viewingMode,scale:Oe.scale,spatialReference:Oe.spatialReference}),Le=Je.createExecContext(ve,Ie);if(!Me){const Ve=Je.createSyntaxTree(oe.valueExpression);Me=Je.createFunction(Ve),oe.cache.compiledFunc=Me}xe=Je.executeFunction(Me,Le)}else De&&(xe=De[Ce]);const fe=oe.normalizationField,ye=null!=De&&null!=fe?parseFloat(De[fe]):void 0;if(null!=xe&&(!fe||de||!isNaN(ye)&&0!==ye)){isNaN(ye)||de||(xe/=ye);const je=ue(xe,Re);if(je){const Je=je[0],Ie=je[1];if(Je===Ie)return oe.stops[Je].opacity;{const Le=oe.stops[Je].opacity;return Le+(oe.stops[Ie].opacity-Le)*je[2]}}}}function J(be,me,Oe){const oe="visualVariables"in be&&be.visualVariables?be.visualVariables.find(ye=>"rotation"===ye.type):be;if(!oe)return;if("esri.renderers.visualVariables.RotationVariable"!==oe.declaredClass)return void B.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const de=oe.axis||"heading",ve="heading"===de&&"arithmetic"===oe.rotationType?90:0,De="heading"===de&&"arithmetic"===oe.rotationType?-1:1,xe="number"==typeof me?null:me,Ce=xe&&xe.attributes,Re=oe.field,{hasExpression:we}=oe.cache;let Me=oe.cache.compiledFunc,fe=0;if(!Re&&!we)return fe;if(we){if((0,U.Wi)(Oe)||(0,U.Wi)(Oe.arcade))return void B.error("Use of arcade expressions requires an arcade context");const je=Oe.arcade.arcadeUtils,Je=je.getViewInfo({viewingMode:Oe.viewingMode,scale:Oe.scale,spatialReference:Oe.spatialReference}),Ie=je.createExecContext(xe,Je);if(!Me){const Le=je.createSyntaxTree(oe.valueExpression);Me=je.createFunction(Le),oe.cache.compiledFunc=Me}fe=je.executeFunction(Me,Ie)}else Ce&&(fe=Ce[Re]||0);return fe="number"!=typeof fe||isNaN(fe)?null:ve+De*fe,fe}function F(be,me,Oe){const oe="visualVariables"in be&&be.visualVariables?be.visualVariables.find(ve=>"size"===ve.type):be;if(!oe)return;if("esri.renderers.visualVariables.SizeVariable"!==oe.declaredClass)return void B.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const de=ae(function X(be,me,Oe){const oe="number"==typeof me,de=oe?null:me,ve=de&&de.attributes;let De=oe?me:null;const{isScaleDriven:xe}=be.cache;let Ce=be.cache.compiledFunc;if(xe){const we=(0,U.pC)(Oe)?Oe.scale:void 0,Me=(0,U.pC)(Oe)?Oe.view:void 0;De=null==we||"3d"===Me?function Y(be){let me=null,Oe=null;const oe=be.stops;return oe?(me=oe[0].value,Oe=oe[oe.length-1].value):(me=be.minDataValue||0,Oe=be.maxDataValue||0),(me+Oe)/2}(be):we}else if(!oe)switch(be.inputValueType){case k.RY.Expression:{if((0,U.Wi)(Oe)||(0,U.Wi)(Oe.arcade))return void B.error("Use of arcade expressions requires an arcade context");const Me=Oe.arcade.arcadeUtils,fe=Me.getViewInfo({viewingMode:Oe.viewingMode,scale:Oe.scale,spatialReference:Oe.spatialReference}),ye=Me.createExecContext(de,fe);if(!Ce){const je=Me.createSyntaxTree(be.valueExpression);Ce=Me.createFunction(je),be.cache.compiledFunc=Ce}De=Me.executeFunction(Ce,ye);break}case k.RY.Field:ve&&(De=ve[be.field]);break;case k.RY.Unknown:De=null}if(!(0,k.qh)(De))return null;if(oe||!be.normalizationField)return De;const Re=ve?parseFloat(ve[be.normalizationField]):null;return(0,k.qh)(Re)&&0!==Re?De/Re:null}(oe,me,Oe),oe,me,Oe,oe.cache.ipData);return null==de||isNaN(de)?0:de}function x(be,me,Oe){return null==be?null:(0,k.iY)(be)?F(be,me,Oe):(0,k.qh)(be)?be:null}function $(be,me,Oe){return(0,k.qh)(Oe)&&be>Oe?Oe:(0,k.qh)(me)&&be<me?me:be}function ae(be,me,Oe,oe,de){switch(me.transformationType){case k.hL.Additive:return function N(be,me,Oe,oe){return be+((x(me.minSize,Oe,oe)||me.minDataValue)??0)}(be,me,Oe,oe);case k.hL.Constant:return function z(be,me,Oe){const oe=be.stops;let de=oe&&oe.length&&oe[0].size;return null==de&&(de=be.minSize),x(de,me,Oe)}(me,Oe,oe);case k.hL.ClampedLinear:return function q(be,me,Oe,oe){const de=(be-me.minDataValue)/(me.maxDataValue-me.minDataValue),ve=x(me.minSize,Oe,oe),De=x(me.maxSize,Oe,oe),xe=(0,U.pC)(oe)?oe.shape:void 0;if(be<=me.minDataValue)return ve;if(be>=me.maxDataValue)return De;if(null==ve||null==De)return null;if("area"===me.scaleBy&&xe){const Ce="circle"===xe,Re=Ce?W*(ve/2)**2:ve*ve,we=Re+de*((Ce?W*(De/2)**2:De*De)-Re);return Ce?2*Math.sqrt(we/W):Math.sqrt(we)}return ve+de*(De-ve)}(be,me,Oe,oe);case k.hL.Proportional:return function ee(be,me,Oe,oe){const de=(0,U.pC)(oe)?oe.shape:void 0,ve=be/me.minDataValue,De=x(me.minSize,Oe,oe),xe=x(me.maxSize,Oe,oe);let Ce=null;return Ce="circle"===de?2*Math.sqrt(ve*(De/2)**2):"square"===de||"diamond"===de||"image"===de?Math.sqrt(ve*De**2):ve*De,$(Ce,De,xe)}(be,me,Oe,oe);case k.hL.Stops:return function re(be,me,Oe,oe,de){const[ve,De,xe]=ue(be,de);if(ve===De)return x(me.stops?.[ve].size,Oe,oe);{const Ce=x(me.stops?.[ve].size,Oe,oe);return Ce+(x(me.stops?.[De].size,Oe,oe)-Ce)*xe}}(be,me,Oe,oe,de);case k.hL.RealWorldSize:return function le(be,me,Oe,oe){const de=((0,U.pC)(oe)&&oe.resolution?oe.resolution:1)*ie.a[me.valueUnit],ve=x(me.minSize,Oe,oe),De=x(me.maxSize,Oe,oe),{valueRepresentation:xe}=me;let Ce=null;return Ce="area"===xe?2*Math.sqrt(be/W)/de:"radius"===xe||"distance"===xe?2*be/de:be/de,$(Ce,ve,De)}(be,me,Oe,oe);case k.hL.Identity:return be;case k.hL.Unknown:return null}}function he(be,me,Oe){const{isScaleDriven:oe}=be.cache;if(!(oe&&"3d"===Oe||me))return null;const de={scale:me,view:Oe};let ve=x(be.minSize,R,de),De=x(be.maxSize,R,de);if(null!=ve||null!=De){if(ve>De){const xe=De;De=ve,ve=xe}return{minSize:ve,maxSize:De}}}function se(be,me,Oe){if(!be.visualVariables)return;const oe=[],de=[],ve=[],De=[],xe=[];for(const Ce of be.visualVariables)switch(Ce.type){case"color":de.push(Ce);break;case"opacity":ve.push(Ce);break;case"rotation":xe.push(Ce);break;case"size":De.push(Ce)}return de.forEach(Ce=>{const Re=Q(Ce,me,Oe);oe.push({variable:Ce,value:Re})}),ve.forEach(Ce=>{const Re=ne(Ce,me,Oe);oe.push({variable:Ce,value:Re})}),xe.forEach(Ce=>{const Re=J(Ce,me,Oe);oe.push({variable:Ce,value:Re})}),De.forEach(Ce=>{const Re=F(Ce,me,Oe);oe.push({variable:Ce,value:Re})}),oe.filter(Ce=>null!=Ce.value)}function ue(be,me){if(!me)return;let Oe=0,oe=me.length-1;return me.some((de,ve)=>be<de?(oe=ve,!0):(Oe=ve,!1)),[Oe,oe,(be-me[Oe])/(me[oe]-me[Oe])]}function ge(be,me,Oe){const oe=["proportional","proportional","proportional"];for(const de of be){const ve=de.useSymbolValue?"symbol-value":F(de,me,Oe);switch(de.axis){case"width":oe[0]=ve;break;case"depth":oe[1]=ve;break;case"height":oe[2]=ve;break;case"width-and-depth":oe[0]=ve,oe[1]=ve;break;case"all":case void 0:case null:oe[0]=ve,oe[1]=ve,oe[2]=ve;break;default:(0,te.Bg)(de.axis)}}return oe}},84792:(nt,Te,M)=>{"use strict";M.r(Te),M.d(Te,{default:()=>ne});var D=M(15861),T=M(59318),te=M(24263),Z=M(26584),U=M(8314),ie=M(58817),k=M(62208),B=M(10699),R=M(21726),W=M(24433),V=M(12680),Q=M(33899);function ne(fe,ye){return J.apply(this,arguments)}function J(){return J=(0,D.Z)(function*(fe,ye){const je=(0,R.HK)(fe),Je=(0,R.jc)(fe);Je||je||(fe=(0,R.Fv)(fe));const Ie={url:fe,requestOptions:{...(0,k.Wg)(ye)}};let Le=(0,R.oh)(fe);if(Le){const Se=yield function oe(fe,ye){return de.apply(this,arguments)}(Le,Ie);if(null!=Se)return{data:Se,getHeader:z,httpStatus:200,requestOptions:Ie.requestOptions,url:Ie.url};Le.after||Le.error||(Le=null)}if(fe=Ie.url,"image"===(ye=Ie.requestOptions).responseType){if((0,U.Z)("host-webworker")||(0,U.Z)("host-node"))throw le("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),Ie)}else if(je)throw le("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+ye.responseType),Ie);if("head"===ye.method){if(ye.body)throw le("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),Ie);if(je||Je)throw le("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),Ie)}if(yield function _e(){return ae.apply(this,arguments)}(),X)return X.execute(fe,ye);const Ve=new AbortController;(0,B.fu)(ye,()=>Ve.abort());const st={controller:Ve,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:Le,params:Ie,redoRequest:!1,useIdentity:Y.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},ce=yield function xe(fe){return Ce.apply(this,arguments)}(st);return Le?.after?.(ce),ce}),J.apply(this,arguments)}let X;const Y=T.Z.request,F="FormData"in globalThis,x=[499,498,403,401],$=["COM_0056","COM_0057","SB_0008"],N=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],z=()=>null,q=Symbol();function re(fe){const ye=(0,R.P$)(fe);return!ye||ye.endsWith(".arcgis.com")||ne._corsServers.includes(ye)||(0,R.kl)(ye)}function le(fe,ye,je,Je){let Ie="Error";const Le={url:je.url,requestOptions:je.requestOptions,getHeader:z,ssl:!1};if(ye instanceof Z.Z)return ye.details?(ye.details=(0,ie.d9)(ye.details),ye.details.url=je.url,ye.details.requestOptions=je.requestOptions):ye.details=Le,ye;if(ye){const Ve=Je&&(Se=>Je.headers.get(Se)),st=Je&&Je.status,ce=ye.message;ce&&(Ie=ce),Ve&&(Le.getHeader=Ve),Le.httpStatus=(null!=ye.httpCode?ye.httpCode:ye.code)||st||0,Le.subCode=ye.subcode,Le.messageCode=ye.messageCode,Le.messages="string"==typeof ye.details?[ye.details]:ye.details,Le.raw=q in ye?ye[q]:ye}return(0,B.D_)(ye)?(0,B.zE)():new Z.Z(fe,Ie,Le)}function ae(){return(ae=(0,D.Z)(function*(){(0,U.Z)("host-webworker")?X||(X=yield M.e(3358).then(M.bind(M,23358))):ne._abortableFetch||(ne._abortableFetch=globalThis.fetch.bind(globalThis))})).apply(this,arguments)}function he(){return se.apply(this,arguments)}function se(){return(se=(0,D.Z)(function*(){te.id||(yield M.e(9058).then(M.bind(M,59058)))})).apply(this,arguments)}function ge(){return(ge=(0,D.Z)(function*(fe){const ye=fe.params.url,je=fe.params.requestOptions,Je=fe.controller.signal,Ie=je.body;let Le=null,Ve=null;if(F&&"HTMLFormElement"in globalThis&&(Ie instanceof FormData?Le=Ie:Ie instanceof HTMLFormElement&&(Le=new FormData(Ie))),"string"==typeof Ie&&(Ve=Ie),fe.fetchOptions={cache:je.cacheBust&&!ne._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:je.headers||{},method:"head"===je.method?"HEAD":"GET",mode:"cors",priority:Y.priority,redirect:"follow",signal:Je},(Le||Ve)&&(fe.fetchOptions.body=Le||Ve),"anonymous"===je.authMode&&(fe.useIdentity=!1),fe.hasToken=!!(/token=/i.test(ye)||je.query?.token||Le?.get("token")),!fe.hasToken&&T.Z.apiKey&&(0,V.r)(ye)&&(je.query||(je.query={}),je.query.token=T.Z.apiKey,fe.hasToken=!0),fe.useIdentity&&!fe.hasToken&&!fe.credentialToken&&!be(ye)&&!(0,B.Hc)(Je)){let st;"immediate"===je.authMode?(yield he(),st=yield te.id.getCredential(ye,{signal:Je}),fe.credential=st):"no-prompt"===je.authMode?(yield he(),st=yield te.id.getCredential(ye,{prompt:!1,signal:Je}).catch(()=>{}),fe.credential=st):te.id&&(st=te.id.findCredential(ye)),st&&(fe.credentialToken=st.token,fe.useSSL=!!st.ssl)}})).apply(this,arguments)}function be(fe){return N.some(ye=>ye.test(fe))}function me(fe){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,D.Z)(function*(fe){let ye=fe.params.url;const je=fe.params.requestOptions,Je=fe.fetchOptions??{},Ie=(0,R.jc)(ye)||(0,R.HK)(ye),Le=je.responseType||"json",Ve=Ie?0:null!=je.timeout?je.timeout:Y.timeout;let st=!1;if(!Ie){fe.useSSL&&(ye=(0,R.hO)(ye)),je.cacheBust&&"default"===Je.cache&&(ye=(0,R.ZN)(ye,"request.preventCache",Date.now()));let Xe={...je.query};fe.credentialToken&&(Xe.token=fe.credentialToken);let et=(0,R.B7)(Xe);(0,U.Z)("esri-url-encodes-apostrophe")&&(et=et.replace(/'/g,"%27"));const ct=ye.length+1+et.length;let ft;st="delete"===je.method||"post"===je.method||"put"===je.method||!!je.body||ct>Y.maxUrlLength;const $e=je.useProxy||!!(0,R.ed)(ye);if($e){const ut=(0,R.b7)(ye);ft=ut.path,!st&&ft.length+1+ct>Y.maxUrlLength&&(st=!0),ut.query&&(Xe={...ut.query,...Xe})}if("HEAD"===Je.method&&(st||$e)){if(st)throw le("request:invalid-parameters",ct>Y.maxUrlLength?new Error("URL exceeds maximum length"):new Error("cannot use POST request when method is 'head'"),fe.params);if($e)throw le("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),fe.params)}if(st?(Je.method="delete"===je.method?"DELETE":"put"===je.method?"PUT":"POST",je.body?ye=(0,R.fl)(ye,Xe):(Je.body=(0,R.B7)(Xe),Je.headers||(Je.headers={}),Je.headers["Content-Type"]="application/x-www-form-urlencoded")):ye=(0,R.fl)(ye,Xe),$e&&(fe.useProxy=!0,ye=`${ft}?${ye}`),Xe.token&&F&&Je.body instanceof FormData&&!(0,W.P)(ye)&&Je.body.set("token",Xe.token),je.hasOwnProperty("withCredentials"))fe.withCredentials=je.withCredentials;else if(!(0,R.D6)(ye,(0,R.TI)()))if((0,R.kl)(ye))fe.withCredentials=!0;else if(te.id){const ut=te.id.findServerInfo(ye);ut&&ut.webTierAuth&&(fe.withCredentials=!0)}fe.withCredentials&&(Je.credentials="include",(0,Q.jH)(ye)&&(yield(0,Q.jz)(st?(0,R.fl)(ye,Xe):ye)))}let ce,Se,ze=0,Ke=!1;Ve>0&&(ze=setTimeout(()=>{Ke=!0,fe.controller.abort()},Ve));try{if("native-request-init"===je.responseType)Se=Je,Se.url=ye;else if("image"!==je.responseType||"default"!==Je.cache||"GET"!==Je.method||st||function ve(fe){if(fe)for(const ye of Object.getOwnPropertyNames(fe))if(fe[ye])return!0;return!1}(je.headers)||!Ie&&!fe.useProxy&&Y.proxyUrl&&!re(ye)){if(ce=yield ne._abortableFetch(ye,Je),fe.useProxy||function ee(fe){const ye=(0,R.P$)(fe);ye&&!ne._corsServers.includes(ye)&&ne._corsServers.push(ye)}(ye),"native"===je.responseType)Se=ce;else if("HEAD"!==Je.method)if(ce.ok){switch(Le){case"array-buffer":Se=yield ce.arrayBuffer();break;case"blob":case"image":Se=yield ce.blob();break;default:Se=yield ce.text()}if(ze&&(clearTimeout(ze),ze=0),"json"===Le||"xml"===Le||"document"===Le)if(Se)switch(Le){case"json":Se=JSON.parse(Se);break;case"xml":Se=De(Se,"application/xml");break;case"document":Se=De(Se,"text/html")}else Se=null;if(Se){if("array-buffer"===Le||"blob"===Le){const Xe=ce.headers.get("Content-Type");if(Xe&&/application\/json|text\/plain/i.test(Xe)&&Se["blob"===Le?"size":"byteLength"]<=750)try{const et=yield new Response(Se).json();et.error&&(Se=et)}catch{}}"image"===Le&&Se instanceof Blob&&(Se=yield Me(URL.createObjectURL(Se),fe,!0))}}else Se=yield ce.text()}else Se=yield Me(ye,fe)}catch(Xe){if("AbortError"===Xe.name)throw Ke?new Error("Timeout exceeded"):(0,B.zE)("Request canceled");if(!(!ce&&Xe instanceof TypeError&&Y.proxyUrl)||je.body||"delete"===je.method||"head"===je.method||"post"===je.method||"put"===je.method||fe.useProxy||re(ye))throw Xe;fe.redoRequest=!0,(0,R.tD)({proxyUrl:Y.proxyUrl,urlPrefix:(0,R.P$)(ye)??""})}finally{ze&&clearTimeout(ze)}return[ce,Se]})).apply(this,arguments)}function de(){return(de=(0,D.Z)(function*(fe,ye){if(null!=fe.responseData)return fe.responseData;if(fe.headers&&(ye.requestOptions.headers={...ye.requestOptions.headers,...fe.headers}),fe.query&&(ye.requestOptions.query={...ye.requestOptions.query,...fe.query}),fe.before){let je,Je;try{Je=yield fe.before(ye)}catch(Ie){je=le("request:interceptor",Ie,ye)}if((Je instanceof Error||Je instanceof Z.Z)&&(je=le("request:interceptor",Je,ye)),je)throw fe.error&&fe.error(je),je;return Je}})).apply(this,arguments)}function De(fe,ye){let je;try{je=(new DOMParser).parseFromString(fe,ye)}catch{}if(!je||je.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return je}function Ce(){return Ce=(0,D.Z)(function*(fe){let ye,je;yield function ue(fe){return ge.apply(this,arguments)}(fe);try{do{[ye,je]=yield me(fe)}while(!(yield Re(fe,ye,je)))}catch(Le){const Ve=le("request:server",Le,fe.params,ye);throw Ve.details.ssl=fe.useSSL,fe.interceptor&&fe.interceptor.error&&fe.interceptor.error(Ve),Ve}const Je=fe.params.url;if(je&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(Je)){if(!fe.hasToken&&!fe.credentialToken&&je.user?.username&&!(0,R.kl)(Je)){const Le=(0,R.P$)(Je,!0);Le&&Y.trustedServers.push(Le)}Array.isArray(je.authorizedCrossOriginNoCorsDomains)&&(0,Q.Hu)(je.authorizedCrossOriginNoCorsDomains)}const Ie=fe.credential;if(Ie&&te.id){const Le=te.id.findServerInfo(Ie.server);let Ve=Le&&Le.owningSystemUrl;if(Ve){Ve=Ve.replace(/\/?$/,"/sharing");const st=te.id.findCredential(Ve,Ie.userId);st&&-1===te.id._getIdenticalSvcIdx(Ve,st)&&st.resources.unshift(Ve)}}return{data:je,getHeader:ye?Le=>ye?.headers.get(Le):z,httpStatus:ye?.status??200,requestOptions:fe.params.requestOptions,ssl:fe.useSSL,url:fe.params.url}}),Ce.apply(this,arguments)}function Re(fe,ye,je){return we.apply(this,arguments)}function we(){return(we=(0,D.Z)(function*(fe,ye,je){if(fe.redoRequest)return fe.redoRequest=!1,!1;const Je=fe.params.requestOptions;if(!ye||"native"===Je.responseType||"native-request-init"===Je.responseType)return!0;let Ie,Le;if(!ye.ok)throw Ie=new Error(`Unable to load ${ye.url} status: ${ye.status}`),Ie[q]=je,Ie;je&&(je.error?Ie=je.error:"error"===je.status&&Array.isArray(je.messages)&&(Ie={...je},Ie[q]=je,Ie.details=je.messages));let Ve,st=null;Ie&&(Le=Number(Ie.code),st=Ie.hasOwnProperty("subcode")?Number(Ie.subcode):null,Ve=Ie.messageCode,Ve=Ve&&Ve.toUpperCase());const ce=Je.authMode;if(403===Le&&(4===st||Ie.message&&Ie.message.toLowerCase().includes("ssl")&&!Ie.message.toLowerCase().includes("permission"))){if(!fe.useSSL)return fe.useSSL=!0,!1}else if(!fe.hasToken&&fe.useIdentity&&("no-prompt"!==ce||498===Le)&&void 0!==Le&&x.includes(Le)&&!be(fe.params.url)&&(403!==Le||Ve&&!$.includes(Ve)&&(null==st||2===st&&fe.credentialToken))){yield he();try{const Se=yield te.id.getCredential(fe.params.url,{error:le("request:server",Ie,fe.params),prompt:"no-prompt"!==ce,signal:fe.controller.signal,token:fe.credentialToken});return fe.credential=Se,fe.credentialToken=Se.token,fe.useSSL=fe.useSSL||Se.ssl,!1}catch(Se){if("no-prompt"===ce)return fe.credential=void 0,fe.credentialToken=void 0,!1;Ie=Se}}if(Ie)throw Ie;return!0})).apply(this,arguments)}function Me(fe,ye,je=!1){const Je=ye.controller.signal,Ie=new Image;return Ie.crossOrigin=ye.withCredentials?"use-credentials":"anonymous",Ie.alt="",Ie.fetchPriority=Y.priority,Ie.src=fe,(0,Q.fY)(Ie,fe,je,Je)}ne._abortableFetch=null,ne._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},39636:(nt,Te,M)=>{"use strict";M.d(Te,{i:()=>R});var D=M(15861),T=M(84792),te=M(90912),Z=M(91179),U=M(2618),ie=M(10920),k=M(77294);const B=(0,te.se)(k.Z);function R(V,Q,ne){return W.apply(this,arguments)}function W(){return(W=(0,D.Z)(function*(V,Q,ne){Q=B(Q);const J=(0,U.en)(V),X={...J.query,f:"json",...Q.toJSON()},Y=Q.outSpatialReference,F=(0,Z.Ji)(Q.geometries[0]),x=(0,U.lA)(X,ne);return(0,T.default)(J.path+"/project",x).then(({data:{geometries:$}})=>(0,ie.o)($,F,Y))})).apply(this,arguments)}},10920:(nt,Te,M)=>{"use strict";M.d(Te,{F:()=>T,o:()=>te});var D=M(91179);function T(Z){return{geometryType:(0,D.Ji)(Z[0]),geometries:Z.map(U=>U.toJSON())}}function te(Z,U,ie){const k=(0,D.q9)(U);return Z.map(B=>{const R=k.fromJSON(B);return R.spatialReference=ie,R})}},39709:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>B});var D=M(17626),T=M(86810),te=M(77712),ie=(M(90912),M(85931),M(76898));let k=class extends T.wq{constructor(R){super(R),this.moment=null,this.fullUpdate=!1,this.validateErrorsCreated=!1,this.dirtyAreaCount=null,this.exceededTransferLimit=null,this.serviceEdits=null}};(0,D._)([(0,te.Cb)({type:Date,json:{type:Number,write:{writer:(R,W)=>{W.moment=R?R.getTime():null}}}})],k.prototype,"moment",void 0),(0,D._)([(0,te.Cb)({type:Boolean,json:{write:!0}})],k.prototype,"fullUpdate",void 0),(0,D._)([(0,te.Cb)({type:Boolean,json:{write:!0}})],k.prototype,"validateErrorsCreated",void 0),(0,D._)([(0,te.Cb)({type:Number,json:{write:!0}})],k.prototype,"dirtyAreaCount",void 0),(0,D._)([(0,te.Cb)({type:Boolean,json:{write:!0}})],k.prototype,"exceededTransferLimit",void 0),(0,D._)([(0,te.Cb)({type:[Object],json:{write:!0}})],k.prototype,"serviceEdits",void 0),k=(0,D._)([(0,ie.j)("esri.rest.networks.support.ValidateNetworkTopologyResult")],k);const B=k},76391:(nt,Te,M)=>{"use strict";function D(T){const te={};for(const Z in T){if("declaredClass"===Z)continue;const U=T[Z];if(null!=U&&"function"!=typeof U)if(Array.isArray(U)){te[Z]=[];for(let ie=0;ie<U.length;ie++)te[Z][ie]=D(U[ie])}else"object"==typeof U?U.toJSON&&(te[Z]=JSON.stringify(U)):te[Z]=U}return te}M.d(Te,{A:()=>D})},90463:(nt,Te,M)=>{"use strict";M.d(Te,{P:()=>U});var D=M(15861),T=M(2618),te=M(20477),Z=M(96854);function U(k,B,R){return ie.apply(this,arguments)}function ie(){return(ie=(0,D.Z)(function*(k,B,R){const W=(0,T.en)(k);return(0,te.hH)(W,Z.Z.from(B),{...R}).then(V=>V.data.count)})).apply(this,arguments)}},24865:(nt,Te,M)=>{"use strict";M.d(Te,{G:()=>U});var D=M(15861),T=M(2618),te=M(20477),Z=M(96854);function U(k,B,R){return ie.apply(this,arguments)}function ie(){return(ie=(0,D.Z)(function*(k,B,R){const W=(0,T.en)(k);return(0,te.Ev)(W,Z.Z.from(B),{...R}).then(V=>V.data.objectIds)})).apply(this,arguments)}},2865:(nt,Te,M)=>{"use strict";M.d(Te,{F:()=>B,e:()=>ie});var D=M(15861),T=M(2618),te=M(20477),Z=M(17253),U=M(96854);function ie(W,V,Q){return k.apply(this,arguments)}function k(){return(k=(0,D.Z)(function*(W,V,Q){const ne=yield B(W,V,Q);return Z.Z.fromJSON(ne)})).apply(this,arguments)}function B(W,V,Q){return R.apply(this,arguments)}function R(){return(R=(0,D.Z)(function*(W,V,Q){const ne=(0,T.en)(W),J={...Q},X=U.Z.from(V),{data:Y}=yield(0,te.JT)(ne,X,X.sourceSpatialReference,J);return Y})).apply(this,arguments)}},20514:(nt,Te,M)=>{"use strict";M.d(Te,{P:()=>U});var D=M(62208),T=M(16730),te=M(37053);function Z(B,R,W){if(null==B.hasM||B.hasZ)for(const V of R)for(const Q of V)Q.length>2&&(Q[2]*=W)}function U(B,R,W){if(!B&&!R||!W)return;const V=(0,T._R)(W);ie(B,W,V),ie(R,W,V)}function ie(B,R,W){if(B)for(const V of B)k(V.geometry,R,W)}function k(B,R,W){if((0,D.Wi)(B)||!B.spatialReference||(0,te.fS)(B.spatialReference,R))return;const V=(0,T._R)(B.spatialReference)/W;if(1!==V)if("x"in B)null!=B.z&&(B.z*=V);else if("rings"in B)Z(B,B.rings,V);else if("paths"in B)Z(B,B.paths,V);else if("points"in B&&(null==B.hasM||B.hasZ))for(const Q of B.points)Q.length>2&&(Q[2]*=V)}},71260:(nt,Te,M)=>{"use strict";M.d(Te,{G$:()=>q,K9:()=>ae,O7:()=>R});var D=M(26584),T=M(62208),te=M(24192),Z=M(88071),U=M(98558);const ie=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],k=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],B=["upperLeft","lowerLeft"];function R(he){return he>=ie.length?null:ie[he]}function W(he){return he>=k.length?null:k[he]}function V(he){return he>=B.length?null:B[he]}function Q(he,se){return se>=he.geometryTypes.length?null:he.geometryTypes[se]}function ne(he,se,ue){const be=he.asUnsafe(),me=se.createPointGeometry(ue);for(;be.next();)switch(be.tag()){case 3:{const Oe=be.getUInt32(),oe=be.pos()+Oe;let de=0;for(;be.pos()<oe;)se.addCoordinatePoint(me,be.getSInt64(),de++);break}default:be.skip()}return me}function J(he,se,ue){const me=he.asUnsafe(),Oe=se.createGeometry(ue),oe=2+(ue.hasZ?1:0)+(ue.hasM?1:0);for(;me.next();)switch(me.tag()){case 2:{const de=me.getUInt32(),ve=me.pos()+de;let De=0;for(;me.pos()<ve;)se.addLength(Oe,me.getUInt32(),De++);break}case 3:{const de=me.getUInt32(),ve=me.pos()+de;let De=0;for(se.allocateCoordinates(Oe);me.pos()<ve;)se.addCoordinate(Oe,me.getSInt64(),De),De++,De===oe&&(De=0);break}default:me.skip()}return Oe}function X(he){const be=he.asUnsafe(),me=new Z.Z;let Oe="esriGeometryPoint";for(;be.next();)switch(be.tag()){case 2:{const oe=be.getUInt32(),de=be.pos()+oe;for(;be.pos()<de;)me.lengths.push(be.getUInt32());break}case 3:{const oe=be.getUInt32(),de=be.pos()+oe;for(;be.pos()<de;)me.coords.push(be.getSInt64());break}case 1:Oe=U.A[be.getEnum()];break;default:be.skip()}return{queryGeometry:me,queryGeometryType:Oe}}function Y(he){const De=he.asUnsafe();for(;De.next();)switch(De.tag()){case 1:return De.getString();case 2:return De.getFloat();case 3:return De.getDouble();case 4:return De.getSInt32();case 5:return De.getUInt32();case 6:return De.getInt64();case 7:return De.getUInt64();case 8:return De.getSInt64();case 9:return De.getBool();default:return De.skip(),null}return null}function F(he){const oe=he.asUnsafe(),de={type:R(0)};for(;oe.next();)switch(oe.tag()){case 1:de.name=oe.getString();break;case 2:de.type=R(oe.getEnum());break;case 3:de.alias=oe.getString();break;case 4:de.sqlType=W(oe.getEnum());break;case 5:default:oe.skip();break;case 6:de.defaultValue=oe.getString()}return de}function x(he){const ge={},be=he.asUnsafe();for(;be.next();)switch(be.tag()){case 1:ge.name=be.getString();break;case 2:ge.isSystemMaintained=be.getBool();break;default:be.skip()}return ge}function $(he,se,ue,ge){const oe=se.createFeature(ue);let de=0;for(;he.next();)switch(he.tag()){case 1:{const ve=ge[de++].name;oe.attributes[ve]=he.processMessage(Y);break}case 2:oe.geometry=he.processMessageWithArgs(J,se,ue);break;case 4:oe.centroid=he.processMessageWithArgs(ne,se,ue);break;default:he.skip()}return oe}function N(he){const me=[1,1,1,1],Oe=he.asUnsafe();for(;Oe.next();)switch(Oe.tag()){case 1:me[0]=Oe.getDouble();break;case 2:me[1]=Oe.getDouble();break;case 4:me[2]=Oe.getDouble();break;case 3:me[3]=Oe.getDouble();break;default:Oe.skip()}return me}function z(he){const me=[0,0,0,0],Oe=he.asUnsafe();for(;Oe.next();)switch(Oe.tag()){case 1:me[0]=Oe.getDouble();break;case 2:me[1]=Oe.getDouble();break;case 4:me[2]=Oe.getDouble();break;case 3:me[3]=Oe.getDouble();break;default:Oe.skip()}return me}function q(he){const be={originPosition:V(0)},me=he.asUnsafe();for(;me.next();)switch(me.tag()){case 1:be.originPosition=V(me.getEnum());break;case 2:be.scale=me.processMessage(N);break;case 3:be.translate=me.processMessage(z);break;default:me.skip()}return be}function ee(he){const be={},me=he.asUnsafe();for(;me.next();)switch(me.tag()){case 1:be.shapeAreaFieldName=me.getString();break;case 2:be.shapeLengthFieldName=me.getString();break;case 3:be.units=me.getString();break;default:me.skip()}return be}function re(he,se){const oe=se.createSpatialReference();for(;he.next();)switch(he.tag()){case 1:oe.wkid=he.getUInt32();break;case 5:oe.wkt=he.getString();break;case 2:oe.latestWkid=he.getUInt32();break;case 3:oe.vcsWkid=he.getUInt32();break;case 4:oe.latestVcsWkid=he.getUInt32();break;default:he.skip()}return oe}function le(he,se){const Me=se.createFeatureResult(),fe=he.asUnsafe();Me.geometryType=Q(se,0);let ye=!1;for(;fe.next();)switch(fe.tag()){case 1:Me.objectIdFieldName=fe.getString();break;case 3:Me.globalIdFieldName=fe.getString();break;case 4:Me.geohashFieldName=fe.getString();break;case 5:Me.geometryProperties=fe.processMessage(ee);break;case 7:Me.geometryType=Q(se,fe.getEnum());break;case 8:Me.spatialReference=fe.processMessageWithArgs(re,se);break;case 10:Me.hasZ=fe.getBool();break;case 11:Me.hasM=fe.getBool();break;case 12:Me.transform=fe.processMessage(q);break;case 9:{const je=fe.getBool();Me.exceededTransferLimit=je;break}case 13:se.addField(Me,fe.processMessage(F));break;case 15:ye||(se.prepareFeatures(Me),ye=!0),se.addFeature(Me,fe.processMessageWithArgs($,se,Me,Me.fields));break;case 2:Me.uniqueIdField=fe.processMessage(x);break;default:fe.skip()}return se.finishFeatureResult(Me),Me}function _e(he,se){const be={};let me=null;for(;he.next();)switch(he.tag()){case 4:me=he.processMessageWithArgs(X);break;case 1:be.featureResult=he.processMessageWithArgs(le,se);break;default:he.skip()}return(0,T.pC)(me)&&be.featureResult&&se.addQueryGeometry(be,me),be}function ae(he,se){try{const ge=new te.Z(new Uint8Array(he),new DataView(he)),be={};for(;ge.next();)2===ge.tag()?be.queryResult=ge.processMessageWithArgs(_e,se):ge.skip();return be}catch(ue){throw new D.Z("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:ue})}}},98558:(nt,Te,M)=>{"use strict";M.d(Te,{A:()=>ie,J:()=>k});var D=M(16730),T=M(37053),te=M(66385),Z=M(95786),U=M(88071);const ie=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class k{constructor(R){this._options=R,this.geometryTypes=ie,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new Z.Z}prepareFeatures(R){this._vertexDimension=2,R.hasZ&&this._vertexDimension++,R.hasM&&this._vertexDimension++}finishFeatureResult(R){if(!R||!R.features||!R.hasZ||!this._options.sourceSpatialReference||!R.spatialReference||(0,T.fS)(R.spatialReference,this._options.sourceSpatialReference)||R.spatialReference.vcsWkid)return;const W=(0,D._R)(this._options.sourceSpatialReference)/(0,D._R)(R.spatialReference);if(1!==W)for(const V of R.features){if(!(0,te.S6)(V))continue;const Q=V.geometry.coords;for(let ne=2;ne<Q.length;ne+=3)Q[ne]*=W}}addFeature(R,W){R.features.push(W)}createFeature(){return new te.u_}createSpatialReference(){return{wkid:0}}createGeometry(){return new U.Z}addField(R,W){R.fields.push(W)}allocateCoordinates(R){R.coords.length=R.lengths.reduce((W,V)=>W+V,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(R,W){R.coords[this._coordinatePtr++]=W}addCoordinatePoint(R,W){R.coords.push(W)}addLength(R,W){R.lengths.push(W)}addQueryGeometry(R,W){R.queryGeometry=W.queryGeometry,R.queryGeometryType=W.queryGeometryType}createPointGeometry(){return new U.Z}}},85262:(nt,Te,M)=>{"use strict";M.d(Te,{C:()=>T});var D=M(71260);function T(te,Z){const U=(0,D.K9)(te,Z),ie=U.queryResult.featureResult,k=U.queryResult.queryGeometry,B=U.queryResult.queryGeometryType;if(ie&&ie.features&&ie.features.length&&ie.objectIdFieldName){const R=ie.objectIdFieldName;for(const W of ie.features)W.attributes&&(W.objectId=W.attributes[R])}return ie&&(ie.queryGeometry=k,ie.queryGeometryType=B),ie}},20477:(nt,Te,M)=>{"use strict";M.d(Te,{Ev:()=>x,JT:()=>ne,Vr:()=>N,hH:()=>$,n7:()=>F,qp:()=>X});var D=M(15861),T=M(84792),te=M(62208),Z=M(21726),U=M(91179),ie=M(93555),k=M(76391),B=M(85262),R=M(61515);const W="Layer does not support extent calculation.";function Q(q,ee){const re=q.geometry,le=q.toJSON();delete le.compactGeometryEnabled,delete le.defaultSpatialReferenceEnabled;const _e=le;let ae,he,se;if((0,te.pC)(re)&&(he=re.spatialReference,se=re.spatialReference.wkid||JSON.stringify(re.spatialReference),_e.geometryType=(0,U.Ji)(re),_e.geometry=function V(q,ee){if(ee&&"extent"===q.type)return`${q.xmin},${q.ymin},${q.xmax},${q.ymax}`;if(ee&&"point"===q.type)return`${q.x},${q.y}`;const re=q.toJSON();return delete re.spatialReference,JSON.stringify(re)}(re,q.compactGeometryEnabled),_e.inSR=se),le.groupByFieldsForStatistics&&(_e.groupByFieldsForStatistics=le.groupByFieldsForStatistics.join(",")),le.objectIds&&(_e.objectIds=le.objectIds.join(",")),le.orderByFields&&(_e.orderByFields=le.orderByFields.join(",")),!le.outFields||!le.returnDistinctValues&&(ee?.returnCountOnly||ee?.returnExtentOnly||ee?.returnIdsOnly)?delete _e.outFields:_e.outFields=le.outFields.includes("*")?"*":le.outFields.join(","),le.outSR?(_e.outSR=le.outSR.wkid||JSON.stringify(le.outSR),ae=q.outSpatialReference):re&&(le.returnGeometry||le.returnCentroid)&&(_e.outSR=_e.inSR,ae=he),le.returnGeometry&&delete le.returnGeometry,le.outStatistics&&(_e.outStatistics=JSON.stringify(le.outStatistics)),le.fullText&&(_e.fullText=JSON.stringify(le.fullText)),le.pixelSize&&(_e.pixelSize=JSON.stringify(le.pixelSize)),le.quantizationParameters&&(q.defaultSpatialReferenceEnabled&&(0,te.pC)(he)&&(0,te.pC)(q.quantizationParameters)&&(0,te.pC)(q.quantizationParameters.extent)&&he.equals(q.quantizationParameters.extent.spatialReference)&&delete le.quantizationParameters.extent.spatialReference,_e.quantizationParameters=JSON.stringify(le.quantizationParameters)),le.parameterValues&&(_e.parameterValues=JSON.stringify(le.parameterValues)),le.rangeValues&&(_e.rangeValues=JSON.stringify(le.rangeValues)),le.dynamicDataSource&&(_e.layer=JSON.stringify({source:le.dynamicDataSource}),delete le.dynamicDataSource),le.timeExtent){const ue=le.timeExtent,{start:ge,end:be}=ue;null==ge&&null==be||(_e.time=ge===be?ge:`${ge??"null"},${be??"null"}`),delete le.timeExtent}return q.defaultSpatialReferenceEnabled&&(0,te.pC)(he)&&(0,te.pC)(ae)&&he.equals(ae)&&(_e.defaultSR=_e.inSR,delete _e.inSR,delete _e.outSR),_e}function ne(q,ee,re,le){return J.apply(this,arguments)}function J(){return(J=(0,D.Z)(function*(q,ee,re,le){const _e=(0,te.pC)(ee.timeExtent)&&ee.timeExtent.isEmpty?{data:{features:[]}}:yield z(q,ee,"json",le);return(0,R.p)(ee,re,_e.data),_e})).apply(this,arguments)}function X(q,ee,re,le){return Y.apply(this,arguments)}function Y(){return(Y=(0,D.Z)(function*(q,ee,re,le){if((0,te.pC)(ee.timeExtent)&&ee.timeExtent.isEmpty)return{data:re.createFeatureResult()};const _e=yield F(q,ee,le),ae=_e;return ae.data=(0,B.C)(_e.data,re),ae})).apply(this,arguments)}function F(q,ee,re){return z(q,ee,"pbf",re)}function x(q,ee,re){return(0,te.pC)(ee.timeExtent)&&ee.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):z(q,ee,"json",re,{returnIdsOnly:!0})}function $(q,ee,re){return(0,te.pC)(ee.timeExtent)&&ee.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):z(q,ee,"json",re,{returnIdsOnly:!0,returnCountOnly:!0})}function N(q,ee,re){return(0,te.pC)(ee.timeExtent)&&ee.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):z(q,ee,"json",re,{returnExtentOnly:!0,returnCountOnly:!0}).then(le=>{const _e=le.data;if(_e.hasOwnProperty("extent"))return le;if(_e.features)throw new Error(W);if(_e.hasOwnProperty("count"))throw new Error(W);return le})}function z(q,ee,re,le={},_e={}){const ae="string"==typeof q?(0,Z.mN)(q):q,he=ee.geometry?[ee.geometry]:[];return le.responseType="pbf"===re?"array-buffer":"json",(0,ie.aX)(he,null,le).then(se=>{const ue=se&&se[0];(0,te.pC)(ue)&&((ee=ee.clone()).geometry=ue);const ge=(0,k.A)({...ae.query,f:re,..._e,...Q(ee,_e)});return(0,T.default)((0,Z.v_)(ae.path,"query"),{...le,query:{...ge,...le.query}})})}},61515:(nt,Te,M)=>{"use strict";M.d(Te,{p:()=>te});var D=M(62208),T=M(33696);function te(Z,U,ie){if(!ie||!ie.features||!ie.hasZ)return;const k=(0,T.k)(ie.geometryType,U,Z.outSpatialReference);if(!(0,D.Wi)(k))for(const B of ie.features)k(B.geometry)}},87183:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Q});var R,D=M(17626),T=M(86810),te=M(77712),Z=M(90912),ie=(M(85931),M(76898));const W={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let V=R=class extends T.wq{constructor(ne){super(ne),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:ne}=this,J=function k(ne){const{exifInfo:J,exifName:X,tagName:Y}=ne;if(!J||!X||!Y)return null;const F=J.find(x=>x.name===X);return F?function B(ne){const{tagName:J,tags:X}=ne;if(!X||!J)return null;const Y=X.find(F=>F.name===J);return Y&&Y.value||null}({tagName:Y,tags:F.tags}):null}({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:ne});return W[J]||null}clone(){return new R({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};(0,D._)([(0,te.Cb)({type:String})],V.prototype,"contentType",void 0),(0,D._)([(0,te.Cb)()],V.prototype,"exifInfo",void 0),(0,D._)([(0,te.Cb)({readOnly:!0})],V.prototype,"orientationInfo",null),(0,D._)([(0,te.Cb)({type:Z.z8})],V.prototype,"id",void 0),(0,D._)([(0,te.Cb)({type:String})],V.prototype,"globalId",void 0),(0,D._)([(0,te.Cb)({type:String})],V.prototype,"keywords",void 0),(0,D._)([(0,te.Cb)({type:String})],V.prototype,"name",void 0),(0,D._)([(0,te.Cb)({json:{read:!1}})],V.prototype,"parentGlobalId",void 0),(0,D._)([(0,te.Cb)({json:{read:!1}})],V.prototype,"parentObjectId",void 0),(0,D._)([(0,te.Cb)({type:Z.z8})],V.prototype,"size",void 0),(0,D._)([(0,te.Cb)({json:{read:!1}})],V.prototype,"url",void 0),V=R=(0,D._)([(0,ie.j)("esri.layers.support.AttachmentInfo")],V);const Q=V},40251:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>V});var R,D=M(17626),T=M(91558),te=M(58817),Z=M(77712),U=M(90912),ie=M(55342),k=M(76898),B=M(40669);let W=R=class extends B.Z{constructor(Q){super(Q),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new R({fromColor:(0,te.d9)(this.fromColor),toColor:(0,te.d9)(this.toColor),algorithm:this.algorithm})}};(0,D._)([(0,ie.J)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],W.prototype,"algorithm",void 0),(0,D._)([(0,Z.Cb)({type:T.Z,json:{type:[U.z8],write:!0}})],W.prototype,"fromColor",void 0),(0,D._)([(0,Z.Cb)({type:T.Z,json:{type:[U.z8],write:!0}})],W.prototype,"toColor",void 0),(0,D._)([(0,Z.Cb)({type:["algorithmic"]})],W.prototype,"type",void 0),W=R=(0,D._)([(0,k.j)("esri.rest.support.AlgorithmicColorRamp")],W);const V=W},67736:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var B,D=M(17626),T=M(86810),te=M(58817),Z=M(77712),U=M(90912),ie=M(76898),k=M(99433);let R=B=class extends T.wq{constructor(V){super(V),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(V,Q){Q.resultOffset=this.start,Q.resultRecordCount=this.num||10}clone(){return new B((0,te.d9)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};(0,D._)([(0,Z.Cb)({type:[String],json:{write:!0}})],R.prototype,"attachmentTypes",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],R.prototype,"attachmentsWhere",void 0),(0,D._)([(0,Z.Cb)({type:Boolean,json:{write:!0}})],R.prototype,"cacheHint",void 0),(0,D._)([(0,Z.Cb)({type:[String],json:{write:!0}})],R.prototype,"keywords",void 0),(0,D._)([(0,Z.Cb)({type:[Number],json:{write:!0}})],R.prototype,"globalIds",void 0),(0,D._)([(0,Z.Cb)({json:{write:!0}})],R.prototype,"name",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],R.prototype,"num",void 0),(0,D._)([(0,Z.Cb)({type:[Number],json:{write:!0}})],R.prototype,"objectIds",void 0),(0,D._)([(0,Z.Cb)({type:Boolean,json:{default:!1,write:!0}})],R.prototype,"returnMetadata",void 0),(0,D._)([(0,Z.Cb)({type:[Number],json:{write:!0}})],R.prototype,"size",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],R.prototype,"start",void 0),(0,D._)([(0,k.c)("start"),(0,k.c)("num")],R.prototype,"writeStart",null),(0,D._)([(0,Z.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],R.prototype,"where",void 0),R=B=(0,D._)([(0,ie.j)("esri.rest.support.AttachmentQuery")],R),R.from=(0,U.se)(R);const W=R},40669:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>B});var D=M(17626),T=M(86810),te=M(77712),ie=(M(90912),M(85931),M(76898));let k=class extends T.wq{constructor(R){super(R),this.type=null}};(0,D._)([(0,te.Cb)({readOnly:!0,json:{read:!1,write:!0}})],k.prototype,"type",void 0),k=(0,D._)([(0,ie.j)("esri.rest.support.ColorRamp")],k);const B=k},17253:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>$});var Y,D=M(17626),T=M(29132),te=M(88879),Z=M(2076),U=M(86810),ie=M(58817),k=M(62208),B=M(77712),W=(M(90912),M(68653)),V=M(76898),Q=M(99433),ne=M(65234),J=M(91179),X=M(36255);const F=new Z.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let x=Y=class extends U.wq{constructor(N){super(N),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(N,z){const q=ne.Z.fromJSON(z.spatialReference),ee=[];for(let re=0;re<N.length;re++){const le=N[re],_e=te.Z.fromJSON(le),ae=le.geometry&&le.geometry.spatialReference;(0,k.pC)(_e.geometry)&&!ae&&(_e.geometry.spatialReference=q);const he=le.aggregateGeometries,se=_e.aggregateGeometries;if(he&&(0,k.pC)(se))for(const ue in se){const ge=se[ue],be=he[ue]?.spatialReference;(0,k.pC)(ge)&&!be&&(ge.spatialReference=q)}ee.push(_e)}return ee}writeGeometryType(N,z,q,ee){if(N)return void F.write(N,z,q,ee);const{features:re}=this;if(re)for(const le of re)if(le&&(0,k.pC)(le.geometry))return void F.write(le.geometry.type,z,q,ee)}readQueryGeometry(N,z){if(!N)return null;const q=!!N.spatialReference,ee=(0,J.im)(N);return ee&&!q&&z.spatialReference&&(ee.spatialReference=ne.Z.fromJSON(z.spatialReference)),ee}writeSpatialReference(N,z){if(N)return void(z.spatialReference=N.toJSON());const{features:q}=this;if(q)for(const ee of q)if(ee&&(0,k.pC)(ee.geometry)&&ee.geometry.spatialReference)return void(z.spatialReference=ee.geometry.spatialReference.toJSON())}clone(){return new Y(this.cloneProperties())}cloneProperties(){return(0,ie.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(N){const z=this.write();if(z.features&&Array.isArray(N)&&N.length>0)for(let q=0;q<z.features.length;q++){const ee=z.features[q];if(ee.geometry){const re=N&&N[q];ee.geometry=re&&re.toJSON()||ee.geometry}}return z}quantize(N){const{scale:[z,q],translate:[ee,re]}=N,ae=this.features,he=this._getQuantizationFunction(this.geometryType,se=>Math.round((se-ee)/z),se=>Math.round((re-se)/q));for(let se=0,ue=ae.length;se<ue;se++)he?.((0,k.Wg)(ae[se].geometry))||(ae.splice(se,1),se--,ue--);return this.transform=N,this}unquantize(){const{geometryType:N,features:z,transform:q}=this;if(!q)return this;const{translate:[ee,re],scale:[le,_e]}=q,se=this._getHydrationFunction(N,ue=>ue*le+ee,ue=>re-ue*_e);for(const{geometry:ue}of z)(0,k.pC)(ue)&&se&&se(ue);return this.transform=null,this}_quantizePoints(N,z,q){let ee,re;const le=[];for(let _e=0,ae=N.length;_e<ae;_e++){const he=N[_e];if(_e>0){const se=z(he[0]),ue=q(he[1]);se===ee&&ue===re||(le.push([se-ee,ue-re]),ee=se,re=ue)}else ee=z(he[0]),re=q(he[1]),le.push([ee,re])}return le.length>0?le:null}_getQuantizationFunction(N,z,q){return"point"===N?ee=>(ee.x=z(ee.x),ee.y=q(ee.y),ee):"polyline"===N||"polygon"===N?ee=>{const re=(0,J.oU)(ee)?ee.rings:ee.paths,le=[];for(let _e=0,ae=re.length;_e<ae;_e++){const se=this._quantizePoints(re[_e],z,q);se&&le.push(se)}return le.length>0?((0,J.oU)(ee)?ee.rings=le:ee.paths=le,ee):null}:"multipoint"===N?ee=>{const re=this._quantizePoints(ee.points,z,q);return re&&re.length>0?(ee.points=re,ee):null}:"extent"===N?ee=>ee:null}_getHydrationFunction(N,z,q){return"point"===N?ee=>{ee.x=z(ee.x),ee.y=q(ee.y)}:"polyline"===N||"polygon"===N?ee=>{const re=(0,J.oU)(ee)?ee.rings:ee.paths;let le,_e;for(let ae=0,he=re.length;ae<he;ae++){const se=re[ae];for(let ue=0,ge=se.length;ue<ge;ue++){const be=se[ue];ue>0?(le+=be[0],_e+=be[1]):(le=be[0],_e=be[1]),be[0]=z(le),be[1]=q(_e)}}}:"extent"===N?ee=>{ee.xmin=z(ee.xmin),ee.ymin=q(ee.ymin),ee.xmax=z(ee.xmax),ee.ymax=q(ee.ymax)}:"multipoint"===N?ee=>{const re=ee.points;let le,_e;for(let ae=0,he=re.length;ae<he;ae++){const se=re[ae];ae>0?(le+=se[0],_e+=se[1]):(le=se[0],_e=se[1]),se[0]=z(le),se[1]=q(_e)}}:null}};(0,D._)([(0,B.Cb)({type:String,json:{write:!0}})],x.prototype,"displayFieldName",void 0),(0,D._)([(0,B.Cb)({type:Boolean,json:{write:{overridePolicy:N=>({enabled:N})}}})],x.prototype,"exceededTransferLimit",void 0),(0,D._)([(0,B.Cb)({type:[te.Z],json:{write:!0}})],x.prototype,"features",void 0),(0,D._)([(0,W.r)("features")],x.prototype,"readFeatures",null),(0,D._)([(0,B.Cb)({type:[X.Z],json:{write:!0}})],x.prototype,"fields",void 0),(0,D._)([(0,B.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:F.read}}})],x.prototype,"geometryType",void 0),(0,D._)([(0,Q.c)("geometryType")],x.prototype,"writeGeometryType",null),(0,D._)([(0,B.Cb)({type:Boolean,json:{write:{overridePolicy:N=>({enabled:N})}}})],x.prototype,"hasM",void 0),(0,D._)([(0,B.Cb)({type:Boolean,json:{write:{overridePolicy:N=>({enabled:N})}}})],x.prototype,"hasZ",void 0),(0,D._)([(0,B.Cb)({types:T.qM,json:{write:!0}})],x.prototype,"queryGeometry",void 0),(0,D._)([(0,W.r)("queryGeometry")],x.prototype,"readQueryGeometry",null),(0,D._)([(0,B.Cb)({type:ne.Z,json:{write:!0}})],x.prototype,"spatialReference",void 0),(0,D._)([(0,Q.c)("spatialReference")],x.prototype,"writeSpatialReference",null),(0,D._)([(0,B.Cb)({json:{write:!0}})],x.prototype,"transform",void 0),x=Y=(0,D._)([(0,V.j)("esri.rest.support.FeatureSet")],x),x.prototype.toJSON.isDefaultToJSON=!0;const $=x},75414:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var B,D=M(17626),T=M(58817),te=M(77712),U=(M(90912),M(76898)),ie=M(40251),k=M(40669);let R=B=class extends k.Z{constructor(V){super(V),this.colorRamps=null,this.type="multipart"}clone(){return new B({colorRamps:(0,T.d9)(this.colorRamps)})}};(0,D._)([(0,te.Cb)({type:[ie.Z],json:{write:!0}})],R.prototype,"colorRamps",void 0),(0,D._)([(0,te.Cb)({type:["multipart"]})],R.prototype,"type",void 0),R=B=(0,D._)([(0,U.j)("esri.rest.support.MultipartColorRamp")],R);const W=R},77294:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>R});var D=M(17626),T=M(86810),te=M(77712),ie=(M(90912),M(85931),M(76898)),k=M(91179);let B=class extends T.wq{constructor(W){super(W),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const W=this.geometries.map(ne=>ne.toJSON()),V=this.geometries[0],Q={};return Q.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),Q.inSR=V.spatialReference.wkid||JSON.stringify(V.spatialReference.toJSON()),Q.geometries=JSON.stringify({geometryType:(0,k.Ji)(V),geometries:W}),this.transformation&&(Q.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(Q.transformForward=this.transformForward),Q}};(0,D._)([(0,te.Cb)()],B.prototype,"geometries",void 0),(0,D._)([(0,te.Cb)({json:{read:{source:"outSR"}}})],B.prototype,"outSpatialReference",void 0),(0,D._)([(0,te.Cb)()],B.prototype,"transformation",void 0),(0,D._)([(0,te.Cb)()],B.prototype,"transformForward",void 0),B=(0,D._)([(0,ie.j)("esri.rest.support.ProjectParameters")],B);const R=B},89621:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ne});var W,D=M(17626),te=(M(29132),M(2076)),Z=M(86810),U=M(58817),ie=M(77712),B=(M(90912),M(76898)),R=M(2004);const V=new te.X({upperLeft:"upper-left",lowerLeft:"lower-left"});let Q=W=class extends Z.wq{constructor(J){super(J),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new W((0,U.d9)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};(0,D._)([(0,ie.Cb)({type:R.Z,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],Q.prototype,"extent",void 0),(0,D._)([(0,ie.Cb)({type:["view","edit"],json:{write:!0}})],Q.prototype,"mode",void 0),(0,D._)([(0,ie.Cb)({type:String,json:{read:V.read,write:V.write}})],Q.prototype,"originPosition",void 0),(0,D._)([(0,ie.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],Q.prototype,"tolerance",void 0),Q=W=(0,D._)([(0,B.j)("esri.rest.support.QuantizationParameters")],Q);const ne=Q},96854:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>he});var D=M(17626),T=M(29132),te=M(97478),Z=M(2076),U=M(86810),ie=M(58817),k=M(62208),B=M(77712),R=M(66656),W=M(55342),V=M(76898),Q=M(99433),ne=M(90912),J=M(91179),X=M(15283),Y=M(79608);M(85931);let x=class extends((0,Y.J)(U.wq)){constructor(se){super(se),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};(0,D._)([(0,B.Cb)({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:(0,k.pC)(this.onFields)&&this.onFields.length>0}}}}})],x.prototype,"onFields",void 0),(0,D._)([(0,B.Cb)({type:String,json:{write:!0}})],x.prototype,"operator",void 0),(0,D._)([(0,B.Cb)({type:String,json:{write:!0}})],x.prototype,"searchTerm",void 0),(0,D._)([(0,B.Cb)({type:String,json:{write:!0}})],x.prototype,"searchType",void 0),x=(0,D._)([(0,V.j)("esri.rest.support.FullTextSearch")],x);const $=x;var re,N=M(89621),z=M(60776),q=M(65234),ee=M(72642);const le=new Z.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),_e=new Z.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let ae=re=class extends U.wq{static from(se){return(0,ne.TJ)(re,se)}constructor(se){super(se),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(se){return"number"==typeof se||"object"==typeof se?se:null}writeHistoricMoment(se,ue){ue.historicMoment=se&&se.getTime()}writeParameterValues(se,ue){if(se){const ge={};for(const be in se){const me=se[be];ge[be]=Array.isArray(me)?me.map(Oe=>Oe instanceof Date?Oe.getTime():Oe):me instanceof Date?me.getTime():me}ue.parameterValues=ge}}writeStart(se,ue){ue.resultOffset=this.start,ue.resultRecordCount=this.num||10,ue.where="1=1"}writeWhere(se,ue){ue.where=se||"1=1"}clone(){return new re((0,ie.d9)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:(0,k.pC)(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};ae.MAX_MAX_RECORD_COUNT_FACTOR=5,(0,D._)([(0,B.Cb)({json:{write:!0}})],ae.prototype,"aggregateIds",void 0),(0,D._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],ae.prototype,"cacheHint",void 0),(0,D._)([(0,B.Cb)({type:Boolean,json:{default:!1,write:!0}})],ae.prototype,"compactGeometryEnabled",void 0),(0,D._)([(0,B.Cb)({json:{write:!0}})],ae.prototype,"datumTransformation",void 0),(0,D._)([(0,R.p)("datumTransformation")],ae.prototype,"castDatumTransformation",null),(0,D._)([(0,B.Cb)({type:Boolean,json:{default:!1,write:!0}})],ae.prototype,"defaultSpatialReferenceEnabled",void 0),(0,D._)([(0,B.Cb)({type:Number,json:{write:{overridePolicy:se=>({enabled:se>0})}}})],ae.prototype,"distance",void 0),(0,D._)([(0,B.Cb)({type:X.n,json:{write:!0}})],ae.prototype,"dynamicDataSource",void 0),(0,D._)([(0,B.Cb)({type:String,json:{write:!0}})],ae.prototype,"formatOf3DObjects",void 0),(0,D._)([(0,B.Cb)({type:[$],json:{write:{enabled:!0,overridePolicy(){return{enabled:(0,k.pC)(this.fullText)&&this.fullText.length>0}}}}})],ae.prototype,"fullText",void 0),(0,D._)([(0,B.Cb)({type:String,json:{write:!0}})],ae.prototype,"gdbVersion",void 0),(0,D._)([(0,B.Cb)({types:T.qM,json:{read:J.im,write:!0}})],ae.prototype,"geometry",void 0),(0,D._)([(0,B.Cb)({type:Number,json:{write:!0}})],ae.prototype,"geometryPrecision",void 0),(0,D._)([(0,B.Cb)({type:[String],json:{write:!0}})],ae.prototype,"groupByFieldsForStatistics",void 0),(0,D._)([(0,B.Cb)({type:String,json:{write:!0}})],ae.prototype,"having",void 0),(0,D._)([(0,B.Cb)({type:Date})],ae.prototype,"historicMoment",void 0),(0,D._)([(0,Q.c)("historicMoment")],ae.prototype,"writeHistoricMoment",null),(0,D._)([(0,B.Cb)({type:Number,json:{write:!0}})],ae.prototype,"maxAllowableOffset",void 0),(0,D._)([(0,B.Cb)({type:Number,cast:se=>se<1?1:se>re.MAX_MAX_RECORD_COUNT_FACTOR?re.MAX_MAX_RECORD_COUNT_FACTOR:se,json:{write:{overridePolicy:se=>({enabled:se>1})}}})],ae.prototype,"maxRecordCountFactor",void 0),(0,D._)([(0,B.Cb)({type:["xyFootprint"],json:{write:!0}})],ae.prototype,"multipatchOption",void 0),(0,D._)([(0,B.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],ae.prototype,"num",void 0),(0,D._)([(0,B.Cb)({json:{write:!0}})],ae.prototype,"objectIds",void 0),(0,D._)([(0,B.Cb)({type:[String],json:{write:!0}})],ae.prototype,"orderByFields",void 0),(0,D._)([(0,B.Cb)({type:[String],json:{write:!0}})],ae.prototype,"outFields",void 0),(0,D._)([(0,B.Cb)({type:q.Z,json:{name:"outSR",write:!0}})],ae.prototype,"outSpatialReference",void 0),(0,D._)([(0,B.Cb)({type:[z.Z],json:{write:{enabled:!0,overridePolicy(){return{enabled:(0,k.pC)(this.outStatistics)&&this.outStatistics.length>0}}}}})],ae.prototype,"outStatistics",void 0),(0,D._)([(0,B.Cb)({json:{write:!0}})],ae.prototype,"parameterValues",void 0),(0,D._)([(0,Q.c)("parameterValues")],ae.prototype,"writeParameterValues",null),(0,D._)([(0,B.Cb)({type:ee.Z,json:{write:!0}})],ae.prototype,"pixelSize",void 0),(0,D._)([(0,B.Cb)({type:N.Z,json:{write:!0}})],ae.prototype,"quantizationParameters",void 0),(0,D._)([(0,B.Cb)({type:[Object],json:{write:!0}})],ae.prototype,"rangeValues",void 0),(0,D._)([(0,B.Cb)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],ae.prototype,"relationParameter",void 0),(0,D._)([(0,B.Cb)({type:String,json:{write:!0}})],ae.prototype,"resultType",void 0),(0,D._)([(0,B.Cb)({type:Boolean,json:{default:!1,write:!0}})],ae.prototype,"returnCentroid",void 0),(0,D._)([(0,B.Cb)({type:Boolean,json:{default:!1,write:!0}})],ae.prototype,"returnDistinctValues",void 0),(0,D._)([(0,B.Cb)({type:Boolean,json:{default:!0,write:!0}})],ae.prototype,"returnExceededLimitFeatures",void 0),(0,D._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],ae.prototype,"returnGeometry",void 0),(0,D._)([(0,B.Cb)({type:Boolean,json:{default:!1,write:!0}})],ae.prototype,"returnQueryGeometry",void 0),(0,D._)([(0,B.Cb)({type:Boolean,json:{default:!1,write:!0}})],ae.prototype,"returnM",void 0),(0,D._)([(0,B.Cb)({type:Boolean,json:{write:{overridePolicy:se=>({enabled:se})}}})],ae.prototype,"returnZ",void 0),(0,D._)([(0,B.Cb)({type:q.Z,json:{write:!0}})],ae.prototype,"sourceSpatialReference",void 0),(0,D._)([(0,W.J)(le,{ignoreUnknown:!1,name:"spatialRel"})],ae.prototype,"spatialRelationship",void 0),(0,D._)([(0,B.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],ae.prototype,"start",void 0),(0,D._)([(0,Q.c)("start"),(0,Q.c)("num")],ae.prototype,"writeStart",null),(0,D._)([(0,B.Cb)({type:String,json:{write:!0}})],ae.prototype,"sqlFormat",void 0),(0,D._)([(0,B.Cb)({type:String,json:{write:!0}})],ae.prototype,"text",void 0),(0,D._)([(0,B.Cb)({type:te.Z,json:{write:!0}})],ae.prototype,"timeExtent",void 0),(0,D._)([(0,B.Cb)({type:Boolean,json:{default:!1,write:!0}})],ae.prototype,"timeReferenceUnknownClient",void 0),(0,D._)([(0,W.J)(_e,{ignoreUnknown:!1}),(0,B.Cb)({json:{write:{overridePolicy(se){return{enabled:!!se&&null!=this.distance&&this.distance>0}}}}})],ae.prototype,"units",void 0),(0,D._)([(0,B.Cb)({type:String,json:{write:{overridePolicy(se){return{enabled:null!=se||null!=this.start&&this.start>0}}}}})],ae.prototype,"where",void 0),(0,D._)([(0,Q.c)("where")],ae.prototype,"writeWhere",null),ae=re=(0,D._)([(0,V.j)("esri.rest.support.Query")],ae);const he=ae},67010:(nt,Te,M)=>{"use strict";M.r(Te),M.d(Te,{default:()=>ne});var V,D=M(17626),te=(M(29132),M(86810)),Z=M(58817),U=M(77712),ie=M(90912),k=M(76898),B=M(99433),R=M(15283),W=M(65234);let Q=V=class extends te.wq{constructor(J){super(J),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(J,X){X.historicMoment=J&&J.getTime()}writeStart(J,X){X.resultOffset=this.start,X.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(X.definitionExpression="1=1")}clone(){return new V((0,Z.d9)({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};(0,D._)([(0,U.Cb)({type:Boolean,json:{write:!0}})],Q.prototype,"cacheHint",void 0),(0,D._)([(0,U.Cb)({type:R.n,json:{write:!0}})],Q.prototype,"dynamicDataSource",void 0),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],Q.prototype,"gdbVersion",void 0),(0,D._)([(0,U.Cb)({type:Number,json:{write:!0}})],Q.prototype,"geometryPrecision",void 0),(0,D._)([(0,U.Cb)({type:Date})],Q.prototype,"historicMoment",void 0),(0,D._)([(0,B.c)("historicMoment")],Q.prototype,"_writeHistoricMoment",null),(0,D._)([(0,U.Cb)({type:Number,json:{write:!0}})],Q.prototype,"maxAllowableOffset",void 0),(0,D._)([(0,U.Cb)({type:[Number],json:{write:!0}})],Q.prototype,"objectIds",void 0),(0,D._)([(0,U.Cb)({type:[String],json:{write:!0}})],Q.prototype,"orderByFields",void 0),(0,D._)([(0,U.Cb)({type:[String],json:{write:!0}})],Q.prototype,"outFields",void 0),(0,D._)([(0,U.Cb)({type:W.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Q.prototype,"outSpatialReference",void 0),(0,D._)([(0,U.Cb)({json:{write:!0}})],Q.prototype,"relationshipId",void 0),(0,D._)([(0,U.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],Q.prototype,"start",void 0),(0,D._)([(0,B.c)("start"),(0,B.c)("num")],Q.prototype,"writeStart",null),(0,D._)([(0,U.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],Q.prototype,"num",void 0),(0,D._)([(0,U.Cb)({json:{write:!0}})],Q.prototype,"returnGeometry",void 0),(0,D._)([(0,U.Cb)({type:Boolean,json:{write:{overridePolicy:J=>({enabled:J})}}})],Q.prototype,"returnM",void 0),(0,D._)([(0,U.Cb)({type:Boolean,json:{write:{overridePolicy:J=>({enabled:J})}}})],Q.prototype,"returnZ",void 0),(0,D._)([(0,U.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Q.prototype,"where",void 0),Q=V=(0,D._)([(0,k.j)("esri.rest.support.RelationshipQuery")],Q),Q.from=(0,ie.se)(Q);const ne=Q},60776:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Q});var R,D=M(17626),T=M(2076),te=M(86810),Z=M(58817),U=M(77712),k=(M(90912),M(76898)),B=M(99433);const W=new T.X({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let V=R=class extends te.wq{constructor(ne){super(ne),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(ne,J){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(J.statisticParameters=(0,Z.d9)(ne))}clone(){return new R({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:(0,Z.d9)(this.statisticParameters)})}};(0,D._)([(0,U.Cb)({type:Number,json:{write:!0}})],V.prototype,"maxPointCount",void 0),(0,D._)([(0,U.Cb)({type:Number,json:{write:!0}})],V.prototype,"maxRecordCount",void 0),(0,D._)([(0,U.Cb)({type:Number,json:{write:!0}})],V.prototype,"maxVertexCount",void 0),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],V.prototype,"onStatisticField",void 0),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],V.prototype,"outStatisticFieldName",void 0),(0,D._)([(0,U.Cb)({type:String,json:{read:{source:"statisticType",reader:W.read},write:{target:"statisticType",writer:W.write}}})],V.prototype,"statisticType",void 0),(0,D._)([(0,U.Cb)({type:Object})],V.prototype,"statisticParameters",void 0),(0,D._)([(0,B.c)("statisticParameters")],V.prototype,"writeStatisticParameters",null),V=R=(0,D._)([(0,k.j)("esri.rest.support.StatisticDefinition")],V);const Q=V},6871:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>q});var J,D=M(17626),T=M(29132),te=M(97478),Z=M(2076),U=M(86810),ie=M(58817),k=M(62208),B=M(77712),R=M(90912),W=M(76898),V=M(99433),Q=M(91179);M(85931);let X=J=class extends U.wq{constructor(ee){super(ee),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new J({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};(0,D._)([(0,B.Cb)({type:[String],json:{write:!0}})],X.prototype,"groupByFields",void 0),(0,D._)([(0,B.Cb)({type:Number,json:{write:!0}})],X.prototype,"topCount",void 0),(0,D._)([(0,B.Cb)({type:[String],json:{write:!0}})],X.prototype,"orderByFields",void 0),X=J=(0,D._)([(0,W.j)("esri.rest.support.TopFilter")],X);const Y=X;var x,F=M(65234);const $=new Z.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),N=new Z.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let z=x=class extends U.wq{constructor(ee){super(ee),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(ee,re){re.resultOffset=this.start,re.resultRecordCount=this.num||10}clone(){return new x((0,ie.d9)({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};(0,D._)([(0,B.Cb)({type:Boolean,json:{write:!0}})],z.prototype,"cacheHint",void 0),(0,D._)([(0,B.Cb)({type:Number,json:{write:{overridePolicy:ee=>({enabled:ee>0})}}})],z.prototype,"distance",void 0),(0,D._)([(0,B.Cb)({types:T.qM,json:{read:Q.im,write:!0}})],z.prototype,"geometry",void 0),(0,D._)([(0,B.Cb)({type:Number,json:{write:!0}})],z.prototype,"geometryPrecision",void 0),(0,D._)([(0,B.Cb)({type:Number,json:{write:!0}})],z.prototype,"maxAllowableOffset",void 0),(0,D._)([(0,B.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],z.prototype,"num",void 0),(0,D._)([(0,B.Cb)({json:{write:!0}})],z.prototype,"objectIds",void 0),(0,D._)([(0,B.Cb)({type:[String],json:{write:!0}})],z.prototype,"orderByFields",void 0),(0,D._)([(0,B.Cb)({type:[String],json:{write:!0}})],z.prototype,"outFields",void 0),(0,D._)([(0,B.Cb)({type:F.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],z.prototype,"outSpatialReference",void 0),(0,D._)([(0,B.Cb)({type:String,json:{write:!0}})],z.prototype,"resultType",void 0),(0,D._)([(0,B.Cb)({json:{write:!0}})],z.prototype,"returnGeometry",void 0),(0,D._)([(0,B.Cb)({type:Boolean,json:{write:{overridePolicy:ee=>({enabled:ee})}}})],z.prototype,"returnM",void 0),(0,D._)([(0,B.Cb)({type:Boolean,json:{write:{overridePolicy:ee=>({enabled:ee})}}})],z.prototype,"returnZ",void 0),(0,D._)([(0,B.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],z.prototype,"start",void 0),(0,D._)([(0,V.c)("start"),(0,V.c)("num")],z.prototype,"writeStart",null),(0,D._)([(0,B.Cb)({type:String,json:{read:{source:"spatialRel",reader:$.read},write:{target:"spatialRel",writer:$.write}}})],z.prototype,"spatialRelationship",void 0),(0,D._)([(0,B.Cb)({type:te.Z,json:{write:!0}})],z.prototype,"timeExtent",void 0),(0,D._)([(0,B.Cb)({type:Y,json:{write:!0}})],z.prototype,"topFilter",void 0),(0,D._)([(0,B.Cb)({type:String,json:{read:N.read,write:{writer:N.write,overridePolicy(ee){return{enabled:(0,k.pC)(ee)&&(0,k.pC)(this.distance)&&this.distance>0}}}}})],z.prototype,"units",void 0),(0,D._)([(0,B.Cb)({type:String,json:{write:!0}})],z.prototype,"where",void 0),z=x=(0,D._)([(0,W.j)("esri.rest.support.TopFeaturesQuery")],z),z.from=(0,R.se)(z);const q=z},79023:(nt,Te,M)=>{"use strict";M.d(Te,{V:()=>Z,i:()=>U});var D=M(40251),T=M(40669),te=M(75414);const Z={key:"type",base:T.Z,typeMap:{algorithmic:D.Z,multipart:te.Z}};function U(ie){return ie&&ie.type?"algorithmic"===ie.type?D.Z.fromJSON(ie):"multipart"===ie.type?te.Z.fromJSON(ie):null:null}},2618:(nt,Te,M)=>{"use strict";M.d(Te,{cv:()=>B,en:()=>k,lA:()=>ie}),M(59318),M(24263);var te=M(58817),Z=M(21726);function ie(W,V){return V?{...V,query:{...W??{},...V.query}}:{query:W}}function k(W){return"string"==typeof W?(0,Z.mN)(W):(0,te.d9)(W)}function B(W,V,Q){const ne={};for(const J in W){if("declaredClass"===J)continue;const X=W[J];if(null!=X&&"function"!=typeof X)if(Array.isArray(X)){ne[J]=[];for(let Y=0;Y<X.length;Y++)ne[J][Y]=B(X[Y])}else if("object"==typeof X)if(X.toJSON){const Y=X.toJSON(Q&&Q[J]);ne[J]=V?Y:JSON.stringify(Y)}else ne[J]=V?X:JSON.stringify(X);else ne[J]=X}return ne}M(12680)},51815:(nt,Te,M)=>{"use strict";M.d(Te,{J:()=>V});var D=M(17626),T=M(88879),Z=(M(63290),M(90912)),B=(M(85931),M(26584),M(8314),M(61039)),R=M(76898),W=M(28705);let V=class extends W.a{_own(Q){Q.layer&&"remove"in Q.layer&&Q.layer!==this.owner&&Q.layer.remove(Q),Q.layer=this.owner}_release(Q){Q.layer===this.owner&&(Q.layer=null)}};(0,D._)([(0,B.c)({Type:T.Z,ensureType:(0,Z.se)(T.Z)})],V.prototype,"itemType",void 0),V=(0,D._)([(0,R.j)("esri.support.GraphicsCollection")],V)},6432:(nt,Te,M)=>{"use strict";M.d(Te,{K:()=>Q});var D=M(17626),T=M(74333),te=M(89726),Z=M(63290),U=M(10699),ie=M(77712),R=(M(90912),M(85931),M(76898)),W=M(44917);function V(ne,J,X){let Y,F;if(ne)for(let x=0,$=ne.length;x<$;x++){if(Y=ne.getItemAt(x),Y[J]===X)return Y;if("group"===Y?.type&&(F=V(Y.layers,J,X),F))return F}}const Q=ne=>{let J=class extends ne{constructor(...X){super(...X),this.layers=new T.Z;const F=$=>{$.parent=this,this.layerAdded($),"elevation"!==$.type&&"base-elevation"!==$.type||Z.Z.getLogger(this.declaredClass).error(`Layer 'title:${$.title}, id:${$.id}' of type '${$.type}' is not supported as an operational layer and will therefore be ignored.`)},x=$=>{$.parent=null,this.layerRemoved($)};this.layers.on("before-add",$=>($=>{$.parent&&"remove"in $.parent&&$.parent.remove($)})($.item)),this.layers.on("after-add",$=>F($.item)),this.layers.on("after-remove",$=>x($.item))}destroy(){const X=this.layers.removeAll();for(const Y of X)this.layerRemoved(Y),Y.destroy();this.layers.destroy()}set layers(X){this._set("layers",(0,te.Z)(X,this._get("layers")))}add(X,Y){const F=this.layers;if(Y=F.getNextIndex(Y),X instanceof W.Z){const x=X;x.parent===this?this.reorder(x,Y):F.add(x,Y)}else(0,U.y8)(X)?X.then(x=>{this.destroyed||this.add(x,Y)}):Z.Z.getLogger(this.declaredClass).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(X,Y){const F=this.layers;let x=F.getNextIndex(Y);X.slice().forEach($=>{$.parent!==this?(F.add($,x),x+=1):this.reorder($,x)})}findLayerById(X){return V(this.layers,"id",X)}findLayerByUid(X){return V(this.layers,"uid",X)}remove(X){return this.layers.remove(X)}removeMany(X){return this.layers.removeMany(X)}removeAll(){return this.layers.removeAll()}reorder(X,Y){return this.layers.reorder(X,Y)}layerAdded(X){}layerRemoved(X){}};return(0,D._)([(0,ie.Cb)()],J.prototype,"layers",null),J=(0,D._)([(0,R.j)("esri.support.LayersMixin")],J),J}},6119:(nt,Te,M)=>{"use strict";M.d(Te,{Q:()=>W});var D=M(17626),T=M(74333),te=M(89726),Z=M(63290),U=M(77712),B=(M(90912),M(85931),M(76898));function R(V,Q,ne){if(V)for(let J=0,X=V.length;J<X;J++){const Y=V.getItemAt(J);if(Y[Q]===ne)return Y;if("group"===Y?.type){const F=R(Y.tables,Q,ne);if(F)return F}}}const W=V=>{let Q=class extends V{constructor(...ne){super(...ne),this.tables=new T.Z,this.tables.on("after-add",J=>{const X=J.item;X.parent&&X.parent!==this&&"tables"in X.parent&&X.parent.tables.remove(X),X.parent=this,"feature"!==X.type&&Z.Z.getLogger(this.declaredClass).error(`Layer 'title:${X.title}, id:${X.id}' of type '${X.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",J=>{J.item.parent=null})}destroy(){const ne=this.tables.removeAll();for(const J of ne)J.destroy();this.tables.destroy()}set tables(ne){this._set("tables",(0,te.Z)(ne,this._get("tables")))}findTableById(ne){return R(this.tables,"id",ne)}findTableByUid(ne){return R(this.tables,"uid",ne)}};return(0,D._)([(0,U.Cb)()],Q.prototype,"tables",null),Q=(0,D._)([(0,B.j)("esri.support.TablesMixin")],Q),Q}},59397:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var B,D=M(17626),T=M(14517),te=M(61996),Z=M(77712),k=(M(90912),M(85931),M(76898));let R=B=class extends((0,te.IG)(T.Z)){constructor(V){super(V),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new B({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};(0,D._)([(0,Z.Cb)()],R.prototype,"active",void 0),(0,D._)([(0,Z.Cb)()],R.prototype,"className",void 0),(0,D._)([(0,Z.Cb)()],R.prototype,"disabled",void 0),(0,D._)([(0,Z.Cb)()],R.prototype,"id",void 0),(0,D._)([(0,Z.Cb)()],R.prototype,"indicator",void 0),(0,D._)([(0,Z.Cb)()],R.prototype,"title",void 0),(0,D._)([(0,Z.Cb)()],R.prototype,"type",void 0),(0,D._)([(0,Z.Cb)()],R.prototype,"visible",void 0),R=B=(0,D._)([(0,k.j)("esri.support.actions.ActionBase")],R);const W=R},48753:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>R});var k,D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898)),ie=M(59397);let B=k=class extends ie.Z{constructor(W){super(W),this.image=null,this.type="button"}clone(){return new k({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};(0,D._)([(0,T.Cb)()],B.prototype,"image",void 0),B=k=(0,D._)([(0,U.j)("esri.support.Action.ActionButton")],B);const R=B},10671:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>R});var k,D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898)),ie=M(59397);let B=k=class extends ie.Z{constructor(W){super(W),this.image=null,this.type="toggle",this.value=!1}clone(){return new k({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};(0,D._)([(0,T.Cb)()],B.prototype,"image",void 0),(0,D._)([(0,T.Cb)()],B.prototype,"value",void 0),B=k=(0,D._)([(0,U.j)("esri.support.Action.ActionToggle")],B);const R=B},12680:(nt,Te,M)=>{"use strict";M.d(Te,{r:()=>Z});var D=M(21726);const T=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function Z(U){const ie=(0,D.P$)(U,!0);return!!ie&&ie.endsWith(".arcgis.com")&&!T.includes(ie)&&!U.endsWith("/sharing/rest/generateToken")}},46679:(nt,Te,M)=>{"use strict";M.d(Te,{LC:()=>R,WW:()=>W,Yi:()=>V,mz:()=>J,pp:()=>ne});var D=M(15861),te=(M(29132),M(26584)),Z=M(63290),U=M(62208),ie=M(65234);const k=Z.Z.getLogger("esri.support.arcadeOnDemand");let B;function R(){return B||(B=(0,D.Z)(function*(){const X=yield Promise.all([M.e(8592),M.e(4988)]).then(M.bind(M,4988));return{arcade:X.arcade,arcadeUtils:X,Dictionary:X.Dictionary,Feature:X.arcadeFeature}})()),B}const W=(X,Y,F)=>J.create(X,Y,F,null,["$feature"]),V=(X,Y,F)=>J.create(X,Y,F,null,["$feature","$view"]),ne=(X,Y,F,x)=>J.create(X,Y,F,x,["$feature","$view"]);class J{constructor(Y,F,x,$,N,z,q){this.script=Y,this.evaluate=$;const ee=Array.isArray(z)?z:z.fields;this.fields=ee,this._syntaxTree=x,this._arcade=F,this._arcadeFeature=N,this._spatialReference=q,this._referencesGeometry=F.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static create(Y,F,x,$,N,z){return(0,D.Z)(function*(){const{arcade:q,Feature:ee,Dictionary:re}=yield R(),le=ie.Z.fromJSON(F);let _e;try{_e=q.parseScript(Y,z)}catch(xe){return k.error(new te.Z("arcade-bad-expression","Failed to parse arcade script",{script:Y,error:xe})),null}const ae=N.reduce((xe,Ce)=>({...xe,[Ce]:null}),{});let he=null;(0,U.pC)($)&&(he=new re($),he.immutable=!0,ae.$config=null);const se=q.scriptUsesGeometryEngine(_e),ue=se&&q.enableGeometrySupport(),ge=q.scriptUsesFeatureSet(_e)&&q.enableFeatureSetSupport(),be=q.scriptIsAsync(_e),me=be&&q.enableAsyncSupport(),Oe={vars:ae,spatialReference:le,useAsync:!!me};yield Promise.all([ue,ge,me]);const oe=new Set;yield q.loadDependentModules(oe,_e,null,be,se);const de=new re;de.immutable=!1,de.setField("scale",0);const ve=q.compileScript(_e,Oe);return new J(Y,q,_e,xe=>("$view"in xe&&xe.$view&&(de.setField("scale","object"==typeof xe.$view?xe.$view.scale:void 0),xe.$view=de),he&&(xe.$config=he),ve({vars:xe,spatialReference:le})),new ee,x,le)})()}repurposeFeature(Y){return Y.geometry&&!Y.geometry.spatialReference&&(Y.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(Y.geometry,Y.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}}},33954:(nt,Te,M)=>{"use strict";M.d(Te,{g:()=>Z,s:()=>ie});var D=M(15861),T=M(54346),te=M(41840);function Z(k){return U.apply(this,arguments)}function U(){return(U=(0,D.Z)(function*(k){if(!k)return;const B=k.includes("-vector")?k.slice(0,k.indexOf("-vector")):k,R=yield(0,te.ME)("esri/t9n/basemaps");return R[k]||R[B]})).apply(this,arguments)}const ie={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}}},38953:(nt,Te,M)=>{"use strict";M.d(Te,{a:()=>T});var D=M(46882);function T(te){return new D.Z({getCollections:()=>[te.tables,te.layers],getChildrenFunction:Z=>{const U=[];return"tables"in Z&&U.push(Z.tables),"layers"in Z&&U.push(Z.layers),U},itemFilterFunction:Z=>{const U=Z.parent;return!!U&&"tables"in U&&U.tables.includes(Z)}})}},35560:(nt,Te,M)=>{"use strict";M.d(Te,{K3:()=>T,Rx:()=>U});var D=M(8314);const T=()=>!!(0,D.Z)("enable-feature:force-wosr"),U=()=>!!(0,D.Z)("enable-feature:SceneLayer-editing")},49430:(nt,Te,M)=>{"use strict";M.d(Te,{eZ:()=>X});var D=M(73281),T=M(36630),te=M(55664),k=(M(55013),M(16615),M(82561),M(75484)),V=(M(64531),M(6785),M(501),M(25621)),Q=M(66845);const ne=["oid","global-id"],J=["oid","global-id","guid"];function X({displayField:me,editFieldsInfo:Oe,fields:oe,objectIdField:de,title:ve},De){if(!oe)return null;const xe=function re({editFieldsInfo:me,fields:Oe,objectIdField:oe},de){return function $(me,Oe){const oe=me;return Oe&&(me=me.filter(de=>!Oe.includes(de.type))),me===oe&&(me=me.slice()),me.sort(N),me}(Oe??[],de?.ignoreFieldTypes||be).map(ve=>new V.Z({fieldName:ve.name,isEditable:q(ve,me),label:ve.alias,format:ae(ve),visible:x(ve,{editFieldsInfo:me,objectIdField:oe,visibleFieldNames:de?.visibleFieldNames})}))}({editFieldsInfo:Oe,fields:oe,objectIdField:de},De);if(!xe.length)return null;const Ce=function ue(me){const Oe=(0,T.O5)(me),{titleBase:oe}=me;return Oe?`${oe}: {${Oe.trim()}}`:oe??""}({titleBase:ve,fields:oe,displayField:me}),Re=function he(){return[new k.Z,new te.Z]}();return new D.Z({title:Ce,content:Re,fieldInfos:xe})}const F=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],x=(me,{editFieldsInfo:Oe,objectIdField:oe,visibleFieldNames:de})=>de?de.has(me.name):!(z(me.name,Oe)||oe&&me.name===oe||ne.includes(me.type)||F.some(ve=>ve.test(me.name)));function N(me,Oe){return"oid"===me.type?-1:"oid"===Oe.type?1:ge(me)?-1:ge(Oe)?1:(me.alias||me.name).toLocaleLowerCase().localeCompare((Oe.alias||Oe.name).toLocaleLowerCase())}function z(me,Oe){if(!me||!Oe)return!1;const{creationDateField:oe,creatorField:de,editDateField:ve,editorField:De}=Oe;return[oe&&oe.toLowerCase(),de&&de.toLowerCase(),ve&&ve.toLowerCase(),De&&De.toLowerCase()].includes(me.toLowerCase())}function q(me,Oe){return me.editable&&!J.includes(me.type)&&!z(me.name,Oe)}function ae(me){switch(me.type){case"small-integer":case"integer":case"single":return new Q.Z({digitSeparator:!0,places:0});case"double":return new Q.Z({digitSeparator:!0,places:2});case"date":return new Q.Z({dateFormat:"long-month-day-year"});default:return"string"===me.type&&(0,T.Ec)(me.name)?new Q.Z({digitSeparator:!0,places:0}):null}}function ge(me){return"name"===(me.name&&me.name.toLowerCase())||"name"===(me.alias&&me.alias.toLowerCase())}const be=["geometry","blob","raster","guid","xml"]},33899:(nt,Te,M)=>{"use strict";M.d(Te,{Hu:()=>R,fY:()=>k,jH:()=>W,jz:()=>V});var D=M(15861),T=M(59318),te=M(8314),Z=M(62208),U=M(10699),ie=M(21726);function k(ne,J,X=!1,Y){return new Promise((F,x)=>{if((0,U.Hc)(Y))return void x(B());let $=()=>{q(),x(new Error(`Unable to load ${J}`))},N=()=>{const ee=ne;q(),F(ee)},z=()=>{if(!ne)return;const ee=ne;q(),ee.src="",x(B())};const q=()=>{(0,te.Z)("esri-image-decode")||(ne.removeEventListener("error",$),ne.removeEventListener("load",N)),$=null,N=null,ne=null,(0,Z.pC)(Y)&&Y.removeEventListener("abort",z),z=null,X&&URL.revokeObjectURL(J)};(0,Z.pC)(Y)&&Y.addEventListener("abort",z),(0,te.Z)("esri-image-decode")?ne.decode().then(N,$):(ne.addEventListener("error",$),ne.addEventListener("load",N))})}function B(){try{return new DOMException("Aborted","AbortError")}catch{const ne=new Error;return ne.name="AbortError",ne}}function R(ne){T.Z.request.crossOriginNoCorsDomains||(T.Z.request.crossOriginNoCorsDomains={});const J=T.Z.request.crossOriginNoCorsDomains;for(let X of ne)X=X.toLowerCase(),/^https?:\/\//.test(X)?J[(0,ie.P$)(X)??""]=0:(J[(0,ie.P$)("http://"+X)??""]=0,J[(0,ie.P$)("https://"+X)??""]=0)}function W(ne){const J=T.Z.request.crossOriginNoCorsDomains;if(J){let X=(0,ie.P$)(ne);if(X)return X=X.toLowerCase(),!(0,ie.D6)(X,(0,ie.TI)())&&J[X]<Date.now()-36e5}return!1}function V(ne){return Q.apply(this,arguments)}function Q(){return(Q=(0,D.Z)(function*(ne){const J=T.Z.request.crossOriginNoCorsDomains,X=(0,ie.P$)(ne);J&&X&&(J[X.toLowerCase()]=Date.now());const Y=(0,ie.mN)(ne);ne=Y.path,"json"===Y.query?.f&&(ne+="?f=json");try{yield fetch(ne,{mode:"no-cors",credentials:"include"})}catch{}})).apply(this,arguments)}},38365:(nt,Te,M)=>{"use strict";M.d(Te,{$:()=>T,r:()=>D});const D="20230301",T="2657e728c1857e6d94c324181c0788310bb0958a"},20383:(nt,Te,M)=>{"use strict";M.d(Te,{se:()=>ce,cT:()=>we,dU:()=>Me,S9:()=>je,LB:()=>fe,AH:()=>ye,yK:()=>Ie,S6:()=>st,QT:()=>Je,f_:()=>Ve});var ee,D=M(90912),T=M(383),te=M(94398),U=(M(65499),M(48575)),R=(M(9260),M(11472),M(26531),M(22490)),W=M(40445),ne=(M(21068),M(46735),M(36687)),Y=(M(2066),M(69147),M(17626)),F=M(58817),x=M(23841),$=M(77712),N=M(55342),z=M(76898),q=M(69738);let re=ee=class extends U.Z{constructor(...Se){super(...Se),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(Se,ze,Ke,Xe){if(Se&&"string"!=typeof Se&&null==Se.imageData)return Se;const et={};return Se&&(et.url=Se),ze&&(et.outline=ze),null!=Ke&&(et.width=(0,x.t_)(Ke)),null!=Xe&&(et.height=(0,x.t_)(Xe)),et}clone(){const Se=new ee({color:(0,F.d9)(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return Se._set("source",(0,F.d9)(this.source)),Se}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};(0,Y._)([(0,N.J)({esriPFS:"picture-fill"},{readOnly:!0})],re.prototype,"type",void 0),(0,Y._)([(0,$.Cb)(q.KA)],re.prototype,"url",void 0),(0,Y._)([(0,$.Cb)({type:Number,json:{write:!0}})],re.prototype,"xscale",void 0),(0,Y._)([(0,$.Cb)({type:Number,json:{write:!0}})],re.prototype,"yscale",void 0),(0,Y._)([(0,$.Cb)({type:Number,cast:x.t_,json:{write:!0}})],re.prototype,"width",void 0),(0,Y._)([(0,$.Cb)({type:Number,cast:x.t_,json:{write:!0}})],re.prototype,"height",void 0),(0,Y._)([(0,$.Cb)({type:Number,cast:x.t_,json:{write:!0}})],re.prototype,"xoffset",void 0),(0,Y._)([(0,$.Cb)({type:Number,cast:x.t_,json:{write:!0}})],re.prototype,"yoffset",void 0),(0,Y._)([(0,$.Cb)(q.Ds)],re.prototype,"source",void 0),re=ee=(0,Y._)([(0,z.j)("esri.symbols.PictureFillSymbol")],re);const le=re;var _e=M(13546),ae=M(69852),he=M(89673),se=M(88493),ue=M(52068),ge=M(57213),be=M(10012),oe=(M(39368),M(97665),M(35540)),De=(M(21716),M(72622),M(12874));function we(Se){if(!Se)return!1;switch(Se.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Me(Se){if(!Se)return!1;switch(Se.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}M(17497),M(71530);const fe={base:be.Z,key:"type",typeMap:{"simple-fill":se.Z,"picture-fill":le,"picture-marker":_e.Z,"simple-line":ue.Z,"simple-marker":ge.Z,text:oe.Z,"label-3d":R.Z,"line-3d":W.Z,"mesh-3d":ne.Z,"point-3d":ae.Z,"polygon-3d":he.Z,"web-style":De.Z,cim:te.Z},errorContext:"symbol"},ye={base:be.Z,key:"type",typeMap:{"picture-marker":_e.Z,"simple-marker":ge.Z,text:oe.Z,"web-style":De.Z,cim:te.Z},errorContext:"symbol"},je=(0,T.d)({types:fe}),Je={base:be.Z,key:"type",typeMap:{"simple-fill":se.Z,"picture-fill":le,"picture-marker":_e.Z,"simple-line":ue.Z,"simple-marker":ge.Z,text:oe.Z,"line-3d":W.Z,"mesh-3d":ne.Z,"point-3d":ae.Z,"polygon-3d":he.Z,"web-style":De.Z,cim:te.Z},errorContext:"symbol"},Ie={base:be.Z,key:"type",typeMap:{text:oe.Z,"label-3d":R.Z},errorContext:"symbol"},Ve={base:be.Z,key:"type",typeMap:{"line-3d":W.Z,"mesh-3d":ne.Z,"point-3d":ae.Z,"polygon-3d":he.Z,"web-style":De.Z,cim:te.Z},errorContext:"symbol"},st={base:be.Z,key:"type",typeMap:{"label-3d":R.Z},errorContext:"symbol"},ce=(0,D.N7)(fe)},94398:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>X});var ne,D=M(15861),T=M(17626),te=M(58817),Z=M(77275),U=M(77712),k=(M(90912),M(55342)),B=M(68653),R=M(76898),W=M(99433),V=M(36630),Q=M(10012);let J=ne=class extends Q.Z{constructor(Y){super(Y),this.data=null,this.type="cim"}readData(Y,F){return F}writeData(Y,F){if(Y)for(const x in Y)F[x]=Y[x]}collectRequiredFields(Y,F){var x=this;return(0,D.Z)(function*(){if("CIMSymbolReference"===x.data?.type){const $=x.data.primitiveOverrides;if($){const N=$.map(z=>(0,V.io)(Y,F,z.valueExpressionInfo.expression));yield Promise.all(N)}}})()}clone(){return new ne({data:(0,te.d9)(this.data)})}hash(){return(0,Z.hP)(JSON.stringify(this.data)).toString()}};(0,T._)([(0,U.Cb)({json:{write:!1}})],J.prototype,"color",void 0),(0,T._)([(0,U.Cb)({json:{write:!0}})],J.prototype,"data",void 0),(0,T._)([(0,B.r)("data",["symbol"])],J.prototype,"readData",null),(0,T._)([(0,W.c)("data",{})],J.prototype,"writeData",null),(0,T._)([(0,k.J)({CIMSymbolReference:"cim"},{readOnly:!0})],J.prototype,"type",void 0),J=ne=(0,T._)([(0,R.j)("esri.symbols.CIMSymbol")],J);const X=J},65499:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ne});var V,D=M(17626),T=M(62208),te=M(77712),ie=(M(90912),M(85931),M(55342)),k=M(76898),B=M(97665),R=M(89441),W=M(64830);let Q=V=class extends B.Z{constructor(J){super(J),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new V({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:(0,T.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};(0,D._)([(0,ie.J)({Extrude:"extrude"},{readOnly:!0})],Q.prototype,"type",void 0),(0,D._)([(0,te.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Q.prototype,"size",void 0),(0,D._)([(0,te.Cb)({type:W.b,json:{write:!0}})],Q.prototype,"material",void 0),(0,D._)([(0,te.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Q.prototype,"castShadows",void 0),(0,D._)([(0,te.Cb)(R.Z)],Q.prototype,"edges",void 0),Q=V=(0,D._)([(0,k.j)("esri.symbols.ExtrudeSymbol3DLayer")],Q);const ne=Q},48575:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>R});var D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898)),ie=M(52068),k=M(10012);let B=class extends k.Z{constructor(W){super(W),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};(0,D._)([(0,T.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":ie.Z}},json:{default:null,write:!0}})],B.prototype,"outline",void 0),(0,D._)([(0,T.Cb)({type:["simple-fill","picture-fill"],readOnly:!0})],B.prototype,"type",void 0),B=(0,D._)([(0,U.j)("esri.symbols.FillSymbol")],B);const R=B},9260:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>se});var x,D=M(17626),T=M(62208),te=M(77712),ie=(M(90912),M(85931),M(55342)),k=M(76898),B=M(97665),R=M(89441),W=M(63743),V=M(153),Q=M(99255),ne=M(12948),F=(M(63290),M(26584),M(8314),M(64830));let $=x=class extends F.b{constructor(ue){super(ue),this.colorMixMode=null}clone(){const ue={color:(0,T.pC)(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new x(ue)}};(0,D._)([(0,ie.J)({multiply:"multiply",replace:"replace",tint:"tint"})],$.prototype,"colorMixMode",void 0),$=x=(0,D._)([(0,k.j)("esri.symbols.support.Symbol3DFillMaterial")],$);var le,N=M(91558),z=M(86810),q=M(23841),ee=M(60958),re=M(43652);let _e=le=class extends z.wq{constructor(ue){super(ue),this.color=new N.Z([0,0,0,1]),this.size=(0,q.Wz)(1),this.pattern=null,this.patternCap="butt"}clone(){const ue={color:(0,T.pC)(this.color)?this.color.clone():null,size:this.size,pattern:(0,T.pC)(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new le(ue)}};var ae;(0,D._)([(0,te.Cb)(ee.a)],_e.prototype,"color",void 0),(0,D._)([(0,te.Cb)(ee.y)],_e.prototype,"size",void 0),(0,D._)([(0,te.Cb)(Q.D)],_e.prototype,"pattern",void 0),(0,D._)([(0,te.Cb)({type:re.Hc,json:{default:"butt",write:{overridePolicy(){return{enabled:(0,T.pC)(this.pattern)}}}}})],_e.prototype,"patternCap",void 0),_e=le=(0,D._)([(0,k.j)("esri.symbols.support.Symbol3DOutline")],_e);let he=ae=class extends B.Z{constructor(ue){super(ue),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const ue={edges:(0,T.pC)(this.edges)?this.edges.clone():null,enabled:this.enabled,material:(0,T.pC)(this.material)?this.material.clone():null,pattern:(0,T.pC)(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:(0,T.pC)(this.outline)?this.outline.clone():null};return new ae(ue)}static fromSimpleFillSymbol(ue){const ge=ue.outline&&ue.outline.style&&"inside-frame"!==ue.outline.style&&"solid"!==ue.outline.style?new W.Z({style:ue.outline.style}):null,be={size:ue.outline?.width??0,color:(ue.outline?.color??ne.ix).clone(),pattern:ge};return ge&&ue.outline?.cap&&(be.patternCap=ue.outline.cap),new ae({material:new $({color:(ue.color??ne.l9).clone()}),pattern:ue.style&&"solid"!==ue.style?new V.Z({style:ue.style}):null,outline:be})}};(0,D._)([(0,ie.J)({Fill:"fill"},{readOnly:!0})],he.prototype,"type",void 0),(0,D._)([(0,te.Cb)({type:$,json:{write:!0}})],he.prototype,"material",void 0),(0,D._)([(0,te.Cb)(Q.q)],he.prototype,"pattern",void 0),(0,D._)([(0,te.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],he.prototype,"castShadows",void 0),(0,D._)([(0,te.Cb)({type:_e,json:{write:!0}})],he.prototype,"outline",void 0),(0,D._)([(0,te.Cb)(R.Z)],he.prototype,"edges",void 0),he=ae=(0,D._)([(0,k.j)("esri.symbols.FillSymbol3DLayer")],he);const se=he},11472:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>V});var R,D=M(17626),T=M(86810),te=M(23841),Z=M(77712),U=M(66656),k=(M(85931),M(76898)),B=M(50369);let W=R=class extends T.wq{constructor(Q){super(Q),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(Q){return(0,te.t_)(Q)}clone(){return new R({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};(0,D._)([(0,Z.Cb)({type:B.JT,json:{default:"none",write:!0}})],W.prototype,"decoration",void 0),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],W.prototype,"family",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{write:{overridePolicy:(Q,ne,J)=>({enabled:!J||!J.textSymbol3D})}}})],W.prototype,"size",void 0),(0,D._)([(0,U.p)("size")],W.prototype,"castSize",null),(0,D._)([(0,Z.Cb)({type:B.g6,json:{default:"normal",write:!0}})],W.prototype,"style",void 0),(0,D._)([(0,Z.Cb)({type:B.vC,json:{default:"normal",write:!0}})],W.prototype,"weight",void 0),W=R=(0,D._)([(0,k.j)("esri.symbols.Font")],W);const V=W},26531:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>he});var x,D=M(17626),T=M(63290),te=M(62208),Z=M(21726),U=M(77712),B=(M(90912),M(85931),M(55342)),R=M(76898),W=M(97665),V=M(12948),Q=M(33215),ne=M(60958),J=M(37519),X=M(91558),Y=M(86810),F=M(23841);let $=x=class extends Y.wq{constructor(se){super(se),this.color=new X.Z([0,0,0,1]),this.size=(0,F.Wz)(1)}clone(){const se={color:(0,te.pC)(this.color)?this.color.clone():null,size:this.size};return new x(se)}};(0,D._)([(0,U.Cb)(ne.a)],$.prototype,"color",void 0),(0,D._)([(0,U.Cb)(ne.y)],$.prototype,"size",void 0),$=x=(0,D._)([(0,R.j)("esri.symbols.support.Symbol3DIconOutline")],$);var z,N=M(64830);const q="esri.symbols.IconSymbol3DLayer";let ee=z=class extends W.Z{constructor(se){super(se),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new z({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:(0,te.pC)(this.material)?this.material.clone():null,outline:(0,te.pC)(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(se){const ue=se.color||V.ix,ge=re(se),be=se.outline&&se.outline.width>0?{size:se.outline.width,color:(se.outline.color||V.ix).clone()}:null;return new z({size:se.size,resource:{primitive:ae(se.style)},material:{color:ue},outline:be,anchor:ge?"relative":void 0,anchorPosition:ge})}static fromPictureMarkerSymbol(se){const ue=!se.color||(0,V.rx)(se.color)?V.ix:se.color,ge=re(se);return new z({size:se.width<=se.height?se.height:se.width,resource:{href:se.url},material:{color:ue.clone()},anchor:ge?"relative":void 0,anchorPosition:ge})}static fromCIMSymbol(se){return new z({resource:{href:(0,Z._l)({mediaType:"application/json",data:JSON.stringify(se.data)})}})}};function re(se){const ue="width"in se?se.width:se.size,ge="height"in se?se.height:se.size,be=le(se.xoffset),me=le(se.yoffset);return(be||me)&&ue&&ge?{x:-be/ue,y:me/ge}:null}function le(se){return isFinite(se)?se:0}(0,D._)([(0,U.Cb)({type:N.b,json:{write:!0}})],ee.prototype,"material",void 0),(0,D._)([(0,U.Cb)({type:Q.b,json:{write:!0}})],ee.prototype,"resource",void 0),(0,D._)([(0,B.J)({Icon:"icon"},{readOnly:!0})],ee.prototype,"type",void 0),(0,D._)([(0,U.Cb)(ne.y)],ee.prototype,"size",void 0),(0,D._)([(0,B.J)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),(0,U.Cb)({json:{default:"center"}})],ee.prototype,"anchor",void 0),(0,D._)([(0,U.Cb)({type:J.e,json:{type:[Number],read:{reader:se=>new J.e({x:se[0],y:se[1]})},write:{writer:(se,ue)=>{ue.anchorPosition=[se.x,se.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],ee.prototype,"anchorPosition",void 0),(0,D._)([(0,U.Cb)({type:$,json:{write:!0}})],ee.prototype,"outline",void 0),ee=z=(0,D._)([(0,R.j)(q)],ee);const _e={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function ae(se){return _e[se]||(T.Z.getLogger(q).warn(`${se} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const he=ee},22490:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>X});var Q,D=M(17626),T=M(74333),te=M(58817),Z=M(77712),ie=(M(90912),M(55342)),k=M(76898),B=M(39368),R=M(21716),W=M(9824),V=M(97595);const ne=T.Z.ofType({base:null,key:"type",typeMap:{text:R.Z}});let J=Q=class extends B.Z{constructor(Y){super(Y),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new ne,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return(0,W.gv)(this)}hasVisibleVerticalOffset(){return(0,W.Uy)(this)}clone(){return new Q({styleOrigin:(0,te.d9)(this.styleOrigin),symbolLayers:(0,te.d9)(this.symbolLayers),thumbnail:(0,te.d9)(this.thumbnail),callout:(0,te.d9)(this.callout),verticalOffset:(0,te.d9)(this.verticalOffset)})}static fromTextSymbol(Y){return new Q({symbolLayers:[R.Z.fromTextSymbol(Y)]})}};(0,D._)([(0,Z.Cb)({type:V.Z,json:{write:!0}})],J.prototype,"verticalOffset",void 0),(0,D._)([(0,Z.Cb)(W.Y2)],J.prototype,"callout",void 0),(0,D._)([(0,Z.Cb)({json:{read:!1,write:!1}})],J.prototype,"styleOrigin",void 0),(0,D._)([(0,Z.Cb)({type:ne})],J.prototype,"symbolLayers",void 0),(0,D._)([(0,ie.J)({LabelSymbol3D:"label-3d"},{readOnly:!0})],J.prototype,"type",void 0),J=Q=(0,D._)([(0,k.j)("esri.symbols.LabelSymbol3D")],J);const X=J},40445:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>X});var V,D=M(17626),T=M(74333),te=M(58817),Z=M(77712),ie=(M(90912),M(55342)),k=M(76898),B=M(21068),R=M(69147),W=M(39368);const Q=T.Z.ofType({base:null,key:"type",typeMap:{line:B.Z,path:R.Z}}),ne=T.Z.ofType({base:null,key:"type",typeMap:{line:B.Z,path:R.Z}});let J=V=class extends W.Z{constructor(Y){super(Y),this.symbolLayers=new Q,this.type="line-3d"}clone(){return new V({styleOrigin:(0,te.d9)(this.styleOrigin),symbolLayers:(0,te.d9)(this.symbolLayers),thumbnail:(0,te.d9)(this.thumbnail)})}static fromSimpleLineSymbol(Y){return new V({symbolLayers:[B.Z.fromSimpleLineSymbol(Y)]})}};(0,D._)([(0,Z.Cb)({type:Q,json:{type:ne}})],J.prototype,"symbolLayers",void 0),(0,D._)([(0,ie.J)({LineSymbol3D:"line-3d"},{readOnly:!0})],J.prototype,"type",void 0),J=V=(0,D._)([(0,k.j)("esri.symbols.LineSymbol3D")],J);const X=J},21068:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>re});var D=M(17626),T=M(62208),te=M(23841),Z=M(77712),U=M(90912),k=(M(85931),M(55342)),B=M(76898),R=M(91558),W=M(79608),V=M(86810),Q=M(67866);let ne=class extends((0,W.J)(V.wq)){constructor(le){super(le),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(le){return(0,T.pC)(le)&&le.placement===this.placement&&le.style===this.style&&((0,T.Wi)(this.color)&&(0,T.Wi)(le.color)||(0,T.pC)(this.color)&&(0,T.pC)(le.color)&&this.color.toJSON()===le.color.toJSON())}};(0,D._)([(0,Z.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],ne.prototype,"type",void 0),(0,D._)([(0,Z.Cb)({type:Q.J,json:{default:"begin-end",write:!0}})],ne.prototype,"placement",void 0),(0,D._)([(0,Z.Cb)({type:Q.k,json:{default:"arrow",write:!0}})],ne.prototype,"style",void 0),(0,D._)([(0,Z.Cb)({type:R.Z,json:{type:[U.z8],default:null,write:!0}})],ne.prototype,"color",void 0),ne=(0,D._)([(0,B.j)("esri.symbols.LineStyleMarker3D")],ne);const J=ne;var q,X=M(97665),Y=M(63743),F=M(99255),x=M(12948),$=M(60958),N=M(64830),z=M(43652);let ee=q=class extends X.Z{constructor(le){super(le),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=(0,te.Wz)(1),this.pattern=null,this.marker=null}clone(){const le={enabled:this.enabled,material:(0,T.pC)(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:(0,T.pC)(this.pattern)?this.pattern.clone():null,marker:(0,T.pC)(this.marker)?this.marker.clone():null};return new q(le)}static fromSimpleLineSymbol(le){const _e={enabled:!0,size:le.width??(0,te.Wz)(1),cap:le.cap||"butt",join:le.join||"miter",pattern:le.style&&"inside-frame"!==le.style?new Y.Z({style:le.style}):null,material:new N.b({color:(le.color||x.ix).clone()}),marker:le.marker?new J({placement:le.marker.placement,style:le.marker.style,color:le.marker.color?.clone()??null}):null};return new q(_e)}};(0,D._)([(0,Z.Cb)({type:N.b,json:{write:!0}})],ee.prototype,"material",void 0),(0,D._)([(0,k.J)({Line:"line"},{readOnly:!0})],ee.prototype,"type",void 0),(0,D._)([(0,Z.Cb)({type:z.w2,json:{write:!0,default:"miter"}})],ee.prototype,"join",void 0),(0,D._)([(0,Z.Cb)({type:z.Hc,json:{write:!0,default:"butt"}})],ee.prototype,"cap",void 0),(0,D._)([(0,Z.Cb)($.y)],ee.prototype,"size",void 0),(0,D._)([(0,Z.Cb)(F.D)],ee.prototype,"pattern",void 0),(0,D._)([(0,Z.Cb)({types:{key:"type",base:J,typeMap:{style:J}},json:{write:!0}})],ee.prototype,"marker",void 0),ee=q=(0,D._)([(0,B.j)("esri.symbols.LineSymbol3DLayer")],ee);const re=ee},46735:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>R});var D=M(17626),T=M(23841),te=M(77712),ie=(M(90912),M(85931),M(76898)),k=M(10012);let B=class extends k.Z{constructor(W){super(W),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};(0,D._)([(0,te.Cb)({type:Number,json:{read:W=>W&&-1*W,write:(W,V)=>V.angle=W&&-1*W}})],B.prototype,"angle",void 0),(0,D._)([(0,te.Cb)({type:["simple-marker","picture-marker"],readOnly:!0})],B.prototype,"type",void 0),(0,D._)([(0,te.Cb)({type:Number,cast:T.t_,json:{write:!0}})],B.prototype,"xoffset",void 0),(0,D._)([(0,te.Cb)({type:Number,cast:T.t_,json:{write:!0}})],B.prototype,"yoffset",void 0),(0,D._)([(0,te.Cb)({type:Number,cast:W=>"auto"===W?W:(0,T.t_)(W),json:{write:!0}})],B.prototype,"size",void 0),B=(0,D._)([(0,ie.j)("esri.symbols.MarkerSymbol")],B);const R=B},36687:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ne});var W,D=M(17626),T=M(74333),te=M(58817),Z=M(77712),ie=(M(90912),M(55342)),k=M(76898),B=M(9260),R=M(39368);const V=T.Z.ofType({base:null,key:"type",typeMap:{fill:B.Z}});let Q=W=class extends R.Z{constructor(J){super(J),this.symbolLayers=new V,this.type="mesh-3d"}clone(){return new W({styleOrigin:(0,te.d9)(this.styleOrigin),symbolLayers:(0,te.d9)(this.symbolLayers),thumbnail:(0,te.d9)(this.thumbnail)})}static fromSimpleFillSymbol(J){return new W({symbolLayers:[B.Z.fromSimpleFillSymbol(J)]})}};(0,D._)([(0,Z.Cb)({type:V})],Q.prototype,"symbolLayers",void 0),(0,D._)([(0,ie.J)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Q.prototype,"type",void 0),Q=W=(0,D._)([(0,k.j)("esri.symbols.MeshSymbol3D")],Q);const ne=Q},2066:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Y});var V,D=M(17626),T=M(62208),te=M(77712),ie=(M(90912),M(85931),M(55342)),k=M(76898),B=M(97665),R=M(48521),W=M(14517);let Q=V=class extends W.Z{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new V({x:this.x,y:this.y,z:this.z})}};(0,D._)([(0,te.Cb)({type:Number})],Q.prototype,"x",void 0),(0,D._)([(0,te.Cb)({type:Number})],Q.prototype,"y",void 0),(0,D._)([(0,te.Cb)({type:Number})],Q.prototype,"z",void 0),Q=V=(0,D._)([(0,k.j)("esri.symbols.support.Symbol3DAnchorPosition3D")],Q);var J,ne=M(64830);let X=J=class extends B.Z{constructor(F){super(F),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new J({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:(0,T.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};(0,D._)([(0,te.Cb)({type:ne.b,json:{write:!0}})],X.prototype,"material",void 0),(0,D._)([(0,te.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],X.prototype,"castShadows",void 0),(0,D._)([(0,te.Cb)({type:R.k,json:{write:!0}})],X.prototype,"resource",void 0),(0,D._)([(0,ie.J)({Object:"object"},{readOnly:!0})],X.prototype,"type",void 0),(0,D._)([(0,te.Cb)({type:Number,json:{write:!0}})],X.prototype,"width",void 0),(0,D._)([(0,te.Cb)({type:Number,json:{write:!0}})],X.prototype,"height",void 0),(0,D._)([(0,te.Cb)({type:Number,json:{write:!0}})],X.prototype,"depth",void 0),(0,D._)([(0,ie.J)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),(0,te.Cb)({json:{default:"origin"}})],X.prototype,"anchor",void 0),(0,D._)([(0,te.Cb)({type:Q,json:{type:[Number],read:{reader:F=>new Q({x:F[0],y:F[1],z:F[2]})},write:{writer:(F,x)=>{x.anchorPosition=[F.x,F.y,F.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],X.prototype,"anchorPosition",void 0),(0,D._)([(0,te.Cb)({type:Number,json:{write:!0}})],X.prototype,"heading",void 0),(0,D._)([(0,te.Cb)({type:Number,json:{write:!0}})],X.prototype,"tilt",void 0),(0,D._)([(0,te.Cb)({type:Number,json:{write:!0}})],X.prototype,"roll",void 0),(0,D._)([(0,te.Cb)({readOnly:!0})],X.prototype,"isPrimitive",null),X=J=(0,D._)([(0,k.j)("esri.symbols.ObjectSymbol3DLayer")],X);const Y=X},69147:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>J});var Q,D=M(17626),T=M(62208),te=M(77712),ie=(M(90912),M(85931),M(55342)),k=M(68653),B=M(76898),R=M(97665),W=M(64830),V=M(43652);let ne=Q=class extends R.Z{constructor(X){super(X),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(X,Y){return X??(null==Y.height&&null!=Y.size?Y.size:void 0)}readHeight(X,Y){return X??(null==Y.width&&null!=Y.size?Y.size:void 0)}clone(){return new Q({enabled:this.enabled,material:(0,T.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};(0,D._)([(0,te.Cb)({type:W.b,json:{write:!0}})],ne.prototype,"material",void 0),(0,D._)([(0,te.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ne.prototype,"castShadows",void 0),(0,D._)([(0,ie.J)({Path:"path"},{readOnly:!0})],ne.prototype,"type",void 0),(0,D._)([(0,te.Cb)({type:["circle","quad"],json:{write:!0,default:"circle"}})],ne.prototype,"profile",void 0),(0,D._)([(0,te.Cb)({type:V.w2,json:{write:!0,default:"miter"}})],ne.prototype,"join",void 0),(0,D._)([(0,te.Cb)({type:V.KW,json:{write:!0,default:"butt"}})],ne.prototype,"cap",void 0),(0,D._)([(0,te.Cb)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],ne.prototype,"width",void 0),(0,D._)([(0,k.r)("width",["width","size","height"])],ne.prototype,"readWidth",null),(0,D._)([(0,te.Cb)({type:Number,json:{write:!0}})],ne.prototype,"height",void 0),(0,D._)([(0,k.r)("height",["height","size","width"])],ne.prototype,"readHeight",null),(0,D._)([(0,te.Cb)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],ne.prototype,"anchor",void 0),(0,D._)([(0,te.Cb)({type:["heading","all"],json:{write:!0,default:"all"}})],ne.prototype,"profileRotation",void 0),ne=Q=(0,D._)([(0,B.j)("esri.symbols.PathSymbol3DLayer")],ne);const J=ne},13546:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ne});var V,D=M(17626),T=M(58817),te=M(23841),Z=M(77712),ie=(M(90912),M(55342)),k=M(68653),B=M(76898),R=M(46735),W=M(69738);let Q=V=class extends R.Z{constructor(...J){super(...J),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(J,X,Y){if(J&&"string"!=typeof J&&null==J.imageData)return J;const F={};return J&&(F.url=J),null!=X&&(F.width=(0,te.t_)(X)),null!=Y&&(F.height=(0,te.t_)(Y)),F}readHeight(J,X){return X.size||J}readWidth(J,X){return X.size||J}clone(){const J=new V({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return J._set("source",(0,T.d9)(this.source)),J}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};(0,D._)([(0,Z.Cb)({json:{write:!1}})],Q.prototype,"color",void 0),(0,D._)([(0,ie.J)({esriPMS:"picture-marker"},{readOnly:!0})],Q.prototype,"type",void 0),(0,D._)([(0,Z.Cb)(W.KA)],Q.prototype,"url",void 0),(0,D._)([(0,Z.Cb)(W.Ds)],Q.prototype,"source",void 0),(0,D._)([(0,Z.Cb)({type:Number,cast:te.t_,json:{write:!0}})],Q.prototype,"height",void 0),(0,D._)([(0,k.r)("height",["height","size"])],Q.prototype,"readHeight",null),(0,D._)([(0,Z.Cb)({type:Number,cast:te.t_,json:{write:!0}})],Q.prototype,"width",void 0),(0,D._)([(0,Z.Cb)({json:{write:!1}})],Q.prototype,"size",void 0),Q=V=(0,D._)([(0,B.j)("esri.symbols.PictureMarkerSymbol")],Q);const ne=Q},69852:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>F});var J,D=M(17626),T=M(74333),te=M(58817),Z=M(77712),ie=(M(90912),M(55342)),k=M(76898),B=M(26531),R=M(2066),W=M(39368),V=M(21716),Q=M(9824),ne=M(97595);const X=T.Z.ofType({base:null,key:"type",typeMap:{icon:B.Z,object:R.Z,text:V.Z}});let Y=J=class extends W.Z{constructor(x){super(x),this.verticalOffset=null,this.callout=null,this.symbolLayers=new X,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const x of this.symbolLayers.items)switch(x.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return(0,Q.gv)(this)}hasVisibleVerticalOffset(){return(0,Q.Uy)(this)}clone(){return new J({verticalOffset:(0,te.d9)(this.verticalOffset),callout:(0,te.d9)(this.callout),styleOrigin:(0,te.d9)(this.styleOrigin),symbolLayers:(0,te.d9)(this.symbolLayers),thumbnail:(0,te.d9)(this.thumbnail)})}static fromSimpleMarkerSymbol(x){return new J({symbolLayers:[B.Z.fromSimpleMarkerSymbol(x)]})}static fromPictureMarkerSymbol(x){return new J({symbolLayers:[B.Z.fromPictureMarkerSymbol(x)]})}static fromCIMSymbol(x){return"CIMPointSymbol"!==x.data?.symbol?.type?null:new J(x.data.symbol?.callout?{symbolLayers:[B.Z.fromCIMSymbol(x)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}:{symbolLayers:[B.Z.fromCIMSymbol(x)]})}static fromTextSymbol(x){return new J({symbolLayers:[V.Z.fromTextSymbol(x)]})}};(0,D._)([(0,Z.Cb)({type:ne.Z,json:{write:!0}})],Y.prototype,"verticalOffset",void 0),(0,D._)([(0,Z.Cb)(Q.Y2)],Y.prototype,"callout",void 0),(0,D._)([(0,Z.Cb)({type:X,json:{origins:{"web-scene":{write:!0}}}})],Y.prototype,"symbolLayers",void 0),(0,D._)([(0,ie.J)({PointSymbol3D:"point-3d"},{readOnly:!0})],Y.prototype,"type",void 0),Y=J=(0,D._)([(0,k.j)("esri.symbols.PointSymbol3D")],Y);const F=Y},89673:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>N});var F,D=M(17626),T=M(74333),te=M(58817),Z=M(62208),U=M(77712),k=(M(90912),M(55342)),B=M(76898),R=M(65499),W=M(9260),V=M(26531),Q=M(21068),ne=M(2066),J=M(39368),X=M(21716),Y=M(72622);const x=T.Z.ofType({base:null,key:"type",typeMap:{extrude:R.Z,fill:W.Z,icon:V.Z,line:Q.Z,object:ne.Z,text:X.Z,water:Y.Z}});let $=F=class extends J.Z{constructor(z){super(z),this.symbolLayers=new x,this.type="polygon-3d"}clone(){return new F({styleOrigin:(0,te.d9)(this.styleOrigin),symbolLayers:(0,te.d9)(this.symbolLayers),thumbnail:(0,te.d9)(this.thumbnail)})}static fromJSON(z){const q=new F;if(q.read(z),2===q.symbolLayers.length&&"fill"===q.symbolLayers.getItemAt(0).type&&"line"===q.symbolLayers.getItemAt(1).type){const ee=q.symbolLayers.getItemAt(0),re=q.symbolLayers.getItemAt(1);!re.enabled||z.symbolLayers&&z.symbolLayers[1]&&!1===z.symbolLayers[1].enable||(ee.outline={size:re.size,color:(0,Z.pC)(re.material)?re.material.color:null}),q.symbolLayers.removeAt(1)}return q}static fromSimpleFillSymbol(z){return new F({symbolLayers:[W.Z.fromSimpleFillSymbol(z)]})}};(0,D._)([(0,U.Cb)({type:x,json:{write:!0}})],$.prototype,"symbolLayers",void 0),(0,D._)([(0,k.J)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],$.prototype,"type",void 0),$=F=(0,D._)([(0,B.j)("esri.symbols.PolygonSymbol3D")],$);const N=$},88493:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>J});var V,D=M(17626),T=M(91558),te=M(2076),Z=M(58817),U=M(77712),k=(M(90912),M(55342)),B=M(76898),R=M(48575),W=M(52068);const Q=new te.X({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let ne=V=class extends R.Z{constructor(...X){super(...X),this.color=new T.Z([0,0,0,.25]),this.outline=new W.Z,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(X,Y,F){if(X&&"string"!=typeof X)return X;const x={};return X&&(x.style=X),Y&&(x.outline=Y),F&&(x.color=F),x}clone(){return new V({color:(0,Z.d9)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};(0,D._)([(0,U.Cb)()],ne.prototype,"color",void 0),(0,D._)([(0,U.Cb)()],ne.prototype,"outline",void 0),(0,D._)([(0,k.J)({esriSFS:"simple-fill"},{readOnly:!0})],ne.prototype,"type",void 0),(0,D._)([(0,U.Cb)({type:Q.apiValues,json:{read:Q.read,write:Q.write}})],ne.prototype,"style",void 0),ne=V=(0,D._)([(0,B.j)("esri.symbols.SimpleFillSymbol")],ne);const J=ne},52068:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>re});var D=M(17626),T=M(2076),te=M(58817),Z=M(23841),U=M(77712),k=(M(90912),M(55342)),B=M(76898),W=(M(85931),M(10012));let V=class extends W.Z{constructor(le){super(le),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};(0,D._)([(0,k.J)({esriSLS:"simple-line"},{readOnly:!0})],V.prototype,"type",void 0),(0,D._)([(0,U.Cb)({type:Number,cast:Z.t_,json:{write:!0}})],V.prototype,"width",void 0),V=(0,D._)([(0,B.j)("esri.symbols.LineSymbol")],V);const Q=V;var x,ne=M(91558),J=M(86810),X=M(68653),Y=M(99433),F=M(67866);let $=x=class extends J.wq{constructor(le){super(le),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(le,_e,ae,he){_e[ae]="web-map"===he?.origin?"arrow":le}set color(le){this._set("color",le)}readColor(le){return le&&null!=le[0]?[le[0],le[1],le[2],le[3]/255]:le}writeColor(le,_e,ae,he){"web-map"===he?.origin||(_e[ae]=le)}clone(){return new x({color:(0,te.d9)(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};(0,D._)([(0,U.Cb)({type:["begin","end","begin-end"],json:{write:!0}})],$.prototype,"placement",void 0),(0,D._)([(0,k.J)({"line-marker":"line-marker"},{readOnly:!0}),(0,U.Cb)({json:{origins:{"web-map":{write:!1}}}})],$.prototype,"type",void 0),(0,D._)([(0,U.Cb)({type:F.k})],$.prototype,"style",void 0),(0,D._)([(0,Y.c)("style")],$.prototype,"writeStyle",null),(0,D._)([(0,U.Cb)({type:ne.Z,value:null,json:{write:{allowNull:!0}}})],$.prototype,"color",null),(0,D._)([(0,X.r)("color")],$.prototype,"readColor",null),(0,D._)([(0,Y.c)("color")],$.prototype,"writeColor",null),$=x=(0,D._)([(0,B.j)("esri.symbols.LineSymbolMarker")],$);const N=$;var z;const q=new T.X({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let ee=z=class extends Q{constructor(...le){super(...le),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(le,_e,ae,he,se,ue){if(le&&"string"!=typeof le)return le;const ge={};return null!=le&&(ge.style=le),null!=_e&&(ge.color=_e),null!=ae&&(ge.width=(0,Z.t_)(ae)),null!=he&&(ge.cap=he),null!=se&&(ge.join=se),null!=ue&&(ge.miterLimit=(0,Z.t_)(ue)),ge}clone(){return new z({color:(0,te.d9)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};(0,D._)([(0,k.J)({esriSLS:"simple-line"},{readOnly:!0})],ee.prototype,"type",void 0),(0,D._)([(0,U.Cb)({type:q.apiValues,json:{read:q.read,write:q.write}})],ee.prototype,"style",void 0),(0,D._)([(0,U.Cb)({type:["butt","round","square"],json:{write:{overridePolicy:(le,_e,ae)=>({enabled:"round"!==le&&(null==ae||null==ae.origin)})}}})],ee.prototype,"cap",void 0),(0,D._)([(0,U.Cb)({type:["miter","round","bevel"],json:{write:{overridePolicy:(le,_e,ae)=>({enabled:"round"!==le&&(null==ae||null==ae.origin)})}}})],ee.prototype,"join",void 0),(0,D._)([(0,U.Cb)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":N}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],ee.prototype,"marker",void 0),(0,D._)([(0,U.Cb)({type:Number,json:{read:!1,write:!1}})],ee.prototype,"miterLimit",void 0),ee=z=(0,D._)([(0,B.j)("esri.symbols.SimpleLineSymbol")],ee);const re=ee},57213:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Y});var ne,D=M(17626),T=M(91558),te=M(2076),Z=M(58817),U=M(23841),ie=M(77712),B=(M(90912),M(55342)),R=M(76898),W=M(99433),V=M(46735),Q=M(52068);const J=new te.X({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let X=ne=class extends V.Z{constructor(...F){super(...F),this.color=new T.Z([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Q.Z}normalizeCtorArgs(F,x,$,N){if(F&&"string"!=typeof F)return F;const z={};return F&&(z.style=F),null!=x&&(z.size=(0,U.t_)(x)),$&&(z.outline=$),N&&(z.color=N),z}writeColor(F,x){F&&"x"!==this.style&&"cross"!==this.style&&(x.color=F.toJSON()),null===F&&(x.color=null)}set path(F){this.style="path",this._set("path",F)}clone(){return new ne({angle:this.angle,color:(0,Z.d9)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};(0,D._)([(0,ie.Cb)()],X.prototype,"color",void 0),(0,D._)([(0,W.c)("color")],X.prototype,"writeColor",null),(0,D._)([(0,B.J)({esriSMS:"simple-marker"},{readOnly:!0})],X.prototype,"type",void 0),(0,D._)([(0,ie.Cb)()],X.prototype,"size",void 0),(0,D._)([(0,ie.Cb)({type:J.apiValues,json:{read:J.read,write:J.write}})],X.prototype,"style",void 0),(0,D._)([(0,ie.Cb)({type:String,json:{write:!0}})],X.prototype,"path",null),(0,D._)([(0,ie.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Q.Z}},json:{default:null,write:!0}})],X.prototype,"outline",void 0),X=ne=(0,D._)([(0,R.j)("esri.symbols.SimpleMarkerSymbol")],X);const Y=X},10012:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>J});var D=M(15861),T=M(17626),te=M(91558),Z=M(2076),U=M(86810),ie=M(77712),R=(M(90912),M(85931),M(68653)),W=M(76898);const V=new Z.X({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let Q=0,ne=class extends U.wq{constructor(X){super(X),this.id="sym"+Q++,this.type=null,this.color=new te.Z([0,0,0,1])}readColor(X){return X&&null!=X[0]?[X[0],X[1],X[2],X[3]/255]:X}collectRequiredFields(X,Y){return(0,D.Z)(function*(){})()}hash(){return JSON.stringify(this.toJSON())}clone(){}};(0,T._)([(0,ie.Cb)({type:V.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:V.write}}})],ne.prototype,"type",void 0),(0,T._)([(0,ie.Cb)({type:te.Z,json:{write:{allowNull:!0}}})],ne.prototype,"color",void 0),(0,T._)([(0,R.r)("color")],ne.prototype,"readColor",null),ne=(0,T._)([(0,W.j)("esri.symbols.Symbol")],ne);const J=ne},39368:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ue});var D=M(17626),T=M(74333),te=M(89726),Z=M(63290),U=M(21726),ie=M(14889),k=M(77712),B=M(66656),W=(M(85931),M(68653)),V=M(76898),Q=M(99433),ne=M(84687),J=M(29840),X=M(65499),Y=M(9260),F=M(26531),x=M(21068),$=M(2066),N=M(69147),z=M(10012),q=M(97665),ee=M(21716),re=M(72622),le=M(77345),_e=M(96296);const ae={icon:F.Z,object:$.Z,line:x.Z,path:N.Z,fill:Y.Z,extrude:X.Z,text:ee.Z,water:re.Z},he=T.Z.ofType({base:q.Z,key:"type",typeMap:ae,errorContext:"symbol-layer"});let se=class extends z.Z{constructor(ge){super(ge),this.styleOrigin=null,this.thumbnail=null,this.type=null;const be=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers;this._set("symbolLayers",new(be&&be.type||T.Z))}get color(){return null}set color(ge){this.constructed&&Z.Z.getLogger(this.declaredClass).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(ge){(0,te.Z)(ge,this._get("symbolLayers"))}readStyleOrigin(ge,be,me){if(ge.styleUrl&&ge.name){const Oe=(0,J.f)(ge.styleUrl,me);return new le.Z({styleUrl:Oe,name:ge.name})}if(ge.styleName&&ge.name)return new le.Z({portal:me&&me.portal||ne.Z.getDefault(),styleName:ge.styleName,name:ge.name});me&&me.messages&&me.messages.push(new ie.Z("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:me,definition:ge}))}writeStyleOrigin(ge,be,me,Oe){if(ge.styleUrl&&ge.name){let oe=(0,J.t)(ge.styleUrl,Oe);(0,U.YP)(oe)&&(oe=(0,U.Fv)(oe)),be.styleOrigin={styleUrl:oe,name:ge.name}}else ge.styleName&&ge.name&&(ge.portal&&Oe&&Oe.portal&&!(0,U.tm)(ge.portal.restUrl,Oe.portal.restUrl)?Oe&&Oe.messages&&Oe.messages.push(new ie.Z("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):be.styleOrigin={styleName:ge.styleName,name:ge.name})}normalizeCtorArgs(ge){return ge instanceof q.Z||ge&&ae[ge.type]?{symbolLayers:[ge]}:Array.isArray(ge)?{symbolLayers:ge}:ge}};(0,D._)([(0,k.Cb)({json:{read:!1,write:!1}})],se.prototype,"color",null),(0,D._)([(0,k.Cb)({type:he,nonNullable:!0,json:{write:!0}}),(0,B.p)(te.R)],se.prototype,"symbolLayers",null),(0,D._)([(0,k.Cb)({type:le.Z})],se.prototype,"styleOrigin",void 0),(0,D._)([(0,W.r)("styleOrigin")],se.prototype,"readStyleOrigin",null),(0,D._)([(0,Q.c)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],se.prototype,"writeStyleOrigin",null),(0,D._)([(0,k.Cb)({type:_e.p,json:{read:!1}})],se.prototype,"thumbnail",void 0),(0,D._)([(0,k.Cb)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],se.prototype,"type",void 0),se=(0,D._)([(0,V.j)("esri.symbols.Symbol3D")],se);const ue=se},97665:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>R});var D=M(17626),T=M(86810),te=M(77712),ie=(M(90912),M(85931),M(76898)),k=M(99433);let B=class extends T.wq{constructor(W){super(W),this.enabled=!0,this.type=null}writeEnabled(W,V,Q){W||(V[Q]=W)}};(0,D._)([(0,te.Cb)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],B.prototype,"enabled",void 0),(0,D._)([(0,k.c)("enabled")],B.prototype,"writeEnabled",null),(0,D._)([(0,te.Cb)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],B.prototype,"type",void 0),B=(0,D._)([(0,ie.j)("esri.symbols.Symbol3DLayer")],B);const R=B},35540:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>X});var ne,D=M(17626),T=M(91558),te=M(58817),Z=M(23841),U=M(77712),ie=M(66656),k=M(55342),B=M(76898),R=M(99433),W=M(11472),V=M(10012),Q=M(50369);let J=ne=class extends V.Z{constructor(...Y){super(...Y),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new W.Z,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(Y,F,x){if(Y&&"string"!=typeof Y)return Y;const $={};return Y&&($.text=Y),F&&($.font=F),x&&($.color=x),$}writeLineWidth(Y,F,x,$){$&&"string"!=typeof $||(F[x]=Y)}castLineWidth(Y){return(0,Z.t_)(Y)}writeLineHeight(Y,F,x,$){$&&"string"!=typeof $||(F[x]=Y)}clone(){return new ne({angle:this.angle,backgroundColor:(0,te.d9)(this.backgroundColor),borderLineColor:(0,te.d9)(this.borderLineColor),borderLineSize:this.borderLineSize,color:(0,te.d9)(this.color),font:this.font&&this.font.clone(),haloColor:(0,te.d9)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};(0,D._)([(0,U.Cb)({type:T.Z,json:{write:!0}})],J.prototype,"backgroundColor",void 0),(0,D._)([(0,U.Cb)({type:T.Z,json:{write:!0}})],J.prototype,"borderLineColor",void 0),(0,D._)([(0,U.Cb)({type:Number,json:{write:!0},cast:Z.t_})],J.prototype,"borderLineSize",void 0),(0,D._)([(0,U.Cb)({type:W.Z,json:{write:!0}})],J.prototype,"font",void 0),(0,D._)([(0,U.Cb)({...Q.x0,json:{write:!0}})],J.prototype,"horizontalAlignment",void 0),(0,D._)([(0,U.Cb)({type:Boolean,json:{write:!0}})],J.prototype,"kerning",void 0),(0,D._)([(0,U.Cb)({type:T.Z,json:{write:!0}})],J.prototype,"haloColor",void 0),(0,D._)([(0,U.Cb)({type:Number,cast:Z.t_,json:{write:!0}})],J.prototype,"haloSize",void 0),(0,D._)([(0,U.Cb)({type:Boolean,json:{write:!0}})],J.prototype,"rightToLeft",void 0),(0,D._)([(0,U.Cb)({type:Boolean,json:{write:!0}})],J.prototype,"rotated",void 0),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],J.prototype,"text",void 0),(0,D._)([(0,k.J)({esriTS:"text"},{readOnly:!0})],J.prototype,"type",void 0),(0,D._)([(0,U.Cb)({...Q.Nj,json:{write:!0}})],J.prototype,"verticalAlignment",void 0),(0,D._)([(0,U.Cb)({type:Number,cast:Z.t_,json:{write:!0}})],J.prototype,"xoffset",void 0),(0,D._)([(0,U.Cb)({type:Number,cast:Z.t_,json:{write:!0}})],J.prototype,"yoffset",void 0),(0,D._)([(0,U.Cb)({type:Number,json:{read:Y=>Y&&-1*Y,write:(Y,F)=>F.angle=Y&&-1*Y}})],J.prototype,"angle",void 0),(0,D._)([(0,U.Cb)({type:Number,json:{write:!0}})],J.prototype,"width",void 0),(0,D._)([(0,U.Cb)({type:Number})],J.prototype,"lineWidth",void 0),(0,D._)([(0,R.c)("lineWidth")],J.prototype,"writeLineWidth",null),(0,D._)([(0,ie.p)("lineWidth")],J.prototype,"castLineWidth",null),(0,D._)([(0,U.Cb)(Q.Ck)],J.prototype,"lineHeight",void 0),(0,D._)([(0,R.c)("lineHeight")],J.prototype,"writeLineHeight",null),J=ne=(0,D._)([(0,B.j)("esri.symbols.TextSymbol")],J);const X=J},21716:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>re});var J,D=M(17626),T=M(58817),te=M(62208),Z=M(77712),ie=(M(90912),M(55342)),k=M(76898),B=M(99433),R=M(11472),W=M(97665),V=M(60958),Q=M(91558),ne=M(86810);let X=J=class extends ne.wq{constructor(){super(...arguments),this.color=new Q.Z([0,0,0,1]),this.size=0}clone(){const le={color:(0,T.d9)(this.color),size:this.size};return new J(le)}};(0,D._)([(0,Z.Cb)(V.a)],X.prototype,"color",void 0),(0,D._)([(0,Z.Cb)(V.y)],X.prototype,"size",void 0),X=J=(0,D._)([(0,k.j)("esri.symbols.support.Symbol3DHalo")],X);var Y=M(64830),F=M(79608);M(85931);let $=class extends((0,F.J)(ne.wq)){constructor(le){super(le),this.color=null}};(0,D._)([(0,Z.Cb)(V.a)],$.prototype,"color",void 0),$=(0,D._)([(0,k.j)("esri.symbols.support.Symbol3DTextBackground")],$);var z,N=M(50369);let q=z=class extends W.Z{constructor(le){super(le),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(le){(0,te.pC)(le)&&(0,te.pC)(this._userSize)&&(le.size=this._userSize),this._set("font",le)}writeFont(le,_e,ae,he){const se={...he,textSymbol3D:!0};_e.font=le.write({},se),delete _e.font.size}get size(){return(0,te.pC)(this._userSize)?this._userSize:(0,te.pC)(this.font)&&null!=this.font.size?this.font.size:9}set size(le){this._userSize=le,(0,te.pC)(this.font)&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const le=new z({enabled:this.enabled,font:this.font&&(0,T.d9)(this.font),halo:this.halo&&(0,T.d9)(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:(0,te.pC)(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:(0,T.d9)(this.background)});return le._userSize=this._userSize,le}static fromTextSymbol(le){return new z({font:(0,te.pC)(le.font)?le.font.clone():new R.Z,halo:ee(le.haloColor,le.haloSize),horizontalAlignment:le.horizontalAlignment,lineHeight:le.lineHeight,material:le.color?new Y.b({color:le.color.clone()}):null,text:le.text,verticalAlignment:le.verticalAlignment,background:le.backgroundColor?new $({color:le.backgroundColor.clone()}):null})}};function ee(le,_e){return le&&null!=_e&&_e>0?new X({color:(0,T.d9)(le),size:_e}):null}(0,D._)([(0,Z.Cb)({type:R.Z,json:{write:!0}})],q.prototype,"font",null),(0,D._)([(0,B.c)("font")],q.prototype,"writeFont",null),(0,D._)([(0,Z.Cb)({type:X,json:{write:!0}})],q.prototype,"halo",void 0),(0,D._)([(0,Z.Cb)({...N.x0,json:{default:"center",write:!0}})],q.prototype,"horizontalAlignment",void 0),(0,D._)([(0,Z.Cb)({...N.Ck,json:{default:1,write:!0}})],q.prototype,"lineHeight",void 0),(0,D._)([(0,Z.Cb)({type:Y.b,json:{write:!0}})],q.prototype,"material",void 0),(0,D._)([(0,Z.Cb)({type:$,json:{write:!0}})],q.prototype,"background",void 0),(0,D._)([(0,Z.Cb)(V.y)],q.prototype,"size",null),(0,D._)([(0,Z.Cb)({type:String,json:{write:!0}})],q.prototype,"text",void 0),(0,D._)([(0,ie.J)({Text:"text"},{readOnly:!0})],q.prototype,"type",void 0),(0,D._)([(0,Z.Cb)({...N.Nj,json:{default:"baseline",write:!0}})],q.prototype,"verticalAlignment",void 0),q=z=(0,D._)([(0,k.j)("esri.symbols.TextSymbol3DLayer")],q);const re=q},72622:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Q});var R,D=M(17626),T=M(91558),te=M(58817),Z=M(77712),U=M(90912),ie=M(55342),k=M(76898),B=M(97665);let W=R=class extends B.Z{constructor(ne){super(ne),this.color=V.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new R({color:(0,te.d9)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};(0,D._)([(0,Z.Cb)({type:T.Z,nonNullable:!0,json:{type:[U.z8],write:(ne,J,X)=>J[X]=ne.toArray(T.Z.AlphaMode.UNLESS_OPAQUE),default:()=>V.clone(),defaultEquals:ne=>ne.toCss(!0)===V.toCss(!0)}})],W.prototype,"color",void 0),(0,D._)([(0,ie.J)({Water:"water"},{readOnly:!0})],W.prototype,"type",void 0),(0,D._)([(0,Z.Cb)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],W.prototype,"waterbodySize",void 0),(0,D._)([(0,Z.Cb)({type:Number,json:{write:!0,default:null}})],W.prototype,"waveDirection",void 0),(0,D._)([(0,Z.Cb)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],W.prototype,"waveStrength",void 0),W=R=(0,D._)([(0,k.j)("esri.symbols.WaterSymbol3DLayer")],W);const V=new T.Z([0,119,190]),Q=W},12874:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>x});var X,D=M(15861),T=M(17626),te=M(63290),Z=M(62208),U=M(10699),ie=M(77712),R=(M(90912),M(85931),M(55342)),W=M(76898),V=M(84687),Q=M(29840),ne=M(10012),J=M(96296);let Y=X=class extends ne.Z{constructor($){super($),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const $=(0,Z.pC)(this.portal)?this.portal:V.Z.getDefault();return`${this.styleName}:${this.styleUrl}:${this.name}:${$.user?$.user.username:null}:${$.url}`}read($,N){this.portal=N?.portal,super.read($,N)}clone(){return new X({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol($){return this._fetchSymbol("webRef",$)}fetchCIMSymbol($){return this._fetchSymbol("cimRef",$)}_fetchSymbol($,N){var z=this;return(0,D.Z)(function*(){const q=(0,Z.pC)(N)?N.cache:null,ee=q?z._fetchCacheKey:null;if((0,Z.pC)(q)){const ae=ee&&q.get(ee);if(ae)return ae.clone()}const re=yield function F(){return Promise.resolve().then(M.bind(M,50998))}();(0,U.k_)(N);const le=re.resolveWebStyleSymbol(z,{portal:z.portal},$,N);le.catch(ae=>{te.Z.getLogger(z.declaredClass).error("#fetchSymbol()","Failed to create symbol from style",ae)});const _e=yield le;return"webRef"===$&&"point-3d"===_e.type||"cimRef"===$&&"cim"===_e.type?((0,Z.pC)(q)&&q.set(ee,_e.clone()),_e):null})()}};(0,T._)([(0,ie.Cb)({json:{write:!1}})],Y.prototype,"color",void 0),(0,T._)([(0,ie.Cb)({type:String,json:{write:!0}})],Y.prototype,"styleName",void 0),(0,T._)([(0,ie.Cb)({type:V.Z,json:{write:!1}})],Y.prototype,"portal",void 0),(0,T._)([(0,ie.Cb)({type:String,json:{read:Q.r,write:Q.w}})],Y.prototype,"styleUrl",void 0),(0,T._)([(0,ie.Cb)({type:J.p,json:{read:!1}})],Y.prototype,"thumbnail",void 0),(0,T._)([(0,ie.Cb)({type:String,json:{write:!0}})],Y.prototype,"name",void 0),(0,T._)([(0,R.J)({styleSymbolReference:"web-style"},{readOnly:!0})],Y.prototype,"type",void 0),(0,T._)([(0,ie.Cb)()],Y.prototype,"_fetchCacheKey",null),Y=X=(0,T._)([(0,W.j)("esri.symbols.WebStyleSymbol")],Y);const x=Y},21779:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>B});var D=M(17626),T=M(86810),te=M(77712),ie=(M(90912),M(85931),M(76898));let k=class extends T.wq{constructor(R){super(R),this.visible=!0}clone(){}};(0,D._)([(0,te.Cb)({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],k.prototype,"type",void 0),(0,D._)([(0,te.Cb)({readOnly:!0})],k.prototype,"visible",void 0),k=(0,D._)([(0,ie.j)("esri.symbols.callouts.Callout3D")],k);const B=k},17497:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>X});var ne,D=M(17626),T=M(91558),te=M(58817),Z=M(62208),U=M(23841),ie=M(77712),B=(M(90912),M(55342)),R=M(76898),W=M(21779),V=M(71530),Q=M(60958);let J=ne=class extends W.Z{constructor(Y){super(Y),this.type="line",this.color=new T.Z([0,0,0,1]),this.size=(0,U.Wz)(1),this.border=null}get visible(){return this.size>0&&(0,Z.pC)(this.color)&&this.color.a>0}clone(){return new ne({color:(0,te.d9)(this.color),size:this.size,border:(0,te.d9)(this.border)})}};(0,D._)([(0,B.J)({line:"line"},{readOnly:!0})],J.prototype,"type",void 0),(0,D._)([(0,ie.Cb)(Q.a)],J.prototype,"color",void 0),(0,D._)([(0,ie.Cb)(Q.y)],J.prototype,"size",void 0),(0,D._)([(0,ie.Cb)({type:V.a,json:{write:!0}})],J.prototype,"border",void 0),(0,D._)([(0,ie.Cb)({readOnly:!0})],J.prototype,"visible",null),J=ne=(0,D._)([(0,R.j)("esri.symbols.callouts.LineCallout3D")],J);const X=J},9824:(nt,Te,M)=>{"use strict";M.d(Te,{Uy:()=>Z,Y2:()=>B,gv:()=>U});var D=M(62208),T=M(21779),te=M(17497);function Z(R){if(!R)return!1;const W=R.verticalOffset;return!!W&&!(W.screenLength<=0||(0,D.pC)(W.maxWorldLength)&&W.maxWorldLength<=0)}function U(R){if(!R||!R.supportsCallout||!R.supportsCallout())return!1;const W=R.callout;return!!W&&!!W.visible&&!!Z(R)}const B={types:{key:"type",base:T.Z,typeMap:{line:te.Z}},json:{write:!0}}},80991:(nt,Te,M)=>{"use strict";function T(me,Oe,oe,de){return function D(me){return"function"==typeof me}(me)?me(Oe,oe,de):me}function te(me){return[me.r,me.g,me.b,me.a]}M.d(Te,{$Z:()=>_e,BX:()=>re,Cc:()=>$,E_:()=>k,F:()=>ae,FG:()=>se,H1:()=>ie,JW:()=>be,NA:()=>F,NO:()=>V,On:()=>q,QI:()=>R,Qf:()=>ue,Qs:()=>B,RI:()=>N,TB:()=>ge,TT:()=>W,W7:()=>le,X_:()=>he,be:()=>Q,cO:()=>x,gJ:()=>Y,hf:()=>T,nn:()=>te,pJ:()=>z,wi:()=>ee,yL:()=>J,zL:()=>ne});const Z=" /-,\n";function U(me){let Oe=me.length;for(;Oe--;)if(!Z.includes(me.charAt(Oe)))return!1;return!0}function ie(me,Oe){const oe=[];let de=0,ve=-1;do{if(ve=me.indexOf("[",de),ve>=de){if(ve>de){const De=me.substr(de,ve-de);oe.push([De,null,U(De)])}if(de=ve+1,ve=me.indexOf("]",de),ve>=de){if(ve>de){const De=Oe[me.substr(de,ve-de)];De&&oe.push([null,De,!1])}de=ve+1}}}while(-1!==ve);if(de<me.length-1){const De=me.substr(de);oe.push([De,null,U(De)])}return oe}function k(me,Oe,oe){let de="",ve=null;for(const De of Oe){const[xe,Ce,Re]=De;if(xe)Re?ve=xe:(ve&&(de+=ve,ve=null),de+=xe);else{const we=me.attributes[Ce];we&&(ve&&(de+=ve,ve=null),de+=we)}}return R(de,oe)}function B(me,Oe,oe){const de=ie(Oe,me);return ve=>k(ve,de,oe)}function R(me,Oe){switch("string"!=typeof me&&(me=String(me)),Oe){case"LowerCase":return me.toLowerCase();case"Allcaps":return me.toUpperCase();default:return me}}function W(me,Oe,oe,de,ve,De,xe=!0){const Ce=Oe/ve,Re=oe/De,we=Math.ceil(Ce/2),Me=Math.ceil(Re/2);for(let fe=0;fe<De;fe++)for(let ye=0;ye<ve;ye++){const je=4*(ye+(xe?De-fe-1:fe)*ve);let Je=0,Ie=0,Le=0,Ve=0,st=0,ce=0,Se=0;const ze=(fe+.5)*Re;for(let Ke=Math.floor(fe*Re);Ke<(fe+1)*Re;Ke++){const Xe=Math.abs(ze-(Ke+.5))/Me,et=(ye+.5)*Ce,ct=Xe*Xe;for(let ft=Math.floor(ye*Ce);ft<(ye+1)*Ce;ft++){let $e=Math.abs(et-(ft+.5))/we;const ut=Math.sqrt(ct+$e*$e);ut>=-1&&ut<=1&&(Je=2*ut*ut*ut-3*ut*ut+1,Je>0&&($e=4*(ft+Ke*Oe),Se+=Je*me[$e+3],Le+=Je,me[$e+3]<255&&(Je=Je*me[$e+3]/250),Ve+=Je*me[$e],st+=Je*me[$e+1],ce+=Je*me[$e+2],Ie+=Je))}}de[je]=Ve/Ie,de[je+1]=st/Ie,de[je+2]=ce/Ie,de[je+3]=Se/Le}}function V(me){return me?{r:me[0],g:me[1],b:me[2],a:me[3]/255}:{r:0,g:0,b:0,a:0}}function Q(me){return me.data?.symbol??null}function ne(me){return"CIMVectorMarker"===me.type||"CIMPictureMarker"===me.type||"CIMBarChartMarker"===me.type||"CIMCharacterMarker"===me.type||"CIMPieChartMarker"===me.type||"CIMStackedBarChartMarker"===me.type}function J(me){return"CIMGradientStroke"===me.type||"CIMPictureStroke"===me.type||"CIMSolidStroke"===me.type}function Y(me){return null!=me&&("CIMMarkerPlacementAlongLineRandomSize"===me.type||"CIMMarkerPlacementAlongLineSameSize"===me.type||"CIMMarkerPlacementAlongLineVariableSize"===me.type||"CIMMarkerPlacementAtExtremities"===me.type||"CIMMarkerPlacementAtMeasuredUnits"===me.type||"CIMMarkerPlacementAtRatioPositions"===me.type||"CIMMarkerPlacementOnLine"===me.type||"CIMMarkerPlacementOnVertices"===me.type)}const F=(me,Oe=0)=>null==me||isNaN(me)?Oe:me,x=me=>me.tintColor?V(me.tintColor):{r:255,g:255,b:255,a:1},$=me=>{if(!me)return!1;for(const Oe of me)switch(Oe.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function N(){return Promise.all([M.e(4918),M.e(8592),M.e(5994)]).then(M.bind(M,32825))}function z(me){if(!me)return"normal";switch(me.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function q(me){if(!me)return"normal";switch(me.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function ee(me){let Oe="",oe="";if(me){const de=me.toLowerCase();de.includes("italic")?Oe="italic":de.includes("oblique")&&(Oe="oblique"),de.includes("bold")?oe="bold":de.includes("light")&&(oe="lighter")}return{style:Oe,weight:oe}}function re(me){return me.underline?"underline":me.strikethrough?"line-through":"none"}function le(me){if(!me)return null;switch(me.type){case"CIMPolygonSymbol":if(me.symbolLayers)for(const Oe of me.symbolLayers){const oe=le(Oe);if(null!=oe)return oe}break;case"CIMTextSymbol":return le(me.symbol);case"CIMSolidFill":return me.color}}function _e(me){if(me)switch(me.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const Oe=me.symbolLayers;if(Oe)for(const oe of Oe){const de=_e(oe);if(null!=de)return de}break}case"CIMTextSymbol":return _e(me.symbol);case"CIMSolidStroke":case"CIMSolidFill":return me.color}}function ae(me){if(me)switch(me.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(me.symbolLayers)for(const Oe of me.symbolLayers){const oe=ae(Oe);if(void 0!==oe)return oe}break;case"CIMTextSymbol":return ae(me.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return me.width}}function he(me){switch(me){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function se(me){switch(me){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function ue(me){return(me?Object.keys(me):[]).map(Oe=>({name:Oe,alias:Oe,type:"string"==typeof me[Oe]?"esriFieldTypeString":"esriFieldTypeDouble"}))}const ge=me=>me.includes("data:image/svg+xml");function be(me){if(!me)return null;switch(me.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}},89441:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ee});var D=M(17626),T=M(91558),te=M(86810),Z=M(58817),U=M(23841),ie=M(77712),B=(M(90912),M(76898)),R=M(60958);let W=class extends te.wq{constructor(re){super(re),this.color=new T.Z([0,0,0,1]),this.extensionLength=0,this.size=(0,U.Wz)(1)}clone(){}cloneProperties(){return{color:(0,Z.d9)(this.color),size:this.size,extensionLength:this.extensionLength}}};(0,D._)([(0,ie.Cb)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],W.prototype,"type",void 0),(0,D._)([(0,ie.Cb)(R.a)],W.prototype,"color",void 0),(0,D._)([(0,ie.Cb)({...R.y,json:{write:{overridePolicy:re=>({enabled:!!re})}}})],W.prototype,"extensionLength",void 0),(0,D._)([(0,ie.Cb)(R.y)],W.prototype,"size",void 0),W=(0,D._)([(0,B.j)("esri.symbols.edges.Edges3D")],W);const V=W;M(63290),M(85931),M(26584),M(8314);var F,Y=M(55342);let x=F=class extends V{constructor(re){super(re),this.type="sketch"}clone(){return new F(this.cloneProperties())}};(0,D._)([(0,Y.J)({sketch:"sketch"},{readOnly:!0})],x.prototype,"type",void 0),x=F=(0,D._)([(0,B.j)("esri.symbols.edges.SketchEdges3D")],x);const $=x;var N;let z=N=class extends V{constructor(re){super(re),this.type="solid"}clone(){return new N(this.cloneProperties())}};(0,D._)([(0,Y.J)({solid:"solid"},{readOnly:!0})],z.prototype,"type",void 0),z=N=(0,D._)([(0,B.j)("esri.symbols.support.SolidEdges3D")],z);const ee={types:{key:"type",base:V,typeMap:{solid:z,sketch:$}},json:{write:!0}}},38861:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>B});var D=M(17626),T=M(86810),te=M(77712),ie=(M(90912),M(85931),M(76898));let k=class extends T.wq{constructor(R){super(R)}clone(){}};(0,D._)([(0,te.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],k.prototype,"type",void 0),k=(0,D._)([(0,ie.j)("esri.symbols.patterns.LinePattern3D")],k);const B=k},63743:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ne});var W,D=M(17626),T=M(2076),te=M(77712),ie=(M(90912),M(85931),M(55342)),k=M(76898),B=M(38861);const V=(0,T.w)()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Q=W=class extends B.Z{constructor(J){super(J),this.type="style",this.style="solid"}clone(){return new W({style:this.style})}};(0,D._)([(0,te.Cb)({type:["style"]})],Q.prototype,"type",void 0),(0,D._)([(0,ie.J)(V),(0,te.Cb)({type:["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"]})],Q.prototype,"style",void 0),Q=W=(0,D._)([(0,k.j)("esri.symbols.patterns.LineStylePattern3D")],Q);const ne=Q},40249:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>B});var D=M(17626),T=M(86810),te=M(77712),ie=(M(90912),M(85931),M(76898));let k=class extends T.wq{constructor(R){super(R)}clone(){}};(0,D._)([(0,te.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],k.prototype,"type",void 0),k=(0,D._)([(0,ie.j)("esri.symbols.patterns.Pattern3D")],k);const B=k},153:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var B,D=M(17626),T=M(77712),U=(M(90912),M(85931),M(76898)),ie=M(40249);let R=B=class extends ie.Z{constructor(V){super(V),this.type="style",this.style="solid"}clone(){return new B({style:this.style})}};(0,D._)([(0,T.Cb)({type:["style"]})],R.prototype,"type",void 0),(0,D._)([(0,T.Cb)({type:["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"],json:{read:!0,write:!0}})],R.prototype,"style",void 0),R=B=(0,D._)([(0,U.j)("esri.symbols.patterns.StylePattern3D")],R);const W=R},99255:(nt,Te,M)=>{"use strict";M.d(Te,{D:()=>ie,q:()=>U});var D=M(38861),T=M(63743),te=M(40249),Z=M(153);const U={types:{key:"type",base:te.Z,typeMap:{style:Z.Z}},json:{write:!0}},ie={types:{key:"type",base:D.Z,typeMap:{style:T.Z}},json:{write:!0}}},82706:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>z});var ne,D=M(17626),T=M(2076),te=M(86810),Z=M(62208),U=M(77712),B=(M(90912),M(85931),M(68653)),R=M(76898),W=M(99433),V=M(15861),Q=M(36630);let J=ne=class extends te.wq{constructor(q){super(q)}collectRequiredFields(q,ee){var re=this;return(0,V.Z)(function*(){return(0,Q.io)(q,ee,re.expression)})()}clone(){return new ne({expression:this.expression,title:this.title})}equals(q){return this.expression===q.expression&&this.title===q.title}};(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],J.prototype,"expression",void 0),(0,D._)([(0,U.Cb)({type:String,json:{write:!0}})],J.prototype,"title",void 0),J=ne=(0,D._)([(0,R.j)("esri.layers.support.FeatureExpressionInfo")],J);const X=J;var F,Y=M(29505);const x=(0,T.w)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),$=new T.X({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let N=F=class extends te.wq{constructor(q){super(q),this.offset=null}readFeatureExpressionInfo(q,ee){return q??(ee.featureExpression&&0===ee.featureExpression.value?{expression:"0"}:void 0)}writeFeatureExpressionInfo(q,ee,re,le){ee[re]=q.write({},le),"0"===q.expression&&(ee.featureExpression={value:0})}get mode(){const{offset:q,featureExpressionInfo:ee}=this;return this._isOverridden("mode")?this._get("mode"):(0,Z.pC)(q)||ee?"relative-to-ground":"on-the-ground"}set mode(q){this._override("mode",q)}set unit(q){this._set("unit",q)}write(q,ee){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(q,ee):null}clone(){return new F({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(q){return this.mode===q.mode&&this.offset===q.offset&&this.unit===q.unit&&(0,Z._W)(this.featureExpressionInfo,q.featureExpressionInfo)}};(0,D._)([(0,U.Cb)({type:X,json:{write:!0}})],N.prototype,"featureExpressionInfo",void 0),(0,D._)([(0,B.r)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],N.prototype,"readFeatureExpressionInfo",null),(0,D._)([(0,W.c)("featureExpressionInfo",{featureExpressionInfo:{type:X},"featureExpression.value":{type:[0]}})],N.prototype,"writeFeatureExpressionInfo",null),(0,D._)([(0,U.Cb)({type:x.apiValues,nonNullable:!0,json:{type:x.jsonValues,read:x.read,write:{writer:x.write,isRequired:!0}}})],N.prototype,"mode",null),(0,D._)([(0,U.Cb)({type:Number,json:{write:!0}})],N.prototype,"offset",void 0),(0,D._)([(0,U.Cb)({type:Y.f9,json:{type:String,read:$.read,write:$.write}})],N.prototype,"unit",null),N=F=(0,D._)([(0,R.j)("esri.layers.support.ElevationInfo")],N);const z=N},33215:(nt,Te,M)=>{"use strict";M.d(Te,{S:()=>Y,b:()=>X});var ne,D=M(17626),T=M(2076),te=M(86810),Z=M(21726),U=M(77712),B=(M(90912),M(85931),M(55342)),R=M(68653),W=M(76898),V=M(99433),Q=M(29840);const J=(0,T.w)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let X=ne=class extends te.wq{constructor(F){super(F)}readHref(F,x,$){return F?(0,Q.f)(F,$):x.dataURI}writeHref(F,x,$,N){F&&((0,Z.HK)(F)?x.dataURI=F:(x.href=(0,Q.t)(F,N),(0,Z.YP)(x.href)&&(x.href=(0,Z.Fv)(x.href))))}clone(){return new ne({href:this.href,primitive:this.primitive})}};(0,D._)([(0,U.Cb)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],X.prototype,"href",void 0),(0,D._)([(0,R.r)("href")],X.prototype,"readHref",null),(0,D._)([(0,V.c)("href",{href:{type:String},dataURI:{type:String}})],X.prototype,"writeHref",null),(0,D._)([(0,B.J)(J)],X.prototype,"primitive",void 0),X=ne=(0,D._)([(0,W.j)("esri.symbols.support.IconSymbol3DLayerResource")],X);const Y="circle"},48521:(nt,Te,M)=>{"use strict";M.d(Te,{S:()=>ne,k:()=>Q});var W,D=M(17626),T=M(2076),te=M(86810),Z=M(77712),k=(M(90912),M(85931),M(55342)),B=M(76898),R=M(29840);const V=(0,T.w)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Q=W=class extends te.wq{clone(){return new W({href:this.href,primitive:this.primitive})}};(0,D._)([(0,Z.Cb)({type:String,json:{read:R.r,write:R.w}})],Q.prototype,"href",void 0),(0,D._)([(0,k.J)(V)],Q.prototype,"primitive",void 0),Q=W=(0,D._)([(0,B.j)("esri.symbols.support.ObjectSymbol3DLayerResource")],Q);const ne="sphere"},77345:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var B,D=M(17626),T=M(14517),te=M(77712),ie=(M(90912),M(85931),M(76898)),k=M(84687);let R=B=class extends T.Z{constructor(V){super(V),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new B({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};(0,D._)([(0,te.Cb)({type:String})],R.prototype,"name",void 0),(0,D._)([(0,te.Cb)({type:String})],R.prototype,"styleUrl",void 0),(0,D._)([(0,te.Cb)({type:String})],R.prototype,"styleName",void 0),(0,D._)([(0,te.Cb)({type:k.Z})],R.prototype,"portal",void 0),R=B=(0,D._)([(0,ie.j)("esri.symbols.support.StyleOrigin")],R);const W=R},37519:(nt,Te,M)=>{"use strict";M.d(Te,{e:()=>B});var k,D=M(17626),T=M(14517),te=M(77712),ie=(M(90912),M(85931),M(76898));let B=k=class extends T.Z{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new k({x:this.x,y:this.y})}};(0,D._)([(0,te.Cb)({type:Number})],B.prototype,"x",void 0),(0,D._)([(0,te.Cb)({type:Number})],B.prototype,"y",void 0),B=k=(0,D._)([(0,ie.j)("esri.symbols.support.Symbol3DAnchorPosition2D")],B)},64830:(nt,Te,M)=>{"use strict";M.d(Te,{b:()=>W});var R,D=M(17626),T=M(86810),te=M(62208),Z=M(77712),k=(M(90912),M(85931),M(76898)),B=M(60958);let W=R=class extends T.wq{constructor(V){super(V),this.color=null}clone(){const V={color:(0,te.pC)(this.color)?this.color.clone():null};return new R(V)}};(0,D._)([(0,Z.Cb)(B.a)],W.prototype,"color",void 0),W=R=(0,D._)([(0,k.j)("esri.symbols.support.Symbol3DMaterial")],W)},97595:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W});var B,D=M(17626),T=M(86810),te=M(77712),ie=(M(90912),M(85931),M(76898)),k=M(60958);let R=B=class extends T.wq{constructor(V){super(V),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new B({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};(0,D._)([(0,te.Cb)(k.y)],R.prototype,"screenLength",void 0),(0,D._)([(0,te.Cb)({type:Number,nonNullable:!0,json:{write:!0,default:0}})],R.prototype,"minWorldLength",void 0),(0,D._)([(0,te.Cb)({type:Number,json:{write:!0}})],R.prototype,"maxWorldLength",void 0),R=B=(0,D._)([(0,ie.j)("esri.symbols.support.Symbol3DVerticalOffset")],R);const W=R},96296:(nt,Te,M)=>{"use strict";M.d(Te,{p:()=>B});var k,D=M(17626),T=M(14517),te=M(77712),ie=(M(90912),M(85931),M(76898));let B=k=class extends T.Z{constructor(){super(...arguments),this.url=""}clone(){return new k({url:this.url})}};(0,D._)([(0,te.Cb)({type:String})],B.prototype,"url",void 0),B=k=(0,D._)([(0,ie.j)("esri.symbols.support.Thumbnail")],B)},56445:(nt,Te,M)=>{"use strict";M.d(Te,{FW:()=>k,iW:()=>W});var D=M(91558),T=M(80991);function ie(x,$,N,z){if(x)if("CIMTextSymbol"!==x.type){if(N&&x.effects)for(const q of x.effects)R(q,$);if(x.symbolLayers)for(const q of x.symbolLayers)switch(q.type){case"CIMPictureMarker":case"CIMVectorMarker":k(q,$,z);break;case"CIMPictureStroke":case"CIMSolidStroke":!z?.preserveOutlineWidth&&q.width&&(q.width*=$);break;case"CIMPictureFill":q.height&&(q.height*=$),q.offsetX&&(q.offsetX*=$),q.offsetY&&(q.offsetY*=$);break;case"CIMHatchFill":ie(q.lineSymbol,$,!0,{...z,preserveOutlineWidth:!1}),q.offsetX&&(q.offsetX*=$),q.offsetY&&(q.offsetY*=$),q.separation&&(q.separation*=$)}}else null!=x.height&&(x.height*=$)}function k(x,$,N){if(x&&(x.markerPlacement&&function B(x,$){switch((0,T.gJ)(x)&&x.offset&&(x.offset*=$),x.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(x.customEndingOffset&&(x.customEndingOffset*=$),x.offsetAlongLine&&(x.offsetAlongLine*=$),x.placementTemplate&&x.placementTemplate.length){const N=x.placementTemplate.map(z=>z*$);x.placementTemplate=N}break;case"CIMMarkerPlacementAlongLineVariableSize":if(x.maxRandomOffset&&(x.maxRandomOffset*=$),x.placementTemplate&&x.placementTemplate.length){const N=x.placementTemplate.map(z=>z*$);x.placementTemplate=N}break;case"CIMMarkerPlacementOnLine":x.startPointOffset&&(x.startPointOffset*=$);break;case"CIMMarkerPlacementAtExtremities":x.offsetAlongLine&&(x.offsetAlongLine*=$);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":x.beginPosition&&(x.beginPosition*=$),x.endPosition&&(x.endPosition*=$);break;case"CIMMarkerPlacementPolygonCenter":x.offsetX&&(x.offsetX*=$),x.offsetY&&(x.offsetY*=$);break;case"CIMMarkerPlacementInsidePolygon":x.offsetX&&(x.offsetX*=$),x.offsetY&&(x.offsetY*=$),x.stepX&&(x.stepX*=$),x.stepY&&(x.stepY*=$)}}(x.markerPlacement,$),x.offsetX&&(x.offsetX*=$),x.offsetY&&(x.offsetY*=$),x.anchorPoint&&"Absolute"===x.anchorPointUnits&&(x.anchorPoint={x:x.anchorPoint.x*$,y:x.anchorPoint.y*$}),x.size=null!=x.size?x.size*$:0,"CIMVectorMarker"===x.type&&x.markerGraphics))for(const z of x.markerGraphics)x.scaleSymbolsProportionally||ie(z.symbol,$,!0,N)}function R(x,$){switch(x.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":x.width&&(x.width*=$);break;case"CIMGeometricEffectBuffer":x.size&&(x.size*=$);break;case"CIMGeometricEffectCut":x.beginCut&&(x.beginCut*=$),x.endCut&&(x.endCut*=$),x.middleCut&&(x.middleCut*=$);break;case"CIMGeometricEffectDashes":if(x.customEndingOffset&&(x.customEndingOffset*=$),x.offsetAlongLine&&(x.offsetAlongLine*=$),x.dashTemplate&&x.dashTemplate.length){const N=x.dashTemplate.map(z=>z*$);x.dashTemplate=N}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":x.length&&(x.length*=$);break;case"CIMGeometricEffectMove":x.offsetX&&(x.offsetX*=$),x.offsetY&&(x.offsetY*=$);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":x.offset&&(x.offset*=$);break;case"CIMGeometricEffectRegularPolygon":x.radius&&(x.radius*=$);break;case"CIMGeometricEffectTaperedPolygon":x.fromWidth&&(x.fromWidth*=$),x.length&&(x.length*=$),x.toWidth&&(x.toWidth*=$);break;case"CIMGeometricEffectWave":x.amplitude&&(x.amplitude*=$),x.period&&(x.period*=$)}}function W(x){const $=[];return V((0,T.be)(x),$),$.length?new D.Z((0,T.NO)($[0])):null}function V(x,$){if(!x)return;let N;N="CIMTextSymbol"===x.type?x.symbol:x;const z="CIMPolygonSymbol"===x.type;if(N?.symbolLayers)for(const q of N.symbolLayers)if(!(q.colorLocked||z&&((0,T.yL)(q)||(0,T.zL)(q)&&q.markerPlacement&&(0,T.gJ)(q.markerPlacement))))switch(q.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":q.tintColor&&Q($,q.tintColor);break;case"CIMVectorMarker":q.markerGraphics?.forEach(ee=>{V(ee.symbol,$)});break;case"CIMSolidStroke":case"CIMSolidFill":Q($,q.color);break;case"CIMHatchFill":V(q.lineSymbol,$)}}function Q(x,$){for(const N of x)if(N.join(".")===$.join("."))return;x.push($)}},12948:(nt,Te,M)=>{"use strict";M.d(Te,{ix:()=>T,l9:()=>Z,rx:()=>U});var D=M(91558);const T=new D.Z("white"),Z=(new D.Z("black"),new D.Z([255,255,255,0]));function U(ie){return 0===ie.r&&0===ie.g&&0===ie.b}},8080:(nt,Te,M)=>{"use strict";M.d(Te,{CJ:()=>B,G:()=>Q,Rz:()=>W,kD:()=>J,mW:()=>ne,xA:()=>k,z3:()=>R}),M(8314);var T=M(88493),te=M(52068),Z=M(57213),U=M(35540),ie=M(24837);const k=Z.Z.fromJSON(ie.I4),B=te.Z.fromJSON(ie.ET),R=T.Z.fromJSON(ie.lF),W=U.Z.fromJSON(ie.qP),Q=Z.Z.fromJSON(ie.eG),ne=te.Z.fromJSON(ie.wW),J=T.Z.fromJSON(ie.lj)},24837:(nt,Te,M)=>{"use strict";M.d(Te,{ET:()=>Z,I4:()=>te,eG:()=>k,lF:()=>U,lj:()=>R,qP:()=>ie,wW:()=>B});const D=[252,146,31,255],te={type:"esriSMS",style:"esriSMSCircle",size:6,color:D,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},Z={type:"esriSLS",style:"esriSLSSolid",width:.75,color:D},U={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},ie={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},k={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},B={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},R={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},74741:(nt,Te,M)=>{"use strict";M.d(Te,{Ne:()=>x,Od:()=>X,Sp:()=>F,_M:()=>J,mx:()=>Y});var D=M(54346),T=M(91558),te=M(84792),Z=M(78498),U=M(23841),ie=M(56445);const k="picture-fill",B="simple-fill",R="simple-line",W="simple-marker",V="text",Q="cim",ne=new Z.Z(1e3);function J($){const N=$.style;let z=null;if($)switch($.type){case W:"cross"!==N&&"x"!==N&&(z=$.color);break;case B:"solid"===N?z=$.color:"none"!==N&&(z={type:"pattern",x:0,y:0,src:(0,D.V)(`esri/symbols/patterns/${N}.png`),width:5,height:5});break;case k:z={type:"pattern",src:$.url,width:(0,U.F2)($.width)*$.xscale,height:(0,U.F2)($.height)*$.yscale,x:(0,U.F2)($.xoffset),y:(0,U.F2)($.yoffset)};break;case V:z=$.color;break;case Q:z=(0,ie.iW)($)}return z}function X($,N){const z=$+"-"+N;return void 0!==ne.get(z)?Promise.resolve(ne.get(z)):(0,te.default)($,{responseType:"image"}).then(q=>{const ee=q.data,re=ee.naturalWidth,le=ee.naturalHeight,_e=document.createElement("canvas");_e.width=re,_e.height=le;const ae=_e.getContext("2d");ae.fillStyle=N,ae.fillRect(0,0,re,le),ae.globalCompositeOperation="destination-in",ae.drawImage(ee,0,0);const he=_e.toDataURL();return ne.put(z,he),he})}function Y($){if(!$)return null;let N=null;switch($.type){case B:case k:case W:N=Y($.outline);break;case R:{const z=(0,U.F2)($.width);null!=$.style&&"none"!==$.style&&0!==z&&(N={color:$.color,style:F($.style),width:z,cap:$.cap,join:"miter"===$.join?(0,U.F2)($.miterLimit):$.join});break}default:N=null}return N}const F=(()=>{const $={};return N=>{if($[N])return $[N];const z=N.replace(/-/g,"");return $[N]=z,z}})(),x=new T.Z([128,128,128])},65270:(nt,Te,M)=>{"use strict";M.d(Te,{im:()=>ee,cW:()=>$,vX:()=>N});var D=M(20383),T=M(26584),te=M(62208),Z=M(72469),U=M(39368),ie=M(12874),k=M(69852),B=M(52068),R=M(40445),W=M(57213),V=M(13546),Q=M(88493),ne=M(36687),J=M(89673),X=M(35540),Y=M(22490);const F={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function $(re,le,_e,ae){const he=q(re,{},{context:ae,isLabelSymbol:!1});(0,te.pC)(he)&&(le[_e]=he)}function N(re,le,_e,ae){const he=q(re,{},{context:ae,isLabelSymbol:!0});(0,te.pC)(he)&&(le[_e]=he)}function z(re){return re instanceof U.Z||re instanceof ie.Z}function q(re,le,_e){if((0,te.Wi)(re))return null;const{context:ae,isLabelSymbol:he}=_e,se=ae?.origin,ue=ae?.messages;if("web-scene"===se&&!z(re)){const ge=function x(re,le=F){if(!re)return{symbol:null};const{retainId:_e=F.retainId,ignoreDrivers:ae=F.ignoreDrivers,hasLabelingContext:he=F.hasLabelingContext,retainCIM:se=F.retainCIM}=le;let ue=null;if((0,D.dU)(re)||re instanceof ie.Z)ue=re.clone();else if("cim"===re.type){const ge=re.data?.symbol?.type;if("CIMPointSymbol"!==ge)return{error:new T.Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${ge||"unknown"}' is unsupported in 3D`,{symbol:re})};ue=se?re.clone():k.Z.fromCIMSymbol(re)}else if(re instanceof B.Z)ue=R.Z.fromSimpleLineSymbol(re);else if(re instanceof W.Z)ue=k.Z.fromSimpleMarkerSymbol(re);else if(re instanceof V.Z)ue=k.Z.fromPictureMarkerSymbol(re);else if(re instanceof Q.Z)ue=le.geometryType&&"mesh"===le.geometryType?ne.Z.fromSimpleFillSymbol(re):J.Z.fromSimpleFillSymbol(re);else{if(!(re instanceof X.Z))return{error:new T.Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${re.type||re.declaredClass}' is unsupported in 3D`,{symbol:re})};ue=he?Y.Z.fromTextSymbol(re):k.Z.fromTextSymbol(re)}if(_e&&ue&&"cim"!==ue.type&&(ue.id=re.id),ae&&(0,D.dU)(ue))for(let ge=0;ge<ue.symbolLayers.length;++ge)ue.symbolLayers.getItemAt(ge)._ignoreDrivers=!0;return{symbol:ue}}(re,{retainCIM:!0,hasLabelingContext:he});return(0,te.pC)(ge.symbol)?ge.symbol.write(le,ae):(ue?.push(new T.Z("symbol:unsupported",`Symbols of type '${re.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:re,context:ae,error:ge.error})),null)}return("web-map"===se||"portal-item"===se&&!(0,Z.A2)(ae?.layer))&&z(re)?(ue?.push(new T.Z("symbol:unsupported",`Symbols of type '${re.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:re,context:ae})),null):re.write(le,ae)}function ee(re,le){return(0,D.S9)(re,null,le)}},67866:(nt,Te,M)=>{"use strict";M.d(Te,{J:()=>D,k:()=>T});const D=["begin","end","begin-end"],T=["arrow","circle","square","diamond","cross","x"]},60958:(nt,Te,M)=>{"use strict";M.d(Te,{a:()=>k,y:()=>B});var D=M(91558),T=M(23841),te=M(90912),Z=M(92236);const k={type:D.Z,json:{type:[te.z8],default:null,read:{source:["color","transparency"],reader:function U(R,W){const V=null!=W.transparency?(0,Z.b)(W.transparency):1,Q=W.color;return Q&&Array.isArray(Q)?new D.Z([Q[0]||0,Q[1]||0,Q[2]||0,V]):null}},write:{target:{color:{type:[te.z8]},transparency:{type:te.z8}},writer:function ie(R,W){W.color=R.toJSON().slice(0,3);const V=(0,Z.a)(R.a);0!==V&&(W.transparency=V)}}}},B={type:Number,cast:T.t_,json:{write:!0}}},66960:(nt,Te,M)=>{"use strict";M.r(Te),M.d(Te,{getPatternDescriptor:()=>ae,getSizeFromOptions:()=>oe,getSymbolLayerFill:()=>_e,previewSymbol3D:()=>Re});var D=M(15861),T=M(54346),te=M(78260),U=(M(8314),M(26584)),ie=M(63290),k=M(62208),B=M(10699),R=M(23841),W=M(74741),V=M(33215),Q=M(48521),ne=M(71131),J=M(34057),X=M(86606),Y=M(50998);const F=ne.b_.size,x=ne.b_.maxSize,$=ne.b_.maxOutlineSize,N=ne.b_.lineWidth,z=ne.b_.tallSymbolWidth;function q(we){const Me=we.outline,fe=(0,k.pC)(we.material)?we.material.color:null,ye=(0,k.pC)(fe)?fe.toHex():null;if((0,k.Wi)(Me)||"pattern"in Me&&(0,k.pC)(Me.pattern)&&"style"===Me.pattern.type&&"none"===Me.pattern.style)return"fill"===we.type&&"#ffffff"===ye?{color:"#bdc3c7",width:.75}:null;const je=(0,R.F2)(Me.size)||0;return{color:"rgba("+((0,k.pC)(Me.color)?Me.color.toRgba():"255,255,255,1")+")",width:Math.min(je,$),style:"pattern"in Me&&(0,k.pC)(Me.pattern)&&"style"===Me.pattern.type?(0,W.Sp)(Me.pattern.style):null,join:"butt",cap:"patternCap"in Me?Me.patternCap:"butt"}}function re(we,Me=1){const fe=we.a,ye=(0,te._Y)(we),je=ye.h,Je=ye.s/Me,Ie=100-(100-ye.v)/Me,{r:Le,g:Ve,b:st}=(0,te.xr)({h:je,s:Je,v:Ie});return[Le,Ve,st,fe]}function le(we){return"water"===we.type?(0,k.Wi)(we.color)?null:we.color:(0,k.Wi)(we.material)||(0,k.Wi)(we.material.color)?null:we.material.color}function _e(we,Me=0){const fe=le(we);if(!fe){if("fill"===we.type)return null;const Je=(0,ne.uH)(W.Ne.r,Me);return[Je,Je,Je,100]}const ye=fe.toRgba();for(let je=0;je<3;je++)ye[je]=(0,ne.uH)(ye[je],Me);return ye}function ae(we,Me){return he.apply(this,arguments)}function he(){return(he=(0,D.Z)(function*(we,Me){const fe=we.style;return"none"===fe?null:{type:"pattern",x:0,y:0,src:yield(0,W.Od)((0,T.V)(`esri/symbols/patterns/${fe}.png`),Me.toCss(!0)),width:5,height:5}})).apply(this,arguments)}function se(we){return we.outline?q(we):{color:"rgba(0, 0, 0, 1)",width:1.5}}function ue(we,Me){const fe=le(we);if(!fe)return null;let ye="rgba(";return ye+=(0,ne.uH)(fe.r,Me)+",",ye+=(0,ne.uH)(fe.g,Me)+",",ye+=(0,ne.uH)(fe.b,Me)+",",ye+fe.a+");"}function ge(we,Me){const fe=ue(we,Me);return fe?"pattern"in we&&(0,k.pC)(we.pattern)&&"style"===we.pattern.type&&"none"===we.pattern.style?null:{color:fe,width:Math.min(we.size?(0,R.F2)(we.size):.75,$),style:"pattern"in we&&(0,k.pC)(we.pattern)&&"style"===we.pattern.type?(0,W.Sp)(we.pattern.style):null,cap:"cap"in we?we.cap:null,join:"join"in we?"miter"===we.join?(0,R.F2)(2):we.join:null}:{}}function be(we,Me,fe){const ye=null!=fe?.75*fe:0;return{type:"linear",x1:ye?.25*ye:0,y1:ye?.5*ye:0,x2:ye||4,y2:ye?.5*ye:4,colors:[{color:we,offset:0},{color:Me,offset:1}]}}function oe(we){const Me="number"==typeof we?.size?we?.size:null;return Me?(0,R.F2)(Me):null}function Ce(){return(Ce=(0,D.Z)(function*(we,Me){const fe="mesh-3d"===we.type,ye=we.symbolLayers,je=oe(Me),Je=Me&&Me.maxSize?(0,R.F2)(Me.maxSize):null,Ie=je||F,Le=[];let Ve=0,st=0,ce=!1;for(let Se=0;Se<ye.length;Se++){const ze=ye.getItemAt(Se),Ke=[];if(fe&&"fill"!==ze.type)continue;const Xe=ne.JZ.fill[0];switch(ze.type){case"fill":{const et=q(ze),ct=Math.min(Ie,Je||x);Ve=Math.max(Ve,ct),st=Math.max(st,ct),ce=!0;let ft=_e(ze,0);const $e="pattern"in ze?ze.pattern:null,ut=le(ze);!fe&&(0,k.pC)($e)&&"style"===$e.type&&"solid"!==$e.style&&ut&&(ft=yield ae($e,ut)),Ke.push({shape:Xe,fill:ft,stroke:et});break}case"line":{const et=ge(ze,0);if((0,k.Wi)(et))break;const ct={stroke:et,shape:Xe};Ve=Math.max(Ve,F),st=Math.max(st,F),Ke.push(ct);break}case"extrude":{const et={join:"round",width:1,...ge(ze,-.4)},ct=_e(ze,0),ft=_e(ze,-.2),$e=Math.min(Ie,Je||x),ut=(0,ne.EV)($e);et.width=1,Ke.push({shape:ut[0],fill:ft,stroke:et}),Ke.push({shape:ut[1],fill:ft,stroke:et}),Ke.push({shape:ut[2],fill:ct,stroke:et});const ke=.7*F+.5*$e;Ve=Math.max(Ve,F),st=Math.max(st,ke);break}case"water":{const et=(0,k.s3)(le(ze)),ct=re(et),ft=re(et,2),$e=re(et,3),ut=(0,ne.ht)();ce=!0,Ke.push({shape:ut[0],fill:ct}),Ke.push({shape:ut[1],fill:ft}),Ke.push({shape:ut[2],fill:$e});const qe=Math.min(Ie,Je||x);Ve=Math.max(Ve,qe),st=Math.max(st,qe);break}}Le.push(Ke)}return(0,J.wh)(Le,[Ve,st],{node:Me&&Me.node,scale:ce,opacity:Me&&Me.opacity})})).apply(this,arguments)}function Re(we,Me){if(0===we.symbolLayers.length)return Promise.reject(new U.Z("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(we.type){case"point-3d":return function ve(we,Me){const fe=oe(Me),ye=Me?.maxSize?(0,R.F2)(Me.maxSize):null,je=Me?.disableUpsampling??!1,Je=we.symbolLayers,Ie=[];let Le=0,Ve=0;const st=Je.getItemAt(Je.length-1);let ce;return st&&"icon"===st.type&&(ce=st.size&&(0,R.F2)(st.size)),Je.forEach(Se=>{if("icon"!==Se.type&&"object"!==Se.type)return;const ze="icon"===Se.type?Se.size&&(0,R.F2)(Se.size):0,Ke=fe||ze?Math.ceil(Math.min(fe||ze,ye||x)):F;if(Se&&Se.resource&&Se.resource.href){const Xe=function ee(we,Me){const fe=Me&&Me.resource,ye=fe&&fe.href;if(we.thumbnail&&we.thumbnail.url)return Promise.resolve(we.thumbnail.url);if(ye&&"object"!==Me.type)return Promise.resolve((0,X.nf)(Me));const je=(0,T.V)("esri/images/Legend/legend3dsymboldefault.png");return we.styleOrigin&&(we.styleOrigin.styleName||we.styleOrigin.styleUrl)?(0,Y.resolveWebStyleSymbol)(we.styleOrigin,{portal:we.styleOrigin.portal},"webRef").catch(Je=>Je).then(Je=>Je?.thumbnail?.url||je):Promise.resolve(je)}(we,Se).then(et=>{const ct=Se.get("material.color"),ft=function de(we){return"icon"===we.type?"multiply":"tint"}(Se);return(0,J.rG)(et,Ke,ct,ft,je)}).then(et=>{const ct=et.width,ft=et.height;return Le=Math.max(Le,ct),Ve=Math.max(Ve,ft),[{shape:{type:"image",x:0,y:0,width:ct,height:ft,src:et.url},fill:null,stroke:null}]});Ie.push(Xe)}else{let Xe=Ke;"icon"===Se.type&&ce&&fe&&(Xe=Ke*(ze/ce));const et="tall"===Me?.symbolConfig||Me?.symbolConfig?.isTall||"object"===Se.type&&function me(we){const Me=we.depth,fe=we.height,ye=we.width;return 0!==ye&&0!==Me&&0!==fe&&ye===Me&&null!=ye&&null!=fe&&ye<fe}(Se);Le=Math.max(Le,et?z:Xe),Ve=Math.max(Ve,Xe),Ie.push(Promise.resolve(function Oe(we,Me,fe){const ye=[];if(!we)return ye;switch(we.type){case"icon":{const Ie=Me,Le=Me;switch(we.resource&&we.resource.primitive||V.S){case"circle":ye.push({shape:{type:"circle",cx:0,cy:0,r:.5*Me},fill:_e(we,0),stroke:q(we)});break;case"square":ye.push({shape:{type:"path",path:[{command:"M",values:[0,Le]},{command:"L",values:[0,0]},{command:"L",values:[Ie,0]},{command:"L",values:[Ie,Le]},{command:"Z",values:[]}]},fill:_e(we,0),stroke:q(we)});break;case"triangle":ye.push({shape:{type:"path",path:[{command:"M",values:[0,Le]},{command:"L",values:[.5*Ie,0]},{command:"L",values:[Ie,Le]},{command:"Z",values:[]}]},fill:_e(we,0),stroke:q(we)});break;case"cross":ye.push({shape:{type:"path",path:[{command:"M",values:[.5*Ie,0]},{command:"L",values:[.5*Ie,Le]},{command:"M",values:[0,.5*Le]},{command:"L",values:[Ie,.5*Le]}]},stroke:se(we)});break;case"x":ye.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[Ie,Le]},{command:"M",values:[Ie,0]},{command:"L",values:[0,Le]}]},stroke:se(we)});break;case"kite":ye.push({shape:{type:"path",path:[{command:"M",values:[0,.5*Le]},{command:"L",values:[.5*Ie,0]},{command:"L",values:[Ie,.5*Le]},{command:"L",values:[.5*Ie,Le]},{command:"Z",values:[]}]},fill:_e(we,0),stroke:q(we)})}break}case"object":switch(we.resource&&we.resource.primitive||Q.S){case"cone":{const je=be(_e(we,0),_e(we,-.6),fe?z:Me),Je=(0,ne.TE)(Me,fe);ye.push({shape:Je[0],fill:je}),ye.push({shape:Je[1],fill:je});break}case"inverted-cone":{const je=_e(we,0),Je=be(je,_e(we,-.6),Me),Ie=(0,ne.DY)(Me);ye.push({shape:Ie[0],fill:Je}),ye.push({shape:Ie[1],fill:je});break}case"cube":{const je=(0,ne.Pc)(Me,fe);ye.push({shape:je[0],fill:_e(we,0)}),ye.push({shape:je[1],fill:_e(we,-.3)}),ye.push({shape:je[2],fill:_e(we,-.5)});break}case"cylinder":{const je=be(_e(we,0),_e(we,-.6),fe?z:Me),Je=(0,ne.EB)(Me,fe);ye.push({shape:Je[0],fill:je}),ye.push({shape:Je[1],fill:je}),ye.push({shape:Je[2],fill:_e(we,0)});break}case"diamond":{const je=(0,ne.XX)(Me);ye.push({shape:je[0],fill:_e(we,-.3)}),ye.push({shape:je[1],fill:_e(we,0)}),ye.push({shape:je[2],fill:_e(we,-.3)}),ye.push({shape:je[3],fill:_e(we,-.7)});break}case"sphere":{const je=be(_e(we,0),_e(we,-.6));je.x1=0,je.y1=0,je.x2=.25*Me,je.y2=.25*Me,ye.push({shape:{type:"circle",cx:0,cy:0,r:.5*Me},fill:je});break}case"tetrahedron":{const je=(0,ne.tp)(Me);ye.push({shape:je[0],fill:_e(we,-.3)}),ye.push({shape:je[1],fill:_e(we,0)}),ye.push({shape:je[2],fill:_e(we,-.6)});break}}}return ye}(Se,Xe,et)))}}),(0,B.as)(Ie).then(Se=>{const ze=[];return Se.forEach(Ke=>{Ke.value?ze.push(Ke.value):Ke.error&&ie.Z.getLogger("esri.symbols.support.previewSymbol3D").warn("error while building swatchInfo!",Ke.error)}),(0,J.wh)(ze,[Le,Ve],{node:Me&&Me.node,scale:!1,opacity:Me&&Me.opacity})})}(we,Me);case"line-3d":return function De(we,Me){const fe=we.symbolLayers,ye=[],je=(0,X.YW)(we),Je=oe(Me),Ie=(Me&&Me.maxSize?(0,R.F2)(Me.maxSize):null)||$;let Le,Ve=0,st=0;return fe.forEach((ce,Se)=>{if(!ce||"line"!==ce.type&&"path"!==ce.type)return;const ze=[];switch(ce.type){case"line":{const Ke=ge(ce,0);if((0,k.Wi)(Ke))break;const Xe=Ke&&Ke.width||0;0===Se&&(Le=Xe);const et=Math.min(Je||Xe,Ie),ct=0===Se?et:Je?et*(Xe/Le):et,ft=ct>N/2?2*ct:N;st=Math.max(st,ct),Ve=Math.max(Ve,ft),Ke.width=ct,ze.push({shape:{type:"path",path:[{command:"M",values:[0,.5*st]},{command:"L",values:[Ve,.5*st]}]},stroke:Ke});break}case"path":{const Ke=Math.min(Je||F,Ie),Xe=_e(ce,0),et=_e(ce,-.2),ct=ue(ce,-.4),ft=ct?{color:ct,width:1}:{};if("quad"===ce.profile){const $e=ce.width,ut=ce.height,qe=(0,ne.eb)($e&&ut?$e/ut:1,0===ut,0===$e),ke={...ft,join:"bevel"};ze.push({shape:qe[0],fill:et,stroke:ke}),ze.push({shape:qe[1],fill:et,stroke:ke}),ze.push({shape:qe[2],fill:Xe,stroke:ke})}else ze.push({shape:ne.JZ.pathSymbol3DLayer[0],fill:et,stroke:ft}),ze.push({shape:ne.JZ.pathSymbol3DLayer[1],fill:Xe,stroke:ft});st=Math.max(st,Ke),Ve=st}}ye.push(ze)}),Promise.resolve((0,J.wh)(ye,[Ve,st],{node:Me&&Me.node,scale:je,opacity:Me&&Me.opacity}))}(we,Me);case"polygon-3d":case"mesh-3d":return function xe(we,Me){return Ce.apply(this,arguments)}(we,Me)}return Promise.reject(new U.Z("symbolPreview: swatchInfo3D","symbol not supported."))}},71131:(nt,Te,M)=>{"use strict";M.d(Te,{DY:()=>W,EB:()=>B,EV:()=>U,JZ:()=>te,Pc:()=>k,TE:()=>R,XX:()=>V,b_:()=>T,dc:()=>J,eb:()=>Z,ht:()=>ie,tp:()=>Q,uH:()=>ne});var T,X,D=M(91558);(X=T||(T={}))[X.size=22]="size",X[X.lineWidth=50]="lineWidth",X[X.maxSize=120]="maxSize",X[X.maxOutlineSize=80]="maxOutlineSize",X[X.tallSymbolWidth=20]="tallSymbolWidth";const te={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function Z(X,Y,F){const x=T.size;let $=x,N=x;X<1?$*=.75:X>1&&(N*=1.25);let ee=x,re=x;return Y&&F&&($=N=ee=re=0),[{type:"path",path:[{command:"M",values:[ee,0]},{command:"L",values:[F?ee:.875*ee,0]},{command:"L",values:[F?$-.5*ee:0,N-.5*re]},{command:"L",values:[$-.5*ee,N-.5*re]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[ee,0]},{command:"L",values:[ee,Y?0:.125*re]},{command:"L",values:[$-.5*ee,Y?N-.5*re:re]},{command:"L",values:[$-.5*ee,N-.5*re]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[$-.5*ee,N-.5*re]},{command:"L",values:[F?$-.5*ee:0,N-.5*re]},{command:"L",values:[F?$-.5*ee:0,Y?N-.5*re:re]},{command:"L",values:[$-.5*ee,Y?N-.5*re:re]},{command:"Z",values:[]}]}]}function U(X){const Y=T.size,F=.5*X;return[{type:"path",path:[{command:"M",values:[0,.7*Y*.5]},{command:"L",values:[.3*Y,.7*Y]},{command:"L",values:[.3*Y,.7*Y+F]},{command:"L",values:[0,.7*Y+F-.7*Y*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*Y,.7*Y]},{command:"L",values:[.3*Y,.7*Y+F]},{command:"L",values:[Y,F]},{command:"L",values:[Y,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*Y,0]},{command:"L",values:[Y,0]},{command:"L",values:[.3*Y,.7*Y]},{command:"L",values:[0,.7*Y*.5]},{command:"Z",values:[]}]}]}function ie(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function k(X,Y){let F=Y?T.tallSymbolWidth:X;const $=Y?4:6;F-=F<=T.size?.5*$:$;const q=Y?.35*F:.5*F;return[{type:"path",path:[{command:"M",values:[.5*F,0]},{command:"L",values:[F,.5*q]},{command:"L",values:[.5*F,q]},{command:"L",values:[0,.5*q]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*q]},{command:"L",values:[.5*F,q]},{command:"L",values:[.5*F,X]},{command:"L",values:[0,X-.5*q]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*F,q]},{command:"L",values:[.5*F,X]},{command:"L",values:[F,X-.5*q]},{command:"L",values:[F,.5*q]},{command:"Z",values:[]}]}]}function B(X,Y){let F=Y?T.tallSymbolWidth:X;const $=Y?4:6;F-=F<=T.size?.5*$:$;const N=.5*F,z=.15*F,ee=X-z;return[{type:"ellipse",cx:.5*F,cy:ee,rx:N,ry:z},{type:"path",path:[{command:"M",values:[0,z]},{command:"L",values:[0,ee]},{command:"L",values:[F,ee]},{command:"L",values:[F,z]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*F,cy:z,rx:N,ry:z}]}function R(X,Y){let F=Y?T.tallSymbolWidth:X;const $=Y?4:6;F-=F<=T.size?.5*$:$;const N=.15*F,z=X-N;return[{type:"ellipse",cx:.5*F,cy:z,rx:.5*F,ry:N},{type:"path",path:[{command:"M",values:[.5*F,0]},{command:"L",values:[F,z]},{command:"L",values:[0,z]},{command:"Z",values:[]}]}]}function W(X){let Y=X;Y-=Y<T.size?3:6;const $=.15*Y;return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[Y,0]},{command:"L",values:[.5*Y,X-$]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*Y,cy:0,rx:.5*Y,ry:$}]}function V(X){let Y=X;const F=X;Y-=Y<T.size?2:4;const z=Y,q=F,ee=Math.floor(X/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*z,0]},{command:"L",values:[z,.5*q-ee]},{command:"L",values:[.45*z-ee,.5*q+ee]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*z,0]},{command:"L",values:[.45*z-ee,.5*q+ee]},{command:"L",values:[0,.5*q-ee]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*q-ee]},{command:"L",values:[.45*z-ee,.5*q+ee]},{command:"L",values:[.45*z,F]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*z,F]},{command:"L",values:[z,.5*q-ee]},{command:"L",values:[.45*z-ee,.5*q+ee]},{command:"Z",values:[]}]}]}function Q(X){let x=X;return x-=x<T.size?1:2,[{type:"path",path:[{command:"M",values:[.45*X,0]},{command:"L",values:[X,x]},{command:"L",values:[.45*X,.6*x]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*X,0]},{command:"L",values:[.45*X,.6*x]},{command:"L",values:[0,x]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,x]},{command:"L",values:[.45*X,.6*x]},{command:"L",values:[X,x]},{command:"Z",values:[]}]}]}function ne(X,Y){return Math.round(Math.min(Math.max(X+255*Y*.75,0),255))}function J(X,Y){if(null==X)return new D.Z;if("type"in X&&("linear"===X.type||"pattern"===X.type))return X;const F=new D.Z(X);return new D.Z([ne(F.r,Y),ne(F.g,Y),ne(F.b,Y),F.a])}},34057:(nt,Te,M)=>{"use strict";M.d(Te,{rG:()=>F,wh:()=>Q});var D=M(24263),T=M(84792),te=M(78260),Z=M(26584),U=M(8314),k=(M(50645),M(62996)),B=M(30695),R=M(86606);const W=(0,k.E)();function Q(x,$,N){const z=Math.ceil($[0]),q=Math.ceil($[1]);if(!x.some(re=>!!re.length))return null;const ee=N&&N.node||document.createElement("div");return null!=N.opacity&&(ee.style.opacity=N.opacity.toString()),null!=N.effectView&&(ee.style.filter=(0,R.wJ)(N.effectView)),function V(x,$){W.append(x,$),W.detach($)}(ee,()=>(0,B.KB)(x,z,q,N)),ee}function Y(x,$,N,z,q){switch(q){case"multiply":x[$+0]*=N[0],x[$+1]*=N[1],x[$+2]*=N[2],x[$+3]*=N[3];break;default:{const ee=(0,te._Y)({r:x[$+0],g:x[$+1],b:x[$+2]});ee.h=z.h,ee.s=z.s,ee.v=ee.v/100*z.v;const re=(0,te.xr)(ee);x[$+0]=re.r,x[$+1]=re.g,x[$+2]=re.b,x[$+3]*=N[3];break}}}function F(x,$,N,z,q){return function J(x,$,N){return x?(0,T.default)(x,{responseType:"image"}).then(z=>{const q=z.data,ee=q.width,re=q.height,le=ee/re;let _e=$;if(N){const ae=Math.max(ee,re);_e=Math.min(_e,ae)}return{image:q,width:le<=1?Math.ceil(_e*le):_e,height:le<=1?_e:Math.ceil(_e/le)}}):Promise.reject(new Z.Z("renderUtils: imageDataSize","href not provided."))}(x,$,q).then(ee=>{const re=ee.width?ee.width:$,le=ee.height?ee.height:$;if(ee.image&&function X(x,$){return!(!x||"ignore"===$||"multiply"===$&&255===x.r&&255===x.g&&255===x.b&&1===x.a)}(N,z)){let _e=ee.image.width,ae=ee.image.height;(0,U.Z)("edge")&&/\.svg$/i.test(x)&&(_e-=1,ae-=1);const he=function ne(x,$){x=Math.ceil(x),$=Math.ceil($);const N=document.createElement("canvas");N.width=x,N.height=$,N.style.width=x+"px",N.style.height=$+"px";const z=N.getContext("2d");return z.clearRect(0,0,x,$),z}(re,le);he.drawImage(ee.image,0,0,_e,ae,0,0,re,le);const se=he.getImageData(0,0,re,le),ue=[N.r/255,N.g/255,N.b/255,N.a],ge=(0,te._Y)(N);for(let be=0;be<se.data.length;be+=4)Y(se.data,be,ue,ge,z);he.putImageData(se,0,0),x=he.canvas.toDataURL("image/png")}else{const _e=D.id&&D.id.findCredential(x);if(_e&&_e.token){const ae=x.includes("?")?"&":"?";x=`${x}${ae}token=${_e.token}`}}return{url:x,width:re,height:le}}).catch(()=>({url:x,width:$,height:$}))}},71937:(nt,Te,M)=>{"use strict";M.d(Te,{EJ:()=>$,KV:()=>F,n2:()=>Y,v9:()=>x,wm:()=>q});var D=M(15861),T=M(84792),te=M(26584),Z=M(62208),U=M(10699),ie=M(21726),k=M(84687),B=M(6278),R=M(35560);let W={};function Q(){return(Q=(0,D.Z)(function*(ee,re){try{return{data:(yield $(ee,re)).data,baseUrl:(0,ie.Yd)(ee),styleUrl:ee}}catch(le){return(0,U.r9)(le),null}})).apply(this,arguments)}function Y(ee,re,le){return ee&&(0,Z.pC)(ee.styleUrl)?function V(ee,re){return Q.apply(this,arguments)}(ee.styleUrl,le):ee&&(0,Z.pC)(ee.styleName)?function ne(ee,re,le){const _e=(0,Z.pC)(re.portal)?re.portal:k.Z.getDefault();let ae;const he=`${_e.url} - ${_e.user&&_e.user.username} - ${ee}`;return W[he]||(W[he]=function X(ee,re,le){return re.load(le).then(()=>{const _e=new B.Z({disableExtraQuery:!0,query:`owner:${N} AND type:${z} AND typekeywords:"${ee}"`});return re.queryItems(_e,le)}).then(({results:_e})=>{let ae=null;const he=ee.toLowerCase();if(_e&&Array.isArray(_e))for(const se of _e)if(se.typeKeywords?.some(ge=>ge.toLowerCase()===he)&&se.type===z&&se.owner===N){ae=se;break}if(!ae)throw new te.Z("symbolstyleutils:style-not-found",`The style '${ee}' could not be found`,{styleName:ee});return ae.load(le)})}(ee,_e,le).then(se=>(ae=se,se.fetchData())).then(se=>({data:se,baseUrl:ae.itemUrl??"",styleName:ee}))),W[he]}(ee.styleName,re,le):Promise.reject(new te.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function F(ee){return null===ee||"CIMSymbolReference"===ee.type?ee:{type:"CIMSymbolReference",symbol:ee}}function x(ee,re){if("cimRef"===re)return ee.cimRef;if(ee.formatInfos&&!(0,R.K3)())for(const le of ee.formatInfos)if("gltf"===le.type)return le.href;return ee.webRef}function $(ee,re){const le={responseType:"json",query:{f:"json"},...re};return(0,T.default)((0,ie.Fv)(ee),le)}const N="esri_en",z="Style",q="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},30695:(nt,Te,M)=>{"use strict";M.d(Te,{KB:()=>xe});var D=M(91558),T=M(8314),te=M(62208),Z=M(12225),U=M(31478),k=(M(38570),M(94450));const B="http://www.w3.org/2000/svg";let R=0,W=0;const V=(0,T.Z)("android"),Q=(0,T.Z)("chrome")||V&&V>=4?"auto":"optimizeLegibility",ne={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},J=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g;let X={},Y={};const F={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},x=Math.PI;let $=1;function N(Ce,Re){const we=Ce*(x/180);return Math.abs(Re*Math.sin(we))+Math.abs(Re*Math.cos(we))}function z(Ce){return Ce.map(Re=>`${Re.command} ${Re.values.join(" ")}`).join(" ").trim()}function q(Ce,Re,we,Me){if(Ce){if("circle"===Ce.type)return(0,k.u)("circle",{fill:Re,"fill-rule":"evenodd",stroke:we.color,"stroke-width":we.width,"stroke-linecap":we.cap,"stroke-linejoin":we.join,"stroke-dasharray":we.dashArray,"stroke-dashoffset":we.dashOffset,"stroke-miterlimit":"4",cx:Ce.cx,cy:Ce.cy,r:Ce.r});if("ellipse"===Ce.type)return(0,k.u)("ellipse",{fill:Re,"fill-rule":"evenodd",stroke:we.color,"stroke-width":we.width,"stroke-linecap":we.cap,"stroke-linejoin":we.join,"stroke-dasharray":we.dashArray,"stroke-miterlimit":"4",cx:Ce.cx,cy:Ce.cy,rx:Ce.rx,ry:Ce.ry});if("rect"===Ce.type)return(0,k.u)("rect",{fill:Re,"fill-rule":"evenodd",stroke:we.color,"stroke-width":we.width,"stroke-linecap":we.cap,"stroke-linejoin":we.join,"stroke-dasharray":we.dashArray,"stroke-miterlimit":"4",x:Ce.x,y:Ce.y,width:Ce.width,height:Ce.height});if("image"===Ce.type)return(0,k.u)("image",{href:Ce.src,x:Ce.x,y:Ce.y,width:Ce.width,height:Ce.height,preserveAspectRatio:"none"});if("path"===Ce.type){const fe="string"!=typeof Ce.path?z(Ce.path):Ce.path;return(0,k.u)("path",{fill:Re,"fill-rule":"evenodd",stroke:we.color,"stroke-width":we.width,"stroke-linecap":we.cap,"stroke-linejoin":we.join,"stroke-dasharray":we.dashArray,"stroke-miterlimit":"4",d:fe})}if("text"===Ce.type)return(0,te.O3)(Me),(0,k.u)("text",{"dominant-baseline":Me.dominantBaseline,fill:Re,"fill-rule":"evenodd",stroke:we.color,"stroke-width":we.width,"stroke-linecap":we.cap,"stroke-linejoin":we.join,"stroke-dasharray":we.dashArray,"stroke-miterlimit":"4","text-anchor":Me.align,"text-decoration":Me.decoration,kerning:Me.kerning,rotate:Me.rotate,"text-rendering":Q,"font-style":Me.font.style,"font-variant":Me.font.variant,"font-weight":Me.font.weight,"font-size":Me.font.size,"font-family":Me.font.family,x:Ce.x,y:Ce.y},Ce.text)}return null}function ee(Ce){const Re={fill:"none",pattern:null,linearGradient:null};if(Ce)if("type"in Ce&&"pattern"===Ce.type){const we="patternId-"+ ++R;Re.fill=`url(#${we})`,Re.pattern={id:we,x:Ce.x,y:Ce.y,width:Ce.width,height:Ce.height,image:{x:0,y:0,width:Ce.width,height:Ce.height,href:Ce.src}}}else if("type"in Ce&&"linear"===Ce.type){const we="linearGradientId-"+ ++W;Re.fill=`url(#${we})`,Re.linearGradient={id:we,x1:Ce.x1,y1:Ce.y1,x2:Ce.x2,y2:Ce.y2,stops:Ce.colors.map(Me=>({offset:Me.offset,color:Me.color&&new D.Z(Me.color).toString()}))}}else if(Ce){const we=new D.Z(Ce);Re.fill=we.toString()}return Re}function re(Ce){const Re={color:"none",width:1,cap:"butt",join:"4",dashArray:"none",dashOffset:"0"};if(Ce&&(null!=Ce.width&&(Re.width=Ce.width),Ce.cap&&(Re.cap=Ce.cap),Ce.join&&(Re.join=Ce.join.toString()),Ce.color&&(Re.color=new D.Z(Ce.color).toString()),Ce.dashArray&&(Re.dashArray=Ce.dashArray),Ce.dashArray&&(Re.dashOffset=Ce.dashoffset),Ce.style)){let we=null;if(Ce.style in F&&(we=F[Ce.style]),Array.isArray(we)){we=we.slice(0);const Me=Ce.width??0;for(let fe=0;fe<we.length;++fe)we[fe]*=Me;if("butt"!==Ce.cap){for(let fe=0;fe<we.length;fe+=2)we[fe]-=Me,we[fe]<1&&(we[fe]=1);for(let fe=1;fe<we.length;fe+=2)we[fe]+=Me}we=we.join(",")}Re.dashArray=we}return Re}function le(Ce,Re){const we={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};if(Ce){const Me=Ce.alignBaseline,fe="baseline"===Me?"auto":"top"===Me?"text-top":"bottom"===Me?"hanging":Me;we.align=Ce.align,we.dominantBaseline=fe,we.decoration=Ce.decoration,we.kerning=Ce.kerning?"auto":"0",we.rotate=Ce.rotated?"90":"0",(0,te.O3)(Re),we.font.style=Re.style||"normal",we.font.variant=Re.variant||"normal",we.font.weight=Re.weight||"normal",we.font.size=Re.size&&Re.size.toString()||"10pt",we.font.family=Re.family||"serif"}return we}function _e(Ce){const{pattern:Re,linearGradient:we}=Ce;if(Re)return(0,k.u)("pattern",{id:Re.id,patternUnits:"userSpaceOnUse",x:Re.x,y:Re.y,width:Re.width,height:Re.height},(0,k.u)("image",{x:Re.image.x,y:Re.image.y,width:Re.image.width,height:Re.image.height,href:Re.image.href}));if(we){const Me=we.stops.map((fe,ye)=>(0,k.u)("stop",{key:`${ye}-stop`,offset:fe.offset,"stop-color":fe.color}));return(0,k.u)("linearGradient",{id:we.id,gradientUnits:"userSpaceOnUse",x1:we.x1,y1:we.y1,x2:we.x2,y2:we.y2},Me)}return null}function ae(Ce,Re){if(!Ce)return null;const we=[];for(const Me of Ce){const{shape:fe,fill:ye,stroke:je,font:Je}=Me,Ie=ee(ye),Le=re(je),Ve="text"===fe.type?le(fe,Je):null,st=q(fe,Ie.fill,Le,Ve);st&&we.push(st)}return(0,k.u)("mask",{id:Re,maskUnits:"userSpaceOnUse"},(0,k.u)("g",null,we))}function he(Ce,Re,we){return(0,U.t)(Ce,(0,U.i)(Ce),[Re,we])}function se(Ce,Re,we,Me,fe){return(0,U.s)(Ce,(0,U.i)(Ce),[Re,we]),Ce[4]=Ce[4]*Re-Me*Re+Me,Ce[5]=Ce[5]*we-fe*we+fe,Ce}function ge(Ce,Re){X&&"left"in X?(null!=X.left&&X.left>Ce&&(X.left=Ce),(null==X.right||X.right<Ce)&&(X.right=Ce),(null==X.top||X.top>Re)&&(X.top=Re),(null==X.bottom||X.bottom<Re)&&(X.bottom=Re)):X={left:Ce,bottom:Re,right:Ce,top:Re}}function be(Ce){const Re=Ce.args,we=Re.length;let Me;switch(Ce.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(Me=0;Me<we;Me+=2)ge(Re[Me],Re[Me+1]);Y.x=Re[we-2],Y.y=Re[we-1];break;case"H":for(Me=0;Me<we;++Me)ge(Re[Me],Y.y);Y.x=Re[we-1];break;case"V":for(Me=0;Me<we;++Me)ge(Y.x,Re[Me]);Y.y=Re[we-1];break;case"m":{let fe=0;for(("x"in Y||(ge(Y.x=Re[0],Y.y=Re[1]),fe=2),Me=fe);Me<we;Me+=2)ge(Y.x+=Re[Me],Y.y+=Re[Me+1]);break}case"l":case"t":for(Me=0;Me<we;Me+=2)ge(Y.x+=Re[Me],Y.y+=Re[Me+1]);break;case"h":for(Me=0;Me<we;++Me)ge(Y.x+=Re[Me],Y.y);break;case"v":for(Me=0;Me<we;++Me)ge(Y.x,Y.y+=Re[Me]);break;case"c":for(Me=0;Me<we;Me+=6)ge(Y.x+Re[Me],Y.y+Re[Me+1]),ge(Y.x+Re[Me+2],Y.y+Re[Me+3]),ge(Y.x+=Re[Me+4],Y.y+=Re[Me+5]);break;case"s":case"q":for(Me=0;Me<we;Me+=4)ge(Y.x+Re[Me],Y.y+Re[Me+1]),ge(Y.x+=Re[Me+2],Y.y+=Re[Me+3]);break;case"A":for(Me=0;Me<we;Me+=7)ge(Re[Me+5],Re[Me+6]);Y.x=Re[we-2],Y.y=Re[we-1];break;case"a":for(Me=0;Me<we;Me+=7)ge(Y.x+=Re[Me+5],Y.y+=Re[Me+6])}}function me(Ce,Re,we){const Me=ne[Ce.toLowerCase()];let fe;"number"==typeof Me&&(Me?Re.length>=Me&&(fe={action:Ce,args:Re.slice(0,Re.length-Re.length%Me)},we.push(fe),be(fe)):(fe={action:Ce,args:[]},we.push(fe),be(fe)))}function oe(Ce){const Re={x:0,y:0,width:0,height:0};if("circle"===Ce.type)Re.x=Ce.cx-Ce.r,Re.y=Ce.cy-Ce.r,Re.width=2*Ce.r,Re.height=2*Ce.r;else if("ellipse"===Ce.type)Re.x=Ce.cx-Ce.rx,Re.y=Ce.cy-Ce.ry,Re.width=2*Ce.rx,Re.height=2*Ce.ry;else if("image"===Ce.type||"rect"===Ce.type)Re.x=Ce.x,Re.y=Ce.y,Re.width=Ce.width,Re.height=Ce.height;else if("path"===Ce.type){const we=(0,te.s3)(function Oe(Ce){const Re=("string"!=typeof Ce.path?z(Ce.path):Ce.path).match(J),we=[];if(X={},Y={},!Re)return null;let Me="",fe=[];const ye=Re.length;for(let Je=0;Je<ye;++Je){const Ie=Re[Je],Le=parseFloat(Ie);isNaN(Le)?(Me&&me(Me,fe,we),fe=[],Me=Ie):fe.push(Le)}me(Me,fe,we);const je={x:0,y:0,width:0,height:0};return X&&"left"in X&&(je.x=X.left,je.y=X.top,je.width=X.right-X.left,je.height=X.bottom-X.top),je}(Ce));Re.x=we.x,Re.y=we.y,Re.width=we.width,Re.height=we.height}return Re}function de(Ce){const Re={x:0,y:0,width:0,height:0};let we=null,Me=Number.NEGATIVE_INFINITY,fe=Number.NEGATIVE_INFINITY;for(const ye of Ce)we?(we.x=Math.min(we.x,ye.x),we.y=Math.min(we.y,ye.y),Me=Math.max(Me,ye.x+ye.width),fe=Math.max(fe,ye.y+ye.height)):(we=Re,we.x=ye.x,we.y=ye.y,Me=ye.x+ye.width,fe=ye.y+ye.height);return we&&(we.width=Me-we.x,we.height=fe-we.y),we}function ve(Ce,Re,we,Me,fe,ye,je,Je,Ie){let Le=(je&&ye?N(ye,Re):Re)/2,Ve=(je&&ye?N(ye,we):we)/2;if(Ie){const ct=Ie[0],ft=Ie[1];Le=(je&&ye?N(ye,ct):ct)/2,Ve=(je&&ye?N(ye,ft):ft)/2}const st=Ce.width+Me,ce=Ce.height+Me,Se=(0,Z.c)(),ze=(0,Z.c)();let Ke=!1;if(fe&&0!==st&&0!==ce){const ct=Re!==we?Re/we:st/ce,ft=Re>we?Re:we;let $e=1,ut=1;isNaN(ft)||(ct>1?($e=ft/st,ut=ft/ct/ce):(ut=ft/ce,$e=ft*ct/st)),(0,U.m)(ze,ze,se(Se,$e,ut,Le,Ve)),Ke=!0}const Xe=Ce.x+(st-Me)/2,et=Ce.y+(ce-Me)/2;if((0,U.m)(ze,ze,he(Se,Le-Xe,Ve-et)),!Ke&&(st>Re||ce>we)){const ct=st/Re>ce/we,ft=(ct?Re:we)/(ct?st:ce);(0,U.m)(ze,ze,se(Se,ft,ft,Xe,et))}return ye&&(0,U.m)(ze,ze,function ue(Ce,Re,we,Me){const fe=Re%360*Math.PI/180;(0,U.r)(Ce,(0,U.i)(Ce),fe);const ye=Math.cos(fe),je=Math.sin(fe),Je=Ce[4],Ie=Ce[5];return Ce[4]=Je*ye-Ie*je+Me*je-we*ye+we,Ce[5]=Ie*ye+Je*je-we*je-Me*ye+Me,Ce}(Se,ye,Xe,et)),Je&&(0,U.m)(ze,ze,he(Se,Je[0],Je[1])),`matrix(${ze[0]},${ze[1]},${ze[2]},${ze[3]},${ze[4]},${ze[5]})`}function xe(Ce,Re,we,Me={}){const fe=[],ye=[],je=++$,Je=function De(Ce,Re,we){const Me=Ce?.effects.find(Le=>"bloom"===Le.type);if(!Me)return null;const{strength:fe,radius:ye}=Me,je=fe>0?ye:0,Je=(fe+je)*Re,Ie=4*fe+1;return(0,k.u)("filter",{id:`bloom${we}`,x:"-100%",y:"-100%",width:"300%",height:"300%",filterUnits:"userSpaceOnUse"},(0,k.u)("feMorphology",{operator:"dilate",radius:(fe+.5*je)*(5**(Re/100)*(.4+Re/100)),in:"SourceGraphic",result:"dilate"}),(0,k.u)("feGaussianBlur",{in:"dilate",stdDeviation:Je/25,result:"blur"}),(0,k.u)("feGaussianBlur",{in:"blur",stdDeviation:Je/50,result:"intensityBlur"}),(0,k.u)("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},(0,k.u)("feFuncR",{type:"linear",slope:Ie}),(0,k.u)("feFuncG",{type:"linear",slope:Ie}),(0,k.u)("feFuncB",{type:"linear",slope:Ie})),(0,k.u)("feMerge",null,(0,k.u)("feMergeNode",{in:"intensityBlur"}),(0,k.u)("feMergeNode",{in:"intensityBrightness"}),(0,k.u)("feGaussianBlur",{stdDeviation:fe/10})))}(Me.effectView,Re,je);let Ie=null;if(Je){const Le=Me.effectView?.effects.find(Se=>"bloom"===Se.type),Ve=(Le.strength?Le.strength+Le.radius/2:0)/3,ce=we+we*Ve;Ie=[Math.max(Re+Re*Ve,10),Math.max(ce,10)]}for(let Le=0;Le<Ce.length;Le++){const Ve=Ce[Le],st=[],ce=[];let Se=0,ze=0,Ke=0;for(const ct of Ve){const{shape:ft,fill:$e,stroke:ut,font:qe,offset:ke}=ct;Me.ignoreStrokeWidth||(Se+=ut&&ut.width||0);const Ge=ee($e),We=re(ut),tt="text"===ft.type?le(ft,qe):null;fe.push(_e(Ge)),st.push(q(ft,Ge.fill,We,tt)),ce.push(oe(ft)),ke&&(ze+=ke[0],Ke+=ke[1])}const Xe=ve((0,te.s3)(de(ce)),Re,we,Se,Me.scale??!1,Me.rotation,Me.useRotationSize??!1,[ze,Ke],Ie);let et=null;if(Me.masking){const ct=`mask-${Le}`;fe.push(ae(Me.masking[Le],ct)),et=`url(#${ct})`}ye.push(et?(0,k.u)("g",{mask:et},(0,k.u)("g",{transform:Xe},st)):(0,k.u)("g",{transform:Xe},st))}return Me.useRotationSize&&Me.rotation&&(Re=N(Me.rotation,Re),we=N(Me.rotation,we)),Je&&((0,te.O3)(Ie),Re=Ie[0],we=Ie[1]),(0,k.u)("svg",{xmlns:B,width:Re,height:we,style:"display: block;"},Je,(0,k.u)("defs",null,fe),Je?(0,k.u)("g",{filter:`url(#bloom${je})`},ye):ye)}},43652:(nt,Te,M)=>{"use strict";M.d(Te,{$K:()=>Z,Hc:()=>R,KW:()=>W,Uz:()=>B,w2:()=>V}),M(8314);var T=M(28093),te=M(5548);function Z(Q,{isPrimitive:ne,width:J,depth:X,height:Y}){const F=ne?10:1;if(null==J&&null==Y&&null==X)return[F*Q[0],F*Q[1],F*Q[2]];const x=(0,T.f)(J,X,Y);let $;for(let N=0;N<3;N++){const z=x[N];if(null!=z){$=z/Q[N];break}}for(let N=0;N<3;N++)null==x[N]&&(x[N]=Q[N]*$);return x}const U=(0,te.al)(-.5,-.5,-.5,.5,.5,.5),ie=(0,te.al)(-.5,-.5,0,.5,.5,1),k=(0,te.al)(-.5,-.5,0,.5,.5,.5);function B(Q){switch(Q){case"sphere":case"cube":case"diamond":return U;case"cylinder":case"cone":case"inverted-cone":return ie;case"tetrahedron":return k;default:return}}const R=["butt","square","round"],W=[...R,"none"],V=["miter","bevel","round"]},50369:(nt,Te,M)=>{"use strict";M.d(Te,{Ck:()=>ie,JT:()=>te,Nj:()=>W,g6:()=>Z,vC:()=>U,x0:()=>R});var D=M(21286),T=M(90912);const te=["none","underline","line-through"],Z=["normal","italic","oblique"],U=["normal","lighter","bold","bolder"],ie={type:Number,cast:V=>{const Q=(0,T.q9)(V);return 0===Q?1:(0,D.uZ)(Q,.1,4)},nonNullable:!0},R={type:["left","right","center"],nonNullable:!0},W={type:["baseline","top","middle","bottom"],nonNullable:!0}},29505:(nt,Te,M)=>{"use strict";M.d(Te,{Z7:()=>te,f9:()=>U});var D=M(21254);function te(ie){return 1/(D.a[ie]||1)}const U=function Z(){const ie=Object.keys(D.a);return ie.sort(),ie}()},69738:(nt,Te,M)=>{"use strict";M.d(Te,{Ds:()=>k,KA:()=>ie});var D=M(21726),T=M(29840);function Z(R,W){return function B(R){return!(null==R||"service"!==R.origin&&"portal-item"!==R.origin||"feature"!==R.layer?.type&&"stream"!==R.layer?.type)}(W)&&!(0,D.YP)(R)&&W?.layer?.parsedUrl?(0,D.v_)(W.layer.parsedUrl.path,"images",R):(0,T.f)(R,W)}const ie={json:{read:{source:["imageData","url"],reader:function te(R,W,V){return W.imageData?(0,D._l)({mediaType:W.contentType||"image/png",isBase64:!0,data:W.imageData}):Z(W.url,V)}},write:{writer(R,W,V,Q){!function U(R,W,V,Q){if((0,D.HK)(R)){const ne=(0,D.sJ)(R);if(!ne)return;W.contentType=ne.mediaType,W.imageData=ne.data,V&&V.imageData===W.imageData&&V.url&&(0,T.w)(V.url,W,"url",Q)}else(0,T.w)(R,W,"url",Q)}(R,W,this.source,Q)}}}},k={readOnly:!0,json:{read:{source:["imageData","url"],reader(R,W,V){const Q={};return W.imageData&&(Q.imageData=W.imageData),W.contentType&&(Q.contentType=W.contentType),W.url&&(Q.url=Z(W.url,V)),Q}}}}},86606:(nt,Te,M)=>{"use strict";M.d(Te,{BR:()=>xe,Q8:()=>we,YW:()=>J,_h:()=>Y,e3:()=>ve,nf:()=>X,tb:()=>z,wJ:()=>Ce});var D=M(15861),T=M(91558),te=M(20383),Z=M(59213),ie=(M(8314),M(62208)),k=M(28093),B=M(71149),W=(M(74741),M(64830));const V=new T.Z("white");function J(fe){if((0,ie.Wi)(fe)||!("symbolLayers"in fe)||(0,ie.Wi)(fe.symbolLayers))return!1;switch(fe.type){case"point-3d":return fe.symbolLayers.some(ye=>"object"===ye.type);case"line-3d":return fe.symbolLayers.some(ye=>"path"===ye.type);case"polygon-3d":return fe.symbolLayers.some(ye=>"object"===ye.type||"extrude"===ye.type);default:return!1}}function X(fe){return(0,ie.s3)(fe.resource).href}function Y(fe,ye){if(!fe)return null;let je=null;return(0,te.dU)(fe)?je=function F(fe){const ye=fe.symbolLayers;if(!ye)return null;let je=null;return ye.forEach(Je=>{"object"===Je.type&&null!=Je.resource?.href||(je="water"===Je.type?(0,ie.Wg)(Je.color):(0,ie.pC)(Je.material)?(0,ie.Wg)(Je.material.color):null)}),je?new T.Z(je):null}(fe):(0,te.cT)(fe)&&(je=fe.color?new T.Z(fe.color):null),je?x(je,ye):null}function x(fe,ye){if(null==ye||null==fe)return fe;const je=fe.toRgba();return je[3]=je[3]*ye,new T.Z(je)}function z(fe,ye,je){fe&&(ye||null!=je)&&(ye&&(ye=new T.Z(ye)),(0,te.dU)(fe)?function $(fe,ye,je){const Je=fe.symbolLayers;if(!Je)return;const Ie=Le=>{const Ve=(0,ie.pC)(Le)?Le:null;return x(ye=ye??Ve??(null!=je?V:null),je)};Je.forEach(Le=>{if("object"!==Le.type||null==Le.resource?.href||ye)if("water"===Le.type)Le.color=Ie(Le.color);else{const Ve=(0,ie.pC)(Le.material)?Le.material.color:null,st=Ie(Ve);(0,ie.Wi)(Le.material)?Le.material=new W.b({color:st}):Le.material.color=st,null!=je&&"outline"in Le&&(0,ie.pC)(Le.outline)&&(0,ie.pC)(Le.outline.color)&&(Le.outline.color=x(Le.outline.color,je))}})}(fe,ye,je):(0,te.cT)(fe)&&function N(fe,ye,je){(ye=ye??fe.color)&&(fe.color=x(ye,je)),null!=je&&"outline"in fe&&fe.outline&&fe.outline.color&&(fe.outline.color=x(fe.outline.color,je))}(fe,ye,je))}function ee(){return ee=(0,D.Z)(function*(fe,ye){const je=fe.symbolLayers;je&&(yield(0,Z.Ed)(je,function(){var Je=(0,D.Z)(function*(Ie){return function re(fe,ye){return le.apply(this,arguments)}(Ie,ye)});return function(Ie){return Je.apply(this,arguments)}}()))}),ee.apply(this,arguments)}function le(){return le=(0,D.Z)(function*(fe,ye){switch(fe.type){case"extrude":!function he(fe,ye){fe.size="number"==typeof ye[2]?ye[2]:0}(fe,ye);break;case"icon":case"line":case"text":!function _e(fe,ye){const je=ae(ye);(0,ie.pC)(je)&&(fe.size=je)}(fe,ye);break;case"path":!function ge(fe,ye){const je=be(ye,k.O,[fe.width,void 0,fe.height]);fe.width=oe(ye[0],fe.width,1,je),fe.height=oe(ye[2],fe.height,1,je)}(fe,ye);break;case"object":yield function se(fe,ye){return ue.apply(this,arguments)}(fe,ye)}}),le.apply(this,arguments)}function ae(fe){for(const ye of fe)if("number"==typeof ye)return ye;return null}function ue(){return ue=(0,D.Z)(function*(fe,ye){const{resourceSize:je,symbolSize:Je}=yield function me(fe){return Oe.apply(this,arguments)}(fe),Ie=be(ye,je,Je);fe.width=oe(ye[0],Je[0],je[0],Ie),fe.depth=oe(ye[1],Je[1],je[1],Ie),fe.height=oe(ye[2],Je[2],je[2],Ie)}),ue.apply(this,arguments)}function be(fe,ye,je){for(let Je=0;Je<3;Je++){const Ie=fe[Je];switch(Ie){case"symbol-value":{const Le=je[Je];return null!=Le?Le/ye[Je]:1}case"proportional":break;default:if(Ie&&ye[Je])return Ie/ye[Je]}}return 1}function Oe(){return(Oe=(0,D.Z)(function*(fe){const ye=yield M.e(1831).then(M.bind(M,91831)),je=yield ye.computeObjectLayerResourceSize(fe,10),{width:Je,height:Ie,depth:Le}=fe,Ve=[Je,Le,Ie];let st=1;for(let ce=0;ce<3;ce++){const Se=Ve[ce];if(null!=Se){st=Se/je[ce];break}}for(let ce=0;ce<3;ce++)null==Ve[ce]&&(Ve[ce]=je[ce]*st);return{resourceSize:je,symbolSize:Ve}})).apply(this,arguments)}function oe(fe,ye,je,Je){switch(fe){case"proportional":return je*Je;case"symbol-value":return ye??je;default:return fe}}function ve(fe,ye){return De.apply(this,arguments)}function De(){return De=(0,D.Z)(function*(fe,ye){if(fe&&ye)return(0,te.dU)(fe)?function q(fe,ye){return ee.apply(this,arguments)}(fe,ye):void((0,te.cT)(fe)&&function de(fe,ye){const je=ae(ye);if(!(0,ie.Wi)(je))switch(fe.type){case"simple-marker":fe.size=je;break;case"picture-marker":{const Je=fe.width/fe.height;Je>1?(fe.width=je,fe.height=je*Je):(fe.width=je*Je,fe.height=je);break}case"simple-line":fe.width=je;break;case"text":fe.font.size=je}}(fe,ye))}),De.apply(this,arguments)}function xe(fe,ye,je){if(fe&&null!=ye)if((0,te.dU)(fe)){const Je=fe.symbolLayers;Je&&Je.forEach(Ie=>{if(Ie&&"object"===Ie.type)switch(je){case"tilt":Ie.tilt=ye;break;case"roll":Ie.roll=ye;break;default:Ie.heading=ye}})}else(0,te.cT)(fe)&&("simple-marker"!==fe.type&&"picture-marker"!==fe.type&&"text"!==fe.type||(fe.angle=ye))}function Ce(fe){if(!fe)return null;const ye=fe.effects.filter(je=>"bloom"!==je.type).map(je=>je.toJSON());return(0,B.rM)(ye)}function we(fe,ye){return Me.apply(this,arguments)}function Me(){return(Me=(0,D.Z)(function*(fe,ye){return(yield fe.fetchSymbol(ye))||fe.fetchCIMSymbol(ye)})).apply(this,arguments)}},50998:(nt,Te,M)=>{"use strict";M.r(Te),M.d(Te,{fetchSymbolFromStyle:()=>ne,resolveWebStyleSymbol:()=>Q});var D=M(20383),T=M(83100),te=M(26584),Z=M(62208),U=M(21726),ie=M(84687),k=M(29840),B=M(65270),R=M(77345),W=M(71937),V=M(96296);function Q(X,Y,F,x){return X.name?X.styleName&&"Esri2DPointSymbolsStyle"===X.styleName?function J(X,Y,F){const x=W.wm.replace(/\{SymbolName\}/gi,X.name),$=(0,Z.pC)(Y.portal)?Y.portal:ie.Z.getDefault();return(0,W.EJ)(x,F).then(N=>{const z=(0,W.KV)(N.data);return(0,B.im)(z,{portal:$,url:(0,U.mN)((0,U.Yd)(x)),origin:"portal-item"})})}(X,Y,x):(0,W.n2)(X,Y,x).then($=>ne((0,Z.s3)($),X.name,Y,F,x)):Promise.reject(new te.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function ne(X,Y,F,x,$){const N=X.data,z=F&&(0,Z.pC)(F.portal)?F.portal:ie.Z.getDefault(),q={portal:z,url:(0,U.mN)(X.baseUrl),origin:"portal-item"},ee=N.items.find(he=>he.name===Y);if(!ee)return Promise.reject(new te.Z("symbolstyleutils:symbol-name-not-found",`The symbol name '${Y}' could not be found`,{symbolName:Y}));let re=(0,k.f)((0,W.v9)(ee,x),q),le=ee.thumbnail?.href??null;const _e=ee.thumbnail&&ee.thumbnail.imageData;(0,T.XO)()&&(re=(0,T.pJ)(re)??"",le=(0,T.pJ)(le));const ae={portal:z,url:(0,U.mN)((0,U.Yd)(re)),origin:"portal-item"};return(0,W.EJ)(re,$).then(he=>{const se="cimRef"===x?(0,W.KV)(he.data):he.data,ue=(0,B.im)(se,ae);if(ue&&(0,D.dU)(ue)){if(le){const ge=(0,k.f)(le,q);ue.thumbnail=new V.p({url:ge})}else _e&&(ue.thumbnail=new V.p({url:`data:image/png;base64,${_e}`}));X.styleUrl?ue.styleOrigin=new R.Z({portal:F.portal,styleUrl:X.styleUrl,name:Y}):X.styleName&&(ue.styleOrigin=new R.Z({portal:F.portal,styleName:X.styleName,name:Y}))}return ue})}},41039:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>ne});var D=M(17626),T=M(79608),te=M(86810),Z=M(62208),U=M(77712),B=(M(90912),M(85931),M(68653)),R=M(76898),W=M(99433),V=M(60194);let Q=class extends((0,T.J)(te.wq)){constructor(J){super(J),this.legacy=null,this.timeZone="system"}readLegacy(J,X){const{timeZone:Y,respectsDaylightSaving:F}=X;return{timeZone:Y,respectsDaylightSaving:F}}readTimeZone(J,X){return"timeZoneIANA"in X?X.timeZoneIANA:(0,V.G)(X)}writeTimeZone(J,X){X.timeZoneIANA=J}equals(J){return!((0,Z.Wi)(J)||(0,Z.Wi)(this.timeZone)||(0,Z.Wi)(J.timeZone))&&this.timeZone===J.timeZone}};(0,D._)([(0,U.Cb)()],Q.prototype,"legacy",void 0),(0,D._)([(0,B.r)("legacy",["timeZone"])],Q.prototype,"readLegacy",null),(0,D._)([(0,U.Cb)({type:String,nonNullable:!0})],Q.prototype,"timeZone",void 0),(0,D._)([(0,B.r)("timeZone",["timeZone","timeZoneIANA","respectsDaylightSaving"])],Q.prototype,"readTimeZone",null),(0,D._)([(0,W.c)("timeZone")],Q.prototype,"writeTimeZone",null),Q=(0,D._)([(0,R.j)("esri.time.TimeReference")],Q);const ne=Q},60194:(nt,Te,M)=>{"use strict";M.d(Te,{G:()=>te});const D=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Chihuahua"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);var T=M(21837);function te(ie,k="system"){if(!ie||!D.has(ie.timeZone))return k;const B=D.get(ie.timeZone);return function U(ie){return ie.startsWith("UTC")}(ie.timeZone)||ie.respectsDaylightSaving?B:function Z(ie){const k=T.ou.local().setZone(ie),B=Math.min(k.set({month:1,day:1}).offset,k.set({month:5}).offset);return 0===B?"Etc/UTC":`Etc/GMT${T.Qf.instance(-B).formatOffset(0,"narrow")}`}(B)}},42666:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>J});var D=M(61885),T=M(8314),te=M(76279),Z=M(35575),U=M(2004),ie=M(65401),k=M(89621),B=M(58098);class R{constructor(Y,F){this.key=new B.Z(0,0,0,0),this.bounds=(0,ie.Ue)(),this.objectIds=new Set,this.key.set(F);const x=Y.getLODInfoAt(this.key);this.tileInfoView=Y,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=x.resolution,this.scale=x.scale,this.level=x.level}get id(){return this.key.id}get extent(){return U.Z.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const Y=this.key.getChildKeys(),F=Z.Z.acquire();for(let x=0;x<Y.length;x++)F[x]=new R(this.tileInfoView,Y[x]);return F}getQuantizationParameters(){return k.Z.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}var W=M(84378);const V={added:[],removed:[]},Q=new Set,ne=new B.Z(0,0,0,0);class J extends D.Z{constructor(Y){super(),this._tiles=new Map,this._index=(0,te.r)(9,(0,T.Z)("esri-csp-restrictions")?F=>({minX:F.bounds[0],minY:F.bounds[1],maxX:F.bounds[2],maxY:F.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=Y}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(Y){return this._tiles.has(Y)}get(Y){return this._tiles.get(Y)}boundsIntersections(Y){return this._index.search({minX:Y[0],minY:Y[1],maxX:Y[2],maxY:Y[3]})}updateTiles(Y){const F={added:[],removed:[]};for(const x of Y.added)if(!this.has(x)){const $=new R(this.tileScheme,x);this._tiles.set(x,$),this._index.insert($),F.added.push($)}for(const x of Y.removed)if(this.has(x)){const $=this.get(x);this._tiles.delete(x),this._index.remove($),F.removed.push($)}this.tiles.length=0,this._tiles.forEach(x=>this.tiles.push(x)),(F.added.length||F.removed.length)&&this.emit("update",F)}setViewState(Y){const F=this.tileScheme.getTileCoverage(Y,0);if(!F)return;const{spans:x,lodInfo:$}=F,{level:N}=$;if(x.length>0)for(const{row:z,colFrom:q,colTo:ee}of x)for(let re=q;re<=ee;re++){const le=ne.set(N,z,$.normalizeCol(re),$.getWorldForColumn(re)).id;if(Q.add(le),!this.has(le)){const _e=new R(this.tileScheme,le);this._tiles.set(le,_e),this._index.insert(_e),this.tiles.push(_e),V.added.push(_e)}}for(let z=this.tiles.length-1;z>=0;z--){const q=this.tiles[z];Q.has(q.id)||(this._tiles.delete(q.id),this.tiles.splice(z,1),this._index.remove(q),V.removed.push(q))}(V.added.length||V.removed.length)&&this.emit("update",V),W.Z.pool.release(F),Q.clear(),V.added.length=0,V.removed.length=0}}},62192:(nt,Te,M)=>{"use strict";M.d(Te,{aV:()=>_e,S1:()=>q,os:()=>ee,st:()=>re,yR:()=>ae});var x,D=M(26584),T=M(8314),te=M(63290),Z=M(62208),U=M(50011),ie=M(43149),k=M(95778),B=M(15312),R=M(68598),W=M(64902),V=M(17626),Q=M(58817),ne=M(77712),X=(M(90912),M(76898)),Y=M(99433),F=M(86971);let $=x=class extends R.Z{writeLevels(ge,be,me){for(const Oe in ge)return void(be.stops=this.levels[Oe])}clone(){return new x({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,F.iY)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,F.iY)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(ge=>ge.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone(),levels:(0,Q.d9)(this.levels)})}};(0,V._)([(0,ne.Cb)()],$.prototype,"levels",void 0),(0,V._)([(0,Y.c)("levels")],$.prototype,"writeLevels",null),$=x=(0,V._)([(0,X.j)("esri.views.2d.engine.LevelDependentSizeVariable")],$);const N=te.Z.getLogger("esri.views.2d.layers.support.clusterUtils");T.Z.add("esri-cluster-arcade-enabled",!0);const z=(0,T.Z)("esri-cluster-arcade-enabled"),q=(ge,be,me,Oe,oe)=>{const de=be.clone();if(!ae(de))return de;if(de.authoringInfo||(de.authoringInfo=new B.Z),de.authoringInfo.isAutoGenerated=!0,"visualVariables"in de){const ve=(de.visualVariables||[]).filter(xe=>"$view.scale"!==xe.valueExpression),De=ee(ve);ve.forEach(xe=>{"rotation"===xe.type?xe.field?xe.field=ue(ge,xe.field,"avg_angle","number"):xe.valueExpression&&(xe.field=se(ge,xe.valueExpression,"avg_angle","number"),xe.valueExpression=null):xe.normalizationField?(xe.field=ue(ge,xe.field,"avg_norm","number",xe.normalizationField),xe.normalizationField=null):xe.field?xe.field=ue(ge,xe.field,"avg","number"):xe.valueExpression&&(xe.field=se(ge,xe.valueExpression,"avg","number"),xe.valueExpression=null)}),(0,Z.Wi)(De)&&!le(ve)&&oe&&(ve.push(_e(me,Oe)),de.dynamicClusterSize=!0),de.visualVariables=ve}switch(de.type){case"simple":break;case"pie-chart":for(const ve of de.attributes)ve.field?ve.field=ue(ge,ve.field,"sum","number"):ve.valueExpression&&(ve.field=se(ge,ve.valueExpression,"sum","number"),ve.valueExpression=null);break;case"unique-value":de.field?de.field=ue(ge,de.field,"mode","string"):de.valueExpression&&(de.field=se(ge,de.valueExpression,"mode","string"),de.valueExpression=null);break;case"class-breaks":de.normalizationField?(de.field=ue(ge,de.field,"avg_norm","number",de.normalizationField),de.normalizationField=null):de.field?de.field=ue(ge,de.field,"avg","number"):de.valueExpression&&(de.field=se(ge,de.valueExpression,"avg","number"),de.valueExpression=null)}return de},ee=ge=>{for(const be of ge)if("size"===be.type)return be;return null};function re(ge,be,me){const Oe=ge.clone();let oe=!1;if("visualVariables"in Oe){const de=(Oe.visualVariables||[]).filter(De=>"$view.scale"!==De.valueExpression),ve=ee(de);(0,Z.Wi)(ve)&&(Oe.visualVariables||(Oe.visualVariables=[]),Oe.visualVariables.push(_e(be,me)),Oe.dynamicClusterSize=!0,oe=!0)}return{renderer:Oe,didInject:oe}}const le=ge=>{for(const be of ge)if("cluster_count"===be.field)return!0;return!1},_e=(ge,be)=>{const me=[new W.Z({value:0,size:0}),new W.Z({value:1})];if((0,Z.Wi)(be))return new R.Z({field:"cluster_count",stops:[...me,new W.Z({value:2,size:0})]});const Oe=Object.keys(be).reduce((oe,de)=>({...oe,[de]:[...me,new W.Z({value:Math.max(2,be[de].minValue),size:ge.clusterMinSize}),new W.Z({value:Math.max(3,be[de].maxValue),size:ge.clusterMaxSize})]}),{});return new $({field:"cluster_count",levels:Oe})},ae=ge=>{const be=me=>N.error(new D.Z("Unsupported-renderer",me,{renderer:ge}));switch(ge.type){case"unique-value":if(ge.field2||ge.field3)return be("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(ge.normalizationField){const me=ge.normalizationType;if("field"!==me)return be(`FeatureReductionCluster does not support a normalizationType of ${me}`),!1}break;case"simple":case"pie-chart":break;default:return be(`FeatureReductionCluster does not support renderers of type ${ge.type}`),!1}if(!z){if("valueExpression"in ge&&ge.valueExpression)return be("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in ge&&ge.visualVariables||[]).some(me=>!(!("valueExpression"in me)||!me.valueExpression)))return be("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function se(ge,be,me,Oe){const oe=(0,U.F)(be),de="mode"===me?`cluster_type_${oe}`:"sum"===me?`cluster_sum_${oe}`:`cluster_avg_${oe}`;return ge.some(ve=>ve.name===de)||ge.push(new ie.Z({name:de,isAutoGenerated:!0,onStatisticExpression:new k.Z({expression:be,returnType:Oe}),statisticType:me})),de}function ue(ge,be,me,Oe,oe){if("cluster_count"===be||ge.some(ve=>ve.name===be))return be;const de=function he(ge,be,me){switch(ge){case"sum":return`cluster_sum_${be}`;case"avg":case"avg_angle":return`cluster_avg_${be}`;case"mode":return`cluster_type_${be}`;case"avg_norm":{const Oe=me,oe="field",de=be.toLowerCase()+",norm:"+oe+","+Oe.toLowerCase();return"cluster_avg_"+(0,U.F)(de)}}}(me,be,oe);return ge.some(ve=>ve.name===de)||ge.push(new ie.Z("avg_norm"===me?{name:de,isAutoGenerated:!0,onStatisticExpression:new k.Z({expression:`$feature.${be} / $feature.${oe}`,returnType:Oe}),statisticType:"avg"}:{name:de,isAutoGenerated:!0,onStatisticField:be,statisticType:me})),de}},38093:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>R});var D=M(17626),T=M(91558),te=M(14517),Z=M(77712),k=(M(90912),M(85931),M(76898));let B=class extends te.Z{constructor(){super(...arguments),this.color=new T.Z([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}equals(W){return this.color.equals(W.color)&&(this.haloColor||this.color).equals(W.haloColor||W.color)&&this.haloOpacity===W.haloOpacity&&this.fillOpacity===W.fillOpacity}};(0,D._)([(0,Z.Cb)({type:T.Z})],B.prototype,"color",void 0),(0,D._)([(0,Z.Cb)({type:T.Z})],B.prototype,"haloColor",void 0),(0,D._)([(0,Z.Cb)()],B.prototype,"haloOpacity",void 0),(0,D._)([(0,Z.Cb)()],B.prototype,"fillOpacity",void 0),B=(0,D._)([(0,k.j)("esri.views.2d.support.HighlightOptions")],B);const R=B},33412:(nt,Te,M)=>{"use strict";M.d(Te,{T:()=>T});class T{constructor(){this._names=new Map}begin(Z){this._names.has(Z)||(this._names.set(Z,!1),Z.includes("Brush")&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${Z}.Start`))}end(Z){this._names.has(Z)&&!this._names.get(Z)&&(this._names.set(Z,!0),performance.mark(`Esri.${Z}.End`))}record(Z){this._names.has(Z)||(this._names.set(Z,!0),performance.mark(`Esri.${Z}`))}}},17083:(nt,Te,M)=>{"use strict";var D=M(17626),T=M(14517),te=M(62208),Z=M(77712),k=(M(90912),M(85931),M(76898)),B=M(67831),R=M(71251);const V=new Set,Q=[],ne=new Map,J=[0,0];let X=class extends T.Z{constructor(F){super(F),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:F,process:x}=this;this._queue=new R.e({concurrency:F,process:($,N)=>{const z=this._keyToItem.get($);return x(z,{signal:N})},peeker:$=>$.values().next().value})}destroy(){this.clear(),this._queue=(0,te.SC)(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(F){this._queue.abort("string"==typeof F?F:F.id)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(F){return this._keyToItem.has("string"==typeof F?F:F.id)}isOngoing(F){const x="string"==typeof F?F:F.id;return this.has(x)&&this._queue.isOngoing(x)}pause(){this._queue.pause()}push(F,x){const $=F.key.id+"-"+x;if(this.has($))return this.get($);const N=this._queue.push($),z=()=>{this._keyToItem.delete($),this.notifyChange("updating")};return this._keyToItem.set($,F),N.then(z,z),this.notifyChange("updating"),N}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(F){if(!this.state)return F.values().next().value;const x=this.tileInfoView;let $=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY;F.forEach(_e=>{const ae=this._keyToItem.get(_e),he=this.tileInfoView.getTileScale(ae.key);ne.has(he)||(ne.set(he,[]),$=Math.max(he,$),N=Math.min(he,N)),ne.get(he).push(ae.key),V.add(he)});let z=this.state.scale;ne.has(z)||(function W(F,x){F.length=0,x.forEach($=>F.push($))}(Q,V),Q.sort((_e,ae)=>_e-ae),z=Q.reduce((_e,ae)=>Math.abs(ae-z)<Math.abs(_e-z)?ae:_e,Q[0])),z=Math.min(z,$),z=Math.max(z,N);const q=ne.get(z),ee=x.getClosestInfoForScale(z),re=ee.getColumnForX(this.state.center[0]),le=ee.getRowForY(this.state.center[1]);return q.sort((_e,ae)=>{const he=ee.denormalizeCol(_e.col,_e.world),se=ee.denormalizeCol(ae.col,ae.world);return Math.sqrt((re-he)*(re-he)+(le-_e.row)*(le-_e.row))-Math.sqrt((re-se)*(re-se)+(le-ae.row)*(le-ae.row))}),V.clear(),ne.clear(),q[0].id}_peekByCenterFirst(F){if(!this.state)return F.values().next().value;const x=this.tileInfoView,$=this.state.center;let N,z=Number.POSITIVE_INFINITY;return F.forEach(q=>{const ee=this._keyToItem.get(q);x.getTileCoords(J,ee.key);const re=(0,B.d)(J,$);re<z&&(z=re,N=ee.key)}),N.id}};(0,D._)([(0,Z.Cb)({constructOnly:!0})],X.prototype,"concurrency",void 0),(0,D._)([(0,Z.Cb)({constructOnly:!0})],X.prototype,"process",void 0),(0,D._)([(0,Z.Cb)()],X.prototype,"state",void 0),(0,D._)([(0,Z.Cb)({constructOnly:!0})],X.prototype,"strategy",void 0),(0,D._)([(0,Z.Cb)({constructOnly:!0})],X.prototype,"tileInfoView",void 0),(0,D._)([(0,Z.Cb)({readOnly:!0})],X.prototype,"updating",null),X=(0,D._)([(0,k.j)("esri.views.2d.tiling.PagedTileQueue")],X)},84378:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>T});var D=M(27899);class T{constructor(){this.spans=[]}acquire(Z){this.lodInfo=Z}release(){this.lodInfo=null,this.spans.length=0}forEach(Z,U){const{spans:ie,lodInfo:k}=this,{level:B}=k;if(0!==ie.length)for(const{row:R,colFrom:W,colTo:V}of ie)for(let Q=W;Q<=V;Q++)Z.call(U,B,R,k.normalizeCol(Q),k.getWorldForColumn(Q))}}T.pool=new D.Z(T)},9598:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>X});var D=M(37053),T=M(62208),te=M(58098);function Z(Y,F){return[Y,F]}function U(Y,F,x){return Y[0]=F,Y[1]=x,Y}const k=new te.Z("0/0/0/0");class B{static create(F,x,$=null){const N=(0,D.C5)(F.spatialReference),z=x.origin||Z(F.origin.x,F.origin.y),q=Z(F.size[0]*x.resolution,F.size[1]*x.resolution),ee=Z(-1/0,-1/0),re=Z(1/0,1/0),le=Z(1/0,1/0);(0,T.pC)($)&&(U(ee,Math.max(0,Math.floor(($.xmin-z[0])/q[0])),Math.max(0,Math.floor((z[1]-$.ymax)/q[1]))),U(re,Math.max(0,Math.floor(($.xmax-z[0])/q[0])),Math.max(0,Math.floor((z[1]-$.ymin)/q[1]))),U(le,re[0]-ee[0]+1,re[1]-ee[1]+1));const{cols:_e,rows:ae}=x;let he,se,ue,ge;return!$&&_e&&ae&&(U(ee,_e[0],ae[0]),U(re,_e[1],ae[1]),U(le,_e[1]-_e[0]+1,ae[1]-ae[0]+1)),F.isWrappable?(he=Z(Math.ceil(Math.round((N.valid[1]-N.valid[0])/x.resolution)/F.size[0]),le[1]),se=Z(Math.floor((N.origin[0]-z[0])/q[0]),ee[1]),ue=Z(he[0]+se[0]-1,re[1]),ge=!0):(se=ee,ue=re,he=le,ge=!1),new B(x.level,x.resolution,x.scale,z,ee,re,le,q,se,ue,he,ge)}constructor(F,x,$,N,z,q,ee,re,le,_e,ae,he){this.level=F,this.resolution=x,this.scale=$,this.origin=N,this.first=z,this.last=q,this.size=ee,this.norm=re,this.worldStart=le,this.worldEnd=_e,this.worldSize=ae,this.wrap=he}normalizeCol(F){if(!this.wrap)return F;const x=this.worldSize[0];return F<0?x-1-Math.abs((F+1)%x):F%x}denormalizeCol(F,x){return this.wrap?this.worldSize[0]*x+F:F}getWorldForColumn(F){return this.wrap?Math.floor(F/this.worldSize[0]):0}getFirstColumnForWorld(F){return F*this.worldSize[0]+this.first[0]}getLastColumnForWorld(F){return F*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(F){return(F-this.origin[0])/this.norm[0]}getXForColumn(F){return this.origin[0]+F*this.norm[0]}getRowForY(F){return(this.origin[1]-F)/this.norm[1]}getYForRow(F){return this.origin[1]-F*this.norm[1]}getTileBounds(F,x,$=!1){k.set(x);const N=$?k.col:this.denormalizeCol(k.col,k.world),z=k.row;return function ie(Y,F,x,$,N){Y[0]=F,Y[1]=x,Y[2]=$,Y[3]=N}(F,this.getXForColumn(N),this.getYForRow(z+1),this.getXForColumn(N+1),this.getYForRow(z)),F}getTileCoords(F,x,$=!1){k.set(x);const N=$?k.col:this.denormalizeCol(k.col,k.world);return Array.isArray(F)?U(F,this.getXForColumn(N),this.getYForRow(k.row)):(F.x=this.getXForColumn(N),F.y=this.getYForRow(k.row)),F}}var R=M(84378);class W{constructor(F,x,$){this.row=F,this.colFrom=x,this.colTo=$}}const V=new te.Z("0/0/0/0");class Q{static create(F,x){F[1]>x[1]&&([F,x]=[x,F]);const[$,N]=F,[z,q]=x,ee=z-$,re=q-N,le=0!==re?ee/re:0,_e=(Math.ceil(N)-N)*le,ae=(Math.floor(N)-N)*le;return new Q($,Math.floor(N),Math.ceil(q),le,ee<0?_e:ae,ee<0?ae:_e,ee<0?z:$,ee<0?$:z)}constructor(F,x,$,N,z,q,ee,re){this.x=F,this.ymin=x,this.ymax=$,this.invM=N,this.leftAdjust=z,this.rightAdjust=q,this.leftBound=ee,this.rightBound=re}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const ne=[[0,0],[0,0],[0,0],[0,0]];class X{constructor(F,x=null){this.tileInfo=F,this.fullExtent=x,this.scales=[],this._infoByScale={},this._infoByLevel={};const $=F.lods.slice();$.sort((z,q)=>q.scale-z.scale);const N=this._lodInfos=$.map(z=>B.create(F,z,x));$.forEach((z,q)=>{this._infoByLevel[z.level]=N[q],this._infoByScale[z.scale]=N[q],this.scales[q]=z.scale},this),this._wrap=F.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(F){return this._infoByLevel["number"==typeof F?F:F.level]}getTileBounds(F,x,$=!1){V.set(x);const N=this._infoByLevel[V.level];return N?N.getTileBounds(F,V,$):F}getTileCoords(F,x,$=!1){V.set(x);const N=this._infoByLevel[V.level];return N?N.getTileCoords(F,V,$):F}getTileCoverage(F,x=192,$="closest"){const N="closest"===$?this.getClosestInfoForScale(F.scale):this.getSmallestInfoForScale(F.scale),z=R.Z.pool.acquire(N),q=this._wrap;let ee,re,le,_e=1/0,ae=-1/0;const he=z.spans;ne[0][0]=ne[0][1]=ne[1][1]=ne[3][0]=-x,ne[1][0]=ne[2][0]=F.size[0]+x,ne[2][1]=ne[3][1]=F.size[1]+x;for(const be of ne)F.toMap(be,be),be[0]=N.getColumnForX(be[0]),be[1]=N.getRowForY(be[1]);const se=[];let ue=3;for(let be=0;be<4;be++){if(ne[be][1]===ne[ue][1]){ue=be;continue}const me=Q.create(ne[be],ne[ue]);_e=Math.min(me.ymin,_e),ae=Math.max(me.ymax,ae),void 0===se[me.ymin]&&(se[me.ymin]=[]),se[me.ymin].push(me),ue=be}if(null==_e||null==ae||ae-_e>100)return null;let ge=[];for(ee=_e;ee<ae;){null!=se[ee]&&(ge=ge.concat(se[ee])),re=1/0,le=-1/0;for(let be=ge.length-1;be>=0;be--){const me=ge[be];re=Math.min(re,me.getLeftCol()),le=Math.max(le,me.getRightCol())}if(re=Math.floor(re),le=Math.floor(le),ee>=N.first[1]&&ee<=N.last[1])if(q)if(N.size[0]<N.worldSize[0]){const be=Math.floor(le/N.worldSize[0]);for(let me=Math.floor(re/N.worldSize[0]);me<=be;me++)he.push(new W(ee,Math.max(N.getFirstColumnForWorld(me),re),Math.min(N.getLastColumnForWorld(me),le)))}else he.push(new W(ee,re,le));else re>N.last[0]||le<N.first[0]||(re=Math.max(re,N.first[0]),le=Math.min(le,N.last[0]),he.push(new W(ee,re,le)));ee+=1;for(let be=ge.length-1;be>=0;be--){const me=ge[be];me.ymax>=ee?me.incrRow():ge.splice(be,1)}}return z}getTileParentId(F){V.set(F);const $=this._lodInfos.indexOf(this._infoByLevel[V.level])-1;return $<0?null:(this._getTileIdAtLOD(V,this._lodInfos[$],V),V.id)}getTileResolution(F){const x=this._infoByLevel["object"==typeof F?F.level:F];return x?x.resolution:-1}getTileScale(F){const x=this._infoByLevel[F.level];return x?x.scale:-1}intersects(F,x){V.set(x);const $=this._infoByLevel[V.level],N=F.lodInfo;if(N.resolution>$.resolution){this._getTileIdAtLOD(V,N,V);const q=N.denormalizeCol(V.col,V.world);for(const ee of F.spans)if(ee.row===V.row&&ee.colFrom<=q&&ee.colTo>=q)return!0}if(N.resolution<$.resolution){const[q,ee,re,le]=F.spans.reduce((ge,be)=>(ge[0]=Math.min(ge[0],be.row),ge[1]=Math.max(ge[1],be.row),ge[2]=Math.min(ge[2],be.colFrom),ge[3]=Math.max(ge[3],be.colTo),ge),[1/0,-1/0,1/0,-1/0]),_e=$.denormalizeCol(V.col,V.world),ae=N.getColumnForX($.getXForColumn(_e)),he=N.getRowForY($.getYForRow(V.row)),se=N.getColumnForX($.getXForColumn(_e+1))-1,ue=N.getRowForY($.getYForRow(V.row+1))-1;return!(ae>le||se<re||he>ee||ue<q)}const z=N.denormalizeCol(V.col,V.world);return F.spans.some(q=>q.row===V.row&&q.colFrom<=z&&q.colTo>=z)}normalizeBounds(F,x,$){if(F[0]=x[0],F[1]=x[1],F[2]=x[2],F[3]=x[3],this._wrap){const N=(0,D.C5)(this.tileInfo.spatialReference),z=-$*(N.valid[1]-N.valid[0]);F[0]+=z,F[2]+=z}return F}getSmallestInfoForScale(F){const x=this.scales;if(this._infoByScale[F])return this._infoByScale[F];if(F>x[0])return this._infoByScale[x[0]];for(let $=1;$<x.length-1;$++)if(F>x[$]+1e-6)return this._infoByScale[x[$-1]];return this._infoByScale[x[x.length-1]]}getClosestInfoForScale(F){const x=this.scales;return this._infoByScale[F]||(F=x.reduce(($,N)=>Math.abs(N-F)<Math.abs($-F)?N:$,x[0])),this._infoByScale[F]}scaleToLevel(F){const x=this.scales;if(this._infoByScale[F])return this._infoByScale[F].level;for(let $=x.length-1;$>=0;$--)if(F<x[$])return $===x.length-1?this._infoByScale[x[x.length-1]].level:this._infoByScale[x[$]].level+(x[$]-F)/(x[$]-x[$+1]);return this._infoByScale[x[0]].level}scaleToZoom(F){return this.tileInfo.scaleToZoom(F)}_getTileIdAtLOD(F,x,$){const N=this._infoByLevel[$.level];return F.set($),x.resolution<N.resolution?null:(x.resolution===N.resolution||(F.level=x.level,F.col=Math.floor($.col*N.resolution/x.resolution+.01),F.row=Math.floor($.row*N.resolution/x.resolution+.01)),F)}}},58098:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>T});var D=M(27899);class T{static getId(Z,U,ie,k){return"object"==typeof Z?`${Z.level}/${Z.row}/${Z.col}/${Z.world}`:`${Z}/${U}/${ie}/${k}`}constructor(Z,U,ie,k){this.set(Z,U,ie,k)}get key(){return this}get id(){return this.toString()}set id(Z){this.set(Z)}get hash(){return(3&this.world)<<30|(4095&this.col)<<22|(4095&this.row)<<8|63&this.level}acquire(Z,U,ie,k){this.set(Z,U,ie,k)}contains(Z){const U=Z.level-this.level;return U>=0&&this.row===Z.row>>U&&this.col===Z.col>>U&&this.world===Z.world}equals(Z){return this.level===Z.level&&this.row===Z.row&&this.col===Z.col&&this.world===Z.world}clone(){return new T(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(Z,U,ie,k){if(null==Z)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof Z)this.level=Z.level||0,this.row=Z.row||0,this.col=Z.col||0,this.world=Z.world||0;else if("string"==typeof Z){const[B,R,W,V]=Z.split("/");this.level=parseFloat(B),this.row=parseFloat(R),this.col=parseFloat(W),this.world=parseFloat(V)}else this.level=+Z,this.row=+U,this.col=+ie,this.world=+k||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new T(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const Z=this.level+1,U=this.row<<1,ie=this.col<<1,k=this.world;return[new T(Z,U,ie,k),new T(Z,U,ie+1,k),new T(Z,U+1,ie,k),new T(Z,U+1,ie+1,k)]}compareRowMajor(Z){return this.row<Z.row?-1:this.row>Z.row?1:this.col<Z.col?-1:this.col>Z.col?1:0}}T.pool=new D.Z(T,null,null,25,50)},8480:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Y});var D=M(17626),T=M(14517),te=M(62208),Z=M(77712),k=(M(90912),M(85931),M(76898)),B=M(67831),R=M(71251);const V=new Set,Q=[],ne=new Map,J=[0,0];let X=class extends T.Z{constructor(F){super(F),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:F,process:x,strategy:$}=this;this._queue=new R.e({concurrency:F,process:(N,z)=>{const q=this._keyToItem.get(N);return x(q,{signal:z})},peeker:"scale-first"===$?N=>this._peekByScaleFirst(N):N=>this._peekByCenterFirst(N)})}destroy(){this.clear(),this._queue=(0,te.SC)(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(F){this._queue.abort("string"==typeof F?F:F.id)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(F){return this._keyToItem.has("string"==typeof F?F:F.id)}isOngoing(F){const x="string"==typeof F?F:F.id;return this.has(x)&&this._queue.isOngoing(x)}pause(){this._queue.pause()}push(F){const x=F.key.id;if(this._queue.has(x))return this._queue.get(x);const $=this._queue.push(x),N=()=>{this._keyToItem.delete(x),this.notifyChange("updating")};return this._keyToItem.set(x,F),$.then(N,N),this.notifyChange("updating"),$}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(F){if(!this.state)return F.values().next().value;const x=this.tileInfoView;let $=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY;F.forEach(_e=>{const ae=this._keyToItem.get(_e),he=this.tileInfoView.getTileScale(ae.key);ne.has(he)||(ne.set(he,[]),$=Math.max(he,$),N=Math.min(he,N)),ne.get(he).push(ae.key),V.add(he)});let z=this.state.scale;ne.has(z)||(function W(F,x){F.length=0,x.forEach($=>F.push($))}(Q,V),Q.sort((_e,ae)=>_e-ae),z=Q.reduce((_e,ae)=>Math.abs(ae-z)<Math.abs(_e-z)?ae:_e,Q[0])),z=Math.min(z,$),z=Math.max(z,N);const q=ne.get(z),ee=x.getClosestInfoForScale(z),re=ee.getColumnForX(this.state.center[0]),le=ee.getRowForY(this.state.center[1]);return q.sort((_e,ae)=>{const he=ee.denormalizeCol(_e.col,_e.world),se=ee.denormalizeCol(ae.col,ae.world);return Math.sqrt((re-he)*(re-he)+(le-_e.row)*(le-_e.row))-Math.sqrt((re-se)*(re-se)+(le-ae.row)*(le-ae.row))}),V.clear(),ne.clear(),q[0].id}_peekByCenterFirst(F){if(!this.state)return F.values().next().value;const x=this.tileInfoView,$=this.state.center;let N,z=Number.POSITIVE_INFINITY;return F.forEach(q=>{const ee=this._keyToItem.get(q);x.getTileCoords(J,ee.key);const re=(0,B.d)(J,$);re<z&&(z=re,N=ee.key)}),N.id}};(0,D._)([(0,Z.Cb)({constructOnly:!0})],X.prototype,"concurrency",void 0),(0,D._)([(0,Z.Cb)({constructOnly:!0})],X.prototype,"process",void 0),(0,D._)([(0,Z.Cb)()],X.prototype,"state",void 0),(0,D._)([(0,Z.Cb)({constructOnly:!0})],X.prototype,"strategy",void 0),(0,D._)([(0,Z.Cb)({constructOnly:!0})],X.prototype,"tileInfoView",void 0),(0,D._)([(0,Z.Cb)({readOnly:!0})],X.prototype,"updating",null),X=(0,D._)([(0,k.j)("esri.views.2d.tiling.TileQueue")],X);const Y=X},79527:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>V});var D=M(65401),T=M(67831);class te{constructor(ne,J,X){this.maxSize=ne,this._tileInfoView=J,this._removedFunc=X,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has(ne){return this._tilePerId.has(ne)}get(ne){return this._tilePerId.get(ne)}pop(ne){const J=this._tilePerId.get(ne);if(!J)return;const Y=this._tileKeysPerLevel[J.key.level];Z(this._tilePerId,ne);for(let F=0;F<Y.length;F++)if(Y[F].id===ne){Y.splice(F,1);break}return J.visible=!0,J}add(ne){ne.visible=!1;const J=ne.key,X=J.id;if(this._tilePerId.has(X))return;this._tilePerId.set(X,ne);const Y=J.level;this._tileKeysPerLevel[Y]||(this._tileKeysPerLevel[Y]=[]),this._tileKeysPerLevel[Y].push(J)}prune(ne,J,X){let Y=this._tilePerId.size;if(Y<=this.maxSize)return;let F=this._tileKeysPerLevel.length-1;for(;Y>this.maxSize&&F>=0;)F!==ne&&(Y=this._pruneAroundCenterTile(Y,J,X,F)),F--;Y>this.maxSize&&(Y=this._pruneAroundCenterTile(Y,J,X,ne))}_pruneAroundCenterTile(ne,J,X,Y){const F=this._tileKeysPerLevel[Y];if(!F||0===F.length)return ne;const{size:x,origin:$}=this._tileInfoView.tileInfo,N=X*x[0],z=X*x[1],q=[0,0],ee=[0,0];for(F.sort((re,le)=>(q[0]=$.x+N*(re.col+.5),q[1]=$.y-z*(re.row+.5),ee[0]=$.x+N*(le.col+.5),ee[1]=$.y-z*(le.row+.5),(0,T.k)(q,J)-(0,T.k)(ee,J)));F.length>0;){const re=F.pop();if(this._removeTile(re.id),--ne===this.maxSize)break}return ne}_removeTile(ne){const J=this._tilePerId.get(ne);this._removedFunc&&J&&this._removedFunc(J),Z(this._tilePerId,ne)}}function Z(Q,ne){Q.delete(ne)}var U=M(84378);const k=new(M(58098).Z)(0,0,0,0),B=new Map,R=[],W=[];class V{constructor(ne){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=ne.acquireTile,this.releaseTile=ne.releaseTile,this.tileInfoView=ne.tileInfoView,this.resampling=null==ne.resampling||!!ne.resampling,ne.cachePolicy&&(this.cachePolicy=ne.cachePolicy),ne.coveragePolicy&&(this.coveragePolicy=ne.coveragePolicy),null!=ne.buffer&&(this.buffer=ne.buffer),ne.cacheSize&&(this._tileCache=new te(ne.cacheSize,this.tileInfoView,J=>{this.releaseTile(J)}))}destroy(){this.tileIndex.clear()}update(ne){const{resampling:J,tileIndex:X}=this,Y=this.tileInfoView.getTileCoverage(ne.state,this.buffer,this.coveragePolicy);if(W.length=0,R.length=0,B.clear(),!Y)return;const{minScale:F,maxScale:x}=this.tileInfoView.tileInfo,{spans:$,lodInfo:N}=Y,{level:z}=N,{scale:q,center:ee,resolution:re}=ne.state,le=!ne.stationary&&q>this._previousScale;if(this._previousScale=q,this.tiles.length=0,!J&&(q>F||q<x))return this.tiles.length=0,B.clear(),X.forEach(se=>{this.releaseTile(se)}),X.clear(),W.length=0,R.length=0,B.clear(),U.Z.pool.release(Y),!0;X.forEach(se=>se.visible=!0);let _e=0,ae=0;if($.length>0)for(const{row:se,colFrom:ue,colTo:ge}of $)for(let be=ue;be<=ge;be++){_e++;const me=k.set(z,se,N.normalizeCol(be),N.getWorldForColumn(be)).id;if(X.has(me)){const Oe=X.get(me);Oe.isReady?(B.set(me,Oe),ae++):le||this._addParentTile(me,B)}else{let Oe;if(this._tileCache&&this._tileCache.has(me)){if(Oe=this._tileCache.pop(me),this.tileIndex.set(me,Oe),Oe.isReady){B.set(me,Oe),ae++;continue}}else Oe=this.acquireTile(k),this.tileIndex.set(me,Oe);le||this._addParentTile(me,B)}}const he=ae===_e;X.forEach((se,ue)=>{if(k.set(ue),B.has(ue))return;const ge=this.tileInfoView.intersects(Y,k),be="purge"===this.cachePolicy?k.level!==z:k.level>z;!ge||!le&&he?!be&&ge||R.push(ue):se.isReady?be&&"purge"===this.cachePolicy&&this._hasReadyAncestor(k,z)?R.push(ue):W.push(ue):be&&R.push(ue)});for(const se of W){const ue=X.get(se);ue&&ue.isReady&&B.set(se,ue)}for(const se of R){const ue=X.get(se);this._tileCache?this._tileCache.add(ue):this.releaseTile(ue),X.delete(se)}return B.forEach(se=>this.tiles.push(se)),X.forEach(se=>{B.has(se.key.id)||(se.visible=!1)}),this._tileCache&&this._tileCache.prune(z,ee,re),U.Z.pool.release(Y),B.clear(),he}clear(ne=!0){const{tileIndex:J}=this;ne&&J.forEach(X=>{this.releaseTile(X)}),J.clear()}updateCacheSize(ne){this._tileCache&&(this._tileCache.maxSize=ne)}_addParentTile(ne,J){let X=ne,Y=null;for(;X=this.tileInfoView.getTileParentId(X),X;)if(this.tileIndex.has(X)){if(Y=this.tileIndex.get(X),Y&&Y.isReady){J.has(Y.key.id)||J.set(Y.key.id,Y);break}}else if(this._tileCache&&this._tileCache.has(X)&&(Y=this._tileCache.pop(X),this.tileIndex.set(X,Y),Y&&Y.isReady)){J.has(Y.key.id)||J.set(Y.key.id,Y);break}}_hasReadyAncestor(ne,J){const X=(0,D.Ue)();this.tileInfoView.getTileBounds(X,ne,!0);for(const Y of this.tileIndex.values())if(Y.isReady&&Y.key.level>=J&&Y.key.level<ne.level){const F=(0,D.Ue)();if(this.tileInfoView.getTileBounds(F,Y.key,!0),(0,D.r3)(F,X))return!0}return!1}}},78041:(nt,Te,M)=>{"use strict";function D(U,ie,k,B){const R=3*U,W=3*(k-U)-R,V=1-R-W,Q=3*ie,ne=3*(B-ie)-Q,J=1-Q-ne;function X($){return((V*$+W)*$+R)*$}function F($){return(3*V*$+2*W)*$+R}return function($,N=1e-6){return function Y($){return((J*$+ne)*$+Q)*$}(function x($,N){let z,q,ee,re,le,_e;for(ee=$,_e=0;_e<8;_e++){if(re=X(ee)-$,Math.abs(re)<N)return ee;if(le=F(ee),Math.abs(le)<1e-6)break;ee-=re/le}if(z=0,q=1,ee=$,ee<z)return z;if(ee>q)return q;for(;z<q;){if(re=X(ee),Math.abs(re-$)<N)return ee;$>re?z=ee:q=ee,ee=.5*(q-z)+z}return ee}($,N))}}M.d(Te,{LI:()=>te,Qc:()=>Z,n_:()=>D});const T=/^cubic-bezier\((.*)\)/,te={};function Z(U){let ie=te[U]||null;if(!ie){const k=T.exec(U);if(k){const B=k[1].split(",").map(R=>parseFloat(R.trim()));4!==B.length||B.some(R=>isNaN(R))||(ie=D.apply(D,B))}}return ie}te.ease=D(.25,.1,.25,1),te.linear=D(0,0,1,1),te.easeIn=te["ease-in"]=D(.42,0,1,1),te.easeOut=te["ease-out"]=D(0,0,.58,1),te.easeInOut=te["ease-in-out"]=D(.42,0,.58,1)},24926:(nt,Te,M)=>{"use strict";M.d(Te,{$H:()=>st,Ck:()=>Me,Dq:()=>oe,EK:()=>ee,H4:()=>Ie,Hy:()=>ze,JG:()=>ue,Jp:()=>fe,L2:()=>je,Rb:()=>we,Rx:()=>ft,SI:()=>Ve,UZ:()=>Ke,Ue:()=>he,YQ:()=>ce,bk:()=>be,dI:()=>Je,gG:()=>Xe,ni:()=>ge,o2:()=>Le,qf:()=>me,uG:()=>ve,ut:()=>ye});var D=M(15861),T=M(85807),te=M(74333),Z=M(62208),U=M(16730),ie=M(39863),k=M(31478),B=M(46342),R=M(67831),W=M(99770),V=M(2004),Q=M(21674),ne=M(72642),J=M(54614),X=M(65234),Y=M(37053);const F=96,x=39.37,$=180/Math.PI;function N($e){return $e.wkid?$e:$e.spatialReference||X.Z.WGS84}function z($e,ut){return ut.type?(0,R.s)($e,ut.x,ut.y):(0,R.c)($e,ut)}function q($e){return(0,U.c9)($e)}function ee($e,ut){const qe=Math.max(1,ut[0]),ke=Math.max(1,ut[1]);return Math.max($e.width/qe,$e.height/ke)*function Ce($e){return(0,Y.JY)($e)?q($e)*x*F:1}($e.spatialReference)}function re($e,ut,qe,ke){return le.apply(this,arguments)}function le(){return(le=(0,D.Z)(function*($e,ut,qe,ke){let Ge,We;if(!$e||Array.isArray($e)&&!$e.length)return null;if(te.Z.isCollection($e)&&($e=$e.toArray()),Array.isArray($e)&&$e.length&&"object"==typeof $e[0]){const at=$e.every(Yt=>"attributes"in Yt),yt=$e.some(Yt=>!Yt.geometry);let Mt=$e;if(at&&yt&&ut&&ut.allLayerViews){const Yt=new Map;for(const zt of $e){const hn=zt.layer,bn=Yt.get(hn)||[],jn=zt.attributes[hn.objectIdField];null!=jn&&bn.push(jn),Yt.set(hn,bn)}const sn=[];Yt.forEach((zt,hn)=>{const bn=ut.allLayerViews.find(jn=>jn.layer.id===hn.id);if(bn&&"queryFeatures"in bn){const jn=hn.createQuery();jn.objectIds=zt,jn.returnGeometry=!0,sn.push(bn.queryFeatures(jn))}});const un=yield Promise.all(sn),Sn=[];for(const zt of un)if(zt&&zt.features&&zt.features.length)for(const hn of zt.features)(0,Z.pC)(hn.geometry)&&Sn.push(hn.geometry);Mt=Sn}for(const Yt of Mt)ke=yield re(Yt,ut,qe,ke);return ke}if(Array.isArray($e)&&2===$e.length&&"number"==typeof $e[0]&&"number"==typeof $e[1])Ge=new ne.Z($e);else if($e instanceof Q.Z)Ge=$e;else if("geometry"in $e)if($e.geometry)Ge=$e.geometry;else if($e.layer){const at=$e.layer,yt=ut.allLayerViews.find(Mt=>Mt.layer.id===at.id);if(yt&&"queryFeatures"in yt){const Mt=at.createQuery();Mt.objectIds=[$e.attributes[at.objectIdField]],Mt.returnGeometry=!0;const Yt=yield yt.queryFeatures(Mt);Ge=(0,Z.U2)(Yt,"features",0,"geometry")}}if((0,Z.Wi)(Ge)||(We="point"===Ge.type?new V.Z({xmin:Ge.x,ymin:Ge.y,xmax:Ge.x,ymax:Ge.y,spatialReference:Ge.spatialReference}):Ge.extent,!We))return null;(0,J.kR)()||(0,J.Up)(We.spatialReference,qe)||(yield(0,J.zD)());const tt=(0,J.iV)(We,qe);return tt?ke=ke?ke.union(tt):tt:null})).apply(this,arguments)}function ae($e,ut){return(0,Y.fS)(N($e),ut)?$e:(0,J.iV)($e,ut)}function he($e,ut){return se.apply(this,arguments)}function se(){return(se=(0,D.Z)(function*($e,ut){if(!$e||!ut)return new T.Z({targetGeometry:new ne.Z,scale:0,rotation:0});let qe=ut.spatialReference;const{constraints:ke,padding:Ge,viewpoint:We,size:tt}=ut,at=[Ge?tt[0]-Ge.left-Ge.right:tt[0],Ge?tt[1]-Ge.top-Ge.bottom:tt[1]];let yt=null;$e instanceof T.Z?yt=$e:$e.viewpoint?yt=$e.viewpoint:$e.target&&"esri.Viewpoint"===$e.target.declaredClass&&(yt=$e.target);let Mt=null;yt&&yt.targetGeometry?Mt=yt.targetGeometry:$e instanceof V.Z?Mt=$e:($e||$e&&("center"in $e||"extent"in $e||"target"in $e))&&(Mt=(yield re($e.center,ut,qe))||(yield re($e.extent,ut,qe))||(yield re($e.target,ut,qe))||(yield re($e,ut,qe))),!Mt&&We&&We.targetGeometry?Mt=We.targetGeometry:!Mt&&ut.extent&&(Mt=ut.extent),qe||(qe=N(ut.spatialReference||ut.extent||Mt)),(0,J.kR)()||(0,Y.fS)(Mt.spatialReference,qe)||(0,J.Up)(Mt,qe)||(yield(0,J.zD)());const Yt=ae(Mt.center?Mt.center:Mt,qe);let sn=0;if(yt&&(0,Z.pC)(yt.targetGeometry)&&"point"===yt.targetGeometry.type)sn=yt.scale;else if("scale"in $e&&$e.scale)sn=$e.scale;else if("zoom"in $e&&-1!==$e.zoom&&ke&&ke.effectiveLODs)sn=ke.zoomToScale($e.zoom);else if(Array.isArray(Mt)||"point"===Mt.type||"extent"===Mt.type&&0===Mt.width&&0===Mt.height){const hn=ae(ut.extent,qe);sn=(0,Z.pC)(hn)?ee(hn,at):ut.extent?ee(ut.extent,at):We.scale}else sn=ee(ae(Mt.extent,qe),at);const un=function _e($e){if($e&&(!Array.isArray($e)||"number"!=typeof $e[0])&&("object"==typeof $e||Array.isArray($e)&&"object"==typeof $e[0])){if("layer"in $e&&$e.layer&&$e.layer.minScale&&$e.layer.maxScale){const ut=$e.layer;return{min:ut.minScale,max:ut.maxScale}}if(Array.isArray($e)&&$e.length&&$e.every(ut=>"layer"in ut)){let ut=0,qe=0;for(const ke of $e){const Ge=ke.layer;Ge&&Ge.minScale&&Ge.maxScale&&(ut=Ge.minScale<ut?Ge.minScale:ut,qe=Ge.maxScale>qe?Ge.maxScale:qe)}return ut&&qe?{min:ut,max:qe}:null}}}($e);un&&(un.min&&un.min>sn?sn=un.min:un.max&&un.max<sn&&(sn=un.max));let Sn=0;yt?Sn=yt.rotation:$e.hasOwnProperty("rotation")?Sn=$e.rotation:We&&(Sn=We.rotation);let zt=new T.Z({targetGeometry:Yt,scale:sn,rotation:Sn});return ke&&(zt=ke.fit(zt),ke.constrainByGeometry(zt),ke.rotationEnabled||(zt.rotation=Sn)),zt})).apply(this,arguments)}function ue($e,ut){const qe=$e.targetGeometry,ke=ut.targetGeometry;return qe.x=ke.x,qe.y=ke.y,qe.spatialReference=ke.spatialReference,$e.scale=ut.scale,$e.rotation=ut.rotation,$e}function ge($e,ut,qe){return qe?(0,R.s)($e,.5*(ut[0]-qe.right+qe.left),.5*(ut[1]-qe.bottom+qe.top)):(0,R.b)($e,ut,.5)}const be=function(){const $e=(0,W.a)();return function(ut,qe,ke){const Ge=qe.targetGeometry;z($e,Ge);const We=.5*ve(qe);return ut.xmin=$e[0]-We*ke[0],ut.ymin=$e[1]-We*ke[1],ut.xmax=$e[0]+We*ke[0],ut.ymax=$e[1]+We*ke[1],ut.spatialReference=Ge.spatialReference,ut}}();function me($e,ut,qe,ke,Ge){return Le($e,ut,qe.center),$e.scale=ee(qe,ke),Ge&&Ge.constraints&&Ge.constraints.constrain($e),$e}const oe=function(){const $e=(0,W.a)();return function(ut,qe,ke){return(0,R.e)(ut,function Re($e,ut){return(0,R.b)($e,ut,.5)}(ut,qe),ge($e,qe,ke))}}(),de=function(){const $e=(0,B.c)(),ut=(0,W.a)();return function(qe,ke,Ge,We){const tt=ve(ke),at=xe(ke);return(0,R.s)(ut,tt,tt),(0,k.f)($e,ut),(0,k.r)($e,$e,at),(0,k.t)($e,$e,oe(ut,Ge,We)),(0,k.t)($e,$e,[0,We.top-We.bottom]),(0,R.s)(qe,$e[4],$e[5])}}();function ve($e){return $e.scale*function De($e){return(0,Z.pC)($e)&&(0,Y.JY)($e.spatialReference)?1/(q($e.spatialReference)*x*F):1}($e.targetGeometry)}function xe($e){return(0,ie.t)($e.rotation)||0}const we=function(){const $e=(0,W.a)(),ut=(0,W.a)(),qe=(0,W.a)();return function(ke,Ge,We,tt,at,yt){return(0,R.n)($e,Ge),(0,R.b)(ut,We,.5*yt),(0,R.s)(qe,1/tt*yt,-1/tt*yt),(0,k.a)(ke,ut),at&&(0,k.r)(ke,ke,at),(0,k.s)(ke,ke,qe),(0,k.t)(ke,ke,$e),ke}}(),Me=function(){const $e=(0,W.a)();return function(ut,qe,ke,Ge){const We=ve(qe),tt=xe(qe);return z($e,qe.targetGeometry),we(ut,$e,ke,We,tt,Ge)}}(),fe=function(){const $e=(0,W.a)();return function(ut,qe,ke,Ge){const We=ve(qe);return z($e,qe.targetGeometry),we(ut,$e,ke,We,0,Ge)}}();function ye($e){const ut=(0,Y.C5)($e);return ut?ut.valid[1]-ut.valid[0]:0}function je($e,ut){return Math.round(ye($e)/ut)}const Je=function(){const $e=(0,W.a)(),ut=(0,W.a)(),qe=[0,0,0];return function(ke,Ge,We){(0,R.a)($e,ke,Ge),(0,R.f)($e,$e),(0,R.a)(ut,ke,We),(0,R.f)(ut,ut),(0,R.g)(qe,$e,ut);let tt=Math.acos((0,R.h)($e,ut)/((0,R.i)($e)*(0,R.i)(ut)))*$;return qe[2]<0&&(tt=-tt),isNaN(tt)&&(tt=0),tt}}(),Ie=function(){const $e=(0,W.a)();return function(ut,qe,ke,Ge){const We=ut.targetGeometry;return ue(ut,qe),de($e,qe,ke,Ge),We.x+=$e[0],We.y+=$e[1],ut}}(),Le=function($e,ut,qe){ue($e,ut);const ke=$e.targetGeometry;return ke.x=qe.x,ke.y=qe.y,ke.spatialReference=qe.spatialReference,$e},Ve=function(){const $e=(0,W.a)();return function(ut,qe,ke,Ge,We){We||(We="center"),(0,R.e)($e,ke,Ge),(0,R.b)($e,$e,.5);const tt=$e[0],at=$e[1];switch(We){case"center":(0,R.s)($e,0,0);break;case"left":(0,R.s)($e,-tt,0);break;case"top":(0,R.s)($e,0,at);break;case"right":(0,R.s)($e,tt,0);break;case"bottom":(0,R.s)($e,0,-at);break;case"top-left":(0,R.s)($e,-tt,at);break;case"bottom-left":(0,R.s)($e,-tt,-at);break;case"top-right":(0,R.s)($e,tt,at);break;case"bottom-right":(0,R.s)($e,tt,-at)}return ft(ut,qe,$e),ut}}();function st($e,ut,qe){return ue($e,ut),$e.rotation+=qe,$e}function ce($e,ut,qe){return ue($e,ut),$e.rotation=qe,$e}const Se=function(){const $e=(0,W.a)();return function(ut,qe,ke,Ge,We){return ue(ut,qe),isNaN(ke)||0===ke||(et($e,Ge,qe,We),ut.scale=qe.scale*ke,ct($e,$e,ut,We),ft(ut,ut,(0,R.s)($e,$e[0]-Ge[0],Ge[1]-$e[1]))),ut}}();function ze($e,ut,qe){return ue($e,ut),$e.scale=qe,$e}const Ke=function(){const $e=(0,W.a)();return function(ut,qe,ke,Ge,We,tt){return ue(ut,qe),isNaN(ke)||0===ke||(et($e,We,qe,tt),ut.scale=qe.scale*ke,ut.rotation+=Ge,ct($e,$e,ut,tt),ft(ut,ut,(0,R.s)($e,$e[0]-We[0],We[1]-$e[1]))),ut}}(),Xe=function(){const $e=(0,W.a)(),ut=(0,W.a)();return function(qe,ke,Ge,We,tt,at,yt){return oe(ut,at,yt),(0,R.j)($e,tt,ut),We?Ke(qe,ke,Ge,We,$e,at):Se(qe,ke,Ge,$e,at)}}(),et=function(){const $e=(0,B.c)();return function(ut,qe,ke,Ge){return(0,R.t)(ut,qe,function Oe($e,ut,qe,ke){return Me($e,ut,qe,ke),(0,k.c)($e,$e)}($e,ke,Ge,1))}}(),ct=function(){const $e=(0,B.c)();return function(ut,qe,ke,Ge){return(0,R.t)(ut,qe,Me($e,ke,Ge,1))}}(),ft=function(){const $e=(0,W.a)(),ut=(0,B.c)();return function(qe,ke,Ge){ue(qe,ke);const We=ve(ke),tt=qe.targetGeometry;return(0,k.b)(ut,xe(ke)),(0,k.s)(ut,ut,(0,W.f)(We,We)),(0,R.t)($e,Ge,ut),tt.x+=$e[0],tt.y+=$e[1],qe}}()},59617:(nt,Te,M)=>{"use strict";var D,Z;M.d(Te,{JY:()=>D}),(Z=D||(D={}))[Z.Global=1]="Global",Z[Z.Local=2]="Local"},35216:(nt,Te,M)=>{"use strict";M.d(Te,{a:()=>Z});var D=M(63290);class T{constructor(B,R=[]){this.eventType=B,this.keyModifiers=R}matches(B){if(B.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const R=B.modifiers;for(const W of this.keyModifiers)if(!R.has(W))return!1;return!0}}const te=D.Z.getLogger("esri.views.input.InputHandler");class Z{constructor(B){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=B}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const B in this._incoming){const R=this._incoming[B];for(const W of R)this._incomingEventMatches.push(W.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(B=>B.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(B){this._manager?te.error("This InputHandler has already been registered with an InputManager"):(B.setEventCallback(R=>this._handleEvent(R)),B.setUninstallCallback(()=>this._onUninstall()),this._manager=B)}onUninstall(){}registerIncoming(B,R,W){let V;"function"==typeof R?(W=R,V=[]):V=R||[];const Q="string"==typeof B?new T(B,V):B,ne=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},J=F=>{const x=this._incoming[F.match.eventType];if(x){const $=x.indexOf(F);x.splice($,1),ne(),this._manager&&this._manager.updateDependencies()}},X=new U(Q,W,{onPause:J,onRemove:J,onResume:F=>{const x=this._incoming[F.match.eventType];x&&!x.includes(F)&&(x.push(F),ne(),this._manager&&this._manager.updateDependencies())}});let Y=this._incoming[Q.eventType];return Y||(Y=[],this._incoming[Q.eventType]=Y),Y.push(X),ne(),this._manager&&this._manager.updateDependencies(),X}registerOutgoing(B){if(this._outgoing[B])throw new Error("There is already a callback registered for this outgoing InputEvent: "+B);const R=new ie(B,{onEmit:(W,V,Q,ne)=>{this._manager?.emit(W.eventType,V,Q,ne)},onRemove:W=>{delete this._outgoing[W.eventType],this._manager?.updateDependencies()}});return this._outgoing[B]=R,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),R}startCapturingPointer(B){this._manager?.setPointerCapture(B,!0)}stopCapturingPointer(B){this._manager?.setPointerCapture(B,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):te.error("This InputHandler is not registered with an InputManager")}_handleEvent(B){const R=this._incoming[B.type];if(R)for(const W of R)if(W.match.matches(B)&&(W.callback?.(B),B.shouldStopPropagation()))break}}class U{constructor(B,R,W){this.match=B,this._callback=R,this._handler=W}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class ie{constructor(B,R){this.eventType=B,this._removed=!1,this._handler=R}emit(B,R,W){this._removed||this._handler.onEmit(this,B,R,W)}remove(){this._removed=!0,this._handler.onRemove(this)}}},61477:(nt,Te,M)=>{"use strict";M.d(Te,{$:()=>x,f:()=>z});var D=M(17626),T=M(14517),te=M(63290),Z=M(62208),U=M(35133),ie=M(77712),R=(M(90912),M(85931),M(76898)),W=M(94530),V=M(61972);class Q{constructor(le,_e){this._owner=_e,this._properties={},this._afterDispatchHandle=null;for(const ae in le){const se=new W.e(le[ae],void 0,void 0,2,2);this._properties[ae]={pool:se,acquired:[]}}this._afterDispatchHandle=(0,V.Fs)(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const le in this._properties){const _e=this._properties[le];for(const ae of _e.acquired)(0,V.NC)(ae)||_e.pool.release(ae);_e.pool.destroy(),_e.pool=null,_e.acquired=null}this._properties=null,this._owner=null}get(le){const _e=this._owner._get(le),ae=this._properties[le];let he=ae.pool.acquire();for(ae.acquired.push(he);he===_e;)ae.acquired.push(he),he=ae.pool.acquire();return he}_release(){for(const le in this._properties){const _e=this._properties[le];let ae=0;for(const he of _e.acquired)(0,V.NC)(he)?_e.acquired[ae++]=he:_e.pool.release(he);_e.acquired.length=ae}}}var ne=M(25441),J=M(35216);class X extends J.a{constructor(le){super(!0),this._onChange=le,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",_e=>{this._update(_e.data)})}_update(le){const _e="touch"===le.native.pointerType?"touch":"mouse",{x:ae,y:he}=le;_e===this._value&&this._x===ae&&this._y===he||(this._value=_e,this._x=ae,this._y=he,this._onChange(_e,ae,he))}}var Y=M(84395);class F extends J.a{get multiTouchActive(){return this._multiTouchActive.get()}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=new Y.f(!1),this._onPointerAdd=({data:le})=>{"touch"===le.pointerType&&(this._activeTouchPointerIds.add(le.native.pointerId),this._update())},this._onPointerRemove=({data:le})=>{"touch"===le.pointerType&&(this._activeTouchPointerIds.delete(le.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.set(this._activeTouchPointerIds.size>1)}}let x=class extends T.Z{constructor(re){super(re),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=ne.CK,this._latestPointerType="mouse",this._propertiesPool=new Q({latestPointerLocation:ee},this),this.latestPointerLocation=null,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const re=Object.keys(this._nameToGroup);for(const le of re)this.uninstallHandlers(le);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(re=>re.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}installHandlers(re,le,_e=z.INTERNAL){if(this._nameToGroup[re])return void te.Z.getLogger(this.declaredClass).error("There is already an InputHandler group registered under the name `"+re+"`");if(0===le.length)return void te.Z.getLogger(this.declaredClass).error("Can't register a group of zero handlers");const ae={name:re,handlers:le.map(he=>({handler:he,active:!0,removed:!1,priorityIndex:0,groupPriority:_e,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[re]=ae;for(let he=ae.handlers.length-1;he>=0;he--){const se=ae.handlers[he];this._handlers.push(se),se.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(ue,ge,be,me,Oe)=>{this._emitInputEvent(se.priorityIndex+1,ue,ge,be,Oe,me)},setPointerCapture:(ue,ge)=>{this._setPointerCapture(ae,se,ue,ge)},setEventCallback:ue=>{se.eventCallback=ue},setUninstallCallback:ue=>{se.uninstallCallback=ue},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(re){const le=this._nameToGroup[re];le?(le.handlers.forEach(_e=>{_e.removed=!0,_e.uninstallCallback?.()}),delete this._nameToGroup[re],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):te.Z.getLogger(this.declaredClass).error("There is no InputHandler group registered under the name `"+re+"`")}hasHandlers(re){return void 0!==this._nameToGroup[re]}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const re=new Set,le=new Set;this._handlersPriority=[];for(let _e=this._handlers.length-1;_e>=0;_e--){const ae=this._handlers[_e];ae.priorityIndex=_e,this._handlersPriority.push(ae)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let _e=this._handlersPriority.length-1;_e>=0;_e--){const ae=this._handlersPriority[_e];ae.priorityIndex=_e;let he=ae.handler.hasSideEffects;if(!he)for(const se of ae.handler.outgoingEventTypes)if(re.has(se)){he=!0;break}if(he)for(const se of ae.handler.incomingEventMatches){re.add(se.eventType);for(const ue of se.keyModifiers)(0,ne.wj)(ue)||le.add(ue)}ae.active=he}this._sourceEvents=re,this._keyModifiers=le,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(re,le,_e){this._latestPointerType=re;const ae=this._get("latestPointerLocation");if((0,Z.Wi)(ae)||ae.x!==le||ae.y!==_e){const he=this._propertiesPool.get("latestPointerLocation");he.x=le,he.y=_e,this._set("latestPointerLocation",he)}}_onEventReceived(re,le){"pointer-capture-lost"===re&&this._pointerCaptures.delete(le.native.pointerId),this._updateKeyModifiers(re,le),this._emitInputEventFromSource(re,le,null!=this.test.timestamp?this.test.timestamp:le.native?le.native.timestamp:void 0,le.native?le.native.cancelable:void 0)}_updateKeyModifiers(re,le){if(!le)return;let _e=!1;const ae=()=>{if(!_e){const ue=new Set;this._activeKeyModifiers.forEach(ge=>{ue.add(ge)}),this._activeKeyModifiers=ue,_e=!0}},he=(ue,ge)=>{ge&&!this._activeKeyModifiers.has(ue)?(ae(),this._activeKeyModifiers.add(ue)):!ge&&this._activeKeyModifiers.has(ue)&&(ae(),this._activeKeyModifiers.delete(ue))};if("key-down"===re||"key-up"===re){const ue=le.key;this._keyModifiers.has(ue)&&he(ue,"key-down"===re)}const se=le.native;he("Alt",!(!se||!se.altKey)),he("Ctrl",!(!se||!se.ctrlKey)),he("Shift",!(!se||!se.shiftKey)),he("Meta",!(!se||!se.metaKey)),he("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new X((re,le,_e)=>this._setLatestPointer(re,le,_e)),this._multiTouchHandler=new F,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],z.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,z.INTERNAL)}_setPointerCapture(re,le,_e,ae){const he=re.name+"-"+le.priorityIndex,se=this._pointerCaptures.get(_e.pointerId)||new Set;this._pointerCaptures.set(_e.pointerId,se),ae?(se.add(he),1===se.size&&this.eventSource&&this.eventSource.setPointerCapture(_e,!0)):se.has(he)&&(se.delete(he),0===se.size&&(this._pointerCaptures.delete(_e.pointerId),this.eventSource&&this.eventSource.setPointerCapture(_e,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(re=>!re.removed),this.updateDependencies()}_emitInputEventFromSource(re,le,_e,ae){this._emitInputEvent(0,re,le,_e,ae)}_emitInputEvent(re,le,_e,ae,he,se){const ue=void 0!==ae?ae:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),be={event:new $(le,_e,ue,se||this._activeKeyModifiers,void 0!==he&&he),priorityIndex:re};this._currentPropagation?this._currentPropagation.events.push(be):this._doNewPropagation(be)}_doNewPropagation(re){this._currentPropagation={events:new U.Z,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:re.event.timestamp},this._currentPropagation.events.push(re),this._continuePropagation()}_continuePropagation(){const re=(0,Z.s3)(this._currentPropagation);for(;re.events.length>0;){const{event:le,priorityIndex:_e}=re.events.pop(),ae=le.data&&le.data.eventId;if(null==ae||!this._stoppedPropagationEventIds.has(ae))for(re.currentHandler=this._handlersPriority[_e];re.currentHandler;){if(re.currentHandler.removed)re.needsHandlerGarbageCollect=!0;else{if(re.currentHandler.active&&!le.shouldStopPropagation()&&re.currentHandler.eventCallback?.(le),le.shouldStopPropagation()){null!=ae&&this._stoppedPropagationEventIds.add(ae);break}if(le.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:le,priorityIndex:re.currentHandler.priorityIndex+1})}re.currentHandler=this._handlersPriority[re.currentHandler.priorityIndex+1]}}re.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}_pausePropagation(re){const le=new U.Z;le.push(re);const _e=this._currentPropagation;if(_e){for(;_e.events.length;)le.push(_e.events.pop());_e.events=le,_e.currentHandler=null}}_compareHandlerPriority(re,le){if(re.handler.hasSideEffects!==le.handler.hasSideEffects)return re.handler.hasSideEffects?1:-1;if(re.groupPriority!==le.groupPriority)return re.groupPriority>le.groupPriority?-1:1;for(const _e of re.handler.incomingEventMatches)for(const ae of le.handler.incomingEventMatches){if(_e.eventType!==ae.eventType)continue;const he=_e.keyModifiers.filter(se=>ae.keyModifiers.includes(se));if(he.length===_e.keyModifiers.length!=(he.length===ae.keyModifiers.length))return _e.keyModifiers.length>ae.keyModifiers.length?-1:1}return re.priorityIndex>le.priorityIndex?-1:1}_sortHandlersPriority(re){const le=[];for(const _e of re){let ae=0;for(;ae<le.length&&this._compareHandlerPriority(_e,le[ae])>=0;)ae++;le.splice(ae,0,_e)}return le}get debug(){const re=le=>{const _e=this._setPointerCapture;this._setPointerCapture=()=>{},le(),this._setPointerCapture=_e};return{injectEvent:(le,_e)=>{re(()=>{this._onEventReceived(le,_e)})},disablePointerCapture:re}}};(0,D._)([(0,ie.Cb)({readOnly:!0})],x.prototype,"hasPendingInputs",null),(0,D._)([(0,ie.Cb)({constructOnly:!0})],x.prototype,"eventSource",void 0),(0,D._)([(0,ie.Cb)({constructOnly:!0})],x.prototype,"recognizers",void 0),(0,D._)([(0,ie.Cb)()],x.prototype,"_latestPointerType",void 0),(0,D._)([(0,ie.Cb)()],x.prototype,"latestPointerType",null),(0,D._)([(0,ie.Cb)()],x.prototype,"multiTouchActive",null),(0,D._)([(0,ie.Cb)({readOnly:!0})],x.prototype,"latestPointerLocation",void 0),x=(0,D._)([(0,R.j)("esri.views.input.InputManager")],x);class ${constructor(le,_e,ae,he,se){this.type=le,this.data=_e,this.timestamp=ae,this.modifiers=he,this.cancelable=se,this._propagationState=N.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=N.STOPPED}shouldStopPropagation(){return 0!=(this._propagationState&N.STOPPED)}async(le){this._propagationState|=N.PAUSED;const _e=(ae,he)=>{this._propagationState&=~N.PAUSED;const se=this._resumeCallback;if(this._resumeCallback=null,se&&se(),he)throw ae;return ae};return("function"==typeof le?le():le).then(ae=>_e(ae,!1),ae=>_e(ae,!0))}shouldPausePropagation(le){return!!(this._propagationState&N.PAUSED)&&(this._resumeCallback=le,!0)}preventDefault(){this.data.native.preventDefault()}}var N,re;(re=N||(N={}))[re.NONE=0]="NONE",re[re.STOPPED=1]="STOPPED",re[re.PAUSED=2]="PAUSED";const z={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3},ee=class q{}},25441:(nt,Te,M)=>{"use strict";M.d(Te,{CK:()=>te,kK:()=>U,wj:()=>ie});var D=M(17770);const te=(0,M(8314).Z)("mac")?"Meta":"Ctrl",Z={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let k=48;k<58;k++)Z[k]=String.fromCharCode(k);for(let k=1;k<25;k++)Z[111+k]=`F${k}`;for(let k=65;k<91;k++)Z[k]=[String.fromCharCode(k+32),String.fromCharCode(k)];function U(k){if(void 0!==k.key)return(0,D.kK)(k);const B=Z[k.keyCode];return Array.isArray(B)?k.shiftKey?B[1]:B[0]:B}function ie(k){switch(k){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}},71251:(nt,Te,M)=>{"use strict";M.d(Te,{e:()=>ie});var D=M(62208),T=M(10699),te=M(35133),Z=M(50618);class U{constructor(B,R){this.item=B,this.controller=R,this.promise=null}}class ie{constructor(B){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,B.concurrency&&(this.concurrency=B.concurrency),this._queue=new te.Z(B.peeker),this.process=B.process;const R=B.scheduler;B.priority&&(0,D.pC)(R)&&(this._task=R.registerTask(B.priority,this))}destroy(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}get length(){return this._processingItems.size+this._queue.length}abort(B){const R=this._controllers.get(B);R&&R.abort()}clear(){this._queue.clear();const B=[];this._controllers.forEach(R=>B.push(R)),this._controllers.clear(),B.forEach(R=>R.abort()),this._processingItems.clear(),this._cancelNext()}forEach(B){this._deferreds.forEach((R,W)=>B(W))}get(B){const R=this._deferreds.get(B);return R?R.promise:void 0}isOngoing(B){return this._processingItems.has(B)}has(B){return this._deferreds.has(B)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(B,R){const W=this.get(B);if(W)return W;const V=new AbortController;let Q=null;R&&(Q=(0,T.fu)(R,()=>V.abort()));const J=()=>{X.remove(),(0,D.pC)(Q)&&Q.remove(),this._deferreds.delete(B),this._controllers.delete(B),this._queue.remove(B),this._processingItems.delete(B),this._scheduleNext()},X=(0,T.$F)(V.signal,()=>{const F=this._processingItems.get(B);F&&F.controller.abort(),J(),Y.reject((0,T.zE)())}),Y=(0,T.dD)();return this._deferreds.set(B,Y),this._controllers.set(B,V),Y.promise.then(J,J),this._queue.push(B),this._scheduleNext(),Y.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const B=[];this._processingItems.forEach(R=>B.push(R)),this._processingItems.clear();for(const R of B)this._queue.push(R.item),R.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const B=[];for(;this._queue.length;)B.push(this._queue.pop());return this.clear(),B}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(B){for(;!B.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),B.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=(0,Z.Os)(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(B,R){this._canProcessFulfillment(B)&&(this._scheduleNext(),this._deferreds.get(B.item).resolve(R))}_processError(B,R){this._canProcessFulfillment(B)&&(this._scheduleNext(),this._deferreds.get(B.item).reject(R))}_canProcessFulfillment(B){return!!this._deferreds.get(B.item)&&this._processingItems.get(B.item)===B}_process(B){if((0,D.Wi)(B))return;let R;const W=new AbortController,V=new U(B,W);this._processingItems.set(B,V);try{R=this.process(B,W.signal)}catch(Q){this._processError(V,Q)}(0,T.y8)(R)?(V.promise=R,R.then(Q=>this._processResult(V,Q),Q=>this._processError(V,Q))):this._processResult(V,R)}get test(){return{update:B=>this.runTask(B)}}}},73138:(nt,Te,M)=>{"use strict";M.d(Te,{sq:()=>De,T8:()=>re,G5:()=>de});var D=M(72392),te=(M(8314),M(63290)),Z=M(62208),U=M(73362),ie=M(77029),k=M(10699),B=M(32917),R=M(27422),W=M(84395);class V{constructor(){this._tasks=new Array,this._running=new W.f(!1)}get length(){return this._tasks.length}get running(){return this._running.get()}destroy(){this.cancelAll()}runTask(Ce){for(;!Ce.done&&this._process(Ce);)Ce.madeProgress()}push(Ce,Re,we){return this._running.set(!0),new Promise((Me,fe)=>this._tasks.push(new Q(Me,fe,Ce,Re,we)))}unshift(Ce,Re,we){return this._running.set(!0),new Promise((Me,fe)=>this._tasks.unshift(new Q(Me,fe,Ce,Re,we)))}_process(Ce){if(0===this._tasks.length)return!1;const Re=this._tasks.shift();try{const we=(0,k.Hc)(Re.signal);if(we&&!Re.abortCallback)Re.reject((0,k.zE)());else{const Me=we?Re.abortCallback?.((0,k.zE)()):Re.callback(Ce);(0,k.y8)(Me)?Me.then(Re.resolve,Re.reject):Re.resolve(Me)}}catch(we){Re.reject(we)}return this._running.set(this._tasks.length>0),!0}cancelAll(){const Ce=(0,k.zE)();for(const Re of this._tasks)if(Re.abortCallback){const we=Re.abortCallback(Ce);Re.resolve(we)}else Re.reject(Ce);this._tasks.length=0,this._running.set(!1)}}class Q{constructor(Ce,Re,we,Me,fe){this.resolve=Ce,this.reject=Re,this.callback=we,this.signal=Me,this.abortCallback=fe}}var ne=M(17626),J=M(14517),X=M(77712),x=(M(90912),M(85931),M(76898));let $=class extends J.Z{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};(0,ne._)([(0,X.Cb)()],$.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),(0,ne._)([(0,X.Cb)()],$.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),$=(0,ne._)([(0,x.j)("esri.views.support.DebugFlags")],$);const N=new $;var z,xe,ee,re;(xe=z||(z={}))[xe.ANIMATING=0]="ANIMATING",xe[xe.INTERACTING=1]="INTERACTING",xe[xe.IDLE=2]="IDLE",function(xe){xe[xe.YIELD=1]="YIELD"}(ee||(ee={})),function(xe){xe.RESOURCE_CONTROLLER_IMMEDIATE="immediate",xe.RESOURCE_CONTROLLER="schedule",xe.SLIDE="slide",xe.STREAM_DATA_LOADER="stream loader",xe.ELEVATION_QUERY="elevation query",xe.TERRAIN_SURFACE="terrain",xe.SURFACE_GEOMETRY_UPDATES="surface geometry updates",xe.LOD_RENDERER="LoD renderer",xe.GRAPHICS_CORE="Graphics3D",xe.I3S_CONTROLLER="I3S",xe.POINT_CLOUD_LAYER="point cloud",xe.FEATURE_TILE_FETCHER="feature fetcher",xe.OVERLAY="overlay",xe.STAGE="stage",xe.GRAPHICS_DECONFLICTOR="graphics deconflictor",xe.FILTER_VISIBILITY="Graphics3D filter visibility",xe.SCALE_VISIBILITY="Graphics3D scale visibility",xe.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",xe.POINT_OF_INTEREST_FREQUENT="POI frequent",xe.POINT_OF_INTEREST_INFREQUENT="POI infrequent",xe.LABELER="labeler",xe.FEATURE_QUERY_ENGINE="feature query",xe.FEATURE_TILE_TREE="feature tile tree",xe.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",xe.ELEVATION_ALIGNMENT="elevation alignment",xe.TEXT_TEXTURE_ATLAS="text texture atlas",xe.TEXTURE_UNLOAD="texture unload",xe.LINE_OF_SIGHT_TOOL="line of sight tool",xe.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",xe.ELEVATION_PROFILE="elevation profile",xe.SNAPPING="snapping",xe.SHADOW_ACCUMULATOR="shadow accumulator",xe.CLOUDS_GENERATOR="clouds generator",xe[xe.TEST_PRIO=1]="TEST_PRIO"}(re||(re={}));const _e=new Map([[re.RESOURCE_CONTROLLER_IMMEDIATE,0],[re.RESOURCE_CONTROLLER,4],[re.SLIDE,0],[re.STREAM_DATA_LOADER,0],[re.ELEVATION_QUERY,0],[re.TERRAIN_SURFACE,1],[re.SURFACE_GEOMETRY_UPDATES,1],[re.LOD_RENDERER,2],[re.GRAPHICS_CORE,2],[re.I3S_CONTROLLER,2],[re.POINT_CLOUD_LAYER,2],[re.FEATURE_TILE_FETCHER,2],[re.OVERLAY,4],[re.STAGE,4],[re.GRAPHICS_DECONFLICTOR,4],[re.FILTER_VISIBILITY,4],[re.SCALE_VISIBILITY,4],[re.FRUSTUM_VISIBILITY,4],[re.CLOUDS_GENERATOR,4],[re.POINT_OF_INTEREST_FREQUENT,6],[re.POINT_OF_INTEREST_INFREQUENT,30],[re.LABELER,8],[re.FEATURE_QUERY_ENGINE,8],[re.FEATURE_TILE_TREE,16],[re.FEATURE_TILE_TREE_ACTIVE,0],[re.ELEVATION_ALIGNMENT,12],[re.TEXT_TEXTURE_ATLAS,12],[re.TEXTURE_UNLOAD,12],[re.LINE_OF_SIGHT_TOOL,16],[re.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[re.SNAPPING,0],[re.SHADOW_ACCUMULATOR,30]]);function ae(xe){return _e.has(xe)?_e.get(xe):"number"==typeof xe?xe:1}const he=(0,R.HA)(6.5),se=(0,R.HA)(1),ue=(0,R.HA)(30),ge=(0,R.HA)(1e3/30),be=(0,R.HA)(100);var Oe,oe;(function(xe){xe.Scheduler=class Ce{get updating(){return this._updating.get()}_updatingChanged(){this._updating.set(this._tasks.some(fe=>fe.needsUpdate))}constructor(){this._updating=new W.f(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new U.Z("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new we,this._state=z.INTERACTING,this._tasks=new ie.Z,this._runQueue=new ie.Z,this._load=0,this._idleStateCallbacks=new ie.Z,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=(0,B.YP)(()=>N.SCHEDULER_LOG_SLOW_TASKS,ye=>this._debug=ye,B.nn);for(const ye of Object.keys(re))this.performanceInfo.tasks.set(re[ye],new U.Z(re[ye]));const fe=this;this._test={FRAME_SAFETY_BUDGET:he,INTERACTING_BUDGET:ge,IDLE_BUDGET:be,get availableBudget(){return fe._budget.budget},usedBudget:0,getBudget:()=>fe._budget,setBudget:ye=>fe._budget=ye,updateTask:ye=>this._updateTask(ye),getState:ye=>this._getState(ye),getRuntime:ye=>this._getRuntime(ye),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._tasks.toArray().forEach(fe=>fe.remove()),this._tasks.clear(),(0,Z.hw)(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(fe){this._updatingChanged(),fe&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this.frame())}))}registerTask(fe,ye){const je=ae(fe),Je=new Re(this,fe,ye,je);return this._tasks.push(Je),this._updatingChanged(),this.performanceInfo.tasks.has(fe)||this.performanceInfo.tasks.set(fe,new U.Z(fe)),Je}registerIdleStateCallbacks(fe,ye){const je={idleBegin:fe,idleEnd:ye};this._idleStateCallbacks.push(je),this.state===z.IDLE&&this._idleUpdatesStartFired&&je.idleBegin();const Je=this;return{remove:()=>this._removeIdleStateCallbacks(je),set idleBegin(Ie){Je._idleUpdatesStartFired&&(je.idleEnd(),Je._state===z.IDLE&&Ie()),je.idleBegin=Ie},set idleEnd(Ie){je.idleEnd=Ie}}}get load(){return this._load}set state(fe){this._state!==fe&&(this._state=fe,this.state!==z.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(ye=>ye.idleEnd())))}get state(){return this._state}updateBudget(fe){this._test.usedBudget=0,++this._frameNumber;let ye=he,je=fe.frameDuration,Je=se;switch(this.state){case z.IDLE:ye=(0,R.HA)(0),je=(0,R.HA)(Math.max(be,fe.frameDuration)),Je=ue;break;case z.INTERACTING:je=(0,R.HA)(Math.max(ge,fe.frameDuration))}return je=(0,R.HA)(je-fe.elapsedFrameTime-ye),this.state!==z.IDLE&&je<se&&!this._forceTask?(this._forceTask=!0,!1):(je=(0,R.HA)(Math.max(je,Je)),this._budget.reset(je,this.state),this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case z.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(fe=>fe.idleBegin())),this._runIdle();break;case z.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset((0,R.HA)(0),this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(fe){this._idleUpdatesStartFired&&fe.idleEnd(),this._idleStateCallbacks.removeUnordered(fe)}removeTask(fe){this._tasks.removeUnordered(fe),this._runQueue.removeUnordered(fe),this._updatingChanged()}_updateTask(fe){this._tasks.forAll(ye=>{ye.name===fe&&ye.setPriority(fe)})}_getState(fe){if(this._runQueue.some(je=>je.name===fe))return oe.SCHEDULED;let ye=oe.IDLE;return this._tasks.forAll(je=>{je.name===fe&&je.needsUpdate&&(je.schedulePriority<=1?ye=oe.READY:ye!==oe.READY&&(ye=oe.WAITING))}),ye}_getRuntime(fe){let ye=0;return this._tasks.forAll(je=>{je.name===fe&&(ye+=je.runtime)}),ye}_resetRuntimes(){this._tasks.forAll(fe=>fe.runtime=0)}_getRunning(){const fe=new Map;if(this._tasks.forAll(je=>{je.needsUpdate&&fe.set(je.name,(fe.get(je.name)||0)+1)}),0===fe.size)return null;let ye="";return fe.forEach((je,Je)=>{ye+=je>1?` ${je}x ${Je}`:` ${Je}`}),ye}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const fe=this._tasks.reduce((ye,je)=>je.needsUpdate?++ye:ye,0);this._load=.9*this._load+fe*(1-.9)}_schedule(){for(this._runQueue.filterInPlace(fe=>!!fe.needsUpdate||(fe.schedulePriority=fe.basePriority,!1)),this._tasks.forAll(fe=>{0===fe.basePriority&&fe.needsUpdate&&!this._runQueue.includes(fe)&&fe.blockFrame!==this._frameNumber&&this._runQueue.unshift(fe)});0===this._runQueue.length;){let fe=!1,ye=0;if(this._tasks.forAll(je=>{je.needsUpdate&&0!==je.schedulePriority&&0!==je.basePriority&&je.blockFrame!==this._frameNumber&&(fe=!0,ye=Math.max(ye,je.basePriority),1===je.schedulePriority?(je.schedulePriority=0,this._runQueue.push(je)):--je.schedulePriority)}),!fe)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){const fe=this._budget.now();this._startFrameTaskTimes();do{for(;this._runQueue.length>0;){const ye=this._budget.now(),je=this._runQueue.pop();this._budget.resetProgress();try{je.task.runTask(this._budget)===ee.YIELD&&(je.blockFrame=this._frameNumber)}catch(Ie){te.Z.getLogger("esri.views.support.Scheduler").error(`Exception in task "${je.name}"`,Ie)}!this._budget.hasProgressed&&je.blockFrame!==this._frameNumber&&je.needsUpdate&&(je.blockFrame=this._frameNumber),je.schedulePriority=je.basePriority;const Je=this._budget.now()-ye;if(je.runtime+=Je,this._frameTaskTimes.set(je.priority,this._frameTaskTimes.get(je.priority)+Je),this._debug&&Je>2*this._budget.budget&&console.log("Task",je.name,"used",Je,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return this._updatingChanged(),void this._recordFrameTaskTimes(this._budget.now()-fe)}}while(this._schedule());this._updatingChanged(),this._recordFrameTaskTimes(this._budget.now()-fe)}_startFrameTaskTimes(){for(const fe of Object.keys(re))this._frameTaskTimes.set(re[fe],0)}_recordFrameTaskTimes(fe){this._frameTaskTimes.forEach((ye,je)=>this.performanceInfo.tasks.get(je).record(ye)),this.performanceInfo.total.record(fe)}get test(){return this._test}};class Re{get task(){return this._task.get()}get updating(){return this._queue.running}constructor(fe,ye,je,Je){this._scheduler=fe,this.name=ye,this._basePriority=Je,this.blockFrame=0,this.runtime=0,this._queue=new V,this._handles=new D.Z,this.schedulePriority=this._basePriority,this._task=new W.f((0,Z.pC)(je)?je:this._queue),this._handles.add((0,B.gx)(()=>this.task.running,Ie=>fe.taskRunningChanged(Ie)))}remove(){this.processQueue(de),this._scheduler.removeTask(this),this.schedule=De.schedule,this.reschedule=De.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(fe){this.name=fe;const ye=ae(fe);0!==this._basePriority&&0===this.schedulePriority||(this.schedulePriority=ye),this._basePriority=ye}get priority(){return this.name}set priority(fe){this.setPriority(fe)}get needsUpdate(){return this.updating||this.task.running}schedule(fe,ye,je){return this._queue.push(fe,ye,je)}reschedule(fe,ye,je){return this._queue.unshift(fe,ye,je)}processQueue(fe){this._queue.runTask(fe)}}class we{constructor(){this._begin=typeof performance<"u"?performance.now():0,this._budget=0,this._state=z.IDLE,this._done=!1,this._progressed=!1,this._enabled=!0}run(fe){return!this.done&&(!0===fe()&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get state(){return this._state}get enabled(){return this._enabled}set enabled(fe){this._enabled=fe}reset(fe,ye){this._begin=this.now(),this._budget=fe,this._state=ye,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return performance.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}xe.Budget=we})(Oe||(Oe={})),function(xe){xe.SCHEDULED="s",xe.READY="r",xe.WAITING="w",xe.IDLE="i"}(oe||(oe={}));const de=(()=>{const xe=new Oe.Budget;return xe.enabled=!1,xe})(),De=new class ve{remove(){}processQueue(){}schedule(Ce,Re,we){try{if((0,k.Hc)(Re)){const Me=(0,k.zE)();return we?Promise.resolve(we(Me)):Promise.reject(Me)}return(0,k.gx)(Ce(de))}catch(Me){return Promise.reject(Me)}}reschedule(Ce,Re,we){return this.schedule(Ce,Re,we)}}},18605:(nt,Te,M)=>{"use strict";M.d(Te,{LI:()=>Y,RZ:()=>F,TT:()=>x,cv:()=>R,v8:()=>W}),M(8314);var T=M(21286),te=M(62208);function R(me,Oe,oe){const{ctx:de,canvas:ve}=V(me,oe),De=de.getImageData(0,0,me.width,me.height),xe=function X(me,Oe){return me.toDataURL(he[Oe.format],Oe.quality/100)}(ve,Oe);return Q(ve),{dataUrl:xe,data:De}}function W(me,Oe){const{ctx:oe,canvas:de}=V(me,Oe),ve=oe.getImageData(0,0,me.width,me.height);return Q(de),ve}function V(me,Oe){const oe=function ne(){return(0,te.Wi)(J)&&(J=document.createElement("canvas")),J}();Oe.premultipliedAlpha&&function ae(me){const Oe=me.data,oe=Oe.length;for(let de=0;de<oe;de+=4){const ve=Oe[de+3];if(255!==ve&&ve>0){const De=255/ve;Oe[de+0]=Oe[de+0]*De,Oe[de+1]=Oe[de+1]*De,Oe[de+2]=Oe[de+2]*De}}}(me),oe.width=me.width,oe.height=me.height;const de=oe.getContext("2d",{willReadFrequently:!0});return de.putImageData(me,0,0),Oe.flipY&&function _e(me){me.save(),me.globalCompositeOperation="copy",me.scale(1,-1),me.translate(0,-me.canvas.height),me.drawImage(me.canvas,0,0),me.restore()}(de),{ctx:de,canvas:oe}}function Q(me){me.width=0,me.height=0}let J=null;function Y(me,Oe){const oe=function le(me){switch(me){case"png":case"jpg":case"jpeg":return me;default:return ue}}(me);return{format:oe,quality:(0,T.uZ)(Oe??ge[oe],0,100)}}function F(me,Oe){return Oe/Math.max(me[0],me[1])}function x(me,Oe,oe,de=0,ve=0,De=me.width-de,xe=me.height-ve,Ce=!1){const{data:Re}=me,{width:we,height:Me,data:fe}=Oe,ye=De/we,je=xe/Me,Je=Math.ceil(ye/2),Ie=Math.ceil(je/2),Le=me.width;for(let Ve=0;Ve<Me;Ve++)for(let st=0;st<we;st++){const ce=4*(st+(Ce?Me-Ve-1:Ve)*we);let Se=0,ze=0,Ke=0,Xe=0,et=0,ct=0;const ft=(Ve+.5)*je;for(let $e=Math.floor(Ve*je);$e<(Ve+1)*je;$e++){const ut=Math.abs(ft-($e+.5))/Ie,qe=(st+.5)*ye,ke=ut*ut;for(let Ge=Math.floor(st*ye);Ge<(st+1)*ye;Ge++){const We=Math.abs(qe-(Ge+.5))/Je,tt=Math.sqrt(ke+We*We);if(tt>=1)continue;let at=2*tt*tt*tt-3*tt*tt+1;const yt=4*(de+Ge+(ve+$e)*Le);ct+=at*Re[yt+3],ze+=at,!oe&&Re[yt+3]<255&&(at=at*Re[yt+3]/255),Ke+=at*Re[yt],Xe+=at*Re[yt+1],et+=at*Re[yt+2],Se+=at}}fe[ce]=Ke/Se,fe[ce+1]=Xe/Se,fe[ce+2]=et/Se,fe[ce+3]=ct/ze}return Oe}const he={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},ue="png",ge={png:100,jpg:98,jpeg:98}},31637:(nt,Te,M)=>{"use strict";M.d(Te,{hc:()=>U});var D=M(62208),T=M(57596);let te,Z;function U(X){const Y=(0,T.Sh)(X);for(;Y.length>1;){const F=ie(Y.shift());if(F.available)return F}return ie(Y.shift())}function ie(X){switch(X){case T.zO.WEBGL1:return function k(){return te||(te=function ne(){const X=new W,Y=Q(T.zO.WEBGL1,X);return(0,D.Wi)(Y)||(X.supportsElementIndexUint=null!==Y.getExtension("OES_element_index_uint"),X.supportsStandardDerivatives=null!==Y.getExtension("OES_standard_derivatives"),X.supportsInstancedArrays=null!==Y.getExtension("ANGLE_instanced_arrays"),X.supportsTextureFloat=null!==Y.getExtension("OES_texture_float"),X.supportsTextureHalfFloat=null!==Y.getExtension("OES_texture_half_float"),X.supportsColorBufferFloat=null!==Y.getExtension("WEBGL_color_buffer_float"),X.supportsColorBufferFloatBlend=null!==Y.getExtension("EXT_float_blend"),X.supportsColorBufferHalfFloat=null!==Y.getExtension("EXT_color_buffer_half_float")),X}()),te}();case T.zO.WEBGL2:return function B(){return Z||(Z=function J(){const X=new V,Y=Q(T.zO.WEBGL2,X);return(0,D.Wi)(Y)||(X.supportsColorBufferFloat=null!==Y.getExtension("EXT_color_buffer_float"),X.supportsColorBufferFloatBlend=null!==Y.getExtension("EXT_float_blend"),X.supportsColorBufferHalfFloat=X.supportsColorBufferFloat||null!==Y.getExtension("EXT_color_buffer_half_float")),X}()),Z}()}}class R{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1,this.supportsTextureHalfFloat=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}}class W extends R{constructor(){super(...arguments),this.type=T.zO.WEBGL1}}class V extends R{constructor(){super(...arguments),this.type=T.zO.WEBGL2,this.supportsElementIndexUint=!0,this.supportsStandardDerivatives=!0,this.supportsInstancedArrays=!0,this.supportsTextureFloat=!0,this.supportsTextureHalfFloat=!0}}function Q(X,Y){if(X===T.zO.WEBGL1&&typeof WebGLRenderingContext>"u"||X===T.zO.WEBGL2&&typeof WebGL2RenderingContext>"u")return null;const F=document.createElement("canvas");if(!F)return null;let x=(0,T.kr)(F,X,{failIfMajorPerformanceCaveat:!0});if((0,D.Wi)(x)&&(x=(0,T.kr)(F,X),(0,D.pC)(x)&&(Y.majorPerformanceCaveat=!0)),(0,D.Wi)(x))return x;if(X===T.zO.WEBGL1){const N=x.getParameter(x.VERSION)?.match(/^WebGL\s+([\d.]*)/);if(N){const z=parseFloat(N[1]);Y.available=z>=.94}}else Y.available=!0;Y.maxTextureSize=x.getParameter(x.MAX_TEXTURE_SIZE),Y.supportsVertexShaderSamplers=x.getParameter(x.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const $=x.getShaderPrecisionFormat(x.FRAGMENT_SHADER,x.HIGH_FLOAT);return $&&(Y.supportsHighPrecisionFragment=$.precision>0),x}},57596:(nt,Te,M)=>{"use strict";M.d(Te,{Sh:()=>U,kr:()=>k,sj:()=>Z,zO:()=>te});var te,V,D=M(8314),T=M(62208);function Z(V,Q,ne={}){const J=U(V);for(;J.length>1;){const X=k(Q,J.shift(),ne);if((0,T.pC)(X))return X}return function ie(V,Q,ne={}){if(!window.WebGLRenderingContext)return B(V,R),null;const J=k(V,Q,ne);return(0,T.Wi)(J)&&B(V,W),J}(Q,J.shift(),ne)}function U(V){const Q=(0,D.Z)("esri-force-webgl");if(Q===te.WEBGL1||Q===te.WEBGL2)return[Q];switch(V){case"2d":return(0,D.Z)("mac")&&(0,D.Z)("chrome")?[te.WEBGL1,te.WEBGL2]:[te.WEBGL2,te.WEBGL1];case"3d":return[te.WEBGL2,te.WEBGL1]}}function k(V,Q,ne={}){const J=Q===te.WEBGL1?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];let X=null;for(const Y of J){try{X=V.getContext(Y,ne)}catch{}if(X)break}return X}function B(V,Q){const ne=V.parentNode;ne&&(ne.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+Q+"</div></div></td></tr></table>")}(V=te||(te={}))[V.WEBGL1=1]="WEBGL1",V[V.WEBGL2=2]="WEBGL2";const R='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',W='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>'},92236:(nt,Te,M)=>{"use strict";M.d(Te,{a:()=>T,b:()=>te});var D=M(90912);function T(Z){const U=(0,D.vU)(100*(1-Z));return Math.max(0,Math.min(U,100))}function te(Z){return Math.max(0,Math.min(1-Z/100,1))}},32584:(nt,Te,M)=>{"use strict";M.d(Te,{Nw:()=>Y});var D=M(26584),T=M(58817),te=M(62208),Z=M(94113),U=M(23025),ie=M(72469);const k=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),B=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","media","ogc-feature","route","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function J(F,x){"maxScale"in F&&(x.maxScale=(0,U.k)(F.maxScale)??void 0),"minScale"in F&&(x.minScale=(0,U.k)(F.minScale)??void 0)}function Y(F,x,$){if(!("write"in F)||!F.write)return $&&$.messages&&$.messages.push(new D.Z("layer:unsupported",`Layers (${F.title}, ${F.id}) of type '${F.declaredClass}' cannot be persisted`,{layer:F})),null;if(function Q(F,x){if(x.restrictedWebMapWriting){const $=function V(F){return"basemap"===F.layerContainerType?k:"operational-layers"===F.layerContainerType?B:null}(x);return!(0,te.pC)($)||$.has(F.type)&&!(0,ie.rQ)(F)}return!0}(F,$)){const N={};return F.write(N,$)?N:null}return(0,te.pC)(x)&&function X(F,x){if(function ne(F,x){if(x)if((0,ie.rQ)(F)){const $=(0,Z.hS)("featureCollection.layers",x),N=$&&$[0]&&$[0].layerDefinition;N&&J(F,N)}else"stream"===F.type?J(F,x.layerDefinition=x.layerDefinition||{}):"group"!==F.type&&J(F,x)}(F,x),x&&("blendMode"in F&&(x.blendMode=F.blendMode,"normal"===x.blendMode&&delete x.blendMode),x.opacity=(0,U.k)(F.opacity)??void 0,x.title=F.title||"Layer",x.visibility=F.visible,"legendEnabled"in F&&"wmts"!==F.type))if((0,ie.rQ)(F)){const $=x.featureCollection;$&&($.showLegend=F.legendEnabled)}else x.showLegend=F.legendEnabled}(F,x=(0,T.d9)(x)),x}},40915:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>Xe});var D=M(15861),T=M(17626),Z=(M(52515),M(40764)),U=M(61885),ie=M(17770),k=M(72392),R=(M(8314),M(58817)),W=M(63290),V=M(62208),Q=M(60330),ne=M(10699),J=M(32917),X=M(35948),Y=M(77712),F=M(66656),x=M(76898),$=M(36082),N=M(819),z=M(39605);M(62996);const ee={handleInterceptedEvent:(et,ct,ft,$e)=>(et.scheduleRender(),ct.properties[`on${$e.type}`].apply(ct.properties.bind||ft,[$e]))},re={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(et,ct,ft)=>{et.style[ct]=ft}},he=(et,ct,ft=!1)=>{let $e=et;return ct.forEach((ut,qe)=>{const ke=$e?.children?((et,ct)=>et.find(Ge=>Ge.domNode===ut))($e.children):void 0;ft&&!ke&&qe!==ct.length-1||($e=ke)}),$e};var ue=M(76210),ge=M(46203);function be(){const{classList:et}=document.body,ct=window.matchMedia("(prefers-color-scheme: dark)").matches,ft=()=>et.contains(ge.d)||et.contains(ge.a)&&ct?"dark":"light",$e=ke=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:ke}})),ut=ke=>{qe!==ke&&$e(ke),qe=ke};let qe=ft();$e(qe),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",ke=>ut(ke.matches?"dark":"light")),new MutationObserver(()=>ut(ft())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}!function me(){typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document&&("interactive"===document.readyState?be():document.addEventListener("DOMContentLoaded",()=>be(),{once:!0}))}();var oe=M(54346),de=M(21726);let ve;ve="components/assets";var xe=M(81431),Ce=M(3945);const Re=new Set;var Ie,fe=M(66950),ye=M(38570),je=M(56683),Je=M(41840);let Ve=0;function ce(et,ct){for(const ft in ct)null!=et[ft]&&("object"==typeof et[ft]&&"object"==typeof ct[ft]?ce(et[ft],ct?.[ft]):et[ft]=ct[ft]);return et}const Se=(et=>{let ct;const ft={...ee,...et},$e=(et=>({...re,...et}))(ft),ut=$e.performanceLogger;let qe,ke=!0,Ge=!1;const We=[],tt=[],at=(Mt,Yt,sn)=>{let un;$e.eventHandlerInterceptor=(zt,hn,bn,jn)=>function(zn){let pt;ut("domEvent",zn);const bt=((et,ct)=>{const ft=[];for(;et&&et!==ct;)ft.push(et),et=et.parentNode;return ft})(zn.currentTarget,un.domNode),Lt=bt.some(Xt=>customElements.get(Xt?.tagName?.toLowerCase()));if(zn.eventPhase!==Event.CAPTURING_PHASE&&Lt){const Xt=zn.composedPath(),Jt=Xt.slice(Xt.indexOf(zn.currentTarget),Xt.indexOf(un.domNode)).filter(Wt=>Wt.getRootNode()===Wt.ownerDocument).reverse();pt=he(un.getLastRender(),Jt,!0)}else bt.reverse(),pt=he(un.getLastRender(),bt);let Ft;return pt&&(Ft=ft.handleInterceptedEvent(ct,pt,this,zn)),ut("domEventProcessed",zn),Ft},ft.postProcessProjectionOptions?.($e);const Sn=sn();un=Mt(Yt,Sn,$e),We.push(un),tt.push(sn),ft.afterFirstVNodeRendered&&ft.afterFirstVNodeRendered(un,Sn)};let yt=()=>{if(qe=void 0,ke){ke=!1,ut("renderStart",void 0);for(let Mt=0;Mt<We.length;Mt++){const Yt=tt[Mt]();ut("rendered",void 0),We[Mt].update(Yt),ut("patched",void 0)}ut("renderDone",void 0),ke=!0}};return ft.modifyDoRenderImplementation&&(yt=ft.modifyDoRenderImplementation(yt,We,tt)),ct={renderNow:yt,scheduleRender:()=>{qe||Ge||(qe=requestAnimationFrame(yt))},stop:()=>{qe&&(cancelAnimationFrame(qe),qe=void 0),Ge=!0},resume:()=>{Ge=!1,ke=!0,ct.scheduleRender()},append:(Mt,Yt)=>{at(z.v.append,Mt,Yt)},insertBefore:(Mt,Yt)=>{at(z.v.insertBefore,Mt,Yt)},merge:(Mt,Yt)=>{at(z.v.merge,Mt,Yt)},replace:(Mt,Yt)=>{at(z.v.replace,Mt,Yt)},detach:Mt=>{for(let Yt=0;Yt<tt.length;Yt++)if(tt[Yt]===Mt)return tt.splice(Yt,1),We.splice(Yt,1)[0];throw new Error("renderFunction was not found")}},ct})({postProcessProjectionOptions(et){const ct=et.eventHandlerInterceptor,ft=/capture$/i;et.eventHandlerInterceptor=($e,ut,qe,ke)=>{const Ge=ct?.($e,ut,qe,ke),We=ft.test($e);if(!(($e=$e.replace(ft,"")).toLowerCase()in qe)||We){const tt=$e[2].toLowerCase()+$e.slice(3),at=Yt=>Ge?.call(qe,Yt);qe.addEventListener(tt,at,We);const yt=()=>qe.removeEventListener(tt,at,We),Mt=ke.afterRemoved;ke.afterRemoved=Yt=>{Mt?.(Yt),yt()}}return Ge}},handleInterceptedEvent(et,ct,ft,$e){const{eventPhase:ut,type:qe}=$e,ke=ut===Event.CAPTURING_PHASE;let Ge=`on${qe}${ke?"capture":""}`;const We=ct.properties;(We&&Ge in We||(Ge=`on${qe[0].toUpperCase()}${qe.slice(1)}${ke?"Capture":""}`,We&&Ge in We))&&((0,fe.Uy)(),et.scheduleRender(),We[Ge].call(We.bind||ft,$e))}});let ze=!1,Ke=class extends((0,Q.v)(U.Z.EventedAccessor)){constructor(et,ct){var ft;super(et,ct),ft=this,this._attached=!1,this._internalHandles=new k.Z,this._projector=Se,this._readyForTrueRender=!1,this.iconClass="esri-icon-checkbox-unchecked",this.key=this,this._loadLocale=(0,ne.Ds)((0,D.Z)(function*(){if(ft._messageBundleProps&&ft._messageBundleProps.length){const ke=yield(0,ne.as)(ft._messageBundleProps.map(function(){var Ge=(0,D.Z)(function*({bundlePath:We,propertyName:tt}){let at=yield(0,Je.ME)(We);ft.uiStrings&&Object.keys(ft.uiStrings)&&(at=ce((0,R.d9)(at),ft.uiStrings)),ft[tt]=at});return function(We){return Ge.apply(this,arguments)}}()));for(const Ge of ke)Ge.error&&W.Z.getLogger(ft.declaredClass).error("widget-intl:locale-error",ft.declaredClass,Ge.error)}yield ft.loadLocale()})),function De(){(0,ue.YY)((0,de.hF)((0,oe.V)("components/assets")))}();const $e="esri-widget-uid-"+(0,X.D)(),ut=this.render.bind(this);this._trackingTarget=new N.M(()=>this.scheduleRender());const qe=()=>{if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:$e,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0};const ke=ut();let{properties:Ge}=ke;Ge||(ke.properties=Ge={});let{key:We,styles:tt}=Ge;We||(Ge.key=$e),tt||(Ge.styles=tt={}),tt.display||(tt.display="");let at=0;return ke.children?.forEach(yt=>{if((0,xe.Z)(yt.vnodeSelector))return;let{properties:Mt}=yt;Mt||(yt.properties=Mt={}),Mt.key||(Mt.key=`${this.id}--${at++}`)}),(0,xe.d)(this,ke)};this.render=()=>{if(ze)return qe();let ke=(0,fe.O9)(this)??null;if(ke)return ke;this._trackingTarget.clear(),ze=!0;try{ke=(0,$.LJ)(this._trackingTarget,qe)}catch(Ge){throw console.error(Ge),Ge}finally{ze=!1}return ke&&(0,fe.KF)(this,ke),ke},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()})),function we(et){Re.add(et),et.finally(()=>Re.delete(et))}(this._resourcesFetch)}normalizeCtorArgs(et,ct){const ft={...et};return ct&&(ft.container=ct),ft}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(ne.H9)}loadDependencies(){return(0,D.Z)(function*(){})()}loadLocale(){return(0,D.Z)(function*(){})()}destroy(){this.destroyed||((0,V.SC)(this._trackingTarget),(0,V.SC)(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,(0,fe.w7)(this))}set container(et){this._get("container")||this._set("container",et)}castContainer(et){return(0,Z.L7)(et)}get domNode(){return this.container}set domNode(et){this.container=et}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+Ve++}set id(et){et&&this._set("id",et)}get label(){return this.declaredClass.split(".").pop()}set label(et){this._overrideIfSome("label",et)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(et){this._set("visible",et)}get[(Ie=Ce.$,Ce.r)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||((0,fe.w7)(this),this._projector.scheduleRender())}classes(...et){return ye.Sh.apply(this,et)}renderNow(){(0,fe.w7)(this),this._projector.renderNow()}_postInitialize(){var et=this;if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this._internalHandles.add((0,J.YP)(()=>this.viewModel,(ft,$e)=>{$e&&this._internalHandles.remove("delegated-events"),ft&&(0,ie.vT)(ft)&&this._internalHandles.add(this._delegatedEventNames.map(ut=>(0,ie.on)(ft,ut,qe=>{this.emit(ut,qe)})),"delegated-events")},J.nn)),this.postInitialize();const ct=function(){var ft=(0,D.Z)(function*(){yield et._loadLocale().catch(ne.H9),et.scheduleRender()});return function(){return ft.apply(this,arguments)}}();this._internalHandles.add([(0,je.qe)(ct),(0,J.YP)(()=>this.uiStrings,ct),(0,J.gx)(()=>this.container,ft=>{this.destroyed||this._attach(ft)},{initial:!0,once:!0})])}_attach(et){et&&(this._projector.merge(et,this.render),this._attached=!0)}_detach(et){this._attached&&(this._projector.detach(this.render),this._attached=!1),et?.parentNode?.removeChild(et)}};Ke[Ie]=!0,(0,T._)([(0,Y.Cb)()],Ke.prototype,"_readyForTrueRender",void 0),(0,T._)([(0,Y.Cb)({value:null})],Ke.prototype,"container",null),(0,T._)([(0,F.p)("container")],Ke.prototype,"castContainer",null),(0,T._)([(0,Y.Cb)()],Ke.prototype,"iconClass",void 0),(0,T._)([(0,Y.Cb)()],Ke.prototype,"id",null),(0,T._)([(0,Y.Cb)()],Ke.prototype,"label",null),(0,T._)([(0,Y.Cb)()],Ke.prototype,"renderable",null),(0,T._)([(0,Y.Cb)()],Ke.prototype,"uiStrings",void 0),(0,T._)([(0,Y.Cb)()],Ke.prototype,"viewModel",void 0),(0,T._)([(0,Y.Cb)({value:!0})],Ke.prototype,"visible",null),(0,T._)([(0,Y.Cb)()],Ke.prototype,"key",void 0),(0,T._)([(0,Y.Cb)()],Ke.prototype,"children",void 0),(0,T._)([(0,Y.Cb)()],Ke.prototype,"afterCreate",void 0),(0,T._)([(0,Y.Cb)()],Ke.prototype,"afterUpdate",void 0),(0,T._)([(0,Y.Cb)()],Ke.prototype,"afterRemoved",void 0),Ke=(0,T._)([(0,x.j)("esri.widgets.Widget")],Ke);const Xe=Ke},24940:(nt,Te,M)=>{"use strict";M.d(Te,{h:()=>T});var D=M(38570);function T(){return function(U,ie){if(!U[ie])throw new TypeError(`Cannot auto bind undefined function '${ie}'`);return{value:Z(U[ie])}}}function Z(U){return function(ie,...k){!function te(U){const ie=U?.type;return U instanceof KeyboardEvent||"keyup"===ie||"keydown"===ie||"keypress"===ie}(ie)?U.call(this,ie,...k):(0,D.pf)(ie.key)&&(ie.preventDefault(),ie.stopPropagation(),ie.target.click())}}},25552:(nt,Te,M)=>{"use strict";function D(T){return(te,Z)=>{te.hasOwnProperty("_messageBundleProps")||(te._messageBundleProps=te._messageBundleProps?te._messageBundleProps.slice():[]),te._messageBundleProps.push({bundlePath:T,propertyName:Z})}}M.d(Te,{H:()=>D})},94450:(nt,Te,M)=>{"use strict";M.d(Te,{u:()=>U});var D=M(81431),T=function(k){return{vnodeSelector:"",properties:void 0,children:void 0,text:k.toString(),domNode:null}},te=function(k,B){for(var R=0,W=k.length;R<W;R++){var V=k[R];Array.isArray(V)?te(V,B):null!=V&&!1!==V&&(V.hasOwnProperty("vnodeSelector")||(V=T(V)),B.push(V))}},Z=function(k,B){for(var R=[],W=2;W<arguments.length;W++)R[W-2]=arguments[W];if(1===R.length&&"string"==typeof R[0])return{vnodeSelector:k,properties:B||void 0,children:void 0,text:R[0],domNode:null};var V=[];return te(R,V),{vnodeSelector:k,properties:B||void 0,children:V,text:void 0,domNode:null}};function U(k,B,...R){return"function"!=typeof k||(0,D.Z)(k)?Z(k,B,...R):k(B,...R)}},81431:(nt,Te,M)=>{"use strict";M.d(Te,{Z:()=>W,d:()=>ie});var D=M(54024),T=M(3945);const te=[],Z={},U=new WeakMap;function ie(V,Q){let ne=Q.children;if(ne&&ne.length)for(let X=0;X<ne.length;++X)ne[X]=ie(V,ne[X]);else ne=te;const J=Q.vnodeSelector;if(W(J)){const X=Q.properties||Z,Y=X.key||J;return{vnodeSelector:"div",properties:{key:Y,afterCreate:k,afterUpdate:B,afterRemoved:R,parentWidget:V,widgetConstructor:J,widgetProperties:{...X,key:Y,children:ne}},children:void 0,text:void 0,domNode:null}}return Q}function k(V,Q,ne,{parentWidget:J,widgetConstructor:X,widgetProperties:Y}){const F=new X(Y);F.container=V,U.set(V,F),F.afterCreate?.(F,V),J._internalHandles.add((0,D.kB)(()=>R(V)))}function B(V,Q,ne,{widgetProperties:J}){const X=U.get(V);X&&(X.set(J),X.afterUpdate?.(X,V))}function R(V){const Q=U.get(V);Q&&(Q.afterRemoved?.(Q,V),Q.destroy(),U.delete(V))}function W(V){return"function"==typeof V&&V[T.$]}},3945:(nt,Te,M)=>{"use strict";M.d(Te,{$:()=>D,r:()=>T});const D=Symbol("widget"),T=Symbol("widget-test-data")},66950:(nt,Te,M)=>{"use strict";M.d(Te,{KF:()=>Z,O9:()=>te,Uy:()=>T,w7:()=>U});const D=new Map;function T(){D.clear()}function te(ie){return D.get(ie)}function Z(ie,k){D.set(ie,k)}function U(ie){D.delete(ie)}},13777:(nt,Te,M)=>{"use strict";function Z(ie){return ie&&"function"==typeof ie.render}function U(ie){return ie&&"function"==typeof ie.postMixInProperties&&"function"==typeof ie.buildRendering&&"function"==typeof ie.postCreate&&"function"==typeof ie.startup}M.d(Te,{Qd:()=>Z,o:()=>U}),M(24940),M(94450),M(38570)},38570:(nt,Te,M)=>{"use strict";M.d(Te,{Sh:()=>Et,vU:()=>$t,pV:()=>dt,pf:()=>Fn,dZ:()=>Bt,w3:()=>dr,Yo:()=>Pt});var T={exports:{}},te={},Z={exports:{}},U={};function ie(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var R=/javascript\s*\:/gim;U.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},U.getDefaultWhiteList=ie,U.onAttr=function k(Ne,xt,Ye){},U.onIgnoreAttr=function B(Ne,xt,Ye){},U.safeAttrValue=function W(Ne,xt){return R.test(xt)?"":xt};var Q={indexOf:function(Ne,xt){var Ye,ot;if(Array.prototype.indexOf)return Ne.indexOf(xt);for(Ye=0,ot=Ne.length;Ye<ot;Ye++)if(Ne[Ye]===xt)return Ye;return-1},forEach:function(Ne,xt,Ye){var ot,Ot;if(Array.prototype.forEach)return Ne.forEach(xt,Ye);for(ot=0,Ot=Ne.length;ot<Ot;ot++)xt.call(Ye,Ne[ot],ot,Ne)},trim:function(Ne){return String.prototype.trim?Ne.trim():Ne.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(Ne){return String.prototype.trimRight?Ne.trimRight():Ne.replace(/(\s*$)/g,"")}},X=U;function F(Ne){return null==Ne}function $(Ne){(Ne=function x(Ne){var xt={};for(var Ye in Ne)xt[Ye]=Ne[Ye];return xt}(Ne||{})).whiteList=Ne.whiteList||X.whiteList,Ne.onAttr=Ne.onAttr||X.onAttr,Ne.onIgnoreAttr=Ne.onIgnoreAttr||X.onIgnoreAttr,Ne.safeAttrValue=Ne.safeAttrValue||X.safeAttrValue,this.options=Ne}$.prototype.process=function(Ne){if(!(Ne=(Ne=Ne||"").toString()))return"";var Ye=this.options,ot=Ye.whiteList,Ot=Ye.onAttr,Vt=Ye.onIgnoreAttr,pn=Ye.safeAttrValue;return function ne(Ne,xt){";"!==(Ne=Q.trimRight(Ne))[Ne.length-1]&&(Ne+=";");var Ye=Ne.length,ot=!1,Ot=0,Vt=0,pn="";function En(){if(!ot){var rr=Q.trim(Ne.slice(Ot,Vt)),Un=rr.indexOf(":");if(-1!==Un){var lr=Q.trim(rr.slice(0,Un)),Or=Q.trim(rr.slice(Un+1));if(lr){var Zr=xt(Ot,pn.length,lr,Or,rr);Zr&&(pn+=Zr+"; ")}}}Ot=Vt+1}for(;Vt<Ye;Vt++){var xn=Ne[Vt];if("/"===xn&&"*"===Ne[Vt+1]){var nr=Ne.indexOf("*/",Vt+2);if(-1===nr)break;Ot=(Vt=nr+1)+1,ot=!1}else"("===xn?ot=!0:")"===xn?ot=!1:";"===xn?ot||En():"\n"===xn&&En()}return Q.trim(pn)}(Ne,function(xn,nr,rr,Un,lr){var Or=ot[rr],Zr=!1;if(!0===Or?Zr=Or:"function"==typeof Or?Zr=Or(Un):Or instanceof RegExp&&(Zr=Or.test(Un)),!0!==Zr&&(Zr=!1),Un=pn(rr,Un)){var ds,Qn={position:nr,sourcePosition:xn,source:lr,isWhite:Zr};if(Zr)return F(ds=Ot(rr,Un,Qn))?rr+":"+Un:ds;if(!F(ds=Vt(rr,Un,Qn)))return ds}})};var N=$;!function(Ne,xt){var Ye=U,ot=N;for(var Vt in(xt=Ne.exports=function Ot(pn,En){return new ot(En).process(pn)}).FilterCSS=ot,Ye)xt[Vt]=Ye[Vt]}(Z,Z.exports);var z={indexOf:function(Ne,xt){var Ye,ot;if(Array.prototype.indexOf)return Ne.indexOf(xt);for(Ye=0,ot=Ne.length;Ye<ot;Ye++)if(Ne[Ye]===xt)return Ye;return-1},forEach:function(Ne,xt,Ye){var ot,Ot;if(Array.prototype.forEach)return Ne.forEach(xt,Ye);for(ot=0,Ot=Ne.length;ot<Ot;ot++)xt.call(Ye,Ne[ot],ot,Ne)},trim:function(Ne){return String.prototype.trim?Ne.trim():Ne.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(Ne){var Ye=/\s|\n|\t/.exec(Ne);return Ye?Ye.index:-1}},ee=Z.exports.getDefaultWhiteList,re=z;var _e=new(0,Z.exports.FilterCSS);function ge(Ne){return Ne.replace(me,"&lt;").replace(Oe,"&gt;")}var me=/</g,Oe=/>/g,oe=/"/g,de=/&quot;/g,ve=/&#([a-zA-Z0-9]*);?/gim,De=/&colon;?/gim,xe=/&newline;?/gim,Ce=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Re=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,we=/u\s*r\s*l\s*\(.*/gi;function Me(Ne){return Ne.replace(oe,"&quot;")}function fe(Ne){return Ne.replace(de,'"')}function ye(Ne){return Ne.replace(ve,function(Ye,ot){return String.fromCharCode("x"===ot[0]||"X"===ot[0]?parseInt(ot.substr(1),16):parseInt(ot,10))})}function je(Ne){return Ne.replace(De,":").replace(xe," ")}function Je(Ne){for(var xt="",Ye=0,ot=Ne.length;Ye<ot;Ye++)xt+=Ne.charCodeAt(Ye)<32?" ":Ne.charAt(Ye);return re.trim(xt)}function Ie(Ne){return Je(Ne=je(Ne=ye(Ne=fe(Ne))))}function Le(Ne){return ge(Ne=Me(Ne))}te.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},te.getDefaultWhiteList=function le(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},te.onTag=function ae(Ne,xt,Ye){},te.onIgnoreTag=function he(Ne,xt,Ye){},te.onTagAttr=function se(Ne,xt,Ye){},te.onIgnoreTagAttr=function ue(Ne,xt,Ye){},te.safeAttrValue=function be(Ne,xt,Ye,ot){if(Ye=Ie(Ye),"href"===xt||"src"===xt){if("#"===(Ye=re.trim(Ye)))return"#";if("http://"!==Ye.substr(0,7)&&"https://"!==Ye.substr(0,8)&&"mailto:"!==Ye.substr(0,7)&&"tel:"!==Ye.substr(0,4)&&"data:image/"!==Ye.substr(0,11)&&"ftp://"!==Ye.substr(0,6)&&"./"!==Ye.substr(0,2)&&"../"!==Ye.substr(0,3)&&"#"!==Ye[0]&&"/"!==Ye[0])return""}else if("background"===xt){if(Ce.lastIndex=0,Ce.test(Ye))return""}else if("style"===xt){if(Re.lastIndex=0,Re.test(Ye)||(we.lastIndex=0,we.test(Ye)&&(Ce.lastIndex=0,Ce.test(Ye))))return"";!1!==ot&&(Ye=(ot=ot||_e).process(Ye))}return Le(Ye)},te.escapeHtml=ge,te.escapeQuote=Me,te.unescapeQuote=fe,te.escapeHtmlEntities=ye,te.escapeDangerHtml5Entities=je,te.clearNonPrintableCharacter=Je,te.friendlyAttrValue=Ie,te.escapeAttrValue=Le,te.onIgnoreTagStripAll=function Ve(){return""},te.StripTagBody=function st(Ne,xt){"function"!=typeof xt&&(xt=function(){});var Ye=!Array.isArray(Ne),Ot=[],Vt=!1;return{onIgnoreTag:function(pn,En,xn){if(function ot(pn){return!!Ye||-1!==re.indexOf(Ne,pn)}(pn)){if(xn.isClosing){var nr="[/removed]";return Ot.push([!1!==Vt?Vt:xn.position,xn.position+nr.length]),Vt=!1,nr}return Vt||(Vt=xn.position),"[removed]"}return xt(pn,En,xn)},remove:function(pn){var En="",xn=0;return re.forEach(Ot,function(nr){En+=pn.slice(xn,nr[0]),xn=nr[1]}),En+=pn.slice(xn)}}},te.stripCommentTag=function ce(Ne){for(var xt="",Ye=0;Ye<Ne.length;){var ot=Ne.indexOf("\x3c!--",Ye);if(-1===ot){xt+=Ne.slice(Ye);break}xt+=Ne.slice(Ye,ot);var Ot=Ne.indexOf("--\x3e",ot);if(-1===Ot)break;Ye=Ot+3}return xt},te.stripBlankChar=function Se(Ne){var xt=Ne.split("");return(xt=xt.filter(function(Ye){var ot=Ye.charCodeAt(0);return!(127===ot||ot<=31&&10!==ot&&13!==ot)})).join("")},te.cssFilter=_e,te.getDefaultCSSWhiteList=ee;var ze={},Ke=z;function Xe(Ne){var Ye,xt=Ke.spaceIndex(Ne);return Ye=Ne.slice(1,-1===xt?-1:xt+1),"/"===(Ye=Ke.trim(Ye).toLowerCase()).slice(0,1)&&(Ye=Ye.slice(1)),"/"===Ye.slice(-1)&&(Ye=Ye.slice(0,-1)),Ye}function et(Ne){return"</"===Ne.slice(0,2)}var ft=/[^a-zA-Z0-9\\_:.-]/gim;function ut(Ne,xt){for(;xt<Ne.length;xt++){var Ye=Ne[xt];if(" "!==Ye)return"="===Ye?xt:-1}}function qe(Ne,xt){for(;xt<Ne.length;xt++){var Ye=Ne[xt];if(" "!==Ye)return"'"===Ye||'"'===Ye?xt:-1}}function ke(Ne,xt){for(;xt>0;xt--){var Ye=Ne[xt];if(" "!==Ye)return"="===Ye?xt:-1}}function We(Ne){return function Ge(Ne){return'"'===Ne[0]&&'"'===Ne[Ne.length-1]||"'"===Ne[0]&&"'"===Ne[Ne.length-1]}(Ne)?Ne.substr(1,Ne.length-2):Ne}ze.parseTag=function ct(Ne,xt,Ye){var ot="",Ot=0,Vt=!1,pn=!1,En=0,xn=Ne.length,nr="",rr="";e:for(En=0;En<xn;En++){var Un=Ne.charAt(En);if(!1===Vt){if("<"===Un){Vt=En;continue}}else if(!1===pn){if("<"===Un){ot+=Ye(Ne.slice(Ot,En)),Vt=En,Ot=En;continue}if(">"===Un){ot+=Ye(Ne.slice(Ot,Vt)),nr=Xe(rr=Ne.slice(Vt,En+1)),ot+=xt(Vt,ot.length,nr,rr,et(rr)),Ot=En+1,Vt=!1;continue}if('"'===Un||"'"===Un)for(var lr=1,Or=Ne.charAt(En-lr);""===Or.trim()||"="===Or;){if("="===Or){pn=Un;continue e}Or=Ne.charAt(En-++lr)}}else if(Un===pn){pn=!1;continue}}return Ot<Ne.length&&(ot+=Ye(Ne.substr(Ot))),ot},ze.parseAttr=function $e(Ne,xt){var Ye=0,ot=0,Ot=[],Vt=!1,pn=Ne.length;function En(lr,Or){if(!((lr=(lr=Ke.trim(lr)).replace(ft,"").toLowerCase()).length<1)){var Zr=xt(lr,Or||"");Zr&&Ot.push(Zr)}}for(var xn=0;xn<pn;xn++){var Un,nr=Ne.charAt(xn);if(!1!==Vt||"="!==nr)if(!1===Vt||xn!==ot){if(/\s|\n|\t/.test(nr)){if(Ne=Ne.replace(/\s|\n|\t/g," "),!1===Vt){if(-1===(Un=ut(Ne,xn))){En(Ke.trim(Ne.slice(Ye,xn))),Vt=!1,Ye=xn+1;continue}xn=Un-1;continue}if(-1===(Un=ke(Ne,xn-1))){En(Vt,We(Ke.trim(Ne.slice(Ye,xn)))),Vt=!1,Ye=xn+1;continue}}}else{if(-1===(Un=Ne.indexOf(nr,xn+1)))break;En(Vt,Ke.trim(Ne.slice(ot+1,Un))),Vt=!1,Ye=(xn=Un)+1}else Vt=Ne.slice(Ye,xn),ot='"'===Ne.charAt(Ye=xn+1)||"'"===Ne.charAt(Ye)?Ye:qe(Ne,xn+1)}return Ye<Ne.length&&(!1===Vt?En(Ne.slice(Ye)):En(Vt,We(Ke.trim(Ne.slice(Ye))))),Ke.trim(Ot.join(" "))};var tt=Z.exports.FilterCSS,at=te,Mt=ze.parseTag,Yt=ze.parseAttr,sn=z;function un(Ne){return null==Ne}function bn(Ne){(Ne=function zt(Ne){var xt={};for(var Ye in Ne)xt[Ye]=Ne[Ye];return xt}(Ne||{})).stripIgnoreTag&&(Ne.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),Ne.onIgnoreTag=at.onIgnoreTagStripAll),Ne.whiteList=Ne.whiteList||Ne.allowList?function hn(Ne){var xt={};for(var Ye in Ne)Array.isArray(Ne[Ye])?xt[Ye.toLowerCase()]=Ne[Ye].map(function(ot){return ot.toLowerCase()}):xt[Ye.toLowerCase()]=Ne[Ye];return xt}(Ne.whiteList||Ne.allowList):at.whiteList,Ne.onTag=Ne.onTag||at.onTag,Ne.onTagAttr=Ne.onTagAttr||at.onTagAttr,Ne.onIgnoreTag=Ne.onIgnoreTag||at.onIgnoreTag,Ne.onIgnoreTagAttr=Ne.onIgnoreTagAttr||at.onIgnoreTagAttr,Ne.safeAttrValue=Ne.safeAttrValue||at.safeAttrValue,Ne.escapeHtml=Ne.escapeHtml||at.escapeHtml,this.options=Ne,!1===Ne.css?this.cssFilter=!1:(Ne.css=Ne.css||{},this.cssFilter=new tt(Ne.css))}bn.prototype.process=function(Ne){if(!(Ne=(Ne=Ne||"").toString()))return"";var Ye=this.options,ot=Ye.whiteList,Ot=Ye.onTag,Vt=Ye.onIgnoreTag,pn=Ye.onTagAttr,En=Ye.onIgnoreTagAttr,xn=Ye.safeAttrValue,nr=Ye.escapeHtml,rr=this.cssFilter;Ye.stripBlankChar&&(Ne=at.stripBlankChar(Ne)),Ye.allowCommentTag||(Ne=at.stripCommentTag(Ne));var Un=!1;Ye.stripIgnoreTagBody&&(Un=at.StripTagBody(Ye.stripIgnoreTagBody,Vt),Vt=Un.onIgnoreTag);var lr=Mt(Ne,function(Or,Zr,Qn,ds,Br){var ti={sourcePosition:Or,position:Zr,isClosing:Br,isWhite:Object.prototype.hasOwnProperty.call(ot,Qn)},$s=Ot(Qn,ds,ti);if(!un($s))return $s;if(ti.isWhite){if(ti.isClosing)return"</"+Qn+">";var zr=function Sn(Ne){var xt=sn.spaceIndex(Ne);if(-1===xt)return{html:"",closing:"/"===Ne[Ne.length-2]};var Ye="/"===(Ne=sn.trim(Ne.slice(xt+1,-1)))[Ne.length-1];return Ye&&(Ne=sn.trim(Ne.slice(0,-1))),{html:Ne,closing:Ye}}(ds),Ut=ot[Qn],Jr=Yt(zr.html,function(_r,Wr){var wr=-1!==sn.indexOf(Ut,_r),Ht=pn(Qn,_r,Wr,wr);return un(Ht)?wr?(Wr=xn(Qn,_r,Wr,rr))?_r+'="'+Wr+'"':_r:un(Ht=En(Qn,_r,Wr,wr))?void 0:Ht:Ht});return ds="<"+Qn,Jr&&(ds+=" "+Jr),zr.closing&&(ds+=" /"),ds+">"}return un($s=Vt(Qn,ds,ti))?nr(ds):$s},nr);return Un&&(lr=Un.remove(lr)),lr};var jn=bn;!function(Ne,xt){var Ye=te,ot=ze,Ot=jn;function Vt(En,xn){return new Ot(xn).process(En)}(xt=Ne.exports=Vt).filterXSS=Vt,xt.FilterXSS=Ot,function(){for(var En in Ye)xt[En]=Ye[En];for(var xn in ot)xt[xn]=ot[xn]}(),function pn(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}()&&(self.filterXSS=Ne.exports)}(T,T.exports);var Jt,Wt,zn=function(){function Ne(xt,Ye){var Ot,ot=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(Vt,pn,En,xn){return"a"===Vt&&"href"===pn||("img"===Vt||"source"===Vt)&&"src"===pn?ot.sanitizeUrl(En):T.exports.safeAttrValue(Vt,pn,En,xn)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"},xt&&!Ye?Ot=xt:xt&&Ye?(Ot=Object.create(this.arcgisFilterOptions),Object.keys(xt).forEach(function(Vt){"whiteList"===Vt?Ot.whiteList=ot._extendObjectOfArrays([ot.arcgisWhiteList,xt.whiteList||{}]):Ot[Vt]=xt[Vt]})):(Ot=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=Ot,this._xssFilter=new T.exports.FilterXSS(Ot)}return Ne.prototype.sanitize=function(xt,Ye){switch(void 0===Ye&&(Ye={}),typeof xt){case"number":return isNaN(xt)||!isFinite(xt)?null:xt;case"boolean":return xt;case"string":return this._xssFilter.process(xt);case"object":return this._iterateOverObject(xt,Ye);default:return Ye.allowUndefined&&typeof xt>"u"?void 0:null}},Ne.prototype.sanitizeUrl=function(xt,Ye){var ot=(Ye??{}).isProtocolRequired,Ot=void 0===ot||ot,Vt=this._trim(xt.substring(0,xt.indexOf(":"))),pn="/"===xt,En=/^#/.test(xt),xn=Vt&&this.allowedProtocols.indexOf(Vt.toLowerCase())>-1;return pn||En||xn?T.exports.escapeAttrValue(xt):Vt||Ot?"":T.exports.escapeAttrValue("https://".concat(xt))},Ne.prototype.sanitizeHTMLAttribute=function(xt,Ye,ot,Ot){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(xt,Ye,ot,Ot):T.exports.safeAttrValue(xt,Ye,ot,Ot)},Ne.prototype.validate=function(xt,Ye){void 0===Ye&&(Ye={});var ot=this.sanitize(xt,Ye);return{isValid:xt===ot,sanitized:ot}},Ne.prototype.encodeHTML=function(xt){var Ye=this;return String(xt).replace(/[&<>"'\/]/g,function(ot){return Ye._entityMap[ot]})},Ne.prototype.encodeAttrValue=function(xt){var Ye=/^[a-zA-Z0-9]$/;return String(xt).replace(/[\x00-\xFF]/g,function(ot,Ot){return Ye.test(ot)?ot:"&#x".concat(Number(xt.charCodeAt(Ot)).toString(16),";")})},Ne.prototype._extendObjectOfArrays=function(xt){var Ye={};return xt.forEach(function(ot){Object.keys(ot).forEach(function(Ot){Ye[Ot]=Array.isArray(ot[Ot])&&Array.isArray(Ye[Ot])?Ye[Ot].concat(ot[Ot]):ot[Ot]})}),Ye},Ne.prototype._iterateOverObject=function(xt,Ye){var ot=this;void 0===Ye&&(Ye={});try{var Ot=!1,Vt=void 0;if(Array.isArray(xt))Vt=xt.reduce(function(En,xn){var nr=ot.validate(xn,Ye);return nr.isValid?En.concat([xn]):(Ot=!0,En.concat([nr.sanitized]))},[]);else{if(!function(Ne){if("object"!=typeof Ne||null===Ne||"[object Object]"!==Object.prototype.toString.call(Ne))return!1;var xt=Object.getPrototypeOf(Ne);if(null===xt)return!0;for(;null!==Object.getPrototypeOf(xt);)xt=Object.getPrototypeOf(xt);return Object.getPrototypeOf(Ne)===xt}(xt))return Ye.allowUndefined&&typeof xt>"u"?void 0:null;Vt=Object.keys(xt).reduce(function(En,xn){var nr=xt[xn],rr=ot.validate(nr,Ye);return rr.isValid?En[xn]=nr:(Ot=!0,En[xn]=rr.sanitized),En},{})}return Ot?Vt:xt}catch{return null}},Ne.prototype._trim=function(xt){return String.prototype.trim?xt.trim():xt.replace(/(^\s*)|(\s*$)/g,"")},Ne}(),pt=M(35575),Ft=(M(54024),M(8314),M(63290)),Xt=M(66950),gn=function(Ne){Jt||function(Ne){if("WebkitTransition"in Ne.style)Jt="webkitTransitionEnd",Wt="webkitAnimationEnd";else{if(!("transition"in Ne.style))throw new Error("Your browser is not supported!");Jt="transitionend",Wt="animationend"}}(Ne)},dn=function(Ne,xt){return void 0===xt&&(xt=Ne+"-active"),function(Ye){gn(Ye);var ot=!1,Ot=function(Vt){ot||(ot=!0,Ye.removeEventListener(Jt,Ot),Ye.removeEventListener(Wt,Ot),Ye.classList.remove(Ne),Ye.classList.remove(xt))};Ye.classList.add(Ne),Ye.addEventListener(Jt,Ot),Ye.addEventListener(Wt,Ot),requestAnimationFrame(function(){Ye.classList.add(xt)})}},wn=function(Ne,xt){return void 0===xt&&(xt=Ne+"-active"),function(Ye,ot){gn(Ye);var Ot=!1,Vt=function(pn){Ot||(Ot=!0,Ye.removeEventListener(Jt,Vt),Ye.removeEventListener(Wt,Vt),ot())};Ye.classList.add(Ne),Ye.addEventListener(Jt,Vt),Ye.addEventListener(Wt,Vt),requestAnimationFrame(function(){Ye.classList.add(xt)})}};Ft.Z.getLogger("esri.widgets.support.widgetUtils");function Et(Ne){const xt=pt.Z.acquire();for(let ot=0;ot<arguments.length;ot++){const Ot=arguments[ot],Vt=typeof Ot;if("string"===Vt)xt.push(Ot);else if(Array.isArray(Ot))xt.push.apply(xt,Ot);else if("object"===Vt)for(const pn in Ot)Ot[pn]&&xt.push(pn)}const Ye=xt.join(" ");return pt.Z.release(xt),Ye}function Bt(Ne){const xt=Ne?.closest("[dir]");return null!==xt&&xt instanceof HTMLElement&&"rtl"===xt.dir||"rtl"===document.dir}function dt(Ne){this[Ne.getAttribute("data-node-ref")]=null}function Pt(Ne){this[Ne.getAttribute("data-node-ref")]=Ne}function $t(Ne,xt){return("enter"===Ne?dn:wn)(xt)}(()=>{const Ne=new Map;new ResizeObserver(Ye=>{(0,Xt.Uy)();for(const ot of Ye)Ne.get(ot.target)?.(ot)})})();const Cn=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce((Ne,xt)=>(Ne[xt]=[],Ne),{}),Yn=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],dr=new zn({whiteList:Cn,onTagAttr:(Ne,xt,Ye)=>{const ot=`${xt}="${Ye}"`;if(Yn.includes(xt))return ot},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Fn(Ne){return"Enter"===Ne||" "===Ne}},46203:(nt,Te,M)=>{"use strict";M.d(Te,{A:()=>oe,C:()=>U,a:()=>T,b:()=>Se,c:()=>xe,d:()=>te,e:()=>ct,g:()=>Ce,h:()=>Le,i:()=>ke,j:()=>st,r:()=>fe,s:()=>ut,t:()=>$e,u:()=>Me,v:()=>Je,w:()=>ue,x:()=>ge,y:()=>be,z:()=>Oe});var D=M(15861);const T="calcite-mode-auto",te="calcite-mode-dark",U={autoMode:T,darkMode:te,lightMode:"calcite-mode-light",rtl:"calcite--rtl"};var ie=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],k=ie.join(","),B=typeof Element>"u",R=B?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,W=!B&&Element.prototype.getRootNode?function(We){return We.getRootNode()}:function(We){return We.ownerDocument},V=function(tt,at,yt){var Mt=Array.prototype.slice.apply(tt.querySelectorAll(k));return at&&R.call(tt,k)&&Mt.unshift(tt),Mt.filter(yt)},Q=function We(tt,at,yt){for(var Mt=[],Yt=Array.from(tt);Yt.length;){var sn=Yt.shift();if("SLOT"===sn.tagName){var un=sn.assignedElements(),zt=We(un.length?un:sn.children,!0,yt);yt.flatten?Mt.push.apply(Mt,zt):Mt.push({scopeParent:sn,candidates:zt})}else{R.call(sn,k)&&yt.filter(sn)&&(at||!tt.includes(sn))&&Mt.push(sn);var bn=sn.shadowRoot||"function"==typeof yt.getShadowRoot&&yt.getShadowRoot(sn),jn=!yt.shadowRootFilter||yt.shadowRootFilter(sn);if(bn&&jn){var zn=We(!0===bn?sn.children:bn.children,!0,yt);yt.flatten?Mt.push.apply(Mt,zn):Mt.push({scopeParent:sn,candidates:zn})}else Yt.unshift.apply(Yt,sn.children)}}return Mt},ne=function(tt,at){return tt.tabIndex<0&&(at||/^(AUDIO|VIDEO|DETAILS)$/.test(tt.tagName)||tt.isContentEditable)&&isNaN(parseInt(tt.getAttribute("tabindex"),10))?0:tt.tabIndex},J=function(tt,at){return tt.tabIndex===at.tabIndex?tt.documentOrder-at.documentOrder:tt.tabIndex-at.tabIndex},X=function(tt){return"INPUT"===tt.tagName},ee=function(tt){var at=tt.getBoundingClientRect();return 0===at.width&&0===at.height},_e=function(tt,at){return!(at.disabled||function(tt){return X(tt)&&"hidden"===tt.type}(at)||function(tt,at){var yt=at.displayCheck,Mt=at.getShadowRoot;if("hidden"===getComputedStyle(tt).visibility)return!0;var Yt=R.call(tt,"details>summary:first-of-type");if(R.call(Yt?tt.parentElement:tt,"details:not([open]) *"))return!0;if(yt&&"full"!==yt&&"legacy-full"!==yt){if("non-zero-area"===yt)return ee(tt)}else{if("function"==typeof Mt){for(var un=tt;tt;){var Sn=tt.parentElement,zt=W(tt);if(Sn&&!Sn.shadowRoot&&!0===Mt(Sn))return ee(tt);tt=tt.assignedSlot?tt.assignedSlot:Sn||zt===tt.ownerDocument?Sn:zt.host}tt=un}if(function(tt){for(var at,yt=W(tt).host,Mt=!!(null!==(at=yt)&&void 0!==at&&at.ownerDocument.contains(yt)||tt.ownerDocument.contains(tt));!Mt&&yt;){var Yt;Mt=!(null===(Yt=yt=W(yt).host)||void 0===Yt||!Yt.ownerDocument.contains(yt))}return Mt}(tt))return!tt.getClientRects().length;if("legacy-full"!==yt)return!0}return!1}(at,tt)||function(tt){return"DETAILS"===tt.tagName&&Array.prototype.slice.apply(tt.children).some(function(yt){return"SUMMARY"===yt.tagName})}(at)||function(tt){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(tt.tagName))for(var at=tt.parentElement;at;){if("FIELDSET"===at.tagName&&at.disabled){for(var yt=0;yt<at.children.length;yt++){var Mt=at.children.item(yt);if("LEGEND"===Mt.tagName)return!!R.call(at,"fieldset[disabled] *")||!Mt.contains(tt)}return!0}at=at.parentElement}return!1}(at))},ae=function(tt,at){return!(function(tt){return function(tt){return X(tt)&&"radio"===tt.type}(tt)&&!function(tt){if(!tt.name)return!0;var Mt,at=tt.form||W(tt),yt=function(un){return at.querySelectorAll('input[type="radio"][name="'+un+'"]')};if(typeof window<"u"&&typeof window.CSS<"u"&&"function"==typeof window.CSS.escape)Mt=yt(window.CSS.escape(tt.name));else try{Mt=yt(tt.name)}catch(sn){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",sn.message),!1}var Yt=function(tt,at){for(var yt=0;yt<tt.length;yt++)if(tt[yt].checked&&tt[yt].form===at)return tt[yt]}(Mt,tt.form);return!Yt||Yt===tt}(tt)}(at)||ne(at)<0||!_e(tt,at))},he=function(tt){var at=parseInt(tt.getAttribute("tabindex"),10);return!!(isNaN(at)||at>=0)},se=function We(tt){var at=[],yt=[];return tt.forEach(function(Mt,Yt){var sn=!!Mt.scopeParent,un=sn?Mt.scopeParent:Mt,Sn=ne(un,sn),zt=sn?We(Mt.candidates):un;0===Sn?sn?at.push.apply(at,zt):at.push(un):yt.push({documentOrder:Yt,tabIndex:Sn,item:Mt,isScope:sn,content:zt})}),yt.sort(J).reduce(function(Mt,Yt){return Yt.isScope?Mt.push.apply(Mt,Yt.content):Mt.push(Yt.content),Mt},[]).concat(at)},ue=function(tt,at){var yt;return yt=(at=at||{}).getShadowRoot?Q([tt],at.includeContainer,{filter:ae.bind(null,at),flatten:!1,getShadowRoot:at.getShadowRoot,shadowRootFilter:he}):V(tt,at.includeContainer,ae.bind(null,at)),se(yt)},ge=function(tt,at){return(at=at||{}).getShadowRoot?Q([tt],at.includeContainer,{filter:_e.bind(null,at),flatten:!0,getShadowRoot:at.getShadowRoot}):V(tt,at.includeContainer,_e.bind(null,at))},be=function(tt,at){if(at=at||{},!tt)throw new Error("No node provided");return!1!==R.call(tt,k)&&ae(at,tt)},me=ie.concat("iframe").join(","),Oe=function(tt,at){if(at=at||{},!tt)throw new Error("No node provided");return!1!==R.call(tt,me)&&_e(at,tt)};const oe={getShadowRoot:!0};function xe(We){const yt=fe(We,"[dir]");return yt?yt.getAttribute("dir"):"ltr"}function Ce(We,tt,at){const Mt=We.closest(`[${tt}]`);return Mt?Mt.getAttribute(tt):at}function Re(We){return We.getRootNode()}function we(We){return We.host||null}function Me(We,{selector:tt,id:at}){return function yt(Mt){if(!Mt)return null;Mt.assignedSlot&&(Mt=Mt.assignedSlot);const Yt=Re(Mt),sn=at?"getElementById"in Yt?Yt.getElementById(at):null:tt?Yt.querySelector(tt):null,un=we(Yt);return sn||(un?yt(un):null)}(We)}function fe(We,tt){return function at(yt){return yt?yt.closest(tt)||at(we(Re(yt))):null}(We)}function ye(We,tt){return je(We,tt)}function je(We,tt){if(!We)return;const at=tt(We);if(void 0!==at)return at;const{parentNode:yt}=We;return je(yt instanceof ShadowRoot?yt.host:yt,tt)}function Je(We,tt){return!!ye(tt,at=>at===We||void 0)}function Le(We){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,D.Z)(function*(We){if(We)return function Ie(We){return"function"==typeof We?.setFocus}(We)?We.setFocus():We.focus()})).apply(this,arguments)}function st(We){(ue(We,oe)[0]||We).focus()}const ce=":not([slot])";function Se(We,tt,at){tt&&!Array.isArray(tt)&&"string"!=typeof tt&&(at=tt,tt=null);const yt=tt?Array.isArray(tt)?tt.map(Mt=>`[slot="${Mt}"]`).join(","):`[slot="${tt}"]`:ce;return at?.all?function Ke(We,tt,at){let yt=tt===ce?ze(We,ce):Array.from(We.querySelectorAll(tt));yt=at&&!1===at.direct?yt:yt.filter(Yt=>Yt.parentElement===We),yt=at?.matches?yt.filter(Yt=>Yt?.matches(at.matches)):yt;const Mt=at?.selector;return Mt?yt.map(Yt=>Array.from(Yt.querySelectorAll(Mt))).reduce((Yt,sn)=>[...Yt,...sn],[]).filter(Yt=>!!Yt):yt}(We,yt,at):function Xe(We,tt,at){let yt=tt===ce?ze(We,ce)[0]||null:We.querySelector(tt);yt=at&&!1===at.direct||yt?.parentElement===We?yt:null,yt=at?.matches?yt?.matches(at.matches)?yt:null:yt;const Mt=at?.selector;return Mt?yt?.querySelector(Mt):yt}(We,yt,at)}function ze(We,tt){return We?Array.from(We.children||[]).filter(at=>at?.matches(tt)):[]}function ct(We,tt,at){return"string"==typeof tt&&""!==tt?tt:""===tt?We[at]:void 0}function $e(We){return Boolean(We).toString()}function ut(We){return!!function qe(We){return We.target.assignedElements({flatten:!0})}(We).length}function ke(We){return!(!We.isPrimary||0!==We.button)}},21837:(nt,Te,M)=>{"use strict";M.d(Te,{ou:()=>xr,Qf:()=>We,vF:()=>Me,ld:()=>Oe});class D extends Error{}class T extends D{constructor(Pe){super(`Invalid DateTime: ${Pe.toMessage()}`)}}class te extends D{constructor(Pe){super(`Invalid Interval: ${Pe.toMessage()}`)}}class Z extends D{constructor(Pe){super(`Invalid Duration: ${Pe.toMessage()}`)}}class U extends D{}class ie extends D{constructor(Pe){super(`Invalid unit ${Pe}`)}}class k extends D{}class B extends D{constructor(){super("Zone is an abstract class")}}const R="numeric",W="short",V="long",Q={year:R,month:R,day:R},ne={year:R,month:W,day:R},J={year:R,month:W,day:R,weekday:W},X={year:R,month:V,day:R},Y={year:R,month:V,day:R,weekday:V},F={hour:R,minute:R},x={hour:R,minute:R,second:R},$={hour:R,minute:R,second:R,timeZoneName:W},N={hour:R,minute:R,second:R,timeZoneName:V},z={hour:R,minute:R,hourCycle:"h23"},q={hour:R,minute:R,second:R,hourCycle:"h23"},ee={hour:R,minute:R,second:R,hourCycle:"h23",timeZoneName:W},re={hour:R,minute:R,second:R,hourCycle:"h23",timeZoneName:V},le={year:R,month:R,day:R,hour:R,minute:R},_e={year:R,month:R,day:R,hour:R,minute:R,second:R},ae={year:R,month:W,day:R,hour:R,minute:R},he={year:R,month:W,day:R,hour:R,minute:R,second:R},se={year:R,month:W,day:R,weekday:W,hour:R,minute:R},ue={year:R,month:V,day:R,hour:R,minute:R,timeZoneName:W},ge={year:R,month:V,day:R,hour:R,minute:R,second:R,timeZoneName:W},be={year:R,month:V,day:R,weekday:V,hour:R,minute:R,timeZoneName:V},me={year:R,month:V,day:R,weekday:V,hour:R,minute:R,second:R,timeZoneName:V};class Oe{get type(){throw new B}get name(){throw new B}get ianaName(){return this.name}get isUniversal(){throw new B}offsetName(Pe,Ze){throw new B}formatOffset(Pe,Ze){throw new B}offset(Pe){throw new B}equals(Pe){throw new B}get isValid(){throw new B}}let oe=null;class de extends Oe{static get instance(){return null===oe&&(oe=new de),oe}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(Pe,{format:Ze,locale:rt}){return Cn(Pe,Ze,rt)}formatOffset(Pe,Ze){return Fn(this.offset(Pe),Ze)}offset(Pe){return-new Date(Pe).getTimezoneOffset()}equals(Pe){return"system"===Pe.type}get isValid(){return!0}}let ve={};const xe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let we={};class Me extends Oe{static create(Pe){return we[Pe]||(we[Pe]=new Me(Pe)),we[Pe]}static resetCache(){we={},ve={}}static isValidSpecifier(Pe){return this.isValidZone(Pe)}static isValidZone(Pe){if(!Pe)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:Pe}).format(),!0}catch{return!1}}constructor(Pe){super(),this.zoneName=Pe,this.valid=Me.isValidZone(Pe)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(Pe,{format:Ze,locale:rt}){return Cn(Pe,Ze,rt,this.name)}formatOffset(Pe,Ze){return Fn(this.offset(Pe),Ze)}offset(Pe){const Ze=new Date(Pe);if(isNaN(Ze))return NaN;const rt=function De(He){return ve[He]||(ve[He]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:He,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),ve[He]}(this.name);let[vt,Nt,At,nn,_n,Rn,Ur]=rt.formatToParts?function Re(He,Pe){const Ze=He.formatToParts(Pe),rt=[];for(let vt=0;vt<Ze.length;vt++){const{type:Nt,value:At}=Ze[vt],nn=xe[Nt];"era"===Nt?rt[nn]=At:bn(nn)||(rt[nn]=parseInt(At,10))}return rt}(rt,Ze):function Ce(He,Pe){const Ze=He.format(Pe).replace(/\u200E/g,""),rt=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(Ze),[,vt,Nt,At,nn,_n,Rn,Ur]=rt;return[At,vt,Nt,nn,_n,Rn,Ur]}(rt,Ze);"BC"===nn&&(vt=1-Math.abs(vt));let br=+Ze;const rs=br%1e3;return br-=rs>=0?rs:1e3+rs,(Pt({year:vt,month:Nt,day:At,hour:24===_n?0:_n,minute:Rn,second:Ur,millisecond:0})-br)/6e4}equals(Pe){return"iana"===Pe.type&&Pe.name===this.name}get isValid(){return this.valid}}let fe={},je={};function Je(He,Pe={}){const Ze=JSON.stringify([He,Pe]);let rt=je[Ze];return rt||(rt=new Intl.DateTimeFormat(He,Pe),je[Ze]=rt),rt}let Ie={},Ve={},ce=null;function ct(He,Pe,Ze,rt,vt){const Nt=He.listingMode(Ze);return"error"===Nt?null:"en"===Nt?rt(Pe):vt(Pe)}class $e{constructor(Pe,Ze,rt){this.padTo=rt.padTo||0,this.floor=rt.floor||!1;const{padTo:vt,floor:Nt,...At}=rt;if(!Ze||Object.keys(At).length>0){const nn={useGrouping:!1,...rt};rt.padTo>0&&(nn.minimumIntegerDigits=rt.padTo),this.inf=function Le(He,Pe={}){const Ze=JSON.stringify([He,Pe]);let rt=Ie[Ze];return rt||(rt=new Intl.NumberFormat(He,Pe),Ie[Ze]=rt),rt}(Pe,nn)}}format(Pe){if(this.inf){const Ze=this.floor?Math.floor(Pe):Pe;return this.inf.format(Ze)}return dn(this.floor?Math.floor(Pe):Tt(Pe,3),this.padTo)}}class ut{constructor(Pe,Ze,rt){let vt;if(this.opts=rt,Pe.zone.isUniversal){const At=Pe.offset/60*-1,nn=At>=0?`Etc/GMT+${At}`:`Etc/GMT${At}`;0!==Pe.offset&&Me.create(nn).valid?(vt=nn,this.dt=Pe):(vt="UTC",this.dt=rt.timeZoneName||0===Pe.offset?Pe:xr.fromMillis(Pe.ts+60*Pe.offset*1e3))}else"system"===Pe.zone.type?this.dt=Pe:(this.dt=Pe,vt=Pe.zone.name);const Nt={...this.opts};Nt.timeZone=Nt.timeZone||vt,this.dtf=Je(Ze,Nt)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class qe{constructor(Pe,Ze,rt){this.opts={style:"long",...rt},!Ze&&Lt()&&(this.rtf=function st(He,Pe={}){const{base:Ze,...rt}=Pe,vt=JSON.stringify([He,rt]);let Nt=Ve[vt];return Nt||(Nt=new Intl.RelativeTimeFormat(He,Pe),Ve[vt]=Nt),Nt}(Pe,rt))}format(Pe,Ze){return this.rtf?this.rtf.format(Pe,Ze):function $s(He,Pe,Ze="always",rt=!1){const vt={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},Nt=-1===["hours","minutes","seconds"].indexOf(He);if("auto"===Ze&&Nt){const Ss="days"===He;switch(Pe){case 1:return Ss?"tomorrow":`next ${vt[He][0]}`;case-1:return Ss?"yesterday":`last ${vt[He][0]}`;case 0:return Ss?"today":`this ${vt[He][0]}`}}const At=Object.is(Pe,-0)||Pe<0,nn=Math.abs(Pe),_n=1===nn,Rn=vt[He],Ur=rt?_n?Rn[1]:Rn[2]||Rn[1]:_n?vt[He][0]:He;return At?`${nn} ${Ur} ago`:`in ${nn} ${Ur}`}(Ze,Pe,this.opts.numeric,"long"!==this.opts.style)}formatToParts(Pe,Ze){return this.rtf?this.rtf.formatToParts(Pe,Ze):[]}}class ke{static fromOpts(Pe){return ke.create(Pe.locale,Pe.numberingSystem,Pe.outputCalendar,Pe.defaultToEN)}static create(Pe,Ze,rt,vt=!1){const Nt=Pe||hn.defaultLocale,At=Nt||(vt?"en-US":function Se(){return ce||(ce=(new Intl.DateTimeFormat).resolvedOptions().locale,ce)}());return new ke(At,Ze||hn.defaultNumberingSystem,rt||hn.defaultOutputCalendar,Nt)}static resetCache(){ce=null,je={},Ie={},Ve={}}static fromObject({locale:Pe,numberingSystem:Ze,outputCalendar:rt}={}){return ke.create(Pe,Ze,rt)}constructor(Pe,Ze,rt,vt){const[Nt,At,nn]=function ze(He){const Pe=He.indexOf("-x-");-1!==Pe&&(He=He.substring(0,Pe));const Ze=He.indexOf("-u-");if(-1===Ze)return[He];{let rt,vt;try{rt=Je(He).resolvedOptions(),vt=He}catch{const _n=He.substring(0,Ze);rt=Je(_n).resolvedOptions(),vt=_n}const{numberingSystem:Nt,calendar:At}=rt;return[vt,Nt,At]}}(Pe);this.locale=Nt,this.numberingSystem=Ze||At||null,this.outputCalendar=rt||nn||null,this.intl=function Ke(He,Pe,Ze){return(Ze||Pe)&&(He.includes("-u-")||(He+="-u"),Ze&&(He+=`-ca-${Ze}`),Pe&&(He+=`-nu-${Pe}`)),He}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=vt,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function ft(He){return(!He.numberingSystem||"latn"===He.numberingSystem)&&("latn"===He.numberingSystem||!He.locale||He.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(He.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(Pe){return Pe&&0!==Object.getOwnPropertyNames(Pe).length?ke.create(Pe.locale||this.specifiedLocale,Pe.numberingSystem||this.numberingSystem,Pe.outputCalendar||this.outputCalendar,Pe.defaultToEN||!1):this}redefaultToEN(Pe={}){return this.clone({...Pe,defaultToEN:!0})}redefaultToSystem(Pe={}){return this.clone({...Pe,defaultToEN:!1})}months(Pe,Ze=!1,rt=!0){return ct(this,Pe,rt,Vt,()=>{const vt=Ze?{month:Pe,day:"numeric"}:{month:Pe},Nt=Ze?"format":"standalone";return this.monthsCache[Nt][Pe]||(this.monthsCache[Nt][Pe]=function Xe(He){const Pe=[];for(let Ze=1;Ze<=12;Ze++){const rt=xr.utc(2016,Ze,1);Pe.push(He(rt))}return Pe}(At=>this.extract(At,vt,"month"))),this.monthsCache[Nt][Pe]})}weekdays(Pe,Ze=!1,rt=!0){return ct(this,Pe,rt,nr,()=>{const vt=Ze?{weekday:Pe,year:"numeric",month:"long",day:"numeric"}:{weekday:Pe},Nt=Ze?"format":"standalone";return this.weekdaysCache[Nt][Pe]||(this.weekdaysCache[Nt][Pe]=function et(He){const Pe=[];for(let Ze=1;Ze<=7;Ze++){const rt=xr.utc(2016,11,13+Ze);Pe.push(He(rt))}return Pe}(At=>this.extract(At,vt,"weekday"))),this.weekdaysCache[Nt][Pe]})}meridiems(Pe=!0){return ct(this,void 0,Pe,()=>rr,()=>{if(!this.meridiemCache){const Ze={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[xr.utc(2016,11,13,9),xr.utc(2016,11,13,19)].map(rt=>this.extract(rt,Ze,"dayperiod"))}return this.meridiemCache})}eras(Pe,Ze=!0){return ct(this,Pe,Ze,Zr,()=>{const rt={era:Pe};return this.eraCache[Pe]||(this.eraCache[Pe]=[xr.utc(-40,1,1),xr.utc(2017,1,1)].map(vt=>this.extract(vt,rt,"era"))),this.eraCache[Pe]})}extract(Pe,Ze,rt){const At=this.dtFormatter(Pe,Ze).formatToParts().find(nn=>nn.type.toLowerCase()===rt);return At?At.value:null}numberFormatter(Pe={}){return new $e(this.intl,Pe.forceSimple||this.fastNumbers,Pe)}dtFormatter(Pe,Ze={}){return new ut(Pe,this.intl,Ze)}relFormatter(Pe={}){return new qe(this.intl,this.isEnglish(),Pe)}listFormatter(Pe={}){return function ye(He,Pe={}){const Ze=JSON.stringify([He,Pe]);let rt=fe[Ze];return rt||(rt=new Intl.ListFormat(He,Pe),fe[Ze]=rt),rt}(this.intl,Pe)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(Pe){return this.locale===Pe.locale&&this.numberingSystem===Pe.numberingSystem&&this.outputCalendar===Pe.outputCalendar}}let Ge=null;class We extends Oe{static get utcInstance(){return null===Ge&&(Ge=new We(0)),Ge}static instance(Pe){return 0===Pe?We.utcInstance:new We(Pe)}static parseSpecifier(Pe){if(Pe){const Ze=Pe.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(Ze)return new We(Yn(Ze[1],Ze[2]))}return null}constructor(Pe){super(),this.fixed=Pe}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${Fn(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${Fn(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(Pe,Ze){return Fn(this.fixed,Ze)}get isUniversal(){return!0}offset(){return this.fixed}equals(Pe){return"fixed"===Pe.type&&Pe.fixed===this.fixed}get isValid(){return!0}}class tt extends Oe{constructor(Pe){super(),this.zoneName=Pe}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function at(He,Pe){if(bn(He)||null===He)return Pe;if(He instanceof Oe)return He;if(function pt(He){return"string"==typeof He}(He)){const rt=He.toLowerCase();return"default"===rt?Pe:"local"===rt||"system"===rt?de.instance:"utc"===rt||"gmt"===rt?We.utcInstance:We.parseSpecifier(rt)||Me.create(He)}return jn(He)?We.instance(He):"object"==typeof He&&He.offset&&"number"==typeof He.offset?He:new tt(He)}let zt,yt=()=>Date.now(),Mt="system",Yt=null,sn=null,un=null,Sn=60;class hn{static get now(){return yt}static set now(Pe){yt=Pe}static set defaultZone(Pe){Mt=Pe}static get defaultZone(){return at(Mt,de.instance)}static get defaultLocale(){return Yt}static set defaultLocale(Pe){Yt=Pe}static get defaultNumberingSystem(){return sn}static set defaultNumberingSystem(Pe){sn=Pe}static get defaultOutputCalendar(){return un}static set defaultOutputCalendar(Pe){un=Pe}static get twoDigitCutoffYear(){return Sn}static set twoDigitCutoffYear(Pe){Sn=Pe%100}static get throwOnInvalid(){return zt}static set throwOnInvalid(Pe){zt=Pe}static resetCaches(){ke.resetCache(),Me.resetCache()}}function bn(He){return typeof He>"u"}function jn(He){return"number"==typeof He}function zn(He){return"number"==typeof He&&He%1==0}function Lt(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Xt(He,Pe,Ze){if(0!==He.length)return He.reduce((rt,vt)=>{const Nt=[Pe(vt),vt];return rt&&Ze(rt[0],Nt[0])===rt[0]?rt:Nt},null)[1]}function Wt(He,Pe){return Object.prototype.hasOwnProperty.call(He,Pe)}function Zt(He,Pe,Ze){return zn(He)&&He>=Pe&&He<=Ze}function dn(He,Pe=2){let rt;return rt=He<0?"-"+(""+-He).padStart(Pe,"0"):(""+He).padStart(Pe,"0"),rt}function wn(He){if(!bn(He)&&null!==He&&""!==He)return parseInt(He,10)}function Wn(He){if(!bn(He)&&null!==He&&""!==He)return parseFloat(He)}function Et(He){if(!bn(He)&&null!==He&&""!==He){const Pe=1e3*parseFloat("0."+He);return Math.floor(Pe)}}function Tt(He,Pe,Ze=!1){const rt=10**Pe;return(Ze?Math.trunc:Math.round)(He*rt)/rt}function Bt(He){return He%4==0&&(He%100!=0||He%400==0)}function fn(He){return Bt(He)?366:365}function dt(He,Pe){const Ze=function gn(He,Pe){return He-Pe*Math.floor(He/Pe)}(Pe-1,12)+1;return 2===Ze?Bt(He+(Pe-Ze)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][Ze-1]}function Pt(He){let Pe=Date.UTC(He.year,He.month-1,He.day,He.hour,He.minute,He.second,He.millisecond);return He.year<100&&He.year>=0&&(Pe=new Date(Pe),Pe.setUTCFullYear(Pe.getUTCFullYear()-1900)),+Pe}function $t(He){const Pe=(He+Math.floor(He/4)-Math.floor(He/100)+Math.floor(He/400))%7,Ze=He-1,rt=(Ze+Math.floor(Ze/4)-Math.floor(Ze/100)+Math.floor(Ze/400))%7;return 4===Pe||3===rt?53:52}function tn(He){return He>99?He:He>hn.twoDigitCutoffYear?1900+He:2e3+He}function Cn(He,Pe,Ze,rt=null){const vt=new Date(He),Nt={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};rt&&(Nt.timeZone=rt);const At={timeZoneName:Pe,...Nt},nn=new Intl.DateTimeFormat(Ze,At).formatToParts(vt).find(_n=>"timezonename"===_n.type.toLowerCase());return nn?nn.value:null}function Yn(He,Pe){let Ze=parseInt(He,10);Number.isNaN(Ze)&&(Ze=0);const rt=parseInt(Pe,10)||0;return 60*Ze+(Ze<0||Object.is(Ze,-0)?-rt:rt)}function dr(He){const Pe=Number(He);if("boolean"==typeof He||""===He||Number.isNaN(Pe))throw new k(`Invalid unit value ${He}`);return Pe}function ts(He,Pe){const Ze={};for(const rt in He)if(Wt(He,rt)){const vt=He[rt];if(null==vt)continue;Ze[Pe(rt)]=dr(vt)}return Ze}function Fn(He,Pe){const Ze=Math.trunc(Math.abs(He/60)),rt=Math.trunc(Math.abs(He%60)),vt=He>=0?"+":"-";switch(Pe){case"short":return`${vt}${dn(Ze,2)}:${dn(rt,2)}`;case"narrow":return`${vt}${Ze}${rt>0?`:${rt}`:""}`;case"techie":return`${vt}${dn(Ze,2)}${dn(rt,2)}`;default:throw new RangeError(`Value format ${Pe} is out of range for property format`)}}function Ne(He){return function Jt(He,Pe){return Pe.reduce((Ze,rt)=>(Ze[rt]=He[rt],Ze),{})}(He,["hour","minute","second","millisecond"])}const Ye=["January","February","March","April","May","June","July","August","September","October","November","December"],ot=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ot=["J","F","M","A","M","J","J","A","S","O","N","D"];function Vt(He){switch(He){case"narrow":return[...Ot];case"short":return[...ot];case"long":return[...Ye];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const pn=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],En=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],xn=["M","T","W","T","F","S","S"];function nr(He){switch(He){case"narrow":return[...xn];case"short":return[...En];case"long":return[...pn];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const rr=["AM","PM"],Un=["Before Christ","Anno Domini"],lr=["BC","AD"],Or=["B","A"];function Zr(He){switch(He){case"narrow":return[...Or];case"short":return[...lr];case"long":return[...Un];default:return null}}function Ut(He,Pe){let Ze="";for(const rt of He)Ze+=rt.literal?rt.val:Pe(rt.val);return Ze}const Jr={D:Q,DD:ne,DDD:X,DDDD:Y,t:F,tt:x,ttt:$,tttt:N,T:z,TT:q,TTT:ee,TTTT:re,f:le,ff:ae,fff:ue,ffff:be,F:_e,FF:he,FFF:ge,FFFF:me};class _r{static create(Pe,Ze={}){return new _r(Pe,Ze)}static parseFormat(Pe){let Ze=null,rt="",vt=!1;const Nt=[];for(let At=0;At<Pe.length;At++){const nn=Pe.charAt(At);"'"===nn?(rt.length>0&&Nt.push({literal:vt,val:rt}),Ze=null,rt="",vt=!vt):vt||nn===Ze?rt+=nn:(rt.length>0&&Nt.push({literal:!1,val:rt}),rt=nn,Ze=nn)}return rt.length>0&&Nt.push({literal:vt,val:rt}),Nt}static macroTokenToFormatOpts(Pe){return Jr[Pe]}constructor(Pe,Ze){this.opts=Ze,this.loc=Pe,this.systemLoc=null}formatWithSystemDefault(Pe,Ze){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(Pe,{...this.opts,...Ze}).format()}formatDateTime(Pe,Ze={}){return this.loc.dtFormatter(Pe,{...this.opts,...Ze}).format()}formatDateTimeParts(Pe,Ze={}){return this.loc.dtFormatter(Pe,{...this.opts,...Ze}).formatToParts()}formatInterval(Pe,Ze={}){return this.loc.dtFormatter(Pe.start,{...this.opts,...Ze}).dtf.formatRange(Pe.start.toJSDate(),Pe.end.toJSDate())}resolvedOptions(Pe,Ze={}){return this.loc.dtFormatter(Pe,{...this.opts,...Ze}).resolvedOptions()}num(Pe,Ze=0){if(this.opts.forceSimple)return dn(Pe,Ze);const rt={...this.opts};return Ze>0&&(rt.padTo=Ze),this.loc.numberFormatter(rt).format(Pe)}formatDateTimeFromString(Pe,Ze){const rt="en"===this.loc.listingMode(),vt=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,Nt=(br,rs)=>this.loc.extract(Pe,br,rs),At=br=>Pe.isOffsetFixed&&0===Pe.offset&&br.allowZ?"Z":Pe.isValid?Pe.zone.formatOffset(Pe.ts,br.format):"",_n=(br,rs)=>rt?function Br(He,Pe){return Vt(Pe)[He.month-1]}(Pe,br):Nt(rs?{month:br}:{month:br,day:"numeric"},"month"),Rn=(br,rs)=>rt?function ds(He,Pe){return nr(Pe)[He.weekday-1]}(Pe,br):Nt(rs?{weekday:br}:{weekday:br,month:"long",day:"numeric"},"weekday"),Ur=br=>{const rs=_r.macroTokenToFormatOpts(br);return rs?this.formatWithSystemDefault(Pe,rs):br},Ss=br=>rt?function ti(He,Pe){return Zr(Pe)[He.year<0?0:1]}(Pe,br):Nt({era:br},"era");return Ut(_r.parseFormat(Ze),br=>{switch(br){case"S":return this.num(Pe.millisecond);case"u":case"SSS":return this.num(Pe.millisecond,3);case"s":return this.num(Pe.second);case"ss":return this.num(Pe.second,2);case"uu":return this.num(Math.floor(Pe.millisecond/10),2);case"uuu":return this.num(Math.floor(Pe.millisecond/100));case"m":return this.num(Pe.minute);case"mm":return this.num(Pe.minute,2);case"h":return this.num(Pe.hour%12==0?12:Pe.hour%12);case"hh":return this.num(Pe.hour%12==0?12:Pe.hour%12,2);case"H":return this.num(Pe.hour);case"HH":return this.num(Pe.hour,2);case"Z":return At({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return At({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return At({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return Pe.zone.offsetName(Pe.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return Pe.zone.offsetName(Pe.ts,{format:"long",locale:this.loc.locale});case"z":return Pe.zoneName;case"a":return rt?function Qn(He){return rr[He.hour<12?0:1]}(Pe):Nt({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return vt?Nt({day:"numeric"},"day"):this.num(Pe.day);case"dd":return vt?Nt({day:"2-digit"},"day"):this.num(Pe.day,2);case"c":case"E":return this.num(Pe.weekday);case"ccc":return Rn("short",!0);case"cccc":return Rn("long",!0);case"ccccc":return Rn("narrow",!0);case"EEE":return Rn("short",!1);case"EEEE":return Rn("long",!1);case"EEEEE":return Rn("narrow",!1);case"L":return vt?Nt({month:"numeric",day:"numeric"},"month"):this.num(Pe.month);case"LL":return vt?Nt({month:"2-digit",day:"numeric"},"month"):this.num(Pe.month,2);case"LLL":return _n("short",!0);case"LLLL":return _n("long",!0);case"LLLLL":return _n("narrow",!0);case"M":return vt?Nt({month:"numeric"},"month"):this.num(Pe.month);case"MM":return vt?Nt({month:"2-digit"},"month"):this.num(Pe.month,2);case"MMM":return _n("short",!1);case"MMMM":return _n("long",!1);case"MMMMM":return _n("narrow",!1);case"y":return vt?Nt({year:"numeric"},"year"):this.num(Pe.year);case"yy":return vt?Nt({year:"2-digit"},"year"):this.num(Pe.year.toString().slice(-2),2);case"yyyy":return vt?Nt({year:"numeric"},"year"):this.num(Pe.year,4);case"yyyyyy":return vt?Nt({year:"numeric"},"year"):this.num(Pe.year,6);case"G":return Ss("short");case"GG":return Ss("long");case"GGGGG":return Ss("narrow");case"kk":return this.num(Pe.weekYear.toString().slice(-2),2);case"kkkk":return this.num(Pe.weekYear,4);case"W":return this.num(Pe.weekNumber);case"WW":return this.num(Pe.weekNumber,2);case"o":return this.num(Pe.ordinal);case"ooo":return this.num(Pe.ordinal,3);case"q":return this.num(Pe.quarter);case"qq":return this.num(Pe.quarter,2);case"X":return this.num(Math.floor(Pe.ts/1e3));case"x":return this.num(Pe.ts);default:return Ur(br)}})}formatDurationFromString(Pe,Ze){const rt=_n=>{switch(_n[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},Nt=_r.parseFormat(Ze),At=Nt.reduce((_n,{literal:Rn,val:Ur})=>Rn?_n:_n.concat(Ur),[]);return Ut(Nt,(_n=>Rn=>{const Ur=rt(Rn);return Ur?this.num(_n.get(Ur),Rn.length):Rn})(Pe.shiftTo(...At.map(rt).filter(_n=>_n))))}}class Wr{constructor(Pe,Ze){this.reason=Pe,this.explanation=Ze}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const wr=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ht(...He){const Pe=He.reduce((Ze,rt)=>Ze+rt.source,"");return RegExp(`^${Pe}$`)}function jr(...He){return Pe=>He.reduce(([Ze,rt,vt],Nt)=>{const[At,nn,_n]=Nt(Pe,vt);return[{...Ze,...At},nn||rt,_n]},[{},null,1]).slice(0,2)}function Dn(He,...Pe){if(null==He)return[null,null];for(const[Ze,rt]of Pe){const vt=Ze.exec(He);if(vt)return rt(vt)}return[null,null]}function vr(...He){return(Pe,Ze)=>{const rt={};let vt;for(vt=0;vt<He.length;vt++)rt[He[vt]]=wn(Pe[Ze+vt]);return[rt,null,Ze+vt]}}const _t=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,mt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Rt=RegExp(`${mt.source}(?:${_t.source}?(?:\\[(${wr.source})\\])?)?`),en=RegExp(`(?:T${Rt.source})?`),$n=vr("weekYear","weekNumber","weekDay"),ur=vr("year","ordinal"),Er=RegExp(`${mt.source} ?(?:${_t.source}|(${wr.source}))?`),Xr=RegExp(`(?: ${Er.source})?`);function Cr(He,Pe,Ze){const rt=He[Pe];return bn(rt)?Ze:wn(rt)}function qn(He,Pe){return[{hours:Cr(He,Pe,0),minutes:Cr(He,Pe+1,0),seconds:Cr(He,Pe+2,0),milliseconds:Et(He[Pe+3])},null,Pe+4]}function ni(He,Pe){const Ze=!He[Pe]&&!He[Pe+1],rt=Yn(He[Pe+1],He[Pe+2]);return[{},Ze?null:We.instance(rt),Pe+3]}function Yr(He,Pe){return[{},He[Pe]?Me.create(He[Pe]):null,Pe+1]}const Nr=RegExp(`^T?${mt.source}$`),Ho=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Fs(He){const[Pe,Ze,rt,vt,Nt,At,nn,_n,Rn]=He,Ur="-"===Pe[0],Ss=_n&&"-"===_n[0],ys=(br,rs=!1)=>void 0!==br&&(rs||br&&Ur)?-br:br;return[{years:ys(Wn(Ze)),months:ys(Wn(rt)),weeks:ys(Wn(vt)),days:ys(Wn(Nt)),hours:ys(Wn(At)),minutes:ys(Wn(nn)),seconds:ys(Wn(_n),"-0"===_n),milliseconds:ys(Et(Rn),Ss)}]}const Ii={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function kn(He,Pe,Ze,rt,vt,Nt,At){const nn={year:2===Pe.length?tn(wn(Pe)):wn(Pe),month:ot.indexOf(Ze)+1,day:wn(rt),hour:wn(vt),minute:wn(Nt)};return At&&(nn.second=wn(At)),He&&(nn.weekday=He.length>3?pn.indexOf(He)+1:En.indexOf(He)+1),nn}const Dt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function ln(He){const[,Pe,Ze,rt,vt,Nt,At,nn,_n,Rn,Ur,Ss]=He,ys=kn(Pe,vt,rt,Ze,Nt,At,nn);let br;return br=_n?Ii[_n]:Rn?0:Yn(Ur,Ss),[ys,new We(br)]}const or=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ls=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Qr=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ks(He){const[,Pe,Ze,rt,vt,Nt,At,nn]=He;return[kn(Pe,vt,rt,Ze,Nt,At,nn),We.utcInstance]}function vo(He){const[,Pe,Ze,rt,vt,Nt,At,nn]=He;return[kn(Pe,nn,Ze,rt,vt,Nt,At),We.utcInstance]}const Qe=Ht(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,en),it=Ht(/(\d{4})-?W(\d\d)(?:-?(\d))?/,en),gt=Ht(/(\d{4})-?(\d{3})/,en),St=Ht(Rt),Ct=jr(function li(He,Pe){return[{year:Cr(He,Pe),month:Cr(He,Pe+1,1),day:Cr(He,Pe+2,1)},null,Pe+3]},qn,ni,Yr),jt=jr($n,qn,ni,Yr),Qt=jr(ur,qn,ni,Yr),on=jr(qn,ni,Yr),Mr=jr(qn),Hs=Ht(/(\d{4})-(\d\d)-(\d\d)/,Xr),ui=Ht(Er),Is=jr(qn,ni,Yr),_i={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Cp={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},..._i},ri=365.2425,ro=30.436875,Im={years:{quarters:4,months:12,weeks:ri/7,days:ri,hours:24*ri,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:ri/28,days:ri/4,hours:24*ri/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:ro/7,days:ro,hours:24*ro,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},..._i},sr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Mp=sr.slice(0).reverse();function Dr(He,Pe,Ze=!1){const rt={values:Ze?Pe.values:{...He.values,...Pe.values||{}},loc:He.loc.clone(Pe.loc),conversionAccuracy:Pe.conversionAccuracy||He.conversionAccuracy,matrix:Pe.matrix||He.matrix};return new qr(rt)}function Wu(He,Pe,Ze,rt,vt){const Nt=He[vt][Ze],At=Pe[Ze]/Nt,_n=Math.sign(At)!==Math.sign(rt[vt])&&0!==rt[vt]&&Math.abs(At)<=1?function Bu(He){return He<0?Math.floor(He):Math.ceil(He)}(At):Math.trunc(At);rt[vt]+=_n,Pe[Ze]-=_n*Nt}class qr{constructor(Pe){const Ze="longterm"===Pe.conversionAccuracy||!1;let rt=Ze?Im:Cp;Pe.matrix&&(rt=Pe.matrix),this.values=Pe.values,this.loc=Pe.loc||ke.create(),this.conversionAccuracy=Ze?"longterm":"casual",this.invalid=Pe.invalid||null,this.matrix=rt,this.isLuxonDuration=!0}static fromMillis(Pe,Ze){return qr.fromObject({milliseconds:Pe},Ze)}static fromObject(Pe,Ze={}){if(null==Pe||"object"!=typeof Pe)throw new k("Duration.fromObject: argument expected to be an object, got "+(null===Pe?"null":typeof Pe));return new qr({values:ts(Pe,qr.normalizeUnit),loc:ke.fromObject(Ze),conversionAccuracy:Ze.conversionAccuracy,matrix:Ze.matrix})}static fromDurationLike(Pe){if(jn(Pe))return qr.fromMillis(Pe);if(qr.isDuration(Pe))return Pe;if("object"==typeof Pe)return qr.fromObject(Pe);throw new k(`Unknown duration argument ${Pe} of type ${typeof Pe}`)}static fromISO(Pe,Ze){const[rt]=function Xn(He){return Dn(He,[Ho,Fs])}(Pe);return rt?qr.fromObject(rt,Ze):qr.invalid("unparsable",`the input "${Pe}" can't be parsed as ISO 8601`)}static fromISOTime(Pe,Ze){const[rt]=function Es(He){return Dn(He,[Nr,Mr])}(Pe);return rt?qr.fromObject(rt,Ze):qr.invalid("unparsable",`the input "${Pe}" can't be parsed as ISO 8601`)}static invalid(Pe,Ze=null){if(!Pe)throw new k("need to specify a reason the Duration is invalid");const rt=Pe instanceof Wr?Pe:new Wr(Pe,Ze);if(hn.throwOnInvalid)throw new Z(rt);return new qr({invalid:rt})}static normalizeUnit(Pe){const Ze={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[Pe&&Pe.toLowerCase()];if(!Ze)throw new ie(Pe);return Ze}static isDuration(Pe){return Pe&&Pe.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(Pe,Ze={}){const rt={...Ze,floor:!1!==Ze.round&&!1!==Ze.floor};return this.isValid?_r.create(this.loc,rt).formatDurationFromString(this,Pe):"Invalid Duration"}toHuman(Pe={}){const Ze=sr.map(rt=>{const vt=this.values[rt];return bn(vt)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...Pe,unit:rt.slice(0,-1)}).format(vt)}).filter(rt=>rt);return this.loc.listFormatter({type:"conjunction",style:Pe.listStyle||"narrow",...Pe}).format(Ze)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let Pe="P";return 0!==this.years&&(Pe+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(Pe+=this.months+3*this.quarters+"M"),0!==this.weeks&&(Pe+=this.weeks+"W"),0!==this.days&&(Pe+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(Pe+="T"),0!==this.hours&&(Pe+=this.hours+"H"),0!==this.minutes&&(Pe+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(Pe+=Tt(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===Pe&&(Pe+="T0S"),Pe}toISOTime(Pe={}){if(!this.isValid)return null;const Ze=this.toMillis();if(Ze<0||Ze>=864e5)return null;Pe={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...Pe};const rt=this.shiftTo("hours","minutes","seconds","milliseconds");let vt="basic"===Pe.format?"hhmm":"hh:mm";(!Pe.suppressSeconds||0!==rt.seconds||0!==rt.milliseconds)&&(vt+="basic"===Pe.format?"ss":":ss",(!Pe.suppressMilliseconds||0!==rt.milliseconds)&&(vt+=".SSS"));let Nt=rt.toFormat(vt);return Pe.includePrefix&&(Nt="T"+Nt),Nt}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(Pe){if(!this.isValid)return this;const Ze=qr.fromDurationLike(Pe),rt={};for(const vt of sr)(Wt(Ze.values,vt)||Wt(this.values,vt))&&(rt[vt]=Ze.get(vt)+this.get(vt));return Dr(this,{values:rt},!0)}minus(Pe){if(!this.isValid)return this;const Ze=qr.fromDurationLike(Pe);return this.plus(Ze.negate())}mapUnits(Pe){if(!this.isValid)return this;const Ze={};for(const rt of Object.keys(this.values))Ze[rt]=dr(Pe(this.values[rt],rt));return Dr(this,{values:Ze},!0)}get(Pe){return this[qr.normalizeUnit(Pe)]}set(Pe){return this.isValid?Dr(this,{values:{...this.values,...ts(Pe,qr.normalizeUnit)}}):this}reconfigure({locale:Pe,numberingSystem:Ze,conversionAccuracy:rt,matrix:vt}={}){return Dr(this,{loc:this.loc.clone({locale:Pe,numberingSystem:Ze}),matrix:vt,conversionAccuracy:rt})}as(Pe){return this.isValid?this.shiftTo(Pe).get(Pe):NaN}normalize(){if(!this.isValid)return this;const Pe=this.toObject();return function Gl(He,Pe){Mp.reduce((Ze,rt)=>bn(Pe[rt])?Ze:(Ze&&Wu(He,Pe,Ze,Pe,rt),rt),null)}(this.matrix,Pe),Dr(this,{values:Pe},!0)}rescale(){return this.isValid?Dr(this,{values:function Pm(He){const Pe={};for(const[Ze,rt]of Object.entries(He))0!==rt&&(Pe[Ze]=rt);return Pe}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...Pe){if(!this.isValid)return this;if(0===Pe.length)return this;Pe=Pe.map(At=>qr.normalizeUnit(At));const Ze={},rt={},vt=this.toObject();let Nt;for(const At of sr)if(Pe.indexOf(At)>=0){Nt=At;let nn=0;for(const Rn in rt)nn+=this.matrix[Rn][At]*rt[Rn],rt[Rn]=0;jn(vt[At])&&(nn+=vt[At]);const _n=Math.trunc(nn);Ze[At]=_n,rt[At]=(1e3*nn-1e3*_n)/1e3;for(const Rn in vt)sr.indexOf(Rn)>sr.indexOf(At)&&Wu(this.matrix,vt,Rn,Ze,At)}else jn(vt[At])&&(rt[At]=vt[At]);for(const At in rt)0!==rt[At]&&(Ze[Nt]+=At===Nt?rt[At]:rt[At]/this.matrix[Nt][At]);return Dr(this,{values:Ze},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const Pe={};for(const Ze of Object.keys(this.values))Pe[Ze]=0===this.values[Ze]?0:-this.values[Ze];return Dr(this,{values:Pe},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(Pe){if(!this.isValid||!Pe.isValid||!this.loc.equals(Pe.loc))return!1;function Ze(rt,vt){return void 0===rt||0===rt?void 0===vt||0===vt:rt===vt}for(const rt of sr)if(!Ze(this.values[rt],Pe.values[rt]))return!1;return!0}}const ll="Invalid Interval";class is{constructor(Pe){this.s=Pe.start,this.e=Pe.end,this.invalid=Pe.invalid||null,this.isLuxonInterval=!0}static invalid(Pe,Ze=null){if(!Pe)throw new k("need to specify a reason the Interval is invalid");const rt=Pe instanceof Wr?Pe:new Wr(Pe,Ze);if(hn.throwOnInvalid)throw new te(rt);return new is({invalid:rt})}static fromDateTimes(Pe,Ze){const rt=Gu(Pe),vt=Gu(Ze),Nt=function Ro(He,Pe){return He&&He.isValid?Pe&&Pe.isValid?Pe<He?is.invalid("end before start",`The end of an interval must be after its start, but you had start=${He.toISO()} and end=${Pe.toISO()}`):null:is.invalid("missing or invalid end"):is.invalid("missing or invalid start")}(rt,vt);return Nt??new is({start:rt,end:vt})}static after(Pe,Ze){const rt=qr.fromDurationLike(Ze),vt=Gu(Pe);return is.fromDateTimes(vt,vt.plus(rt))}static before(Pe,Ze){const rt=qr.fromDurationLike(Ze),vt=Gu(Pe);return is.fromDateTimes(vt.minus(rt),vt)}static fromISO(Pe,Ze){const[rt,vt]=(Pe||"").split("/",2);if(rt&&vt){let Nt,At,nn,_n;try{Nt=xr.fromISO(rt,Ze),At=Nt.isValid}catch{At=!1}try{nn=xr.fromISO(vt,Ze),_n=nn.isValid}catch{_n=!1}if(At&&_n)return is.fromDateTimes(Nt,nn);if(At){const Rn=qr.fromISO(vt,Ze);if(Rn.isValid)return is.after(Nt,Rn)}else if(_n){const Rn=qr.fromISO(rt,Ze);if(Rn.isValid)return is.before(nn,Rn)}}return is.invalid("unparsable",`the input "${Pe}" can't be parsed as ISO 8601`)}static isInterval(Pe){return Pe&&Pe.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(Pe="milliseconds"){return this.isValid?this.toDuration(Pe).get(Pe):NaN}count(Pe="milliseconds"){if(!this.isValid)return NaN;const Ze=this.start.startOf(Pe),rt=this.end.startOf(Pe);return Math.floor(rt.diff(Ze,Pe).get(Pe))+1}hasSame(Pe){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,Pe))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(Pe){return!!this.isValid&&this.s>Pe}isBefore(Pe){return!!this.isValid&&this.e<=Pe}contains(Pe){return!!this.isValid&&this.s<=Pe&&this.e>Pe}set({start:Pe,end:Ze}={}){return this.isValid?is.fromDateTimes(Pe||this.s,Ze||this.e):this}splitAt(...Pe){if(!this.isValid)return[];const Ze=Pe.map(Gu).filter(At=>this.contains(At)).sort(),rt=[];let{s:vt}=this,Nt=0;for(;vt<this.e;){const At=Ze[Nt]||this.e,nn=+At>+this.e?this.e:At;rt.push(is.fromDateTimes(vt,nn)),vt=nn,Nt+=1}return rt}splitBy(Pe){const Ze=qr.fromDurationLike(Pe);if(!this.isValid||!Ze.isValid||0===Ze.as("milliseconds"))return[];let Nt,{s:rt}=this,vt=1;const At=[];for(;rt<this.e;){const nn=this.start.plus(Ze.mapUnits(_n=>_n*vt));Nt=+nn>+this.e?this.e:nn,At.push(is.fromDateTimes(rt,Nt)),rt=Nt,vt+=1}return At}divideEqually(Pe){return this.isValid?this.splitBy(this.length()/Pe).slice(0,Pe):[]}overlaps(Pe){return this.e>Pe.s&&this.s<Pe.e}abutsStart(Pe){return!!this.isValid&&+this.e==+Pe.s}abutsEnd(Pe){return!!this.isValid&&+Pe.e==+this.s}engulfs(Pe){return!!this.isValid&&this.s<=Pe.s&&this.e>=Pe.e}equals(Pe){return!(!this.isValid||!Pe.isValid)&&this.s.equals(Pe.s)&&this.e.equals(Pe.e)}intersection(Pe){if(!this.isValid)return this;const Ze=this.s>Pe.s?this.s:Pe.s,rt=this.e<Pe.e?this.e:Pe.e;return Ze>=rt?null:is.fromDateTimes(Ze,rt)}union(Pe){return this.isValid?is.fromDateTimes(this.s<Pe.s?this.s:Pe.s,this.e>Pe.e?this.e:Pe.e):this}static merge(Pe){const[Ze,rt]=Pe.sort((vt,Nt)=>vt.s-Nt.s).reduce(([vt,Nt],At)=>Nt?Nt.overlaps(At)||Nt.abutsStart(At)?[vt,Nt.union(At)]:[vt.concat([Nt]),At]:[vt,At],[[],null]);return rt&&Ze.push(rt),Ze}static xor(Pe){let Ze=null,rt=0;const vt=[],Nt=Pe.map(_n=>[{time:_n.s,type:"s"},{time:_n.e,type:"e"}]),nn=Array.prototype.concat(...Nt).sort((_n,Rn)=>_n.time-Rn.time);for(const _n of nn)rt+="s"===_n.type?1:-1,1===rt?Ze=_n.time:(Ze&&+Ze!=+_n.time&&vt.push(is.fromDateTimes(Ze,_n.time)),Ze=null);return is.merge(vt)}difference(...Pe){return is.xor([this].concat(Pe)).map(Ze=>this.intersection(Ze)).filter(Ze=>Ze&&!Ze.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:ll}toLocaleString(Pe=Q,Ze={}){return this.isValid?_r.create(this.s.loc.clone(Ze),Pe).formatInterval(this):ll}toISO(Pe){return this.isValid?`${this.s.toISO(Pe)}/${this.e.toISO(Pe)}`:ll}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:ll}toISOTime(Pe){return this.isValid?`${this.s.toISOTime(Pe)}/${this.e.toISOTime(Pe)}`:ll}toFormat(Pe,{separator:Ze=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(Pe)}${Ze}${this.e.toFormat(Pe)}`:ll}toDuration(Pe,Ze){return this.isValid?this.e.diff(this.s,Pe,Ze):qr.invalid(this.invalidReason)}mapEndpoints(Pe){return is.fromDateTimes(Pe(this.s),Pe(this.e))}}class Pi{static hasDST(Pe=hn.defaultZone){const Ze=xr.now().setZone(Pe).set({month:12});return!Pe.isUniversal&&Ze.offset!==Ze.set({month:6}).offset}static isValidIANAZone(Pe){return Me.isValidZone(Pe)}static normalizeZone(Pe){return at(Pe,hn.defaultZone)}static months(Pe="long",{locale:Ze=null,numberingSystem:rt=null,locObj:vt=null,outputCalendar:Nt="gregory"}={}){return(vt||ke.create(Ze,rt,Nt)).months(Pe)}static monthsFormat(Pe="long",{locale:Ze=null,numberingSystem:rt=null,locObj:vt=null,outputCalendar:Nt="gregory"}={}){return(vt||ke.create(Ze,rt,Nt)).months(Pe,!0)}static weekdays(Pe="long",{locale:Ze=null,numberingSystem:rt=null,locObj:vt=null}={}){return(vt||ke.create(Ze,rt,null)).weekdays(Pe)}static weekdaysFormat(Pe="long",{locale:Ze=null,numberingSystem:rt=null,locObj:vt=null}={}){return(vt||ke.create(Ze,rt,null)).weekdays(Pe,!0)}static meridiems({locale:Pe=null}={}){return ke.create(Pe).meridiems()}static eras(Pe="short",{locale:Ze=null}={}){return ke.create(Ze,null,"gregory").eras(Pe)}static features(){return{relative:Lt()}}}function Eo(He,Pe){const Ze=vt=>vt.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),rt=Ze(Pe)-Ze(He);return Math.floor(qr.fromMillis(rt).as("days"))}const kl={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},$u={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Dp=kl.hanidec.replace(/[\[|\]]/g,"").split("");function ci({numberingSystem:He},Pe=""){return new RegExp(`${kl[He||"latn"]}${Pe}`)}const Tm="missing Intl.DateTimeFormat.formatToParts support";function Gr(He,Pe=(Ze=>Ze)){return{regex:He,deser:([Ze])=>Pe(function Lo(He){let Pe=parseInt(He,10);if(isNaN(Pe)){Pe="";for(let Ze=0;Ze<He.length;Ze++){const rt=He.charCodeAt(Ze);if(-1!==He[Ze].search(kl.hanidec))Pe+=Dp.indexOf(He[Ze]);else for(const vt in $u){const[Nt,At]=$u[vt];rt>=Nt&&rt<=At&&(Pe+=rt-Nt)}}return parseInt(Pe,10)}return Pe}(Ze))}}const Sp=`[ ${String.fromCharCode(160)}]`,Op=new RegExp(Sp,"g");function bo(He){return He.replace(/\./g,"\\.?").replace(Op,Sp)}function wp(He){return He.replace(/\./g,"").replace(Op," ").toLowerCase()}function $i(He,Pe){return null===He?null:{regex:RegExp(He.map(bo).join("|")),deser:([Ze])=>He.findIndex(rt=>wp(Ze)===wp(rt))+Pe}}function fr(He,Pe){return{regex:He,deser:([,Ze,rt])=>Yn(Ze,rt),groups:Pe}}function si(He){return{regex:He,deser:([Pe])=>Pe}}function as(He){return He.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const vi={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let cl=null;function Ir(He,Pe){return Array.prototype.concat(...He.map(Ze=>function Hn(He,Pe){if(He.literal)return He;const rt=Jo(_r.macroTokenToFormatOpts(He.val),Pe);return null==rt||rt.includes(void 0)?He:rt}(Ze,Pe)))}function Ds(He,Pe,Ze){const rt=Ir(_r.parseFormat(Ze),He),vt=rt.map(At=>function ii(He,Pe){const Ze=ci(Pe),rt=ci(Pe,"{2}"),vt=ci(Pe,"{3}"),Nt=ci(Pe,"{4}"),At=ci(Pe,"{6}"),nn=ci(Pe,"{1,2}"),_n=ci(Pe,"{1,3}"),Rn=ci(Pe,"{1,6}"),Ur=ci(Pe,"{1,9}"),Ss=ci(Pe,"{2,4}"),ys=ci(Pe,"{4,6}"),br=oo=>({regex:RegExp(as(oo.val)),deser:([ku])=>ku,literal:!0}),Yo=(oo=>{if(He.literal)return br(oo);switch(oo.val){case"G":return $i(Pe.eras("short",!1),0);case"GG":return $i(Pe.eras("long",!1),0);case"y":return Gr(Rn);case"yy":case"kk":return Gr(Ss,tn);case"yyyy":case"kkkk":return Gr(Nt);case"yyyyy":return Gr(ys);case"yyyyyy":return Gr(At);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Gr(nn);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Gr(rt);case"MMM":return $i(Pe.months("short",!0,!1),1);case"MMMM":return $i(Pe.months("long",!0,!1),1);case"LLL":return $i(Pe.months("short",!1,!1),1);case"LLLL":return $i(Pe.months("long",!1,!1),1);case"o":case"S":return Gr(_n);case"ooo":case"SSS":return Gr(vt);case"u":return si(Ur);case"uu":return si(nn);case"uuu":case"E":case"c":return Gr(Ze);case"a":return $i(Pe.meridiems(),0);case"EEE":return $i(Pe.weekdays("short",!1,!1),1);case"EEEE":return $i(Pe.weekdays("long",!1,!1),1);case"ccc":return $i(Pe.weekdays("short",!0,!1),1);case"cccc":return $i(Pe.weekdays("long",!0,!1),1);case"Z":case"ZZ":return fr(new RegExp(`([+-]${nn.source})(?::(${rt.source}))?`),2);case"ZZZ":return fr(new RegExp(`([+-]${nn.source})(${rt.source})?`),2);case"z":return si(/[a-z_+-/]{1,256}?/i);default:return br(oo)}})(He)||{invalidReason:Tm};return Yo.token=He,Yo}(At,He)),Nt=vt.find(At=>At.invalidReason);if(Nt)return{input:Pe,tokens:rt,invalidReason:Nt.invalidReason};{const[At,nn]=function Ti(He){return[`^${He.map(Ze=>Ze.regex).reduce((Ze,rt)=>`${Ze}(${rt.source})`,"")}$`,He]}(vt),_n=RegExp(At,"i"),[Rn,Ur]=function Ip(He,Pe,Ze){const rt=He.match(Pe);if(rt){const vt={};let Nt=1;for(const At in Ze)if(Wt(Ze,At)){const nn=Ze[At],_n=nn.groups?nn.groups+1:1;!nn.literal&&nn.token&&(vt[nn.token.val[0]]=nn.deser(rt.slice(Nt,Nt+_n))),Nt+=_n}return[rt,vt]}return[rt,{}]}(Pe,_n,nn),[Ss,ys,br]=Ur?function Pp(He){let rt,Ze=null;return bn(He.z)||(Ze=Me.create(He.z)),bn(He.Z)||(Ze||(Ze=new We(He.Z)),rt=He.Z),bn(He.q)||(He.M=3*(He.q-1)+1),bn(He.h)||(He.h<12&&1===He.a?He.h+=12:12===He.h&&0===He.a&&(He.h=0)),0===He.G&&He.y&&(He.y=-He.y),bn(He.u)||(He.S=Et(He.u)),[Object.keys(He).reduce((Nt,At)=>{const nn=(Nt=>{switch(Nt){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(At);return nn&&(Nt[nn]=He[At]),Nt},{}),Ze,rt]}(Ur):[null,null,void 0];if(Wt(Ur,"a")&&Wt(Ur,"H"))throw new U("Can't include meridiem when specifying 24-hour format");return{input:Pe,tokens:rt,regex:_n,rawMatches:Rn,matches:Ur,result:Ss,zone:ys,specificOffset:br}}}function Jo(He,Pe){return He?_r.create(Pe,He).formatDateTimeParts(function jo(){return cl||(cl=xr.fromMillis(1555555555555)),cl}()).map(vt=>function ul(He,Pe){const{type:Ze,value:rt}=He;if("literal"===Ze)return{literal:!0,val:rt};let Nt=vi[Ze];return"object"==typeof Nt&&(Nt=Nt[Pe[Ze]]),Nt?{literal:!1,val:Nt}:void 0}(vt,He)):null}const Js=[0,31,59,90,120,151,181,212,243,273,304,334],Da=[0,31,60,91,121,152,182,213,244,274,305,335];function ns(He,Pe){return new Wr("unit out of range",`you specified ${Pe} (of type ${typeof Pe}) as a ${He}, which is invalid`)}function Hl(He,Pe,Ze){const rt=new Date(Date.UTC(He,Pe-1,Ze));He<100&&He>=0&&rt.setUTCFullYear(rt.getUTCFullYear()-1900);const vt=rt.getUTCDay();return 0===vt?7:vt}function Jl(He,Pe,Ze){return Ze+(Bt(He)?Da:Js)[Pe-1]}function Ar(He,Pe){const Ze=Bt(He)?Da:Js,rt=Ze.findIndex(Nt=>Nt<Pe);return{month:rt+1,day:Pe-Ze[rt]}}function Yl(He){const{year:Pe,month:Ze,day:rt}=He,vt=Jl(Pe,Ze,rt),Nt=Hl(Pe,Ze,rt);let nn,At=Math.floor((vt-Nt+10)/7);return At<1?(nn=Pe-1,At=$t(nn)):At>$t(Pe)?(nn=Pe+1,At=1):nn=Pe,{weekYear:nn,weekNumber:At,weekday:Nt,...Ne(He)}}function dl(He){const{weekYear:Pe,weekNumber:Ze,weekday:rt}=He,vt=Hl(Pe,1,4),Nt=fn(Pe);let nn,At=7*Ze+rt-vt-3;At<1?(nn=Pe-1,At+=fn(nn)):At>Nt?(nn=Pe+1,At-=fn(Pe)):nn=Pe;const{month:_n,day:Rn}=Ar(nn,At);return{year:nn,month:_n,day:Rn,...Ne(He)}}function Zu(He){const{year:Pe,month:Ze,day:rt}=He;return{year:Pe,ordinal:Jl(Pe,Ze,rt),...Ne(He)}}function Sa(He){const{year:Pe,ordinal:Ze}=He,{month:rt,day:vt}=Ar(Pe,Ze);return{year:Pe,month:rt,day:vt,...Ne(He)}}function Oa(He){const Pe=zn(He.year),Ze=Zt(He.month,1,12),rt=Zt(He.day,1,dt(He.year,He.month));return Pe?Ze?!rt&&ns("day",He.day):ns("month",He.month):ns("year",He.year)}function io(He){const{hour:Pe,minute:Ze,second:rt,millisecond:vt}=He,Nt=Zt(Pe,0,23)||24===Pe&&0===Ze&&0===rt&&0===vt,At=Zt(Ze,0,59),nn=Zt(rt,0,59),_n=Zt(vt,0,999);return Nt?At?nn?!_n&&ns("millisecond",vt):ns("second",rt):ns("minute",Ze):ns("hour",Pe)}const wa="Invalid DateTime",Pd=864e13;function us(He){return new Wr("unsupported zone",`the zone "${He.name}" is not supported`)}function Tp(He){return null===He.weekData&&(He.weekData=Yl(He.c)),He.weekData}function Ia(He,Pe){const Ze={ts:He.ts,zone:He.zone,c:He.c,o:He.o,loc:He.loc,invalid:He.invalid};return new xr({...Ze,...Pe,old:Ze})}function Td(He,Pe,Ze){let rt=He-60*Pe*1e3;const vt=Ze.offset(rt);if(Pe===vt)return[rt,Pe];rt-=60*(vt-Pe)*1e3;const Nt=Ze.offset(rt);return vt===Nt?[rt,vt]:[He-60*Math.min(vt,Nt)*1e3,Math.max(vt,Nt)]}function Xl(He,Pe){const Ze=new Date(He+=60*Pe*1e3);return{year:Ze.getUTCFullYear(),month:Ze.getUTCMonth()+1,day:Ze.getUTCDate(),hour:Ze.getUTCHours(),minute:Ze.getUTCMinutes(),second:Ze.getUTCSeconds(),millisecond:Ze.getUTCMilliseconds()}}function Pa(He,Pe,Ze){return Td(Pt(He),Pe,Ze)}function Ta(He,Pe){const Ze=He.o,rt=He.c.year+Math.trunc(Pe.years),vt=He.c.month+Math.trunc(Pe.months)+3*Math.trunc(Pe.quarters),Nt={...He.c,year:rt,month:vt,day:Math.min(He.c.day,dt(rt,vt))+Math.trunc(Pe.days)+7*Math.trunc(Pe.weeks)},At=qr.fromObject({years:Pe.years-Math.trunc(Pe.years),quarters:Pe.quarters-Math.trunc(Pe.quarters),months:Pe.months-Math.trunc(Pe.months),weeks:Pe.weeks-Math.trunc(Pe.weeks),days:Pe.days-Math.trunc(Pe.days),hours:Pe.hours,minutes:Pe.minutes,seconds:Pe.seconds,milliseconds:Pe.milliseconds}).as("milliseconds"),nn=Pt(Nt);let[_n,Rn]=Td(nn,Ze,He.zone);return 0!==At&&(_n+=At,Rn=He.zone.offset(_n)),{ts:_n,o:Rn}}function Ns(He,Pe,Ze,rt,vt,Nt){const{setZone:At,zone:nn}=Ze;if(He&&0!==Object.keys(He).length){const _n=Pe||nn,Rn=xr.fromObject(He,{...Ze,zone:_n,specificOffset:Nt});return At?Rn:Rn.setZone(nn)}return xr.invalid(new Wr("unparsable",`the input "${vt}" can't be parsed as ${rt}`))}function Ad(He,Pe,Ze=!0){return He.isValid?_r.create(ke.create("en-US"),{allowZ:Ze,forceSimple:!0}).formatDateTimeFromString(He,Pe):null}function di(He,Pe){const Ze=He.c.year>9999||He.c.year<0;let rt="";return Ze&&He.c.year>=0&&(rt+="+"),rt+=dn(He.c.year,Ze?6:4),Pe?(rt+="-",rt+=dn(He.c.month),rt+="-",rt+=dn(He.c.day)):(rt+=dn(He.c.month),rt+=dn(He.c.day)),rt}function Zi(He,Pe,Ze,rt,vt,Nt){let At=dn(He.c.hour);return Pe?(At+=":",At+=dn(He.c.minute),(0!==He.c.second||!Ze)&&(At+=":")):At+=dn(He.c.minute),(0!==He.c.second||!Ze)&&(At+=dn(He.c.second),(0!==He.c.millisecond||!rt)&&(At+=".",At+=dn(He.c.millisecond,3))),vt&&(He.isOffsetFixed&&0===He.offset&&!Nt?At+="Z":He.o<0?(At+="-",At+=dn(Math.trunc(-He.o/60)),At+=":",At+=dn(Math.trunc(-He.o%60))):(At+="+",At+=dn(Math.trunc(He.o/60)),At+=":",At+=dn(Math.trunc(He.o%60)))),Nt&&(At+="["+He.zone.ianaName+"]"),At}const Ku={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ql={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},zu={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Ki=["year","month","day","hour","minute","second","millisecond"],Am=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],F1=["year","ordinal","hour","minute","second","millisecond"];function Ap(He){const Pe={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[He.toLowerCase()];if(!Pe)throw new ie(He);return Pe}function xp(He,Pe){const Ze=at(Pe.zone,hn.defaultZone),rt=ke.fromObject(Pe),vt=hn.now();let Nt,At;if(bn(He.year))Nt=vt;else{for(const Rn of Ki)bn(He[Rn])&&(He[Rn]=Ku[Rn]);const nn=Oa(He)||io(He);if(nn)return xr.invalid(nn);const _n=Ze.offset(vt);[Nt,At]=Pa(He,_n,Ze)}return new xr({ts:Nt,zone:Ze,loc:rt,o:At})}function xm(He,Pe,Ze){const rt=!!bn(Ze.round)||Ze.round,vt=(At,nn)=>(At=Tt(At,rt||Ze.calendary?0:2,!0),Pe.loc.clone(Ze).relFormatter(Ze).format(At,nn)),Nt=At=>Ze.calendary?Pe.hasSame(He,At)?0:Pe.startOf(At).diff(He.startOf(At),At).get(At):Pe.diff(He,At).get(At);if(Ze.unit)return vt(Nt(Ze.unit),Ze.unit);for(const At of Ze.units){const nn=Nt(At);if(Math.abs(nn)>=1)return vt(nn,At)}return vt(He>Pe?-0:0,Ze.units[Ze.units.length-1])}function Rm(He){let Ze,Pe={};return He.length>0&&"object"==typeof He[He.length-1]?(Pe=He[He.length-1],Ze=Array.from(He).slice(0,He.length-1)):Ze=Array.from(He),[Pe,Ze]}class xr{constructor(Pe){const Ze=Pe.zone||hn.defaultZone;let rt=Pe.invalid||(Number.isNaN(Pe.ts)?new Wr("invalid input"):null)||(Ze.isValid?null:us(Ze));this.ts=bn(Pe.ts)?hn.now():Pe.ts;let vt=null,Nt=null;if(!rt)if(Pe.old&&Pe.old.ts===this.ts&&Pe.old.zone.equals(Ze))[vt,Nt]=[Pe.old.c,Pe.old.o];else{const nn=Ze.offset(this.ts);vt=Xl(this.ts,nn),rt=Number.isNaN(vt.year)?new Wr("invalid input"):null,vt=rt?null:vt,Nt=rt?null:nn}this._zone=Ze,this.loc=Pe.loc||ke.create(),this.invalid=rt,this.weekData=null,this.c=vt,this.o=Nt,this.isLuxonDateTime=!0}static now(){return new xr({})}static local(){const[Pe,Ze]=Rm(arguments),[rt,vt,Nt,At,nn,_n,Rn]=Ze;return xp({year:rt,month:vt,day:Nt,hour:At,minute:nn,second:_n,millisecond:Rn},Pe)}static utc(){const[Pe,Ze]=Rm(arguments),[rt,vt,Nt,At,nn,_n,Rn]=Ze;return Pe.zone=We.utcInstance,xp({year:rt,month:vt,day:Nt,hour:At,minute:nn,second:_n,millisecond:Rn},Pe)}static fromJSDate(Pe,Ze={}){const rt=function bt(He){return"[object Date]"===Object.prototype.toString.call(He)}(Pe)?Pe.valueOf():NaN;if(Number.isNaN(rt))return xr.invalid("invalid input");const vt=at(Ze.zone,hn.defaultZone);return vt.isValid?new xr({ts:rt,zone:vt,loc:ke.fromObject(Ze)}):xr.invalid(us(vt))}static fromMillis(Pe,Ze={}){if(jn(Pe))return Pe<-Pd||Pe>Pd?xr.invalid("Timestamp out of range"):new xr({ts:Pe,zone:at(Ze.zone,hn.defaultZone),loc:ke.fromObject(Ze)});throw new k(`fromMillis requires a numerical input, but received a ${typeof Pe} with value ${Pe}`)}static fromSeconds(Pe,Ze={}){if(jn(Pe))return new xr({ts:1e3*Pe,zone:at(Ze.zone,hn.defaultZone),loc:ke.fromObject(Ze)});throw new k("fromSeconds requires a numerical input")}static fromObject(Pe,Ze={}){Pe=Pe||{};const rt=at(Ze.zone,hn.defaultZone);if(!rt.isValid)return xr.invalid(us(rt));const vt=hn.now(),Nt=bn(Ze.specificOffset)?rt.offset(vt):Ze.specificOffset,At=ts(Pe,Ap),nn=!bn(At.ordinal),_n=!bn(At.year),Rn=!bn(At.month)||!bn(At.day),Ur=_n||Rn,Ss=At.weekYear||At.weekNumber,ys=ke.fromObject(Ze);if((Ur||nn)&&Ss)throw new U("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Rn&&nn)throw new U("Can't mix ordinal dates with month/day");const br=Ss||At.weekday&&!Ur;let rs,Yo,oo=Xl(vt,Nt);br?(rs=Am,Yo=ql,oo=Yl(oo)):nn?(rs=F1,Yo=zu,oo=Zu(oo)):(rs=Ki,Yo=Ku);let ku=!1;for(const hl of rs)bn(At[hl])?At[hl]=ku?Yo[hl]:oo[hl]:ku=!0;const Rp=br?function oi(He){const Pe=zn(He.weekYear),Ze=Zt(He.weekNumber,1,$t(He.weekYear)),rt=Zt(He.weekday,1,7);return Pe?Ze?!rt&&ns("weekday",He.weekday):ns("week",He.week):ns("weekYear",He.weekYear)}(At):nn?function Ql(He){const Pe=zn(He.year),Ze=Zt(He.ordinal,1,fn(He.year));return Pe?!Ze&&ns("ordinal",He.ordinal):ns("year",He.year)}(At):Oa(At),xd=Rp||io(At);if(xd)return xr.invalid(xd);const Lm=br?dl(At):nn?Sa(At):At,[Rd,jm]=Pa(Lm,Nt,rt),Ei=new xr({ts:Rd,zone:rt,o:jm,loc:ys});return At.weekday&&Ur&&Pe.weekday!==Ei.weekday?xr.invalid("mismatched weekday",`you can't specify both a weekday of ${At.weekday} and a date of ${Ei.toISO()}`):Ei}static fromISO(Pe,Ze={}){const[rt,vt]=function cn(He){return Dn(He,[Qe,Ct],[it,jt],[gt,Qt],[St,on])}(Pe);return Ns(rt,vt,Ze,"ISO 8601",Pe)}static fromRFC2822(Pe,Ze={}){const[rt,vt]=function yn(He){return Dn(function vn(He){return He.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(He),[Dt,ln])}(Pe);return Ns(rt,vt,Ze,"RFC 2822",Pe)}static fromHTTP(Pe,Ze={}){const[rt,vt]=function In(He){return Dn(He,[or,ks],[ls,ks],[Qr,vo])}(Pe);return Ns(rt,vt,Ze,"HTTP",Ze)}static fromFormat(Pe,Ze,rt={}){if(bn(Pe)||bn(Ze))throw new k("fromFormat requires an input string and a format");const{locale:vt=null,numberingSystem:Nt=null}=rt,At=ke.fromOpts({locale:vt,numberingSystem:Nt,defaultToEN:!0}),[nn,_n,Rn,Ur]=function so(He,Pe,Ze){const{result:rt,zone:vt,specificOffset:Nt,invalidReason:At}=Ds(He,Pe,Ze);return[rt,vt,Nt,At]}(At,Pe,Ze);return Ur?xr.invalid(Ur):Ns(nn,_n,rt,`format ${Ze}`,Pe,Rn)}static fromString(Pe,Ze,rt={}){return xr.fromFormat(Pe,Ze,rt)}static fromSQL(Pe,Ze={}){const[rt,vt]=function al(He){return Dn(He,[Hs,Ct],[ui,Is])}(Pe);return Ns(rt,vt,Ze,"SQL",Pe)}static invalid(Pe,Ze=null){if(!Pe)throw new k("need to specify a reason the DateTime is invalid");const rt=Pe instanceof Wr?Pe:new Wr(Pe,Ze);if(hn.throwOnInvalid)throw new T(rt);return new xr({invalid:rt})}static isDateTime(Pe){return Pe&&Pe.isLuxonDateTime||!1}static parseFormatForOpts(Pe,Ze={}){const rt=Jo(Pe,ke.fromObject(Ze));return rt?rt.map(vt=>vt?vt.val:null).join(""):null}static expandFormat(Pe,Ze={}){return Ir(_r.parseFormat(Pe),ke.fromObject(Ze)).map(vt=>vt.val).join("")}get(Pe){return this[Pe]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Tp(this).weekYear:NaN}get weekNumber(){return this.isValid?Tp(this).weekNumber:NaN}get weekday(){return this.isValid?Tp(this).weekday:NaN}get ordinal(){return this.isValid?Zu(this.c).ordinal:NaN}get monthShort(){return this.isValid?Pi.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Pi.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Pi.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Pi.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return Bt(this.year)}get daysInMonth(){return dt(this.year,this.month)}get daysInYear(){return this.isValid?fn(this.year):NaN}get weeksInWeekYear(){return this.isValid?$t(this.weekYear):NaN}resolvedLocaleOptions(Pe={}){const{locale:Ze,numberingSystem:rt,calendar:vt}=_r.create(this.loc.clone(Pe),Pe).resolvedOptions(this);return{locale:Ze,numberingSystem:rt,outputCalendar:vt}}toUTC(Pe=0,Ze={}){return this.setZone(We.instance(Pe),Ze)}toLocal(){return this.setZone(hn.defaultZone)}setZone(Pe,{keepLocalTime:Ze=!1,keepCalendarTime:rt=!1}={}){if((Pe=at(Pe,hn.defaultZone)).equals(this.zone))return this;if(Pe.isValid){let vt=this.ts;if(Ze||rt){const Nt=Pe.offset(this.ts),At=this.toObject();[vt]=Pa(At,Nt,Pe)}return Ia(this,{ts:vt,zone:Pe})}return xr.invalid(us(Pe))}reconfigure({locale:Pe,numberingSystem:Ze,outputCalendar:rt}={}){return Ia(this,{loc:this.loc.clone({locale:Pe,numberingSystem:Ze,outputCalendar:rt})})}setLocale(Pe){return this.reconfigure({locale:Pe})}set(Pe){if(!this.isValid)return this;const Ze=ts(Pe,Ap),rt=!bn(Ze.weekYear)||!bn(Ze.weekNumber)||!bn(Ze.weekday),vt=!bn(Ze.ordinal),Nt=!bn(Ze.year),At=!bn(Ze.month)||!bn(Ze.day);if((Nt||At||vt)&&(Ze.weekYear||Ze.weekNumber))throw new U("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(At&&vt)throw new U("Can't mix ordinal dates with month/day");let Rn;rt?Rn=dl({...Yl(this.c),...Ze}):bn(Ze.ordinal)?(Rn={...this.toObject(),...Ze},bn(Ze.day)&&(Rn.day=Math.min(dt(Rn.year,Rn.month),Rn.day))):Rn=Sa({...Zu(this.c),...Ze});const[Ur,Ss]=Pa(Rn,this.o,this.zone);return Ia(this,{ts:Ur,o:Ss})}plus(Pe){return this.isValid?Ia(this,Ta(this,qr.fromDurationLike(Pe))):this}minus(Pe){return this.isValid?Ia(this,Ta(this,qr.fromDurationLike(Pe).negate())):this}startOf(Pe){if(!this.isValid)return this;const Ze={},rt=qr.normalizeUnit(Pe);switch(rt){case"years":Ze.month=1;case"quarters":case"months":Ze.day=1;case"weeks":case"days":Ze.hour=0;case"hours":Ze.minute=0;case"minutes":Ze.second=0;case"seconds":Ze.millisecond=0}if("weeks"===rt&&(Ze.weekday=1),"quarters"===rt){const vt=Math.ceil(this.month/3);Ze.month=3*(vt-1)+1}return this.set(Ze)}endOf(Pe){return this.isValid?this.plus({[Pe]:1}).startOf(Pe).minus(1):this}toFormat(Pe,Ze={}){return this.isValid?_r.create(this.loc.redefaultToEN(Ze)).formatDateTimeFromString(this,Pe):wa}toLocaleString(Pe=Q,Ze={}){return this.isValid?_r.create(this.loc.clone(Ze),Pe).formatDateTime(this):wa}toLocaleParts(Pe={}){return this.isValid?_r.create(this.loc.clone(Pe),Pe).formatDateTimeParts(this):[]}toISO({format:Pe="extended",suppressSeconds:Ze=!1,suppressMilliseconds:rt=!1,includeOffset:vt=!0,extendedZone:Nt=!1}={}){if(!this.isValid)return null;const At="extended"===Pe;let nn=di(this,At);return nn+="T",nn+=Zi(this,At,Ze,rt,vt,Nt),nn}toISODate({format:Pe="extended"}={}){return this.isValid?di(this,"extended"===Pe):null}toISOWeekDate(){return Ad(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:Pe=!1,suppressSeconds:Ze=!1,includeOffset:rt=!0,includePrefix:vt=!1,extendedZone:Nt=!1,format:At="extended"}={}){return this.isValid?(vt?"T":"")+Zi(this,"extended"===At,Ze,Pe,rt,Nt):null}toRFC2822(){return Ad(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ad(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?di(this,!0):null}toSQLTime({includeOffset:Pe=!0,includeZone:Ze=!1,includeOffsetSpace:rt=!0}={}){let vt="HH:mm:ss.SSS";return(Ze||Pe)&&(rt&&(vt+=" "),Ze?vt+="z":Pe&&(vt+="ZZ")),Ad(this,vt,!0)}toSQL(Pe={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(Pe)}`:null}toString(){return this.isValid?this.toISO():wa}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(Pe={}){if(!this.isValid)return{};const Ze={...this.c};return Pe.includeConfig&&(Ze.outputCalendar=this.outputCalendar,Ze.numberingSystem=this.loc.numberingSystem,Ze.locale=this.loc.locale),Ze}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(Pe,Ze="milliseconds",rt={}){if(!this.isValid||!Pe.isValid)return qr.invalid("created by diffing an invalid DateTime");const vt={locale:this.locale,numberingSystem:this.numberingSystem,...rt},Nt=function Ft(He){return Array.isArray(He)?He:[He]}(Ze).map(qr.normalizeUnit),At=Pe.valueOf()>this.valueOf(),Rn=function Vu(He,Pe,Ze,rt){let[vt,Nt,At,nn]=function os(He,Pe,Ze){const rt=[["years",(_n,Rn)=>Rn.year-_n.year],["quarters",(_n,Rn)=>Rn.quarter-_n.quarter+4*(Rn.year-_n.year)],["months",(_n,Rn)=>Rn.month-_n.month+12*(Rn.year-_n.year)],["weeks",(_n,Rn)=>{const Ur=Eo(_n,Rn);return(Ur-Ur%7)/7}],["days",Eo]],vt={},Nt=He;let At,nn;for(const[_n,Rn]of rt)Ze.indexOf(_n)>=0&&(At=_n,vt[_n]=Rn(He,Pe),nn=Nt.plus(vt),nn>Pe?(vt[_n]--,He=Nt.plus(vt)):He=nn);return[He,vt,nn,At]}(He,Pe,Ze);const _n=Pe-vt,Rn=Ze.filter(Ss=>["hours","minutes","seconds","milliseconds"].indexOf(Ss)>=0);0===Rn.length&&(At<Pe&&(At=vt.plus({[nn]:1})),At!==vt&&(Nt[nn]=(Nt[nn]||0)+_n/(At-vt)));const Ur=qr.fromObject(Nt,rt);return Rn.length>0?qr.fromMillis(_n,rt).shiftTo(...Rn).plus(Ur):Ur}(At?this:Pe,At?Pe:this,Nt,vt);return At?Rn.negate():Rn}diffNow(Pe="milliseconds",Ze={}){return this.diff(xr.now(),Pe,Ze)}until(Pe){return this.isValid?is.fromDateTimes(this,Pe):this}hasSame(Pe,Ze){if(!this.isValid)return!1;const rt=Pe.valueOf(),vt=this.setZone(Pe.zone,{keepLocalTime:!0});return vt.startOf(Ze)<=rt&&rt<=vt.endOf(Ze)}equals(Pe){return this.isValid&&Pe.isValid&&this.valueOf()===Pe.valueOf()&&this.zone.equals(Pe.zone)&&this.loc.equals(Pe.loc)}toRelative(Pe={}){if(!this.isValid)return null;const Ze=Pe.base||xr.fromObject({},{zone:this.zone}),rt=Pe.padding?this<Ze?-Pe.padding:Pe.padding:0;let vt=["years","months","days","hours","minutes","seconds"],Nt=Pe.unit;return Array.isArray(Pe.unit)&&(vt=Pe.unit,Nt=void 0),xm(Ze,this.plus(rt),{...Pe,numeric:"always",units:vt,unit:Nt})}toRelativeCalendar(Pe={}){return this.isValid?xm(Pe.base||xr.fromObject({},{zone:this.zone}),this,{...Pe,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...Pe){if(!Pe.every(xr.isDateTime))throw new k("min requires all arguments be DateTimes");return Xt(Pe,Ze=>Ze.valueOf(),Math.min)}static max(...Pe){if(!Pe.every(xr.isDateTime))throw new k("max requires all arguments be DateTimes");return Xt(Pe,Ze=>Ze.valueOf(),Math.max)}static fromFormatExplain(Pe,Ze,rt={}){const{locale:vt=null,numberingSystem:Nt=null}=rt;return Ds(ke.fromOpts({locale:vt,numberingSystem:Nt,defaultToEN:!0}),Pe,Ze)}static fromStringExplain(Pe,Ze,rt={}){return xr.fromFormatExplain(Pe,Ze,rt)}static get DATE_SHORT(){return Q}static get DATE_MED(){return ne}static get DATE_MED_WITH_WEEKDAY(){return J}static get DATE_FULL(){return X}static get DATE_HUGE(){return Y}static get TIME_SIMPLE(){return F}static get TIME_WITH_SECONDS(){return x}static get TIME_WITH_SHORT_OFFSET(){return $}static get TIME_WITH_LONG_OFFSET(){return N}static get TIME_24_SIMPLE(){return z}static get TIME_24_WITH_SECONDS(){return q}static get TIME_24_WITH_SHORT_OFFSET(){return ee}static get TIME_24_WITH_LONG_OFFSET(){return re}static get DATETIME_SHORT(){return le}static get DATETIME_SHORT_WITH_SECONDS(){return _e}static get DATETIME_MED(){return ae}static get DATETIME_MED_WITH_SECONDS(){return he}static get DATETIME_MED_WITH_WEEKDAY(){return se}static get DATETIME_FULL(){return ue}static get DATETIME_FULL_WITH_SECONDS(){return ge}static get DATETIME_HUGE(){return be}static get DATETIME_HUGE_WITH_SECONDS(){return me}}function Gu(He){if(xr.isDateTime(He))return He;if(He&&He.valueOf&&jn(He.valueOf()))return xr.fromJSDate(He);if(He&&"object"==typeof He)return xr.fromObject(He);throw new k(`Unknown datetime argument: ${He}, of type ${typeof He}`)}},15861:(nt,Te,M)=>{"use strict";function D(te,Z,U,ie,k,B,R){try{var W=te[B](R),V=W.value}catch(Q){return void U(Q)}W.done?Z(V):Promise.resolve(V).then(ie,k)}function T(te){return function(){var Z=this,U=arguments;return new Promise(function(ie,k){var B=te.apply(Z,U);function R(V){D(B,ie,k,R,W,"next",V)}function W(V){D(B,ie,k,R,W,"throw",V)}R(void 0)})}}M.d(Te,{Z:()=>T})}},nt=>{nt(nt.s=47267)}]);