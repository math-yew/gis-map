"use strict";(self.webpackChunkarcgis=self.webpackChunkarcgis||[]).push([[853],{550:(at,H,_)=>{function O(){return[1,0,0,0,1,0,0,0,1]}function L(h,m,y,M,c,F,E,T,S){return[h,m,y,M,c,F,E,T,S]}function j(h,m){return new Float64Array(h,m,9)}_.d(H,{a:()=>j,c:()=>O,f:()=>L}),Object.freeze(Object.defineProperty({__proto__:null,clone:function C(h){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8]]},create:O,createView:j,fromValues:L},Symbol.toStringTag,{value:"Module"}))},43703:(at,H,_)=>{function O(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function C(m){return[m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]]}function j(m,y){return new Float64Array(m,y,16)}_.d(H,{I:()=>I,a:()=>j,b:()=>C,c:()=>O});const I=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:I,clone:C,create:O,createView:j,fromValues:function L(m,y,M,c,F,E,T,S,z,Z,b,x,k,Q,d,D){return[m,y,M,c,F,E,T,S,z,Z,b,x,k,Q,d,D]}},Symbol.toStringTag,{value:"Module"}))},48977:(at,H,_)=>{_.d(H,{c:()=>x,g:()=>M,j:()=>W,k:()=>Q,m:()=>c,s:()=>y});var O=_(550),C=_(78451),L=_(28093),j=_(39863),I=_(84161),h=_(993);function y(t,r,p){p*=.5;const u=Math.sin(p);return t[0]=u*r[0],t[1]=u*r[1],t[2]=u*r[2],t[3]=Math.cos(p),t}function M(t,r){const p=2*Math.acos(r[3]),u=Math.sin(p/2);return u>(0,j.g)()?(t[0]=r[0]/u,t[1]=r[1]/u,t[2]=r[2]/u):(t[0]=1,t[1]=0,t[2]=0),p}function c(t,r,p){const u=r[0],P=r[1],R=r[2],K=r[3],V=p[0],Y=p[1],et=p[2],_t=p[3];return t[0]=u*_t+K*V+P*et-R*Y,t[1]=P*_t+K*Y+R*V-u*et,t[2]=R*_t+K*et+u*Y-P*V,t[3]=K*_t-u*V-P*Y-R*et,t}function z(t,r,p,u){const P=r[0],R=r[1],K=r[2],V=r[3];let Y,et,_t,ct,st,ut=p[0],lt=p[1],ft=p[2],Et=p[3];return et=P*ut+R*lt+K*ft+V*Et,et<0&&(et=-et,ut=-ut,lt=-lt,ft=-ft,Et=-Et),1-et>(0,j.g)()?(Y=Math.acos(et),_t=Math.sin(Y),ct=Math.sin((1-u)*Y)/_t,st=Math.sin(u*Y)/_t):(ct=1-u,st=u),t[0]=ct*P+st*ut,t[1]=ct*R+st*lt,t[2]=ct*K+st*ft,t[3]=ct*V+st*Et,t}function x(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t}function k(t,r){const p=r[0]+r[4]+r[8];let u;if(p>0)u=Math.sqrt(p+1),t[3]=.5*u,u=.5/u,t[0]=(r[5]-r[7])*u,t[1]=(r[6]-r[2])*u,t[2]=(r[1]-r[3])*u;else{let P=0;r[4]>r[0]&&(P=1),r[8]>r[3*P+P]&&(P=2);const R=(P+1)%3,K=(P+2)%3;u=Math.sqrt(r[3*P+P]-r[3*R+R]-r[3*K+K]+1),t[P]=.5*u,u=.5/u,t[3]=(r[3*R+K]-r[3*K+R])*u,t[R]=(r[3*R+P]+r[3*P+R])*u,t[K]=(r[3*K+P]+r[3*P+K])*u}return t}function Q(t,r,p,u){const P=.5*Math.PI/180;r*=P,p*=P,u*=P;const R=Math.sin(r),K=Math.cos(r),V=Math.sin(p),Y=Math.cos(p),et=Math.sin(u),_t=Math.cos(u);return t[0]=R*Y*_t-K*V*et,t[1]=K*V*_t+R*Y*et,t[2]=K*Y*et-R*V*_t,t[3]=K*Y*_t+R*V*et,t}const D=h.c,N=h.s,$=h.a,B=c,J=h.b,X=h.d,w=h.l,q=h.e,G=q,tt=h.f,U=tt,f=h.n,W=h.g,o=h.h,n=(0,L.c)(),l=(0,L.f)(1,0,0),g=(0,L.f)(0,1,0),v=(0,C.a)(),rt=(0,C.a)(),it=(0,O.c)();Object.freeze(Object.defineProperty({__proto__:null,add:$,calculateW:function S(t,r){const p=r[0],u=r[1],P=r[2];return t[0]=p,t[1]=u,t[2]=P,t[3]=Math.sqrt(Math.abs(1-p*p-u*u-P*P)),t},conjugate:x,copy:D,dot:X,equals:o,exactEquals:W,fromEuler:Q,fromMat3:k,getAxisAngle:M,identity:function m(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},invert:function b(t,r){const p=r[0],u=r[1],P=r[2],R=r[3],K=p*p+u*u+P*P+R*R,V=K?1/K:0;return t[0]=-p*V,t[1]=-u*V,t[2]=-P*V,t[3]=R*V,t},len:G,length:q,lerp:w,mul:B,multiply:c,normalize:f,random:function Z(t){const r=j.R,p=r(),u=r(),P=r(),R=Math.sqrt(1-p),K=Math.sqrt(p);return t[0]=R*Math.sin(2*Math.PI*u),t[1]=R*Math.cos(2*Math.PI*u),t[2]=K*Math.sin(2*Math.PI*P),t[3]=K*Math.cos(2*Math.PI*P),t},rotateX:function F(t,r,p){p*=.5;const u=r[0],P=r[1],R=r[2],K=r[3],V=Math.sin(p),Y=Math.cos(p);return t[0]=u*Y+K*V,t[1]=P*Y+R*V,t[2]=R*Y-P*V,t[3]=K*Y-u*V,t},rotateY:function E(t,r,p){p*=.5;const u=r[0],P=r[1],R=r[2],K=r[3],V=Math.sin(p),Y=Math.cos(p);return t[0]=u*Y-R*V,t[1]=P*Y+K*V,t[2]=R*Y+u*V,t[3]=K*Y-P*V,t},rotateZ:function T(t,r,p){p*=.5;const u=r[0],P=r[1],R=r[2],K=r[3],V=Math.sin(p),Y=Math.cos(p);return t[0]=u*Y+P*V,t[1]=P*Y-u*V,t[2]=R*Y+K*V,t[3]=K*Y-R*V,t},rotationTo:function a(t,r,p){const u=(0,I.e)(r,p);return u<-.999999?((0,I.f)(n,l,r),(0,I.u)(n)<1e-6&&(0,I.f)(n,g,r),(0,I.n)(n,n),y(t,n,Math.PI),t):u>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,I.f)(n,r,p),t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=1+u,f(t,t))},scale:J,set:N,setAxes:function ot(t,r,p,u){const P=it;return P[0]=p[0],P[3]=p[1],P[6]=p[2],P[1]=u[0],P[4]=u[1],P[7]=u[2],P[2]=-r[0],P[5]=-r[1],P[8]=-r[2],f(t,k(t,P))},setAxisAngle:y,slerp:z,sqlerp:function A(t,r,p,u,P,R){return z(v,r,P,R),z(rt,p,u,R),z(t,v,rt,2*R*(1-R)),t},sqrLen:U,squaredLength:tt,str:function d(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}},Symbol.toStringTag,{value:"Module"}))},78451:(at,H,_)=>{function O(){return[0,0,0,1]}function C(m){return[m[0],m[1],m[2],m[3]]}function j(m,y){return new Float64Array(m,y,4)}_.d(H,{I:()=>I,a:()=>O,b:()=>C,c:()=>j});const I=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:I,clone:C,create:O,createView:j,fromValues:function L(m,y,M,c){return[m,y,M,c]}},Symbol.toStringTag,{value:"Module"}))},79800:(at,H,_)=>{_.d(H,{a:()=>L,b:()=>h,n:()=>I,s:()=>j,t:()=>C});var O=_(96286);function C(y,M,c){if(y.count!==M.count)return void O.c.error("source and destination buffers need to have the same number of elements");const F=y.count,E=c[0],T=c[1],S=c[2],z=c[4],Z=c[5],b=c[6],x=c[8],k=c[9],Q=c[10],d=c[12],D=c[13],N=c[14],$=y.typedBuffer,B=y.typedBufferStride,J=M.typedBuffer,X=M.typedBufferStride;for(let w=0;w<F;w++){const q=w*B,G=w*X,tt=J[G],U=J[G+1],f=J[G+2];$[q]=E*tt+z*U+x*f+d,$[q+1]=T*tt+Z*U+k*f+D,$[q+2]=S*tt+b*U+Q*f+N}}function L(y,M,c){if(y.count!==M.count)return void O.c.error("source and destination buffers need to have the same number of elements");const F=y.count,E=c[0],T=c[1],S=c[2],z=c[3],Z=c[4],b=c[5],x=c[6],k=c[7],Q=c[8],d=y.typedBuffer,D=y.typedBufferStride,N=M.typedBuffer,$=M.typedBufferStride;for(let B=0;B<F;B++){const J=B*D,X=B*$,w=N[X],q=N[X+1],G=N[X+2];d[J]=E*w+z*q+x*G,d[J+1]=T*w+Z*q+k*G,d[J+2]=S*w+b*q+Q*G}}function j(y,M,c){const F=Math.min(y.count,M.count),E=y.typedBuffer,T=y.typedBufferStride,S=M.typedBuffer,z=M.typedBufferStride;for(let Z=0;Z<F;Z++){const b=Z*T,x=Z*z;E[b]=c*S[x],E[b+1]=c*S[x+1],E[b+2]=c*S[x+2]}}function I(y,M){const c=Math.min(y.count,M.count),F=y.typedBuffer,E=y.typedBufferStride,T=M.typedBuffer,S=M.typedBufferStride;for(let z=0;z<c;z++){const Z=z*E,b=z*S,x=T[b],k=T[b+1],Q=T[b+2],d=x*x+k*k+Q*Q;if(d>0){const D=1/Math.sqrt(d);F[Z]=D*x,F[Z+1]=D*k,F[Z+2]=D*Q}}}function h(y,M,c){const F=Math.min(y.count,M.count),E=y.typedBuffer,T=y.typedBufferStride,S=M.typedBuffer,z=M.typedBufferStride;for(let Z=0;Z<F;Z++){const b=Z*T,x=Z*z;E[b]=S[x]>>c,E[b+1]=S[x+1]>>c,E[b+2]=S[x+2]>>c}}Object.freeze(Object.defineProperty({__proto__:null,normalize:I,scale:j,shiftRight:h,transformMat3:L,transformMat4:C},Symbol.toStringTag,{value:"Module"}))},9554:(at,H,_)=>{function O(j,I,h){const m=j.typedBuffer,y=j.typedBufferStride,M=I.typedBuffer,c=I.typedBufferStride,F=h?h.count:I.count;let E=(h&&h.dstIndex?h.dstIndex:0)*y,T=(h&&h.srcIndex?h.srcIndex:0)*c;for(let S=0;S<F;++S)m[E]=M[T],m[E+1]=M[T+1],m[E+2]=M[T+2],E+=y,T+=c}function C(j,I,h,m,y){const M=j.typedBuffer,c=j.typedBufferStride,F=y?.count??j.count;let E=(y?.dstIndex??0)*c;for(let T=0;T<F;++T)M[E]=I,M[E+1]=h,M[E+2]=m,E+=c}_.d(H,{c:()=>O,f:()=>C}),Object.freeze(Object.defineProperty({__proto__:null,copy:O,fill:C},Symbol.toStringTag,{value:"Module"}))},81863:(at,H,_)=>{_.d(H,{rS:()=>y});var O=_(92383),C=_(65234),L=_(37053);const j=new C.Z(O.kU),I=new C.Z(O.JL),h=new C.Z(O.mM);function y(M){return M&&((0,L.BZ)(M)||(0,L.fS)(M,I))?I:M&&((0,L.V2)(M)||(0,L.fS)(M,h))?h:j}new C.Z(O.pn)},99746:(at,H,_)=>{_.d(H,{Z:()=>$});var d,O=_(17626),C=_(86810),L=_(62208),j=_(77712),m=(_(90912),_(85931),_(76898)),y=_(28347),M=_(43703),c=_(48977),F=_(78451),E=_(84161),T=_(28093),S=_(72642),z=_(54614),Z=_(81863),b=_(89586),x=_(60479),k=_(79800),Q=_(9554);let D=d=class extends C.wq{constructor(B){super(B),this.origin=(0,T.c)(),this.translation=(0,T.c)(),this.rotation=(0,b.Ue)(),this.scale=(0,T.f)(1,1,1),this.geographic=!0}get localMatrix(){const B=(0,M.c)();return(0,c.s)(N,(0,b.ZZ)(this.rotation),(0,b.WH)(this.rotation)),(0,y.g)(B,N,this.translation,this.scale),B}get localMatrixInverse(){return(0,y.a)((0,M.c)(),this.localMatrix)}applyLocal(B,J){return(0,E.m)(J,B,this.localMatrix)}applyLocalInverse(B,J){return(0,E.m)(J,B,this.localMatrixInverse)}project(B,J){const X=new Float64Array(B.length),w=x.fP.fromTypedArray(X),q=x.fP.fromTypedArray(B);if(this.geographic){const U=(0,Z.rS)(J),f=(0,M.c)();return(0,z.Bm)(J,this.origin,f,U),(0,y.m)(f,f,this.localMatrix),(0,k.t)(w,q,f),(0,z.CM)(X,U,0,X,J,0,X.length/3),X}const{localMatrix:G,origin:tt}=this;(0,y.h)(G,M.I)?(0,Q.c)(w,q):(0,k.t)(w,q,G);for(let U=0;U<X.length;U+=3)X[U+0]+=tt[0],X[U+1]+=tt[1],X[U+2]+=tt[2];return X}getOriginPoint(B){const[J,X,w]=this.origin;return new S.Z({x:J,y:X,z:w,spatialReference:B})}equals(B){return(0,L.pC)(B)&&this.geographic===B.geographic&&(0,E.k)(this.origin,B.origin)&&(0,y.j)(this.localMatrix,B.localMatrix)}clone(){const B={origin:(0,T.a)(this.origin),translation:(0,T.a)(this.translation),rotation:(0,b.Ue)(this.rotation),scale:(0,T.a)(this.scale),geographic:this.geographic};return new d(B)}};(0,O._)([(0,j.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],D.prototype,"origin",void 0),(0,O._)([(0,j.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],D.prototype,"translation",void 0),(0,O._)([(0,j.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],D.prototype,"rotation",void 0),(0,O._)([(0,j.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],D.prototype,"scale",void 0),(0,O._)([(0,j.Cb)({type:Boolean,nonNullable:!0,json:{write:!0}})],D.prototype,"geographic",void 0),(0,O._)([(0,j.Cb)()],D.prototype,"localMatrix",null),(0,O._)([(0,j.Cb)()],D.prototype,"localMatrixInverse",null),D=d=(0,O._)([(0,m.j)("esri.geometry.support.MeshTransform")],D);const N=(0,F.a)(),$=D},89586:(at,H,_)=>{_.d(H,{Ue:()=>I,WH:()=>z,ZZ:()=>T,qC:()=>E,uT:()=>c});var O=_(21286),C=_(48977),L=_(78451),j=_(84161);function I(d=b){return[d[0],d[1],d[2],d[3]]}function c(d,D,N=I()){return(0,j.c)(N,d),N[3]=D,N}function E(d,D,N=I()){return(0,C.s)(x,d,z(d)),(0,C.s)(k,D,z(D)),(0,C.m)(x,k,x),function Z(d,D){return d[3]=D,d}(N,(0,O.BV)((0,C.g)(N,x)))}function T(d){return d}function z(d){return(0,O.Vl)(d[3])}const b=[0,0,1,0],x=(0,L.a)(),k=(0,L.a)();I()},96286:(at,H,_)=>{_.d(H,{c:()=>C});const C=_(63290).Z.getLogger("esri.views.3d.support.buffer.math")},92545:(at,H,_)=>{function O(C,L){return C.isGeographic||C.isWebMercator&&(L?.geographic??!0)}_.d(H,{h:()=>O})},60853:(at,H,_)=>{_.d(H,{FF:()=>b,I5:()=>z,Yq:()=>x,iv:()=>S,w1:()=>Z});var O=_(62208),C=_(16730),L=_(550),j=_(28347),I=_(43703),h=_(30217),m=_(54614),y=_(81863),M=_(99746),c=_(60479),F=_(79800),E=_(92545),T=_(65231);function S(o,a,n){return(0,E.h)(a.spatialReference,n)?function Q(o,a,n){const l=a.spatialReference,g=J(a,n,tt),A=new Float64Array(o.position.length),v=function d(o,a,n,l){(0,F.t)(c.fP.fromTypedArray(l),c.fP.fromTypedArray(o),a);const g=new Float64Array(o.length);return(0,T.To)(l,g,n)}(o.position,g,l,A),rt=(0,h.b)(f,g);return{position:v,normal:D(v,A,o.normal,rt,l),tangent:N(v,A,o.tangent,rt,l)}}(o,a,n):function k(o,a,n){const l=new Float64Array(o.position.length),g=o.position,A=a.x,v=a.y,rt=a.z||0,{horizontal:ot,vertical:it}=G(n?n.unit:null,a.spatialReference);for(let nt=0;nt<g.length;nt+=3)l[nt+0]=g[nt+0]*ot+A,l[nt+1]=g[nt+1]*ot+v,l[nt+2]=g[nt+2]*it+rt;return{position:l,normal:o.normal,tangent:o.tangent}}(o,a,n)}function z(o,a,n){const{position:l,normal:g,tangent:A}=o;if((0,O.Wi)(a))return{position:l,normal:g,tangent:A};const v=a.localMatrix;return S({position:(0,T.zZ)(l,new Float64Array(l.length),v),normal:(0,O.pC)(g)?(0,T.w9)(g,new Float32Array(g.length),v):null,tangent:(0,O.pC)(A)?(0,T.VS)(A,new Float32Array(A.length),v):null},a.getOriginPoint(n),{geographic:a.geographic})}function Z(o,a,n){if(n?.useTransform){const{position:l,normal:g,tangent:A}=o;return{vertexAttributes:{position:l,normal:g,tangent:A},transform:new M.Z({origin:[a.x,a.y,a.z??0],geographic:(0,E.h)(a.spatialReference,n)})}}return{vertexAttributes:S(o,a,n),transform:null}}function b(o,a,n){return(0,E.h)(a.spatialReference,n)?function B(o,a,n){const l=a.spatialReference;J(a,n,tt);const g=(0,j.a)(U,tt),A=new Float64Array(o.position.length),v=function X(o,a,n,l){const g=(0,T.XO)(o,a,l),A=c.fP.fromTypedArray(g),v=new Float64Array(g.length),rt=c.fP.fromTypedArray(v);return(0,F.t)(rt,A,n),v}(o.position,l,g,A),rt=(0,h.b)(f,g);return{position:v,normal:w(o.normal,o.position,A,l,rt),tangent:q(o.tangent,o.position,A,l,rt)}}(o,a,n):$(o,a,n)}function x(o,a,n,l){if((0,O.Wi)(a))return b(o,n,l);const g=z(o,a,n.spatialReference);return n.equals(a.getOriginPoint(n.spatialReference))?$(g,n,l):b(g,n,l)}function D(o,a,n,l,g){if((0,O.Wi)(n))return null;const A=new Float32Array(n.length);return(0,F.a)(c.ct.fromTypedArray(A),c.ct.fromTypedArray(n),l),(0,T.Yk)(A,o,a,g,A),A}function N(o,a,n,l,g){if((0,O.Wi)(n))return null;const A=new Float32Array(n.length);(0,F.a)(c.ct.fromTypedArray(A,4*Float32Array.BYTES_PER_ELEMENT),c.ct.fromTypedArray(n,4*Float32Array.BYTES_PER_ELEMENT),l);for(let v=3;v<A.length;v+=4)A[v]=n[v];return(0,T.M2)(A,o,a,g,A),A}function $(o,a,n){const l=new Float64Array(o.position.length),g=o.position,A=a.x,v=a.y,rt=a.z||0,{horizontal:ot,vertical:it}=G(n?n.unit:null,a.spatialReference);for(let nt=0;nt<g.length;nt+=3)l[nt+0]=(g[nt+0]-A)/ot,l[nt+1]=(g[nt+1]-v)/ot,l[nt+2]=(g[nt+2]-rt)/it;return{position:l,normal:o.normal,tangent:o.tangent}}function J(o,a,n){(0,m.Bm)(o.spatialReference,[o.x,o.y,o.z||0],n,(0,y.rS)(o.spatialReference));const{horizontal:l,vertical:g}=G(a?a.unit:null,o.spatialReference);return(0,j.k)(n,n,[l,l,g]),n}function w(o,a,n,l,g){if((0,O.Wi)(o))return null;const A=(0,T.Iz)(o,a,n,l,new Float32Array(o.length)),v=c.ct.fromTypedArray(A);return(0,F.a)(v,v,g),A}function q(o,a,n,l,g){if((0,O.Wi)(o))return null;const A=(0,T.wi)(o,a,n,l,new Float32Array(o.length)),v=c.ct.fromTypedArray(A,4*Float32Array.BYTES_PER_ELEMENT);return(0,F.a)(v,v,g),A}function G(o,a){if((0,O.Wi)(o))return W;const n=a.isGeographic?1:(0,C.c9)(a),l=a.isGeographic?1:(0,C._R)(a),g=(0,C.En)(1,o,"meters");return{horizontal:g*n,vertical:g*l}}const tt=(0,I.c)(),U=(0,I.c)(),f=(0,L.c)(),W={horizontal:1,vertical:1}},65231:(at,H,_)=>{_.d(H,{Iz:()=>z,M2:()=>N,To:()=>x,VS:()=>d,XO:()=>b,Yk:()=>Z,w9:()=>Q,wi:()=>D,zZ:()=>k});var O=_(63290),C=_(62208),L=_(30217),j=_(550),I=_(43703),h=_(84161),m=_(28093),y=_(54614),M=_(81863),c=_(37053),F=_(46367),E=_(60479),T=_(79800);const S=O.Z.getLogger("esri.geometry.support.meshUtils.normalProjection");function z(f,W,o,a,n){return B(a)?($(w.TO_PCPF,E.ct.fromTypedArray(f),E.fP.fromTypedArray(W),E.fP.fromTypedArray(o),a,E.ct.fromTypedArray(n)),n):(S.error("Cannot convert spatial reference to PCPF"),n)}function Z(f,W,o,a,n){return B(a)?($(w.FROM_PCPF,E.ct.fromTypedArray(f),E.fP.fromTypedArray(W),E.fP.fromTypedArray(o),a,E.ct.fromTypedArray(n)),n):(S.error("Cannot convert to spatial reference from PCPF"),n)}function b(f,W,o){return(0,y.CM)(f,W,0,o,(0,M.rS)(W),0,f.length/3),o}function x(f,W,o){return(0,y.CM)(f,(0,M.rS)(o),0,W,o,0,f.length/3),W}function k(f,W,o){if((0,C.Wi)(f))return W;const a=E.fP.fromTypedArray(f),n=E.fP.fromTypedArray(W);return(0,T.t)(n,a,o),W}function Q(f,W,o){if((0,C.Wi)(f))return W;(0,L.b)(U,o);const a=E.ct.fromTypedArray(f),n=E.ct.fromTypedArray(W);return(0,T.a)(n,a,U),(0,L.i)(U)||(0,T.n)(n,n),W}function d(f,W,o){if((0,C.Wi)(f))return W;(0,L.b)(U,o);const a=E.ct.fromTypedArray(f,4*Float32Array.BYTES_PER_ELEMENT),n=E.ct.fromTypedArray(W,4*Float32Array.BYTES_PER_ELEMENT);if((0,T.a)(n,a,U),(0,L.i)(U)||(0,T.n)(n,n),f!==W)for(let l=3;l<f.length;l+=4)W[l]=f[l];return W}function D(f,W,o,a,n){if(!B(a))return S.error("Cannot convert spatial reference to PCPF"),n;$(w.TO_PCPF,E.ct.fromTypedArray(f,4*Float32Array.BYTES_PER_ELEMENT),E.fP.fromTypedArray(W),E.fP.fromTypedArray(o),a,E.ct.fromTypedArray(n,4*Float32Array.BYTES_PER_ELEMENT));for(let l=3;l<f.length;l+=4)n[l]=f[l];return n}function N(f,W,o,a,n){if(!B(a))return S.error("Cannot convert to spatial reference from PCPF"),n;$(w.FROM_PCPF,E.ct.fromTypedArray(f,16),E.fP.fromTypedArray(W),E.fP.fromTypedArray(o),a,E.ct.fromTypedArray(n,16));for(let l=3;l<f.length;l+=4)n[l]=f[l];return n}function $(f,W,o,a,n,l){if(!W)return;const g=o.count,A=(0,M.rS)(n);if(J(n))for(let v=0;v<g;v++)a.getVec(v,q),W.getVec(v,G),(0,y.Bm)(A,q,tt,A),(0,L.f)(U,tt),f===w.FROM_PCPF&&(0,L.t)(U,U),(0,h.t)(G,G,U),l.setVec(v,G);else for(let v=0;v<g;v++){a.getVec(v,q),W.getVec(v,G),(0,y.Bm)(A,q,tt,A),(0,L.f)(U,tt);const rt=(0,F.mZ)(o.get(v,1));let ot=Math.cos(rt);f===w.TO_PCPF&&(ot=1/ot),U[0]*=ot,U[1]*=ot,U[2]*=ot,U[3]*=ot,U[4]*=ot,U[5]*=ot,f===w.FROM_PCPF&&(0,L.t)(U,U),(0,h.t)(G,G,U),(0,h.n)(G,G),l.setVec(v,G)}return l}function B(f){return J(f)||function X(f){return f.isWebMercator}(f)}function J(f){return f.isWGS84||(0,c.yW)(f)||(0,c.BZ)(f)||(0,c.V2)(f)}var w,f;(f=w||(w={}))[f.TO_PCPF=0]="TO_PCPF",f[f.FROM_PCPF=1]="FROM_PCPF";const q=(0,m.c)(),G=(0,m.c)(),tt=(0,I.c)(),U=(0,j.c)()}}]);