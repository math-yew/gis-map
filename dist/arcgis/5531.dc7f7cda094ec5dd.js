"use strict";(self.webpackChunkarcgis=self.webpackChunkarcgis||[]).push([[5531],{85531:(A,h,o)=>{o.r(h),o.d(h,{executeAttachmentQuery:()=>y,fetchAttachments:()=>O,processAttachmentQueryResult:()=>E});var d=o(15861),f=o(24263),m=o(84792),p=o(21726),i=o(76391),I=o(87183);function j(e){const t=e.toJSON();return t.attachmentTypes&&(t.attachmentTypes=t.attachmentTypes.join(",")),t.keywords&&(t.keywords=t.keywords.join(",")),t.globalIds&&(t.globalIds=t.globalIds.join(",")),t.objectIds&&(t.objectIds=t.objectIds.join(",")),t.size&&(t.size=t.size.join(",")),t}function E(e,t){const s={};for(const a of t){const{parentObjectId:n,parentGlobalId:r,attachmentInfos:u}=a;for(const c of u){const{id:D}=c,P=(0,p.qg)((0,f.Dp)(`${e.path}/${n}/attachments/${D}`)),l=I.Z.fromJSON(c);l.set({url:P,parentObjectId:n,parentGlobalId:r}),s[n]?s[n].push(l):s[n]=[l]}}return s}function y(e,t,s){let a={query:(0,i.A)({...e.query,f:"json",...j(t)})};return s&&(a={...s,...a,query:{...s.query,...a.query}}),(0,m.default)(e.path+"/queryAttachments",a).then(n=>n.data.attachmentGroups)}function O(e,t,s){return _.apply(this,arguments)}function _(){return(_=(0,d.Z)(function*(e,t,s){const{objectIds:a}=t,n=[];for(const r of a)n.push((0,m.default)(e.path+"/"+r+"/attachments",s));return Promise.all(n).then(r=>a.map((u,c)=>({parentObjectId:u,attachmentInfos:r[c].data.attachmentInfos})))})).apply(this,arguments)}}}]);