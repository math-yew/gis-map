"use strict";(self.webpackChunkarcgis=self.webpackChunkarcgis||[]).push([[326],{90326:(G,j,n)=>{n.r(j),n.d(j,{default:()=>B});var x=n(15861),e=n(17626),E=n(85840),u=n(91558),R=n(79608),N=n(86810),f=n(23841),i=n(77712),m=n(90912),v=(n(85931),n(76898));let a=class extends((0,N.eC)(R.j)){constructor(t){super(t),this.type="simple",this.color=new u.Z("black"),this.lineSize=2,this.fontSize=10,this.textColor=new u.Z("black"),this.textBackgroundColor=new u.Z([255,255,255,.6])}};(0,e._)([(0,i.Cb)({type:["simple"],readOnly:!0,json:{write:{isRequired:!0}}})],a.prototype,"type",void 0),(0,e._)([(0,i.Cb)({type:u.Z,nonNullable:!0,json:{type:[m.z8],write:{isRequired:!0}}})],a.prototype,"color",void 0),(0,e._)([(0,i.Cb)({type:Number,cast:f.t_,nonNullable:!0,range:{min:(0,f.Wz)(1)},json:{write:{isRequired:!0}}})],a.prototype,"lineSize",void 0),(0,e._)([(0,i.Cb)({type:Number,cast:f.t_,nonNullable:!0,json:{write:{isRequired:!0}}})],a.prototype,"fontSize",void 0),(0,e._)([(0,i.Cb)({type:u.Z,nonNullable:!0,json:{type:[m.z8],write:{isRequired:!0}}})],a.prototype,"textColor",void 0),(0,e._)([(0,i.Cb)({type:u.Z,nonNullable:!0,json:{type:[m.z8],write:{isRequired:!0}}})],a.prototype,"textBackgroundColor",void 0),a=(0,e._)([(0,v.j)("esri.analysis.DimensionSimpleStyle")],a);const b=a;var c,t;n(29132),(t=c||(c={})).Horizontal="horizontal",t.Vertical="vertical",t.Direct="direct";const L=[c.Horizontal,c.Vertical,c.Direct];var T=n(23719),W=n(66656),O=n(72642);let p=class extends((0,N.eC)(R.j)){constructor(t){super(t),this.type="length",this.startPoint=null,this.endPoint=null,this.measureType=c.Direct,this.offset=0,this.orientation=0}};(0,e._)([(0,i.Cb)({type:["length"],json:{write:{isRequired:!0}}})],p.prototype,"type",void 0),(0,e._)([(0,i.Cb)({type:O.Z,json:{write:!0}})],p.prototype,"startPoint",void 0),(0,e._)([(0,i.Cb)({type:O.Z,json:{write:!0}})],p.prototype,"endPoint",void 0),(0,e._)([(0,i.Cb)({type:L,nonNullable:!0,json:{write:{isRequired:!0}}})],p.prototype,"measureType",void 0),(0,e._)([(0,i.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],p.prototype,"offset",void 0),(0,e._)([(0,i.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,W.p)(t=>T.BV.normalize((0,m.q9)(t),0,!0))],p.prototype,"orientation",void 0),p=(0,e._)([(0,v.j)("esri.analysis.LengthDimension")],p);const Z=p;var z=n(74333),S=n(89726),o=n(62208),C=n(32917),w=n(2004),A=n(54614);const P=z.Z.ofType(Z);let y=class extends E.Z{constructor(t){super(t),this.type="dimension",this.style=new b,this.extent=null}initialize(){this.addHandles((0,C.YP)(()=>this._computeExtent(),t=>{((0,o.Wi)(t)||(0,o.Wi)(t.pending))&&this._set("extent",(0,o.pC)(t)?t.extent:null)},C.tX))}get dimensions(){return this._get("dimensions")||new P}set dimensions(t){this._set("dimensions",(0,S.Z)(t,this.dimensions,P))}get spatialReference(){for(const t of this.dimensions){if((0,o.pC)(t.startPoint))return t.startPoint.spatialReference;if((0,o.pC)(t.endPoint))return t.endPoint.spatialReference}return null}get requiredPropertiesForEditing(){return this.dimensions.reduce((t,s)=>(t.push(s.startPoint,s.endPoint),t),[])}waitComputeExtent(){var t=this;return(0,x.Z)(function*(){const s=t._computeExtent();return(0,o.pC)(s)?(0,o.Wg)(s.pending):Promise.resolve()})()}_computeExtent(){const t=this.spatialReference;if((0,o.Wi)(t))return{pending:null,extent:null};const s=[];for(const l of this.dimensions)(0,o.pC)(l.startPoint)&&s.push(l.startPoint),(0,o.pC)(l.endPoint)&&s.push(l.endPoint);const d=(0,A.JY)(s,t);if((0,o.pC)(d.pending))return{pending:d.pending,extent:null};let g=null;return(0,o.pC)(d.geometries)&&(g=d.geometries.reduce((l,h)=>(0,o.Wi)(l)?(0,o.pC)(h)?w.Z.fromPoint(h):null:(0,o.pC)(h)?l.union(w.Z.fromPoint(h)):l,null)),{pending:null,extent:g}}clear(){this.dimensions.removeAll()}};(0,e._)([(0,i.Cb)({type:["dimension"]})],y.prototype,"type",void 0),(0,e._)([(0,i.Cb)({cast:S.R,type:P,nonNullable:!0})],y.prototype,"dimensions",null),(0,e._)([(0,i.Cb)({readOnly:!0})],y.prototype,"spatialReference",null),(0,e._)([(0,i.Cb)({types:{key:"type",base:null,typeMap:{simple:b}},nonNullable:!0})],y.prototype,"style",void 0),(0,e._)([(0,i.Cb)({value:null,readOnly:!0})],y.prototype,"extent",void 0),(0,e._)([(0,i.Cb)({readOnly:!0})],y.prototype,"requiredPropertiesForEditing",null),y=(0,e._)([(0,v.j)("esri.analysis.DimensionAnalysis")],y);const D=y;var J=n(99959),H=n(99433),M=n(44917),U=n(49286);let r=class extends((0,U.q)((0,J.R)(M.Z))){constructor(t){if(super(t),this.type="dimension",this.operationalLayerType="ArcGISDimensionLayer",this.source=new D,this.opacity=1,t){const{source:s,style:d}=t;s&&d&&(s.style=d)}}initialize(){this.addHandles([(0,C.YP)(()=>this.source,(t,s)=>{(0,o.pC)(s)&&s.parent===this&&(s.parent=null),(0,o.pC)(t)&&(t.parent=this)},C.tX)])}load(){var t=this;return(0,x.Z)(function*(){return t.addResolvingPromise(t.source.waitComputeExtent()),t})()}get spatialReference(){return(0,o.Wg)(this.source.spatialReference)}get style(){return this.source.style}set style(t){this.source.style=t}get fullExtent(){return this.source.extent}releaseAnalysis(t){this.source===t&&(this.source=new D)}get analysis(){return this.source}set analysis(t){this.source=t}get dimensions(){return this.source.dimensions}set dimensions(t){this.source.dimensions=t}writeDimensions(t,s,d,g){s.dimensions=t.filter(({startPoint:l,endPoint:h})=>(0,o.pC)(l)&&(0,o.pC)(h)).map(l=>l.toJSON(g)).toJSON()}};(0,e._)([(0,i.Cb)({json:{read:!1},readOnly:!0})],r.prototype,"type",void 0),(0,e._)([(0,i.Cb)({type:["ArcGISDimensionLayer"]})],r.prototype,"operationalLayerType",void 0),(0,e._)([(0,i.Cb)({nonNullable:!0})],r.prototype,"source",void 0),(0,e._)([(0,i.Cb)({readOnly:!0})],r.prototype,"spatialReference",null),(0,e._)([(0,i.Cb)({types:{key:"type",base:null,typeMap:{simple:b}},json:{write:{ignoreOrigin:!0}}})],r.prototype,"style",null),(0,e._)([(0,i.Cb)({readOnly:!0})],r.prototype,"fullExtent",null),(0,e._)([(0,i.Cb)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],r.prototype,"opacity",void 0),(0,e._)([(0,i.Cb)({type:["show","hide"]})],r.prototype,"listMode",void 0),(0,e._)([(0,i.Cb)({type:z.Z.ofType(Z),json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{ignoreOrigin:!0}}}}})],r.prototype,"dimensions",null),(0,e._)([(0,H.c)("web-scene","dimensions")],r.prototype,"writeDimensions",null),r=(0,e._)([(0,v.j)("esri.layers.DimensionLayer")],r);const B=r}}]);