"use strict";(self.webpackChunkarcgis=self.webpackChunkarcgis||[]).push([[4578],{24578:(M,L,n)=>{n.r(L),n.d(L,{fromUrl:()=>R});var r=n(15861),g=n(26584),t=n(62208),e=n(21726),v=n(38305),i=n(17196),c=n(72469),I=n(30164),h=n(45205);const T={FeatureLayer:!0,SceneLayer:!0};function R(l){return E.apply(this,arguments)}function E(){return E=(0,r.Z)(function*(l){const u=l.properties?.customParameters,s=yield function B(l,u){return Z.apply(this,arguments)}(l.url,u),a={...l.properties,url:l.url};if(!s.sublayerIds)return null!=s.layerOrTableId&&(a.layerId=s.layerOrTableId,a.sourceJSON=s.sourceJSON),new s.Constructor(a);const o=new((yield n.e(5964).then(n.bind(n,25964))).default)({title:s.parsedUrl.title});return function G(l,u,s){function a(o,y){const d={...s,layerId:o,sublayerTitleMode:"service-name"};return(0,t.pC)(y)&&(d.sourceJSON=y),new u.Constructor(d)}u.sublayerIds.forEach(o=>{const y=a(o,W(u.sublayerInfos,o));l.add(y)}),u.tableIds.forEach(o=>{const y=a(o,W(u.tableInfos,o));l.tables.add(y)})}(o,s,a),o}),E.apply(this,arguments)}function W(l,u){return l?l.find(s=>s.id===u):null}function Z(){return Z=(0,r.Z)(function*(l,u){let s=(0,v.Qc)(l);if((0,t.Wi)(s)&&(s=yield function K(l,u){return C.apply(this,arguments)}(l,u)),(0,t.Wi)(s))throw new g.Z("arcgis-layers:url-mismatch","The url '${url}' is not a valid arcgis resource",{url:l});const{serverType:a,sublayer:o}=s;let y;const d={FeatureServer:"FeatureLayer",StreamServer:"StreamLayer",VectorTileServer:"VectorTileLayer"};switch(a){case"MapServer":y=null!=o?"FeatureLayer":(yield function N(l,u){return D.apply(this,arguments)}(l,u))?"TileLayer":"MapImageLayer";break;case"ImageServer":{const f=yield(0,h.T)(l,{customParameters:u}),{tileInfo:O,cacheType:S}=f;y=O?"LERC"!==O?.format?.toUpperCase()||S&&"elevation"!==S.toLowerCase()?"ImageryTileLayer":"ElevationLayer":"ImageryLayer";break}case"SceneServer":{const f=yield(0,h.T)(s.url.path,{customParameters:u});if(y="SceneLayer",f){const O=f?.layers;if("Voxel"===f?.layerType)y="VoxelLayer";else if(O?.length){const S=O[0]?.layerType;null!=S&&null!=c.fb[S]&&(y=c.fb[S])}}break}default:y=d[a]}const m="FeatureServer"===a,P={parsedUrl:s,Constructor:null,layerOrTableId:m?o:void 0,sublayerIds:null,tableIds:null};if(T[y]&&null==o){const f=yield function j(l,u,s){return U.apply(this,arguments)}(l,a,u);m&&(P.sublayerInfos=f.layerInfos,P.tableInfos=f.tableInfos),f.layerIds.length+f.tableIds.length!==1?(P.sublayerIds=f.layerIds,P.tableIds=f.tableIds):m&&(P.layerOrTableId=f.layerIds[0]??f.tableIds[0],P.sourceJSON=f.layerInfos?.[0]??f.tableInfos?.[0])}return P.Constructor=yield function F(l){return p.apply(this,arguments)}(y),P}),Z.apply(this,arguments)}function C(){return(C=(0,r.Z)(function*(l,u){const s=yield(0,h.T)(l,{customParameters:u});let a=null,o=null;const y=s.type;if("Feature Layer"===y||"Table"===y?(a="FeatureServer",o=s.id??null):"indexedVector"===y?a="VectorTileServer":s.hasOwnProperty("mapName")?a="MapServer":s.hasOwnProperty("bandCount")&&s.hasOwnProperty("pixelSizeX")?a="ImageServer":s.hasOwnProperty("maxRecordCount")&&s.hasOwnProperty("allowGeometryUpdates")?a="FeatureServer":s.hasOwnProperty("streamUrls")?a="StreamServer":x(s)?(a="SceneServer",o=s.id):s.hasOwnProperty("layers")&&x(s.layers?.[0])&&(a="SceneServer"),!a)return null;const d=null!=o?(0,v.DR)(l):null;return{title:(0,t.pC)(d)&&s.name||(0,e.vt)(l),serverType:a,sublayer:o,url:{path:(0,t.pC)(d)?d.serviceUrl:(0,e.mN)(l).path}}})).apply(this,arguments)}function x(l){return null!=l&&l.hasOwnProperty("store")&&l.hasOwnProperty("id")&&"number"==typeof l.id}function U(){return(U=(0,r.Z)(function*(l,u,s){let a,o=!1;if("FeatureServer"===u){const m=yield(0,i.V)(l,{customParameters:s});o=!!m.layersJSON,a=m.layersJSON||m.serviceJSON}else a=yield(0,h.T)(l,{customParameters:s});const y=a?.layers,d=a?.tables;return{layerIds:y?.map(m=>m.id).reverse()||[],tableIds:d?.map(m=>m.id).reverse()||[],layerInfos:o?y:[],tableInfos:o?d:[]}})).apply(this,arguments)}function p(){return(p=(0,r.Z)(function*(l){return(0,I.T[l])()})).apply(this,arguments)}function D(){return(D=(0,r.Z)(function*(l,u){return(yield(0,h.T)(l,{customParameters:u})).tileInfo})).apply(this,arguments)}},17196:(M,L,n)=>{n.d(L,{V:()=>t});var r=n(15861),g=n(45205);function t(i,c){return e.apply(this,arguments)}function e(){return(e=(0,r.Z)(function*(i,c){const I=yield(0,g.T)(i,c);I.layers=I.layers.filter(v);const h={serviceJSON:I};if((I.currentVersion??0)<10.5)return h;const T=yield(0,g.T)(i+"/layers",c);return h.layersJSON={layers:T.layers.filter(v),tables:T.tables},h})).apply(this,arguments)}function v(i){return!i.type||"Feature Layer"===i.type}},30164:(M,L,n)=>{n.d(L,{T:()=>g});var r=n(15861);const g={BingMapsLayer:(t=(0,r.Z)(function*(){return(yield n.e(2248).then(n.bind(n,72248))).default}),function(){return t.apply(this,arguments)}),BuildingSceneLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(2432),n.e(7805),n.e(773),n.e(9319)]).then(n.bind(n,19319))).default});return function(){return t.apply(this,arguments)}}(),CSVLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(5625).then(n.bind(n,85625))).default});return function(){return t.apply(this,arguments)}}(),DimensionLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(326)]).then(n.bind(n,90326))).default});return function(){return t.apply(this,arguments)}}(),ElevationLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(3327)]).then(n.bind(n,3327))).default});return function(){return t.apply(this,arguments)}}(),FeatureLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.resolve().then(n.bind(n,80415))).default});return function(){return t.apply(this,arguments)}}(),GeoJSONLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(2903).then(n.bind(n,72903))).default});return function(){return t.apply(this,arguments)}}(),GeoRSSLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(6306).then(n.bind(n,96306))).default});return function(){return t.apply(this,arguments)}}(),GroupLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(5964).then(n.bind(n,25964))).default});return function(){return t.apply(this,arguments)}}(),ImageryLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(6926),n.e(2863),n.e(1913),n.e(9400)]).then(n.bind(n,99400))).default});return function(){return t.apply(this,arguments)}}(),ImageryTileLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(6926),n.e(8594),n.e(2863),n.e(580),n.e(1913),n.e(8592),n.e(148)]).then(n.bind(n,10148))).default});return function(){return t.apply(this,arguments)}}(),IntegratedMeshLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(2432),n.e(8592),n.e(1370)]).then(n.bind(n,31370))).default});return function(){return t.apply(this,arguments)}}(),KMLLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(8411)]).then(n.bind(n,38411))).default});return function(){return t.apply(this,arguments)}}(),LineOfSightLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(736)]).then(n.bind(n,736))).default});return function(){return t.apply(this,arguments)}}(),MapImageLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.resolve().then(n.bind(n,48887))).default});return function(){return t.apply(this,arguments)}}(),MapNotesLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(9114)]).then(n.bind(n,49114))).default});return function(){return t.apply(this,arguments)}}(),MediaLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(9347)]).then(n.bind(n,24762))).default});return function(){return t.apply(this,arguments)}}(),OGCFeatureLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(9628),n.e(2955)]).then(n.bind(n,36554))).default});return function(){return t.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(1591)]).then(n.bind(n,71591))).default});return function(){return t.apply(this,arguments)}}(),OrientedImageryLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(725).then(n.bind(n,60725))).default});return function(){return t.apply(this,arguments)}}(),PointCloudLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(2432),n.e(8592),n.e(7155)]).then(n.bind(n,7155))).default});return function(){return t.apply(this,arguments)}}(),RouteLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(403),n.e(4940)]).then(n.bind(n,84940))).default});return function(){return t.apply(this,arguments)}}(),SceneLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(2432),n.e(7805),n.e(773),n.e(8592),n.e(7559)]).then(n.bind(n,27559))).default});return function(){return t.apply(this,arguments)}}(),StreamLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(289).then(n.bind(n,70289))).default});return function(){return t.apply(this,arguments)}}(),SubtypeGroupLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(465).then(n.bind(n,20465))).default});return function(){return t.apply(this,arguments)}}(),TileLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(9735)]).then(n.bind(n,59735))).default});return function(){return t.apply(this,arguments)}}(),UnknownLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(6339).then(n.bind(n,56339))).default});return function(){return t.apply(this,arguments)}}(),UnsupportedLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(6240).then(n.bind(n,16240))).default});return function(){return t.apply(this,arguments)}}(),VectorTileLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8364),n.e(8592),n.e(443)]).then(n.bind(n,10193))).default});return function(){return t.apply(this,arguments)}}(),VoxelLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(2432),n.e(8592),n.e(6007)]).then(n.bind(n,26007))).default});return function(){return t.apply(this,arguments)}}(),WFSLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(3774),n.e(8762)]).then(n.bind(n,98762))).default});return function(){return t.apply(this,arguments)}}(),WMSLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(6894)]).then(n.bind(n,46894))).default});return function(){return t.apply(this,arguments)}}(),WMTSLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(4223)]).then(n.bind(n,64223))).default});return function(){return t.apply(this,arguments)}}(),WebTileLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(8592).then(n.bind(n,28678))).default});return function(){return t.apply(this,arguments)}}()};var t},45205:(M,L,n)=>{n.d(L,{T:()=>t});var r=n(15861),g=n(84792);function t(v,i){return e.apply(this,arguments)}function e(){return(e=(0,r.Z)(function*(v,i){const{data:c}=yield(0,g.default)(v,{responseType:"json",query:{f:"json",...i?.customParameters,token:i?.apiKey}});return c})).apply(this,arguments)}}}]);